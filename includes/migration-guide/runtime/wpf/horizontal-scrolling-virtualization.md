### <a name="horizontal-scrolling-and-virtualization"></a><span data-ttu-id="6feb8-101">Horizontales Scrollen und Virtualisierung</span><span class="sxs-lookup"><span data-stu-id="6feb8-101">Horizontal scrolling and virtualization</span></span>

|   |   |
|---|---|
|<span data-ttu-id="6feb8-102">Details</span><span class="sxs-lookup"><span data-stu-id="6feb8-102">Details</span></span>|<span data-ttu-id="6feb8-103">Diese Änderung betrifft <xref:System.Windows.Controls.ItemsControl?displayProperty=name>-Objekte mit eigener Virtualisierung in der senkrecht zur Hauptscrollrichtung stehenden Richtung (z.B. <xref:System.Windows.Controls.DataGrid?displayProperty=name> mit .EnableColumnVirtualization=&quot;TRUE&quot;).</span><span class="sxs-lookup"><span data-stu-id="6feb8-103">This change applies to an <xref:System.Windows.Controls.ItemsControl?displayProperty=name> that does its own virtualization in the direction orthogonal to the main scrolling direction (the chief example is <xref:System.Windows.Controls.DataGrid?displayProperty=name> with EnableColumnVirtualization=&quot;True&quot;).</span></span>  <span data-ttu-id="6feb8-104">Das Ergebnis bestimmter horizontaler Scrollvorgänge wurde geändert, um Ergebnisse zu erzeugen, die intuitiver und analog zu den Ergebnissen der vergleichbaren vertikalen Vorgänge sind. Zu diesen Vorgängen zählen &quot;Hier scrollen&quot; und &quot;Rechter Rand&quot;. Diese sind in dem Menü enthalten, das aufgerufen wird, wenn Sie mit der rechten Maustaste auf eine horizontale Scrollleiste klicken.</span><span class="sxs-lookup"><span data-stu-id="6feb8-104">The outcome of certain horizontal scrolling operations has been changed to produce results that are more intuitive and more analogous to the results of comparable vertical operations.The operations include &quot;Scroll Here&quot; and &quot;Right Edge&quot;, to use the names from the menu obtained by right-clicking a horizontal scrollbar.</span></span>  <span data-ttu-id="6feb8-105">Beide Vorgänge berechnen ein Kandidatenoffset und rufen <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)> auf. Nach dem Scrollen zum neuen Offset kann sich die Definition von &quot;hier&quot; oder &quot;rechter Rand&quot; ändern, da der neu virtualisierte Inhalt den Wert von <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> geändert hat. Vor .NET 4.6.2 hat der Scrollvorgang einfach den Kandidatenoffset verwendet, obwohl dieser sich möglicherweise nicht mehr &quot;hier&quot; oder am &quot;rechten Rand&quot; befindet.</span><span class="sxs-lookup"><span data-stu-id="6feb8-105">Both of these compute a candidate offset and call <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.After scrolling to the new offset, the notion of &quot;here&quot; or &quot;right edge&quot; may have changed because newly de-virtualized content has changed the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>.Prior to .Net 4.6.2, the scroll operation simply uses the candidate offset, even though it may not be &quot;here&quot; or at the &quot;right edge&quot; any more.</span></span>  <span data-ttu-id="6feb8-106">Dies führt zu Effekten wie einem &quot;Springen&quot; des Leistenziehpunkts, die sich am besten durch ein Beispiel veranschaulichen lassen.</span><span class="sxs-lookup"><span data-stu-id="6feb8-106">This results in effects like &quot;bouncing&quot; the scroll thumb, best illustrated by example.</span></span> <span data-ttu-id="6feb8-107">Nehmen Sie an, dass <xref:System.Windows.Controls.DataGrid?displayProperty=name> über die Eigenschaften „ExtentWidth=1000“ und „Width=200“ verfügt.</span><span class="sxs-lookup"><span data-stu-id="6feb8-107">Suppose a <xref:System.Windows.Controls.DataGrid?displayProperty=name> has ExtentWidth=1000 and Width=200.</span></span>  <span data-ttu-id="6feb8-108">Ein Scrollen zu &quot;Rechter Rand&quot; verwendet den Kandidatenoffset 1000 – 200 = 800.</span><span class="sxs-lookup"><span data-stu-id="6feb8-108">A scroll to &quot;Right Edge&quot; uses candidate offset 1000 - 200 = 800.</span></span>  <span data-ttu-id="6feb8-109">Beim Scrollen zu diesem Offset werden neue Spalten entvirtualisiert. Nehmen Sie an, dass diese sehr breit sind, sodass sich <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> in 2000 ändert.</span><span class="sxs-lookup"><span data-stu-id="6feb8-109">While scrolling to that offset, new columns are de- virtualized; let's suppose they are very wide, so that the <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> changes to 2000.</span></span>  <span data-ttu-id="6feb8-110">Das Scrollen endet bei „HorizontalOffset=800“, und der Ziehpunkt &quot;springt&quot; zurück in die Nähe der Mitte der Scrollleiste (genau: 800/2000 = 40 %). Durch diese Änderung wird ein neuer Kandidatenoffset berechnet, wenn diese Situation auftritt, und der Vorgang wird erneut durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="6feb8-110">The scroll ends with HorizontalOffset=800, and the thumb &quot;bounces&quot; back to near the middle of the scrollbar - precisely at 800/2000 = 40%.The change is to recompute a new candidate offset when this situation occurs, and try again.</span></span> <span data-ttu-id="6feb8-111">(So funktioniert das vertikale Scrollen bereits.) Die Änderung ergibt ein besser vorhersehbares und intuitiveres Verhalten für den Endbenutzer. Sie kann sich jedoch auf jede App auswirken, die auf den genauen Wert von <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> nach einem horizontalen Scrollvorgang angewiesen ist. Dies ist unabhängig davon, ob sie vom Endbenutzer oder durch einen expliziten Aufruf von <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)> aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="6feb8-111">(This is how vertical scrolling works already.)The change produces a more predictable and intuitive experience for the end user, but it could also affect any app that depends on the exact value of <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> after a horizontal scroll, whether invoked by the end user or by an explicit call to <xref:System.Windows.Controls.Primitives.IScrollInfo.SetHorizontalOffset(System.Double)>.</span></span>|
|<span data-ttu-id="6feb8-112">Vorschlag</span><span class="sxs-lookup"><span data-stu-id="6feb8-112">Suggestion</span></span>|<span data-ttu-id="6feb8-113">Eine App, die einen vorhergesagten Wert für <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> verwendet, sollte so geändert werden, dass sie nach jedem horizontalen Scrollen, durch das <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> aufgrund der Entvirtualisierung geändert werden könnte, den tatsächlichen Wert (und den Wert von <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) abruft.</span><span class="sxs-lookup"><span data-stu-id="6feb8-113">An app that uses a predicted value for <xref:System.Windows.Controls.Primitives.IScrollInfo.HorizontalOffset?displayProperty=name> should be changed to fetch the actual value (and the value of <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name>) after any horizontal scroll that could change <xref:System.Windows.Controls.Primitives.IScrollInfo.ExtentWidth?displayProperty=name> due to de-virtualization.</span></span>|
|<span data-ttu-id="6feb8-114">Bereich</span><span class="sxs-lookup"><span data-stu-id="6feb8-114">Scope</span></span>|<span data-ttu-id="6feb8-115">Gering</span><span class="sxs-lookup"><span data-stu-id="6feb8-115">Minor</span></span>|
|<span data-ttu-id="6feb8-116">Version</span><span class="sxs-lookup"><span data-stu-id="6feb8-116">Version</span></span>|<span data-ttu-id="6feb8-117">4.6.2</span><span class="sxs-lookup"><span data-stu-id="6feb8-117">4.6.2</span></span>|
|<span data-ttu-id="6feb8-118">Typ</span><span class="sxs-lookup"><span data-stu-id="6feb8-118">Type</span></span>|<span data-ttu-id="6feb8-119">Laufzeit</span><span class="sxs-lookup"><span data-stu-id="6feb8-119">Runtime</span></span>|
|<span data-ttu-id="6feb8-120">Betroffene APIs</span><span class="sxs-lookup"><span data-stu-id="6feb8-120">Affected APIs</span></span>|<ul><li><xref:System.Windows.Controls.Primitives.IScrollInfo?displayProperty=nameWithType></li></ul>|

