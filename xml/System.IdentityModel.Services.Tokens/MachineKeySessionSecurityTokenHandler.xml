<Type Name="MachineKeySessionSecurityTokenHandler" FullName="System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler">
  <TypeSignature Language="C#" Value="public class MachineKeySessionSecurityTokenHandler : System.IdentityModel.Tokens.SessionSecurityTokenHandler" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit MachineKeySessionSecurityTokenHandler extends System.IdentityModel.Tokens.SessionSecurityTokenHandler" />
  <TypeSignature Language="DocId" Value="T:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler" />
  <AssemblyInfo>
    <AssemblyName>System.IdentityModel.Services</AssemblyName>
    <AssemblyVersion>4.0.0.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.IdentityModel.Tokens.SessionSecurityTokenHandler</BaseTypeName>
  </Base>
  <Interfaces />
  <Docs>
    <summary>Verarbeitet Sitzungstoken Signierung und Verschlüsselung-Schlüssel in der ASP.NET-Methode mit <see langword="&lt;machineKey&gt;" /> Element in einer Konfigurationsdatei.</summary>
    <remarks>
      <format type="text/markdown"><![CDATA[  
  
## Remarks  
 Wird standardmäßig die <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> -Klasse verwendet die <xref:System.IdentityModel.ProtectedDataCookieTransform> -Klasse, die Data Protection API (DPAPI) verwendet, um das Sitzungstoken zu schützen. Die DPAPI bietet Schutz mithilfe der Anmeldeinformationen für Benutzer oder Computer und speichert die Schlüsseldaten im Benutzerprofil. Dies bedeutet, die ein Sitzungstoken signiert und verschlüsselt auf einem Computer kann nicht überprüft oder auf einem anderen Computer entschlüsselt werden.  
  
 Im Gegensatz dazu, die <xref:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler> -Klasse verwendet die <xref:System.IdentityModel.Services.MachineKeyTransform> -Klasse, die die Cookie-Sitzungsdaten schützt das kryptografische Material, das im angegebenen mit der `<machineKey>` Element in der Konfigurationsdatei. Dies bedeutet, dass die gleichen Schlüssel (und Sitzungstoken) auf mehreren Computern verwendet werden können. Dies ist besonders wichtig, wenn eine Anwendung in einer Webfarm bereitgestellt wird. Weitere Informationen zur Verwendung von Windows Identity Foundation zum Schutz von Anwendungen, die in einer Webfarm bereitgestellt werden, finden Sie unter [WIF und Webfarmen](~/docs/framework/security/wif-and-web-farms.md).  
  
 Konfigurieren Sie die Anwendung für die Verwendung der <xref:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler>, indem Sie sie zur Auflistung der Tokenhandler hinzufügen. Entfernen Sie zuerst die <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> (oder alle aus der <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler>-Klasse abgeleiteten Handler) aus der Auflistung der Tokenhandler, wenn ein solcher Handler vorhanden ist. Grund hierfür ist, <xref:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler> leitet sich von <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> und eine Auflistung Tokenhandler dürfen nicht mehrere Handler eines angegebenen Typs.  
  
   
  
## Examples  
 Das folgende XML zeigt, wie die ASP.NET `<machineKey>` Element in der Konfiguration zum Signieren und verschlüsseln explizit anzugeben. Die `<machineKey>` Element wird angegeben, unter der `<system.web>` Element in einer Konfigurationsdatei.  
  
```xml  
<machineKey compatibilityMode="Framework45" decryptionKey="CC510D … 8925E6" validationKey="BEAC8 … 6A4B1DE" />  
```  
  
 Das folgende XML zeigt das Hinzufügen der <xref:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler> zu einer Auflistung von Tokenhandler. Die Standardeinstellung <xref:System.IdentityModel.Tokens.SessionSecurityTokenHandler> zuerst aus der Auflistung entfernt wird. Tokenhandler konfiguriert sind, unter der [ &lt;SecurityTokenHandlers&gt; ](~/docs/framework/configure-apps/file-schema/windows-identity-foundation/securitytokenhandlers.md) Element.  
  
```xml  
<securityTokenHandlers>  
  <remove type="System.IdentityModel.Tokens.SessionSecurityTokenHandler, System.IdentityModel, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />  
  <add type="System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler, System.IdentityModel.Services, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089" />  
</securityTokenHandlers>  
```  
  
 ]]></format>
    </remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public MachineKeySessionSecurityTokenHandler ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.#ctor" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>Initialisiert eine neue Instanz der <see cref="T:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler" />-Klasse.</summary>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public MachineKeySessionSecurityTokenHandler (TimeSpan tokenLifetime);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(valuetype System.TimeSpan tokenLifetime) cil managed" />
      <MemberSignature Language="DocId" Value="M:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler.#ctor(System.TimeSpan)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>System.IdentityModel.Services</AssemblyName>
        <AssemblyVersion>4.0.0.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="tokenLifetime" Type="System.TimeSpan" />
      </Parameters>
      <Docs>
        <param name="tokenLifetime">Die Standardlebensdauer für ein Token.</param>
        <summary>Initialisiert eine neue Instanz der dem <see cref="T:System.IdentityModel.Services.Tokens.MachineKeySessionSecurityTokenHandler" /> Klasse, die die Lebensdauer des Tokens angegebenen Standardwert verfügt.</summary>
        <remarks>To be added.</remarks>
        <exception cref="T:System.InvalidOperationException">
          <paramref name="tokenLifetime" />ist kleiner oder gleich<see cref="F:System.TimeSpan.Zero" /></exception>
      </Docs>
    </Member>
  </Members>
</Type>
