---
title: Typkonverter und Markuperweiterungen für XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], type converter services
- XAML [XAML Services], value converters
- XAML [XAML Services], markup extension services
- value converters for XAML [XAML Services]
- XAML [XAML Services], service context
ms.assetid: db07a952-05ce-4aa4-b6f9-aac7397d0326
ms.openlocfilehash: bee94b03d4fd6e6f5ef8571e83f554b381dd6582
ms.sourcegitcommit: c2d9718996402993cf31541f11e95531bc68bad0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/27/2020
ms.locfileid: "81432887"
---
# <a name="type-converters-and-markup-extensions-for-xaml"></a><span data-ttu-id="840a7-102">Typkonverter und Markuperweiterungen für XAML</span><span class="sxs-lookup"><span data-stu-id="840a7-102">Type Converters and Markup Extensions for XAML</span></span>

<span data-ttu-id="840a7-103">Typkonverter und Markuperweiterung sind zwei Techniken, mit denen XAML-Typsysteme und XAML-Writer Objektdiagrammkomponenten generieren.</span><span class="sxs-lookup"><span data-stu-id="840a7-103">Type converters and markup extensions are two techniques that XAML type systems and XAML writers use to generate object graph components.</span></span> <span data-ttu-id="840a7-104">Obwohl sie einige gemeinsame Eigenschaften aufweisen, werden Typkonverter und Markuperweiterungen in einem XAML-Knotenstream unterschiedlich dargestellt.</span><span class="sxs-lookup"><span data-stu-id="840a7-104">Although they share some characteristics, type converters and markup extensions are represented differently in a XAML node stream.</span></span> <span data-ttu-id="840a7-105">In dieser Dokumentation werden Typkonverter, Markuperweiterungen und ähnliche Konstrukte manchmal zusammenfassend als Wertkonverter bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="840a7-105">In this documentation set, type converters, markup extensions, and similar constructs are sometimes collectively referred to as value converters.</span></span>

## <a name="value-converters"></a><span data-ttu-id="840a7-106">Wertkonverter</span><span class="sxs-lookup"><span data-stu-id="840a7-106">Value Converters</span></span>

<span data-ttu-id="840a7-107">In XAML werden Wertkonverter für verschiedene Szenarien verwendet.</span><span class="sxs-lookup"><span data-stu-id="840a7-107">In XAML, value converters are used for various scenarios.</span></span> <span data-ttu-id="840a7-108">Die folgende Liste enthält die verschiedenen Arten von Wertkonvertern im XAML:</span><span class="sxs-lookup"><span data-stu-id="840a7-108">The following list shows the different types of value converters in XAML:</span></span>

- <span data-ttu-id="840a7-109">Typkonverter</span><span class="sxs-lookup"><span data-stu-id="840a7-109">Type converter</span></span>

- <span data-ttu-id="840a7-110">Markuperweiterung</span><span class="sxs-lookup"><span data-stu-id="840a7-110">Markup extension</span></span>

- <span data-ttu-id="840a7-111">Werte-Serialisierungsprogramm</span><span class="sxs-lookup"><span data-stu-id="840a7-111">Value serializer</span></span>

- <span data-ttu-id="840a7-112">Verwandte Klasse oder Unterstützungsklasse, die die Logik für eine XAML-Textsyntax bereitstellt</span><span class="sxs-lookup"><span data-stu-id="840a7-112">Related class or support class that provides the logic for a XAML text syntax</span></span>

## <a name="type-converters"></a><span data-ttu-id="840a7-113">Typkonverter</span><span class="sxs-lookup"><span data-stu-id="840a7-113">Type Converters</span></span>

<span data-ttu-id="840a7-114">In der .NET XAML Services-Definition sind Typkonverter Klassen, die von der CLR-Klasse <xref:System.ComponentModel.TypeConverter> stammen.</span><span class="sxs-lookup"><span data-stu-id="840a7-114">In .NET XAML Services definition, type converters are classes that derive from the CLR <xref:System.ComponentModel.TypeConverter> class.</span></span> <span data-ttu-id="840a7-115"><xref:System.ComponentModel.TypeConverter>ist eine Klasse, die sich in .NET befand, bevor XAML existierte.</span><span class="sxs-lookup"><span data-stu-id="840a7-115"><xref:System.ComponentModel.TypeConverter> is a class that was in the .NET before XAML existed.</span></span> <span data-ttu-id="840a7-116">Der ursprüngliche Zweck bestand darin, Eigenschaftenfenster und ähnliche textbasierte Bearbeitungsmetaphern für IDE-Eigenschaften zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="840a7-116">Its original purpose was to support property windows and similar text-based editing metaphors for IDE properties.</span></span> <span data-ttu-id="840a7-117">Die Einführung von XAML <xref:System.ComponentModel.TypeConverter> in .NET verwendet, um eine Textsyntax (wie in einem Attributwert oder einem XAML-Wertknoten gefunden) in ein Objekt zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="840a7-117">The introduction of XAML to .NET uses <xref:System.ComponentModel.TypeConverter> to convert a text syntax (as found in an attribute value or a XAML value node) into an object.</span></span> <span data-ttu-id="840a7-118"><xref:System.ComponentModel.TypeConverter> kann auch zum Serialisieren eines Objektwerts in Textsyntax verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="840a7-118"><xref:System.ComponentModel.TypeConverter> can also be used to serialize an object value to text syntax.</span></span> <span data-ttu-id="840a7-119"><xref:System.ComponentModel.TypeConverter>wurde auch in früheren frameworkspezifischen XAML-Implementierungen in Windows Presentation Foundation (WPF) und Windows Communication Foundation (WCF) verwendet.</span><span class="sxs-lookup"><span data-stu-id="840a7-119"><xref:System.ComponentModel.TypeConverter> was also used in previous framework-specific XAML implementations in Windows Presentation Foundation (WPF) and Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="840a7-120">Weitere Informationen zum <xref:System.ComponentModel.TypeConverter> in XAML finden Sie unter [Type Converters for XAML Overview](type-converters-overview.md)verwendet.</span><span class="sxs-lookup"><span data-stu-id="840a7-120">For more information about the <xref:System.ComponentModel.TypeConverter> in XAML, see [Type Converters for XAML Overview](type-converters-overview.md).</span></span>

## <a name="markup-extensions"></a><span data-ttu-id="840a7-121">Markuperweiterungen</span><span class="sxs-lookup"><span data-stu-id="840a7-121">Markup Extensions</span></span>

<span data-ttu-id="840a7-122">In der .NET XAML Services-Implementierung sind Markuperweiterungen Klassen, die von der <xref:System.Windows.Markup.MarkupExtension> Klasse stammen.</span><span class="sxs-lookup"><span data-stu-id="840a7-122">In .NET XAML Services implementation, markup extensions are classes that derive from the <xref:System.Windows.Markup.MarkupExtension> class.</span></span> <span data-ttu-id="840a7-123">Markuperweiterungen sind ein Konzept, das in dieser Form aus der XAML-Sprache entstanden ist.</span><span class="sxs-lookup"><span data-stu-id="840a7-123">Markup extensions are a concept that in this form is originated by the XAML language.</span></span> <span data-ttu-id="840a7-124">Stellen Sie sich eine Markuperweiterung in etwa als eine erweiterbare Escapesequenz vor, die eine Dienstklasse aufruft, um ihre Logik bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="840a7-124">You can think of a markup extension as being something like an extensible escape sequence that calls into a service class to provide its logic.</span></span> <span data-ttu-id="840a7-125">Im Hinblick auf Markup erkennen XAML-Prozessoren universell eine Markuperweiterung anhand einer Textsequenz, die mit einer öffnenden geschweiften Klammer ({) in einer Textzeichenfolge beginnt.</span><span class="sxs-lookup"><span data-stu-id="840a7-125">In terms of markup, XAML processors universally recognize a markup extension by a text sequence that starts with an opening brace ({) in a text string.</span></span>

<span data-ttu-id="840a7-126">Markuperweiterungen unterscheiden sich von Typkonvertern.</span><span class="sxs-lookup"><span data-stu-id="840a7-126">Markup extensions differ from type converters.</span></span> <span data-ttu-id="840a7-127">Typkonverter sind normalerweise Typen oder Membern zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="840a7-127">Type converters are typically associated with types or members.</span></span> <span data-ttu-id="840a7-128">Sie werden aufgerufen, wenn bei der Erstellung eines Objektdiagramms oder einer Serialisierung eine Textsyntax gefunden wird, die solchen Entitäten zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="840a7-128">They are invoked when an object graph creation or a serialization encounters text syntax that is associated with those entities.</span></span>

<span data-ttu-id="840a7-129">Markuperweiterungen sind einer einzelnen unterstützenden Dienstklasse zugeordnet, können aber für jeden Memberwert angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="840a7-129">Markup extensions are associated with a single supporting service class, but can be applied for any member value.</span></span> <span data-ttu-id="840a7-130">(Sie können die Markuperweiterung jedoch implementieren, um ihre Verwendung absichtlich auf bestimmte Member oder Zieltypen zu beschränken, indem Sie den Dienstkontext verwenden.) Markuperweiterungen können eine Typkonverterzuordnung überschreiben.</span><span class="sxs-lookup"><span data-stu-id="840a7-130">(However, you can implement your markup extension to deliberately restrict its use to certain members or destination types, by using service context.) Markup extensions can override a type converter association.</span></span> <span data-ttu-id="840a7-131">Oder Sie können sie verwenden, um einen Attributwert für Member anzugeben, die eine Textsyntax andernfalls nicht unterstützen würden.</span><span class="sxs-lookup"><span data-stu-id="840a7-131">Or you can use them to specify an attribute value for members that would not otherwise support a text syntax.</span></span>

<span data-ttu-id="840a7-132">Weitere Informationen zu den Implementierungsmustern für Markuperweiterungen für XAML finden Sie unter [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span><span class="sxs-lookup"><span data-stu-id="840a7-132">For more information about the markup extension implementation pattern for XAML, see [Markup Extensions for XAML Overview](markup-extensions-overview.md).</span></span>

## <a name="value-serializers"></a><span data-ttu-id="840a7-133">Werte-Serialisierungsprogramme</span><span class="sxs-lookup"><span data-stu-id="840a7-133">Value Serializers</span></span>

<span data-ttu-id="840a7-134">Ein <xref:System.Windows.Markup.ValueSerializer> ist ein spezialisierter Typkonverter, der zum Konvertieren eines Objekts in eine Zeichenfolge optimiert ist.</span><span class="sxs-lookup"><span data-stu-id="840a7-134">A <xref:System.Windows.Markup.ValueSerializer> is a specialized type converter that is optimized for converting an object to a string.</span></span> <span data-ttu-id="840a7-135">Ein <xref:System.Windows.Markup.ValueSerializer> für XAML implementiert die `ConvertFrom` -Methode möglicherweise überhaupt nicht.</span><span class="sxs-lookup"><span data-stu-id="840a7-135">A <xref:System.Windows.Markup.ValueSerializer> for XAML might not implement the `ConvertFrom` method at all.</span></span> <span data-ttu-id="840a7-136">Eine <xref:System.Windows.Markup.ValueSerializer> -Implementierung ruft Dienste auf eine Weise auf, die einer <xref:System.ComponentModel.TypeConverter> -Implementierung gleicht.</span><span class="sxs-lookup"><span data-stu-id="840a7-136">A <xref:System.Windows.Markup.ValueSerializer> implementation obtains services in a manner that is like a <xref:System.ComponentModel.TypeConverter> implementation.</span></span> <span data-ttu-id="840a7-137">Die virtuellen Methoden bieten einen Eingabe- `context` -Parameter.</span><span class="sxs-lookup"><span data-stu-id="840a7-137">The virtual methods provide an input `context` parameter.</span></span> <span data-ttu-id="840a7-138">Der `context` -Parameter ist vom Typ <xref:System.Windows.Markup.IValueSerializerContext>, der von der <xref:System.IServiceProvider> -Schnittstelle erbt und über eine <xref:System.IServiceProvider.GetService%2A> -Methode verfügt.</span><span class="sxs-lookup"><span data-stu-id="840a7-138">The `context` parameter is of type <xref:System.Windows.Markup.IValueSerializerContext>, which inherits from the <xref:System.IServiceProvider> interface and has a <xref:System.IServiceProvider.GetService%2A> method.</span></span>

<span data-ttu-id="840a7-139">Im XAML-Typsystem und für XAML-Writer-Implementierungen, die die Verarbeitung von XAML-Knotenschleifen für die Serialisierung verwenden, wird ein Wertkonverter, der einem Typ oder Member zugeordnet ist, durch seine eigene <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> -Eigenschaft gemeldet.</span><span class="sxs-lookup"><span data-stu-id="840a7-139">In the XAML type system and for XAML writer implementations that use XAML node loop processing for serialization, a value converter that is associated with a type or member is reported by its own <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="840a7-140">Die Bedeutung für XAML-Writer, die Serialisierungen durchführen, ist, dass wenn ein <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> und <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> vorhanden sind, der Typkonverter für den Pfad zum Laden verwendet werden sollte und das Werte-Serialisierungsprogramm für den Pfad zum Speichern.</span><span class="sxs-lookup"><span data-stu-id="840a7-140">The meaning to XAML writers that perform serialization is that if a <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> and <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> exist, the type converter should be used for the load path and the value serializer should be used for the save path.</span></span> <span data-ttu-id="840a7-141">Wenn <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> vorhanden ist, aber <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType>`null`ist, wird der Typkonverter auch für den Pfad zum Speichern verwendet.</span><span class="sxs-lookup"><span data-stu-id="840a7-141">If <xref:System.Xaml.XamlType.TypeConverter%2A?displayProperty=nameWithType> exists but <xref:System.Xaml.XamlType.ValueSerializer%2A?displayProperty=nameWithType> is `null`, the type converter is also used for the save path.</span></span>

## <a name="other-value-converters"></a><span data-ttu-id="840a7-142">Andere Wertkonverter</span><span class="sxs-lookup"><span data-stu-id="840a7-142">Other Value Converters</span></span>

<span data-ttu-id="840a7-143">Ein Wertkonverter kann über die spezifischen Muster eines Typkonverters oder einer Markuperweiterungen hinaus erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="840a7-143">A value converter is extensible beyond the specific patterns of a type converter or a markup extension.</span></span> <span data-ttu-id="840a7-144">Diese Anpassung erfordert jedoch auch die Neudefinition des XAML-Typsystems gemäß .NET XAML Services.</span><span class="sxs-lookup"><span data-stu-id="840a7-144">However, this customization would also require the redefinition of the XAML type system as provided by .NET XAML Services.</span></span> <span data-ttu-id="840a7-145">Das vorhandene XAML-Typsystem verfügt über Darstellungen und Berichtssysteme für Typkonverter, Markuperweiterungen und Werte-Serialisierungsprogramme, jedoch nicht für benutzerdefinierte Formen der Wertkonvertierung.</span><span class="sxs-lookup"><span data-stu-id="840a7-145">The existing XAML type system has representations and reporting systems for type converters, markup extensions, and value serializers, but not for custom forms of value conversion.</span></span> <span data-ttu-id="840a7-146">Wenn Sie benutzerdefinierte Wertkonverter erstellen möchten, verwenden Sie den <xref:System.Xaml.Schema.XamlValueConverter%601> -Typ.</span><span class="sxs-lookup"><span data-stu-id="840a7-146">If you want to create custom value converters, use the <xref:System.Xaml.Schema.XamlValueConverter%601> type.</span></span>

## <a name="type-converters-and-markup-extensions-in-combination"></a><span data-ttu-id="840a7-147">Typkonverter und Markuperweiterungen kombiniert</span><span class="sxs-lookup"><span data-stu-id="840a7-147">Type Converters and Markup Extensions in Combination</span></span>

<span data-ttu-id="840a7-148">Markuperweiterungen und Typkonverter werden für verschiedene Situationen in XAML verwendet.</span><span class="sxs-lookup"><span data-stu-id="840a7-148">Markup extensions and type converters are used for different situations in XAML.</span></span> <span data-ttu-id="840a7-149">Obwohl der Kontext für die Verwendung von Markuperweiterungen verfügbar ist, wird das Typkonvertierungsverhalten von Eigenschaften, bei denen eine Markuperweiterung einen Wert bereitstellt, in der Regel nicht in den Implementierungen der Markuperweiterung überprüft.</span><span class="sxs-lookup"><span data-stu-id="840a7-149">Although context is available for markup extension usages, type conversion behavior of properties where a markup extension provides a value is generally is not checked in the markup extension implementations.</span></span> <span data-ttu-id="840a7-150">Mit anderen Worten, auch wenn eine Markuperweiterung eine Textzeichenfolge als `ProvideValue` -Ausgabe zurückgibt, wird das Typkonvertierungsverhalten für diese Zeichenfolge entsprechend der Anwendung auf eine spezifische Eigenschaft oder einen spezifischen Eigenschaftswerttyp nicht aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="840a7-150">In other words, even if a markup extension returns a text string as its `ProvideValue` output, type conversion behavior on that string as applied to a specific property or property value type is not invoked.</span></span> <span data-ttu-id="840a7-151">Im Allgemeinen besteht der Zweck einer Markuperweiterung darin, eine Zeichenfolge zu verarbeiten und ein Objekt ohne Beteiligung eines Typkonverters zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="840a7-151">Generally, the purpose of a markup extension is to process a string and return an object without any type converter involved.</span></span>

## <a name="service-context-for-a-value-converter"></a><span data-ttu-id="840a7-152">Dienstkontext für einen Wertkonverter</span><span class="sxs-lookup"><span data-stu-id="840a7-152">Service Context for a Value Converter</span></span>

<span data-ttu-id="840a7-153">Wenn Sie einen Wertkonverter implementieren, benötigen Sie häufig Zugriff auf einen Kontext, in dem der Wertkonverter angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="840a7-153">When you implement a value converter, you often need access to a context in which the value converter is applied.</span></span> <span data-ttu-id="840a7-154">Dieser Kontext wird als Dienstkontext bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="840a7-154">This context is known as the service context.</span></span> <span data-ttu-id="840a7-155">Der Dienstkontext kann Informationen wie den aktiven XAML-Schemakontext, den Zugriff auf das Typzuordnungssystem, das der XAML-Schemakontext und der XAML-Objektschreiber bereitstellen, usw. enthalten.</span><span class="sxs-lookup"><span data-stu-id="840a7-155">The service context might include information such as the active XAML schema context, access to the type-mapping system that the XAML schema context and XAML object writer provide, and so on.</span></span> <span data-ttu-id="840a7-156">Weitere Informationen zu den für einen Wertkonverter verfügbaren Dienstkontexten sowie dazu, wie auf die Dienste zugegriffen wird, die ein Dienstkontext bereitstellen kann, finden Sie unter [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span><span class="sxs-lookup"><span data-stu-id="840a7-156">For more information about the service contexts available for a value converter and how to access the services that a service context might provide, see [Service Contexts Available to Type Converters and Markup Extensions](service-contexts-with-type-converters-and-markup-extensions.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="840a7-157">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="840a7-157">See also</span></span>

- <xref:System.Windows.Markup.MarkupExtension>
- <xref:System.Xaml.XamlObjectWriter>
- [<span data-ttu-id="840a7-158">Übersicht über Markuperweiterungen für XAML</span><span class="sxs-lookup"><span data-stu-id="840a7-158">Markup Extensions for XAML Overview</span></span>](markup-extensions-overview.md)
- [<span data-ttu-id="840a7-159">Übersicht über Typkonverter für XAML</span><span class="sxs-lookup"><span data-stu-id="840a7-159">Type Converters for XAML Overview</span></span>](type-converters-overview.md)
- [<span data-ttu-id="840a7-160">Für Typkonverter und Markuperweiterungen verfügbare Dienstkontexte</span><span class="sxs-lookup"><span data-stu-id="840a7-160">Service Contexts Available to Type Converters and Markup Extensions</span></span>](service-contexts-with-type-converters-and-markup-extensions.md)
