---
title: 'Ausschüsse: Leitfaden für C#'
description: Beschreibt die Unterstützung von C# für Ausschüsse, bei denen es sich um nicht zugewiesene, verwerfbare Variablen handelt, und die Möglichkeiten, wie Ausschüsse verwendet werden können.
ms.technology: csharp-fundamentals
ms.date: 07/21/2017
ms.openlocfilehash: a76e7fc13f92ec0de87153bb35eb3924bb317616
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/30/2019
ms.locfileid: "73100636"
---
# <a name="discards---c-guide"></a><span data-ttu-id="b1e65-103">Ausschüsse: Leitfaden für C#</span><span class="sxs-lookup"><span data-stu-id="b1e65-103">Discards - C# Guide</span></span>

<span data-ttu-id="b1e65-104">Ab C# 7.0 werden Ausschüsse von C# unterstützt. Dabei handelt es sich um temporäre Platzhaltervariablen, die bewusst ungenutzt im Anwendungscode verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b1e65-104">Starting with C# 7.0, C# supports discards, which are temporary, dummy variables that are intentionally unused in application code.</span></span> <span data-ttu-id="b1e65-105">Ausschüsse entsprechen nicht zugewiesenen Variablen und besitzen keinen Wert.</span><span class="sxs-lookup"><span data-stu-id="b1e65-105">Discards are equivalent to unassigned variables; they do not have a value.</span></span> <span data-ttu-id="b1e65-106">Da es nur eine einzige Ausschussvariable gibt und dieser Variable möglicherweise nicht einmal Speicher zugewiesen ist, kann durch Ausschüsse die Speicherbelegung reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="b1e65-106">Because there is only a single discard variable, and that variable may not even be allocated storage, discards can reduce memory allocations.</span></span> <span data-ttu-id="b1e65-107">Da sie den Zweck Ihres Codes deutlich machen, verbessern Sie dessen Lesbarkeit und Verwaltbarkeit.</span><span class="sxs-lookup"><span data-stu-id="b1e65-107">Because they make the intent of your code clear, they enhance its readability and maintainability.</span></span>

<span data-ttu-id="b1e65-108">Sie geben an, dass es sich bei einer Variable um Ausschuss handelt, indem Sie ihr einen Unterstrich (`_`) als Namen zuweisen.</span><span class="sxs-lookup"><span data-stu-id="b1e65-108">You indicate that a variable is a discard by assigning it the underscore (`_`) as its name.</span></span> <span data-ttu-id="b1e65-109">Der folgende Methodenaufruf gibt beispielsweise ein 3-Tupel zurück, in dem der erste und zweite Wert Ausschussvariablen sind und *area* eine zuvor deklarierte Variable ist, die auf die entsprechende dritte Komponente festgelegt wird, die von *GetCityInformation* zurückgegeben wird:</span><span class="sxs-lookup"><span data-stu-id="b1e65-109">For example, the following method call returns a 3-tuple in which the first and second values are discards and *area* is a previously declared variable to be set to the corresponding third component returned by *GetCityInformation*:</span></span>

```csharp
(_, _, area) = city.GetCityInformation(cityName);
```

<span data-ttu-id="b1e65-110">In C# 7.0 werden Ausschussvariablen in Zuweisungen in den folgenden Kontexten unterstützt:</span><span class="sxs-lookup"><span data-stu-id="b1e65-110">In C# 7.0, discards are supported in assignments in the following contexts:</span></span>

- <span data-ttu-id="b1e65-111">[Dekonstruieren](deconstruct.md) von Tupeln und Objekten.</span><span class="sxs-lookup"><span data-stu-id="b1e65-111">Tuple and object [deconstruction](deconstruct.md).</span></span>
- <span data-ttu-id="b1e65-112">Musterabgleich mit [is](language-reference/keywords/is.md) und [switch](language-reference/keywords/switch.md).</span><span class="sxs-lookup"><span data-stu-id="b1e65-112">Pattern matching with [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md).</span></span>
- <span data-ttu-id="b1e65-113">Aufrufe von Methoden mit `out`-Parametern.</span><span class="sxs-lookup"><span data-stu-id="b1e65-113">Calls to methods with `out` parameters.</span></span>
- <span data-ttu-id="b1e65-114">Ein eigenständiger `_`, wenn sich kein `_` im Bereich befindet.</span><span class="sxs-lookup"><span data-stu-id="b1e65-114">A standalone `_` when no `_` is in scope.</span></span>

<span data-ttu-id="b1e65-115">Wenn es sich bei `_` um einen gültigen Ausschuss handelt, wird beim Versuch, seinen Wert abzurufen oder ihn in einer Zuweisungsoperation zu verwenden, ein Compilerfehler (CS0301, „Der Name ‚\_‘ existiert im aktuellen Kontext nicht“) generiert.</span><span class="sxs-lookup"><span data-stu-id="b1e65-115">When `_` is a valid discard, attempting to retrieve its value or use it in an assignment operation generates compiler error CS0301, "The name '\_' does not exist in the current context".</span></span> <span data-ttu-id="b1e65-116">Das liegt daran, dass `_` kein Wert und möglicherweise nicht einmal ein Speicherort zugewiesen ist.</span><span class="sxs-lookup"><span data-stu-id="b1e65-116">This is because `_` is not assigned a value, and may not even be assigned a storage location.</span></span> <span data-ttu-id="b1e65-117">Wenn es sich dabei um eine tatsächliche Variable handeln würde, könnten Sie nicht wie im vorherigen Beispiel mehr als einen Wert verwerfen.</span><span class="sxs-lookup"><span data-stu-id="b1e65-117">If it were an actual variable, you could not discard more than one value, as the previous example did.</span></span>

## <a name="tuple-and-object-deconstruction"></a><span data-ttu-id="b1e65-118">Dekonstruieren von Tupeln und Objekten</span><span class="sxs-lookup"><span data-stu-id="b1e65-118">Tuple and object deconstruction</span></span>

<span data-ttu-id="b1e65-119">Ausschüsse sind besonders nützlich, wenn mit Tupeln gearbeitet wird und Ihr Anwendungscode einige Elemente des Tupels verwendet, andere aber ignoriert.</span><span class="sxs-lookup"><span data-stu-id="b1e65-119">Discards are particularly useful in working with tuples when your application code uses some tuple elements but ignores others.</span></span> <span data-ttu-id="b1e65-120">Die folgende Methode `QueryCityDataForYears` gibt beispielsweise einen 6-Tupel mit dem Namen einer Stadt, ihrer Fläche, einer Jahreszahl, der Bevölkerung der Stadt in diesem Jahr, einer zweiten Jahreszahl und der Bevölkerung der Stadt im zweiten Jahr zurück.</span><span class="sxs-lookup"><span data-stu-id="b1e65-120">For example, the following `QueryCityDataForYears` method returns a 6-tuple with the name of a city, its area, a year, the city's population for that year, a second year, and the city's population for that second year.</span></span> <span data-ttu-id="b1e65-121">Das Beispiel zeigt die Veränderung der Bevölkerung zwischen diesen beiden Jahren.</span><span class="sxs-lookup"><span data-stu-id="b1e65-121">The example shows the change in population between those two years.</span></span> <span data-ttu-id="b1e65-122">Von den Daten, die im Tupel verfügbar sind, ist die Fläche der Stadt nicht relevant für uns und außerdem kennen wir den Namen der Stadt und die zwei Datumswerte zur Entwurfszeit.</span><span class="sxs-lookup"><span data-stu-id="b1e65-122">Of the data available from the tuple, we're unconcerned with the city area, and we know the city name and the two dates at design-time.</span></span> <span data-ttu-id="b1e65-123">Darum sind wir nur an den zwei Bevölkerungsgwerten interessiert, die im Tupel gespeichert sind und behandeln die restlichen Werte als Ausschuss.</span><span class="sxs-lookup"><span data-stu-id="b1e65-123">As a result, we're only interested in the two population values stored in the tuple, and can handle its remaining values as discards.</span></span>  

[!code-csharp[Tuple-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/discard-tuple1.cs)]

<span data-ttu-id="b1e65-124">Weitere Informationen zum Dekonstruieren von Tupeln mit Ausschüssen finden Sie unter [Deconstructing tuples and other types (Dekonstruieren von Tupeln und anderen Typen)](deconstruct.md#deconstructing-tuple-elements-with-discards).</span><span class="sxs-lookup"><span data-stu-id="b1e65-124">For more information on deconstructing tuples with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-tuple-elements-with-discards).</span></span>

<span data-ttu-id="b1e65-125">Die Methode `Deconstruct` einer Klasse, Struktur oder Schnittstelle ermöglicht es Ihnen ebenfalls, einen bestimmten Satz von Daten aus einem Objekt abzurufen und zu dekonstruieren.</span><span class="sxs-lookup"><span data-stu-id="b1e65-125">The `Deconstruct` method of a class, structure, or interface also allows you to retrieve and deconstruct a specific set of data from an object.</span></span> <span data-ttu-id="b1e65-126">Sie können Ausschüsse verwenden, wenn Sie nur mit einer Teilmenge der dekonstruierten Werte arbeiten möchten.</span><span class="sxs-lookup"><span data-stu-id="b1e65-126">You can use discards when you are interested in working with only a subset of the deconstructed values.</span></span> <span data-ttu-id="b1e65-127">Im folgenden Beispiel wird ein `Person`-Objekt in vier Zeichenfolgen (Vor- und Nachname, Ort und Staat) dekonstruiert, Nachname und Staat werden jedoch verworfen.</span><span class="sxs-lookup"><span data-stu-id="b1e65-127">The following example deconstructs a `Person` object into four strings (the first and last names, the city, and the state), but discards the last name and the state.</span></span>

[!code-csharp[Class-discard](../../samples/snippets/csharp/programming-guide/deconstructing-tuples/class-discard1.cs)]

<span data-ttu-id="b1e65-128">Weitere Informationen zum Dekonstruieren von benutzerdefinierten Typen mit Ausschüssen finden Sie unter [Deconstructing tuples and other types (Dekonstruieren von Tupeln und anderen Typen)](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span><span class="sxs-lookup"><span data-stu-id="b1e65-128">For more information on deconstructing user-defined types with discards, see [Deconstructing tuples and other types](deconstruct.md#deconstructing-a-user-defined-type-with-discards).</span></span>

## <a name="pattern-matching-with-switch-and-is"></a><span data-ttu-id="b1e65-129">Musterabgleich mit `switch` und `is`</span><span class="sxs-lookup"><span data-stu-id="b1e65-129">Pattern matching with `switch` and `is`</span></span>

<span data-ttu-id="b1e65-130">Das *Ausschussmuster* kann beim Musterabgleich mit den Schlüsselwörtern [is](language-reference/keywords/is.md) und [switch](language-reference/keywords/switch.md) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="b1e65-130">The *discard pattern* can be used in pattern matching with the [is](language-reference/keywords/is.md) and [switch](language-reference/keywords/switch.md) keywords.</span></span> <span data-ttu-id="b1e65-131">Jeder Ausdruck stimmt immer mit dem Ausschussmuster überein.</span><span class="sxs-lookup"><span data-stu-id="b1e65-131">Every expression always matches the discard pattern.</span></span>

<span data-ttu-id="b1e65-132">Im folgenden Beispiel wird die Methode `ProvidesFormatInfo` definiert, die [is](language-reference/keywords/is.md)-Anweisungen verwendet, um zu bestimmen, ob ein Objekt eine <xref:System.IFormatProvider>-Implementierung bereitstellt und überprüft, ob das Objekt `null` ist.</span><span class="sxs-lookup"><span data-stu-id="b1e65-132">The following example defines a `ProvidesFormatInfo` method that uses [is](language-reference/keywords/is.md) statements to determine whether an object provides an <xref:System.IFormatProvider> implementation and tests whether the object is `null`.</span></span> <span data-ttu-id="b1e65-133">Sie verwendet auch das Ausschussmuster, um Nicht-NULL-Objekte eines anderen Typs zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="b1e65-133">It also uses the discard pattern to handle non-null objects of any other type.</span></span>

[!code-csharp[discard-pattern](../../samples/snippets/csharp/programming-guide/discards/discard-pattern2.cs)]

## <a name="calls-to-methods-with-out-parameters"></a><span data-ttu-id="b1e65-134">Aufrufe von Methoden mit out-Parametern</span><span class="sxs-lookup"><span data-stu-id="b1e65-134">Calls to methods with out parameters</span></span>

<span data-ttu-id="b1e65-135">Wenn die Methode `Deconstruct` aufgerufen wird, um einen benutzerdefinierten Typ (eine Instanz einer Klasse, Struktur oder Schnittstelle) zu dekonstruieren, können Sie die Werte einzelner `out`-Argumente verwerfen.</span><span class="sxs-lookup"><span data-stu-id="b1e65-135">When calling the `Deconstruct` method to deconstruct a user-defined type (an instance of a class, structure, or interface), you can discard the values of individual `out` arguments.</span></span> <span data-ttu-id="b1e65-136">Sie können ebenfalls den Wert von `out`-Argumenten verwerfen, wenn Sie eine Methode mit einem out-Parameter aufrufen.</span><span class="sxs-lookup"><span data-stu-id="b1e65-136">But you can also discard the value of `out` arguments when calling any method with an out parameter.</span></span>

<span data-ttu-id="b1e65-137">Im folgenden Beispiel wird die Methode [DateTime.TryParse(String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) aufgerufen, um zu bestimmen, ob die Zeichenfolgendarstellung eines Datums in der aktuellen Kultur gültig ist.</span><span class="sxs-lookup"><span data-stu-id="b1e65-137">The following example calls the [DateTime.TryParse(String, out DateTime)](<xref:System.DateTime.TryParse(System.String,System.DateTime@)>) method to determine whether the string representation of a date is valid in the current culture.</span></span> <span data-ttu-id="b1e65-138">Da das Beispiel darauf beschränkt ist, die Datumszeichenfolge zu überprüfen und diese nicht analysiert wird, um das Datum zu extrahieren, ist das Argument `out` der Methode ein Ausschuss.</span><span class="sxs-lookup"><span data-stu-id="b1e65-138">Because the example is concerned only with validating the date string and not with parsing it to extract the date, the `out` argument to the method is a discard.</span></span>

[!code-csharp[discard-with-out](../../samples/snippets/csharp/programming-guide/discards/discard-out1.cs)]

## <a name="a-standalone-discard"></a><span data-ttu-id="b1e65-139">Ein eigenständiger Ausschuss</span><span class="sxs-lookup"><span data-stu-id="b1e65-139">A standalone discard</span></span>

<span data-ttu-id="b1e65-140">Sie können einen eigenständigen Ausschuss verwenden, um eine beliebige Variable anzugeben, die Sie ignorieren möchten.</span><span class="sxs-lookup"><span data-stu-id="b1e65-140">You can use a standalone discard to indicate any variable that you choose to ignore.</span></span> <span data-ttu-id="b1e65-141">Im folgenden Beispiel wird ein eigenständiger Ausschuss verwendet, um das Objekt <xref:System.Threading.Tasks.Task> zu ignorieren, das von einem asynchronen Vorgang zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="b1e65-141">The following example uses a standalone discard to ignore the <xref:System.Threading.Tasks.Task> object returned by an asynchronous operation.</span></span> <span data-ttu-id="b1e65-142">Dadurch wird die Ausnahme unterdrückt, die vom Vorgang kurz vor dem Abschluss ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="b1e65-142">This has the effect of suppressing the exception that the operation throws as it is about to complete.</span></span>

[!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard1.cs)]

<span data-ttu-id="b1e65-143">Beachten Sie, dass `_` auch ein gültiger Bezeichner ist.</span><span class="sxs-lookup"><span data-stu-id="b1e65-143">Note that `_` is also a valid identifier.</span></span> <span data-ttu-id="b1e65-144">Bei der Verwendung außerhalb eines unterstützten Kontexts wird `_` nicht als Ausschuss, sondern als gültige Variable behandelt.</span><span class="sxs-lookup"><span data-stu-id="b1e65-144">When used outside of a supported context, `_` is treated not as a discard but as a valid variable.</span></span> <span data-ttu-id="b1e65-145">Wenn bereits ein Bezeichner mit dem Namen `_` im Bereich vorhanden ist, kann die Verwendung von `_` als eigenständiger Ausschuss zu Folgendem führen:</span><span class="sxs-lookup"><span data-stu-id="b1e65-145">If an identifier named `_` is already in scope, the use of `_` as a standalone discard can result in:</span></span>

- <span data-ttu-id="b1e65-146">Versehentliche Änderung des Werts der im Bereich befindlichen Variable `_`, indem dieser der Wert eines beabsichtigten Ausschusses zugewiesen wird.</span><span class="sxs-lookup"><span data-stu-id="b1e65-146">Accidental modification of the value of the in-scope `_` variable by assigning it the value of the intended discard.</span></span> <span data-ttu-id="b1e65-147">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="b1e65-147">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#1)]

- <span data-ttu-id="b1e65-148">Ein Compilerfehler wegen Verletzung der Typsicherheit.</span><span class="sxs-lookup"><span data-stu-id="b1e65-148">A compiler error for violating type safety.</span></span> <span data-ttu-id="b1e65-149">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="b1e65-149">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#2)]

- <span data-ttu-id="b1e65-150">Compilerfehler CS0136: „A local or parameter named '\_' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter.“ (Eine lokale Variable oder ein Parameter mit dem Namen „_“ kann in diesem Bereich nicht deklariert werden, da der Name in einem einschließenden lokalen Bereich verwendet wird, um eine lokale Variable oder einen Parameter zu definieren.)</span><span class="sxs-lookup"><span data-stu-id="b1e65-150">Compiler error CS0136, "A local or parameter named '\_' cannot be declared in this scope because that name is used in an enclosing local scope to define a local or parameter."</span></span> <span data-ttu-id="b1e65-151">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="b1e65-151">For example:</span></span>

   [!code-csharp[standalone-discard](../../samples/snippets/csharp/programming-guide/discards/standalone-discard2.cs#3)]

## <a name="see-also"></a><span data-ttu-id="b1e65-152">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="b1e65-152">See also</span></span>

- [<span data-ttu-id="b1e65-153">Dekonstruieren von Tupeln und anderen Typen</span><span class="sxs-lookup"><span data-stu-id="b1e65-153">Deconstructing tuples and other types</span></span>](deconstruct.md)
- [<span data-ttu-id="b1e65-154">`is`Schlüsselwort</span><span class="sxs-lookup"><span data-stu-id="b1e65-154">`is` keyword</span></span>](language-reference/keywords/is.md)
- [<span data-ttu-id="b1e65-155">`switch`Schlüsselwort</span><span class="sxs-lookup"><span data-stu-id="b1e65-155">`switch` keyword</span></span>](language-reference/keywords/switch.md)
