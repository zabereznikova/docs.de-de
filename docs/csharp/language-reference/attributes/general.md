---
title: 'Reservierte C#-Attribute: Conditional, Obsolete, AttributeUsage'
ms.date: 04/09/2020
description: Diese Attribute werden vom Compiler interpretiert und beeinflussen den vom Compiler generierten Code.
ms.openlocfilehash: c6d697dd08233ffc88900949998047137ee170a9
ms.sourcegitcommit: 348bb052d5cef109a61a3d5253faa5d7167d55ac
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/22/2020
ms.locfileid: "82021762"
---
# <a name="reserved-attributes-conditionalattribute-obsoleteattribute-attributeusageattribute"></a><span data-ttu-id="5d1aa-103">Reservierte Attribute: ConditionalAttribute, ObsoleteAttribute, AttributeUsageAttribute</span><span class="sxs-lookup"><span data-stu-id="5d1aa-103">Reserved attributes: ConditionalAttribute, ObsoleteAttribute, AttributeUsageAttribute</span></span>

<span data-ttu-id="5d1aa-104">Diese Attribute können auf Elemente in Ihrem Code angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-104">These attributes can be applied to elements in your code.</span></span> <span data-ttu-id="5d1aa-105">Sie fügen diesen Elementen eine semantische Bedeutung hinzu.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-105">They add semantic meaning to those elements.</span></span> <span data-ttu-id="5d1aa-106">Der Compiler verwendet diese semantischen Bedeutungen, um seine Ausgabe zu ändern und mögliche Entwicklerfehler im Code zu melden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-106">The compiler uses those semantic meanings to alter its output and report possible mistakes by developers using your code.</span></span>

## <a name="conditional-attribute"></a><span data-ttu-id="5d1aa-107">`Conditional`-Attribut</span><span class="sxs-lookup"><span data-stu-id="5d1aa-107">`Conditional` attribute</span></span>

<span data-ttu-id="5d1aa-108">Das `Conditional`-Attribut macht die Ausführung einer Methode abhängig von einem Vorverarbeitungsbezeichner.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-108">The `Conditional` attribute makes the execution of a method dependent on a preprocessing identifier.</span></span> <span data-ttu-id="5d1aa-109">Das `Conditional`-Attribut ist ein Alias für <xref:System.Diagnostics.ConditionalAttribute> und kann auf eine Methode oder Attributklasse angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-109">The `Conditional` attribute is an alias for <xref:System.Diagnostics.ConditionalAttribute>, and can be applied to a method or an attribute class.</span></span>

<span data-ttu-id="5d1aa-110">Im folgenden Beispiel wird `Conditional` auf eine Methode angewendet, um die Anzeige programmspezifischer Diagnoseinformationen zu aktivieren oder zu deaktivieren:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-110">In the following example, `Conditional` is applied to a method to enable or disable the display of program-specific diagnostic information:</span></span>

:::code language="csharp" source="snippets/trace.cs" interactive="try-dotnet" :::

<span data-ttu-id="5d1aa-111">Wenn der `TRACE_ON`-Bezeichner nicht definiert ist, wird die Ausgabe der Ablaufverfolgung nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-111">If the `TRACE_ON` identifier isn't defined, the trace output isn't displayed.</span></span> <span data-ttu-id="5d1aa-112">Untersuchen Sie den Code im interaktiven Fenster.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-112">Explore for yourself in the interactive window.</span></span>

<span data-ttu-id="5d1aa-113">Das `Conditional`-Attribut wird oft zusammen mit dem `DEBUG`-Bezeichner verwendet, um die Ablaufverfolgung und Protokollierung für Debugbuilds – nicht jedoch in Releasebuilds – wie im folgenden Beispiel gezeigt zu aktivieren:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-113">The `Conditional` attribute is often used with the `DEBUG` identifier to enable trace and logging features for debug builds but not in release builds, as shown in the following example:</span></span>

:::code language="csharp" source="snippets/ConditionalExamples.cs" id="SnippetConditional" :::

<span data-ttu-id="5d1aa-114">Wenn eine als bedingt gekennzeichnete Methode aufgerufen wird, bestimmt das Vorhandensein oder Fehlen des angegebenen Vorverarbeitungssymbols, ob der Aufruf eingeschlossen oder ausgelassen wird.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-114">When a method marked conditional is called, the presence or absence of the specified preprocessing symbol determines whether the call is included or omitted.</span></span> <span data-ttu-id="5d1aa-115">Wenn das Symbol definiert ist, wird der Aufruf einbezogen; andernfalls wird der Aufruf ausgelassen.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-115">If the symbol is defined, the call is included; otherwise, the call is omitted.</span></span> <span data-ttu-id="5d1aa-116">Eine bedingte Methode muss eine Methode in einer Klassen- oder Strukturdeklaration sein und einen `void`-Rückgabetyp aufweisen.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-116">A conditional method must be a method in a class or struct declaration and must have a `void` return type.</span></span> <span data-ttu-id="5d1aa-117">Die Verwendung von `Conditional` ist eine sauberere, elegantere und auch weniger fehleranfällige Alternative zum Einschließen von Methoden innerhalb von `#if…#endif`-Blöcken.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-117">Using `Conditional` is cleaner, more elegant, and less error-prone than enclosing methods inside `#if…#endif` blocks.</span></span>

<span data-ttu-id="5d1aa-118">Wenn eine Methode mehrere `Conditional`-Attribute besitzt, wird ein Aufruf an die Methode eingeschlossen, wenn mindestens eines der bedingten Symbole definiert ist (die Symbole durch den OR-Operator logisch miteinander verknüpft sind).</span><span class="sxs-lookup"><span data-stu-id="5d1aa-118">If a method has multiple `Conditional` attributes, a call to the method is included if at one or more conditional symbols is defined (the symbols are logically linked together by using the OR operator).</span></span> <span data-ttu-id="5d1aa-119">Im folgenden Beispiel führt das Vorhandensein von `A` oder `B` zu einem Methodenaufruf:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-119">In the following example, the presence of either `A` or `B` results in a method call:</span></span>

:::code language="csharp" source="snippets/ConditionalExamples.cs" id="SnippetMultipleConditions" :::

### <a name="using-conditional-with-attribute-classes"></a><span data-ttu-id="5d1aa-120">Verwenden von `Conditional` mit Attributklassen</span><span class="sxs-lookup"><span data-stu-id="5d1aa-120">Using `Conditional` with attribute classes</span></span>

<span data-ttu-id="5d1aa-121">Das `Conditional`-Attribut kann auch auf die Definition einer Attributklasse angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-121">The `Conditional` attribute can also be applied to an attribute class definition.</span></span> <span data-ttu-id="5d1aa-122">Im folgenden Beispiel fügt das benutzerdefinierte Attribut `Documentation` den Metadaten nur dann Informationen hinzu, wenn `DEBUG` definiert ist.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-122">In the following example, the custom attribute `Documentation` will only add information to the metadata if `DEBUG` is defined.</span></span>

:::code language="csharp" source="snippets/ConditionalExamples.cs" id="SnippetConditionalConditionalAttribute" :::

## <a name="obsolete-attribute"></a><span data-ttu-id="5d1aa-123">`Obsolete`-Attribut</span><span class="sxs-lookup"><span data-stu-id="5d1aa-123">`Obsolete` attribute</span></span>

<span data-ttu-id="5d1aa-124">Das `Obsolete`-Attribut markiert ein Codeelement als nicht länger zur Verwendung empfohlen.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-124">The `Obsolete` attribute marks a code element as no longer recommended for use.</span></span> <span data-ttu-id="5d1aa-125">Die Verwendung einer als veraltet markierten Entität führt zu einer Warnung oder einem Fehler.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-125">Use of an entity marked obsolete generates a warning or an error.</span></span> <span data-ttu-id="5d1aa-126">Das `Obsolete`-Attribut ist ein Attribut zur einmaligen Nutzung und kann auf jede Entität angewendet werden, die Attribute zulässt.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-126">The `Obsolete` attribute is a single-use attribute and can be applied to any entity that allows attributes.</span></span> <span data-ttu-id="5d1aa-127">`Obsolete` ist ein Alias für <xref:System.ObsoleteAttribute>.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-127">`Obsolete` is an alias for <xref:System.ObsoleteAttribute>.</span></span>

<span data-ttu-id="5d1aa-128">Das folgende Beispiel zeigt, wie das `Obsolete`-Attribut auf die `A`-Klasse und die `B.OldMethod`-Methode angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-128">In the following example the `Obsolete` attribute is applied to class `A` and to method `B.OldMethod`.</span></span> <span data-ttu-id="5d1aa-129">Da das zweite Argument des Attributkonstruktors, das auf `B.OldMethod` angewendet wurde, auf `true` festgelegt wird, verursacht diese Methode einen Compilerfehler. Die Verwendung der `A`-Klasse erzeugt hingegen nur eine Warnung.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-129">Because the second argument of the attribute constructor applied to `B.OldMethod` is set to `true`, this method will cause a compiler error, whereas using class `A` will just produce a warning.</span></span> <span data-ttu-id="5d1aa-130">Wenn Sie `B.NewMethod` aufrufen, werden weder Warnungen noch Fehler erzeugt.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-130">Calling `B.NewMethod`, however, produces no warning or error.</span></span> <span data-ttu-id="5d1aa-131">Wenn Sie es mit den vorherigen Definitionen verwenden, generiert der folgende Code zwei Warnungen und einen Fehler:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-131">For example, when you use it with the previous definitions, the following code generates two warnings and one error:</span></span>

:::code language="csharp" source="snippets/ObsoleteExample.cs" interactive="try-dotnet" :::

<span data-ttu-id="5d1aa-132">Die Zeichenfolge, die als erstes Argument für den Attributkonstruktor bereitgestellt wurde, wird als Teil der Warnung oder des Fehlers angezeigt.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-132">The string provided as the first argument to the attribute constructor will be displayed as part of the warning or error.</span></span> <span data-ttu-id="5d1aa-133">Es werden zwei Warnungen für die Klasse `A` generiert: eine für die Deklaration des Klassenverweises und eine für den Klassenkonstruktor.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-133">Two warnings for class `A` are generated: one for the declaration of the class reference, and one for the class constructor.</span></span> <span data-ttu-id="5d1aa-134">Das `Obsolete`-Attribut kann ohne Argumente verwendet werden. Es wird jedoch empfohlen, in einer Erläuterung anzugeben, was stattdessen verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-134">The `Obsolete` attribute can be used without arguments, but including an explanation what to use instead is recommended.</span></span>

## <a name="attributeusage-attribute"></a><span data-ttu-id="5d1aa-135">`AttributeUsage`-Attribut</span><span class="sxs-lookup"><span data-stu-id="5d1aa-135">`AttributeUsage` attribute</span></span>

<span data-ttu-id="5d1aa-136">Das `AttributeUsage`-Attribut bestimmt, wie eine benutzerdefinierte Attributklasse verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-136">The `AttributeUsage` attribute determines how a custom attribute class can be used.</span></span> <span data-ttu-id="5d1aa-137">Bei <xref:System.AttributeUsageAttribute> handelt es sich um ein Attribut, das Sie auf benutzerdefinierte Attributdefinitionen anwenden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-137"><xref:System.AttributeUsageAttribute> is an attribute you apply to custom attribute definitions.</span></span> <span data-ttu-id="5d1aa-138">Mithilfe des `AttributeUsage`-Attribut können Sie Folgendes steuern:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-138">The `AttributeUsage` attribute enables you to control:</span></span>

- <span data-ttu-id="5d1aa-139">Auf welche Programmelemente das Attribut angewendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-139">Which program elements attribute may be applied to.</span></span> <span data-ttu-id="5d1aa-140">Wenn Sie dessen Verwendung nicht einschränken, kann ein Attribut auf jedes der folgenden Programmelemente angewendet werden:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-140">Unless you restrict its usage, an attribute may be applied to any of the following program elements:</span></span>
  - <span data-ttu-id="5d1aa-141">Assembly</span><span class="sxs-lookup"><span data-stu-id="5d1aa-141">assembly</span></span>
  - <span data-ttu-id="5d1aa-142">module</span><span class="sxs-lookup"><span data-stu-id="5d1aa-142">module</span></span>
  - <span data-ttu-id="5d1aa-143">Feld</span><span class="sxs-lookup"><span data-stu-id="5d1aa-143">field</span></span>
  - <span data-ttu-id="5d1aa-144">event</span><span class="sxs-lookup"><span data-stu-id="5d1aa-144">event</span></span>
  - <span data-ttu-id="5d1aa-145">Methode</span><span class="sxs-lookup"><span data-stu-id="5d1aa-145">method</span></span>
  - <span data-ttu-id="5d1aa-146">Parameter</span><span class="sxs-lookup"><span data-stu-id="5d1aa-146">param</span></span>
  - <span data-ttu-id="5d1aa-147">property</span><span class="sxs-lookup"><span data-stu-id="5d1aa-147">property</span></span>
  - <span data-ttu-id="5d1aa-148">return</span><span class="sxs-lookup"><span data-stu-id="5d1aa-148">return</span></span>
  - <span data-ttu-id="5d1aa-149">Typ</span><span class="sxs-lookup"><span data-stu-id="5d1aa-149">type</span></span>
- <span data-ttu-id="5d1aa-150">Ob ein Attribut mehrfach auf ein einzelnes Programmelement angewendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-150">Whether an attribute can be applied to a single program element multiple times.</span></span>
- <span data-ttu-id="5d1aa-151">Ob Attribute von abgeleiteten Klassen geerbt werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-151">Whether attributes are inherited by derived classes.</span></span>

<span data-ttu-id="5d1aa-152">Die Standardeinstellungen ähneln folgendem Beispiel, wenn Sie explizit angewendet werden:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-152">The default settings look like the following example when applied explicitly:</span></span>

:::code language="csharp" source="snippets/NewAttribute.cs" id="SnippetUsageFirst" :::

<span data-ttu-id="5d1aa-153">In diesem Beispiel kann die `NewAttribute`-Klasse auf jedes unterstützte Programmelement angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-153">In this example, the `NewAttribute` class can be applied to any supported program element.</span></span> <span data-ttu-id="5d1aa-154">Es kann jedoch nur einmal auf jede Entität angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-154">But it can be applied only once to each entity.</span></span> <span data-ttu-id="5d1aa-155">Wenn das Attribut auf eine Basisklasse angewendet wird, wird es an eine abgeleitete Klasse vererbt.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-155">The attribute is inherited by derived classes when applied to a base class.</span></span>

<span data-ttu-id="5d1aa-156">Die Argumente <xref:System.AttributeUsageAttribute.AllowMultiple> und <xref:System.AttributeUsageAttribute.Inherited> sind optional, sodass folgender Code die gleiche Wirkung hat:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-156">The <xref:System.AttributeUsageAttribute.AllowMultiple> and <xref:System.AttributeUsageAttribute.Inherited> arguments are optional, so the following code has the same effect:</span></span>

:::code language="csharp" source="snippets/NewAttribute.cs" id="SnippetUsageSecond" :::

<span data-ttu-id="5d1aa-157">Das erste <xref:System.AttributeUsageAttribute>-Argument muss mindestens ein Element der <xref:System.AttributeTargets>-Enumeration sein.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-157">The first <xref:System.AttributeUsageAttribute> argument must be one or more elements of the <xref:System.AttributeTargets> enumeration.</span></span> <span data-ttu-id="5d1aa-158">Mehrere Zieltypen können wie im folgenden Beispiel dargestellt mithilfe des OR-Operators verknüpft werden:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-158">Multiple target types can be linked together with the OR operator, like the following example shows:</span></span>

:::code language="csharp" source="snippets/NewPropertyOrFieldAttribute.cs" id="SnippetDefinePropertyAttribute" :::

<span data-ttu-id="5d1aa-159">Ab C# 7.3 können Attribut auf das Eigenschaften- oder das Unterstützungsfeld einer automatisch implementierten Eigenschaft angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-159">Beginning in C# 7.3, attributes can be applied to either the property or the backing field for an auto-implemented property.</span></span> <span data-ttu-id="5d1aa-160">Das Attribut wird auf die Eigenschaft angewendet, sofern Sie den `field`-Bezeichner des Attributs nicht angeben.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-160">The attribute applies to the property, unless you specify the `field` specifier on the attribute.</span></span> <span data-ttu-id="5d1aa-161">Beides wird im folgenden Beispiel veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-161">Both are shown in the following example:</span></span>

:::code language="csharp" source="snippets/NewPropertyOrFieldAttribute.cs" id="SnippetUsePropertyAttribute" :::

<span data-ttu-id="5d1aa-162">Wenn das <xref:System.AttributeUsageAttribute.AllowMultiple>-Argument auf `true` festgelegt ist, kann das daraus entstehende Attribut wie im folgenden Beispiel dargestellt mehr als einmal auf eine einzelne Entität angewendet werden:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-162">If the <xref:System.AttributeUsageAttribute.AllowMultiple> argument is `true`, then the resulting attribute can be applied more than once to a single entity, as shown in the following example:</span></span>

:::code language="csharp" source="snippets/MultiUseAttribute.cs" id="SnippetMultiUse" :::

<span data-ttu-id="5d1aa-163">In diesem Fall kann `MultiUseAttribute` wiederholt angewendet werden, da `AllowMultiple` auf `true` festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-163">In this case, `MultiUseAttribute` can be applied repeatedly because `AllowMultiple` is set to `true`.</span></span> <span data-ttu-id="5d1aa-164">Beide gezeigten Formate für das Anwenden von mehreren Attributen sind gültig.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-164">Both formats shown for applying multiple attributes are valid.</span></span>

<span data-ttu-id="5d1aa-165">Wenn <xref:System.AttributeUsageAttribute.Inherited> auf `false` festgelegt wurde, wird das Attribut nicht von Klassen geerbt, die von einer Attributklasse abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-165">If <xref:System.AttributeUsageAttribute.Inherited> is `false`, then the attribute isn't inherited by classes derived from an attributed class.</span></span> <span data-ttu-id="5d1aa-166">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="5d1aa-166">For example:</span></span>

:::code language="csharp" source="snippets/NonInheritedAttribute.cs" id="SnippetNonInherited" :::

<span data-ttu-id="5d1aa-167">In diesem Fall wird `NonInheritedAttribute` nicht durch Vererbung auf `DClass` angewendet.</span><span class="sxs-lookup"><span data-stu-id="5d1aa-167">In this case `NonInheritedAttribute` isn't applied to `DClass` via inheritance.</span></span>

## <a name="see-also"></a><span data-ttu-id="5d1aa-168">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="5d1aa-168">See also</span></span>

- <xref:System.Attribute>
- <xref:System.Reflection>
- [<span data-ttu-id="5d1aa-169">Attribute</span><span class="sxs-lookup"><span data-stu-id="5d1aa-169">Attributes</span></span>](../../../standard/attributes/index.md)
- [<span data-ttu-id="5d1aa-170">Reflexion</span><span class="sxs-lookup"><span data-stu-id="5d1aa-170">Reflection</span></span>](../../programming-guide/concepts/reflection.md)
