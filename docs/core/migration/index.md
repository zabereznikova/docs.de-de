---
title: .NET Core-Migration über „project.json“
description: Erfahren Sie, wie Sie ein älteres .NET Core-Projekt mithilfe von „project.json“ migrieren.
author: blackdwarf
ms.author: mairaw
ms.date: 07/19/2017
ms.openlocfilehash: 47d9cab48d83581afb9deb2fd91c4c9a6dc85201
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2018
ms.locfileid: "53143284"
---
# <a name="migrating-net-core-projects-from-projectjson"></a><span data-ttu-id="a3aa5-103">Migrieren von .NET Core-Projekten über „project.json“</span><span class="sxs-lookup"><span data-stu-id="a3aa5-103">Migrating .NET Core projects from project.json</span></span>

<span data-ttu-id="a3aa5-104">Dieses Dokument behandelt Migrationsszenarios für .NET Core-Projekte und die folgenden drei Migrationsszenarios:</span><span class="sxs-lookup"><span data-stu-id="a3aa5-104">This document will cover migration scenarios for .NET Core projects and will go over the following three migration scenarios:</span></span>

1. [<span data-ttu-id="a3aa5-105">Migration von einem gültigen neuesten Schema von *project.json* zu *csproj*</span><span class="sxs-lookup"><span data-stu-id="a3aa5-105">Migration from a valid latest schema of *project.json* to *csproj*</span></span>](#migration-from-projectjson-to-csproj)
2. [<span data-ttu-id="a3aa5-106">Migration von DNX zu csproj</span><span class="sxs-lookup"><span data-stu-id="a3aa5-106">Migration from DNX to csproj</span></span>](#migration-from-dnx-to-csproj)
3. [<span data-ttu-id="a3aa5-107">Migration von RC3 und früheren .NET Core csproj-Projekten in das endgültige Format</span><span class="sxs-lookup"><span data-stu-id="a3aa5-107">Migration from RC3 and previous .NET Core csproj projects to the final format</span></span>](#migration-from-earlier-net-core-csproj-formats-to-rtm-csproj)

<span data-ttu-id="a3aa5-108">Dieses Dokument gilt nur für ältere .NET Core-Projekte, die noch „project.json“ verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-108">This document is only applicable to older .NET Core projects that still use project.json.</span></span> <span data-ttu-id="a3aa5-109">Die hier genannten Informationen gelten nicht für die Migration von .NET Framework zu .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-109">It is not applicable for migrating from .NET Framework to .NET Core.</span></span>

## <a name="migration-from-projectjson-to-csproj"></a><span data-ttu-id="a3aa5-110">Migration von project.json zu csproj</span><span class="sxs-lookup"><span data-stu-id="a3aa5-110">Migration from project.json to csproj</span></span>

<span data-ttu-id="a3aa5-111">Die Migration von *project.json* zu *csproj* kann mithilfe einer der folgenden Methoden erfolgen:</span><span class="sxs-lookup"><span data-stu-id="a3aa5-111">Migration from *project.json* to *.csproj* can be done using one of the following methods:</span></span>

- [<span data-ttu-id="a3aa5-112">Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a3aa5-112">Visual Studio 2017</span></span>](#visual-studio-2017)
- [<span data-ttu-id="a3aa5-113">dotnet migrate-Befehlszeilentool</span><span class="sxs-lookup"><span data-stu-id="a3aa5-113">dotnet migrate command-line tool</span></span>](#dotnet-migrate)

<span data-ttu-id="a3aa5-114">Beide Methoden verwenden die gleiche zugrunde liegende Engine, um die Projekte zu migrieren, sodass die Ergebnisse bei beiden gleich sind.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-114">Both methods use the same underlying engine to migrate the projects, so the results will be the same for both.</span></span> <span data-ttu-id="a3aa5-115">In den meisten Fällen genügt eine der folgenden beiden Methoden zum Migrieren von *project.json* zu *csproj* und es ist keine weitere manuelle Bearbeitung der Projektdatei erforderlich.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-115">In most cases, using one of these two ways to migrate the *project.json* to *csproj* is the only thing that is needed and no further manual editing of the project file is necessary.</span></span> <span data-ttu-id="a3aa5-116">Die resultierende *.csproj*-Datei erhält denselben Namen wie das Verzeichnis, in dem sie enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-116">The resulting *.csproj* file will be named the same as the containing directory name.</span></span>

### <a name="visual-studio-2017"></a><span data-ttu-id="a3aa5-117">Visual Studio 2017</span><span class="sxs-lookup"><span data-stu-id="a3aa5-117">Visual Studio 2017</span></span>

<span data-ttu-id="a3aa5-118">Beim Öffnen einer *.xproj*-Datei oder einer Projektmappendatei, die auf *.xproj*-Dateien verweist, wird das Dialogfeld **Unidirektionales Upgrade** angezeigt.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-118">When you open a *.xproj* file or a solution file which references *.xproj* files, the **One-way upgrade** dialog appears.</span></span> <span data-ttu-id="a3aa5-119">Das Dialogfeld zeigt die Projekte, die migriert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-119">The dialog displays the projects to be migrated.</span></span>
<span data-ttu-id="a3aa5-120">Wenn Sie eine Projektmappendatei öffnen, werden alle Projekte aufgeführt, die in der Projektmappendatei angegeben sind.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-120">If you open a solution file, all the projects specified in the solution file will be listed.</span></span> <span data-ttu-id="a3aa5-121">Überprüfen Sie die Liste der Projekte, die migriert werden sollen, und wählen Sie **OK**.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-121">Review the list of projects to be migrated and select **OK**.</span></span>

![Unidirektionales Upgrade-Dialogfeld mit der Liste der zu migrierenden Projekte](media/one-way-upgrade.jpg)

<span data-ttu-id="a3aa5-123">Visual Studio wird die ausgewählten Projekte automatisch migrieren.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-123">Visual Studio will migrate the projects chosen automatically.</span></span> <span data-ttu-id="a3aa5-124">Wenn Sie bei der Migration einer Projektmappe nicht alle Projekte auswählen, erscheint das gleiche Dialogfeld und Sie werden aufgefordert, die übrigen Projekte der Projektmappe upzugraden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-124">When migrating a solution, if you don't choose all projects, the same dialog will appear asking you to upgrade the remaining projects from that solution.</span></span> <span data-ttu-id="a3aa5-125">Nachdem das Projekt migriert wurde, können Sie sich seine Inhalt anzeigen lassen und diese ändern, indem Sie mit der rechten Maustaste auf das Projekt im Fenster **Projektmappen-Explorer** und anschließend auf **Bearbeiten \<Projektname>.csproj** klicken.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-125">After the project is migrated, you can see and modify its contents by right-clicking the project in the **Solution Explorer** window and selecting **Edit \<project name>.csproj**.</span></span>

<span data-ttu-id="a3aa5-126">Dateien, die migriert wurden (*project.json*, *global.json*, *.xproj* und Projektmappendatei), werden in einen *Sicherung*-Ordner verschoben.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-126">Files that were migrated (*project.json*, *global.json*, *.xproj* and solution file) will be moved to a *Backup* folder.</span></span> <span data-ttu-id="a3aa5-127">Die migrierte Projektmappendatei wird auf Visual Studio 2017 upgegradet und es wird nicht mehr möglich sein, diese Projektmappendatei in früheren Versionen von Visual Studio zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-127">The solution file that is migrated will be upgraded to Visual Studio 2017 and you won't be able to open that solution file in previous versions of Visual Studio.</span></span>
<span data-ttu-id="a3aa5-128">Eine Datei namens *UpgradeLog.htm*, die einen Migrationsbericht enthält, wird ebenfalls gespeichert und automatisch geöffnet.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-128">A file named *UpgradeLog.htm* is also saved and automatically opened that contains a migration report.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="a3aa5-129">Die neuen Tools sind nicht in Visual Studio 2015 verfügbar und Sie können Ihre Projekte mit dieser Version von Visual Studio nicht migrieren.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-129">The new tooling is not available in Visual Studio 2015, so you cannot migrate your projects using that version of Visual Studio.</span></span>

### <a name="dotnet-migrate"></a><span data-ttu-id="a3aa5-130">dotnet migrate</span><span class="sxs-lookup"><span data-stu-id="a3aa5-130">dotnet migrate</span></span>

<span data-ttu-id="a3aa5-131">Im Befehlszeilenszenario können Sie den Befehl [`dotnet migrate`](../tools/dotnet-migrate.md) verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-131">In the command-line scenario, you can use the [`dotnet migrate`](../tools/dotnet-migrate.md) command.</span></span> <span data-ttu-id="a3aa5-132">Dadurch werden ein Projekt, eine Projektmappe oder eine Reihe von Ordnern in dieser Reihenfolge migriert, je nachdem ob sie gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-132">It will migrate a project, a solution or a set of folders in that order, depending on which ones were found.</span></span>
<span data-ttu-id="a3aa5-133">Wenn Sie ein Projekt migrieren, werden das Projekt und alle zugehörigen Abhängigkeiten migriert.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-133">When you migrate a project, the project and all its dependencies are migrated.</span></span>

<span data-ttu-id="a3aa5-134">Dateien, die migriert wurden (*project.json*, *global.json* und *.xproj*), werden in einen *Sicherung*-Ordner verschoben.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-134">Files that were migrated (*project.json*, *global.json* and *.xproj*) will be moved to a *backup* folder.</span></span>

> [!NOTE]
> <span data-ttu-id="a3aa5-135">Bei Verwendung von Visual Studio Code ändert der Befehl `dotnet migrate` Visual Studio Code-spezifische Dateien wie z.B. `tasks.json` nicht.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-135">If you are using Visual Studio Code, the `dotnet migrate` command will not modify Visual Studio Code-specific files such as `tasks.json`.</span></span> <span data-ttu-id="a3aa5-136">Diese Dateien müssen manuell geändert werden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-136">These files need to be changed manually.</span></span>
> <span data-ttu-id="a3aa5-137">Dies gilt auch, wenn Sie Project Ryder oder einen anderen Editor oder eine andere Integrierte Entwicklungsumgebung (IDE) als Visual Studio verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-137">This is also true if you are using Project Ryder or any editor or Integrated Development Environment (IDE) other than Visual Studio.</span></span>

<span data-ttu-id="a3aa5-138">Einen Vergleich der Formate project.json und csproj finden Sie unter [Die Zuordnung zwischen project.json und csproj-Eigenschaften](../tools/project-json-to-csproj.md).</span><span class="sxs-lookup"><span data-stu-id="a3aa5-138">See [A mapping between project.json and csproj properties](../tools/project-json-to-csproj.md) for a comparison of project.json and csproj formats.</span></span>

### <a name="common-issues"></a><span data-ttu-id="a3aa5-139">Häufig auftretende Probleme</span><span class="sxs-lookup"><span data-stu-id="a3aa5-139">Common issues</span></span>

- <span data-ttu-id="a3aa5-140">Wenn Sie die Fehlermeldung „No executable found matching command dotnet-migrate“ (Es konnte keine ausführbare Datei gefunden werden, die mit dem Befehl dotnet-migrate übereinstimmt) erhalten:</span><span class="sxs-lookup"><span data-stu-id="a3aa5-140">If you get an error: "No executable found matching command dotnet-migrate":</span></span>

<span data-ttu-id="a3aa5-141">Führen Sie `dotnet --version` aus, um zu sehen, welche Version Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-141">Run `dotnet --version` to see which version you are using.</span></span> <span data-ttu-id="a3aa5-142">[`dotnet migrate`](../tools/dotnet-migrate.md) erfordert .NET Core-CLI RC3 oder höher.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-142">[`dotnet migrate`](../tools/dotnet-migrate.md) requires .NET Core CLI RC3 or higher.</span></span>
<span data-ttu-id="a3aa5-143">Sie erhalten diese Fehlermeldung, wenn sich eine *global.json*-Datei im aktuellen oder übergeordneten Verzeichnis befindet und die `sdk`-Version auf eine ältere Version festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-143">You’ll get this error if you have a *global.json* file in the current or parent directory and the `sdk` version is set to an older version.</span></span>

## <a name="migration-from-dnx-to-csproj"></a><span data-ttu-id="a3aa5-144">Migration von DNX zu csproj</span><span class="sxs-lookup"><span data-stu-id="a3aa5-144">Migration from DNX to csproj</span></span>

<span data-ttu-id="a3aa5-145">Wenn Sie für die .NET Core-Entwicklung noch immer DNX verwenden, sollte der Migrationsvorgang in zwei Phasen erfolgen:</span><span class="sxs-lookup"><span data-stu-id="a3aa5-145">If you are still using DNX for .NET Core development, your migration process should be done in two stages:</span></span>

1. <span data-ttu-id="a3aa5-146">Verwenden Sie die [existing DNX migration guidance (Hinweise zur Migration von einer vorhandenen DNX)](from-dnx.md), um von DNX zu project-json-aktivierter CLI zu migrieren.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-146">Use the [existing DNX migration guidance](from-dnx.md) to migrate from DNX to project-json enabled CLI.</span></span>
2. <span data-ttu-id="a3aa5-147">Führen Sie die Schritte aus dem vorherigen Abschnitt zum Migrieren von *project.json* zu *.csproj* aus.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-147">Follow the steps from the previous section to migrate from *project.json* to *.csproj*.</span></span>  

> [!NOTE]
> <span data-ttu-id="a3aa5-148">DNX gilt seit der Preview 1-Version der .NET Core-CLI offiziell als veraltet.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-148">DNX has become officially deprecated during the Preview 1 release of the .NET Core CLI.</span></span>

## <a name="migration-from-earlier-net-core-csproj-formats-to-rtm-csproj"></a><span data-ttu-id="a3aa5-149">Migration von früheren .NET Core-csproj-Formaten zu RTM-csproj</span><span class="sxs-lookup"><span data-stu-id="a3aa5-149">Migration from earlier .NET Core csproj formats to RTM csproj</span></span>

<span data-ttu-id="a3aa5-150">Das .NET Core-csproj-Format ändert und entwickelt sich mit jeder neuen Vorabversion der Tools.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-150">The .NET Core csproj format has been changing and evolving with each new pre-release version of the tooling.</span></span> <span data-ttu-id="a3aa5-151">Es gibt kein Tool, das die Projektdatei von früheren csproj-Versionen zur neuesten migriert, sodass Sie die Projektdatei manuell bearbeiten müssen.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-151">There is no tool that will migrate your project file from earlier versions of csproj to the latest, so you need to manually edit the project file.</span></span> <span data-ttu-id="a3aa5-152">Die tatsächlichen Schritte hängen von der Version der Projektdatei ab, die Sie migrieren.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-152">The actual steps depend on the version of the project file you are migrating.</span></span> <span data-ttu-id="a3aa5-153">Nachfolgend finden Sie einige zu berücksichtigenden Hinweise, die auf den Änderungen von Version zu Version basieren:</span><span class="sxs-lookup"><span data-stu-id="a3aa5-153">The following is some guidance to consider based on the changes that happened between versions:</span></span>

* <span data-ttu-id="a3aa5-154">Entfernen Sie die Tools-Version-Eigenschaft aus dem `<Project>`-Element, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-154">Remove the tools version property from the `<Project>` element, if it exists.</span></span>
* <span data-ttu-id="a3aa5-155">Entfernen Sie den XML-Namespace (`xmlns`) aus dem `<Project>`-Element.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-155">Remove the XML namespace (`xmlns`) from the `<Project>` element.</span></span>
* <span data-ttu-id="a3aa5-156">Wenn es nicht vorhanden ist, fügen Sie das `Sdk`-Attribut dem `<Project>`-Element hinzu, und legen Sie es auf `Microsoft.NET.Sdk` oder `Microsoft.NET.Sdk.Web` fest.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-156">If it doesn't exist, add the `Sdk` attribute to the `<Project>` element and set it to `Microsoft.NET.Sdk` or `Microsoft.NET.Sdk.Web`.</span></span> <span data-ttu-id="a3aa5-157">Dieses Attribut gibt an, dass das Projekt das SDK verwendet, das verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-157">This attribute specifies that the project uses the SDK to be used.</span></span> <span data-ttu-id="a3aa5-158">`Microsoft.NET.Sdk.Web` wird für Webanwendungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-158">`Microsoft.NET.Sdk.Web` is used for web apps.</span></span>
* <span data-ttu-id="a3aa5-159">Entfernen Sie die Anweisungen `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` und `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` vom oberen und unteren Rand des Projekts.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-159">Remove the `<Import Project="$(MSBuildExtensionsPath)\$(MSBuildToolsVersion)\Microsoft.Common.props" />` and `<Import Project="$(MSBuildToolsPath)\Microsoft.CSharp.targets" />` statements from the top and bottom of the project.</span></span> <span data-ttu-id="a3aa5-160">Diese Importanweisungen werden durch das SDK impliziert, daher müssen Sie nicht im Projekt enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-160">These import statements are implied by the SDK, so there is no need for them to be in the project.</span></span>
* <span data-ttu-id="a3aa5-161">Wenn Ihr Projekt `Microsoft.NETCore.App`- oder `NETStandard.Library`-`<PackageReference>`-Elemente enthält, sollten Sie diese entfernen.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-161">If you have `Microsoft.NETCore.App` or `NETStandard.Library` `<PackageReference>` items in your project, you should remove them.</span></span> <span data-ttu-id="a3aa5-162">Diese Paketverweise werden [durch das SDK impliziert](https://aka.ms/sdkimplicitrefs).</span><span class="sxs-lookup"><span data-stu-id="a3aa5-162">These package references are [implied by the SDK](https://aka.ms/sdkimplicitrefs).</span></span>
* <span data-ttu-id="a3aa5-163">Entfernen Sie das `Microsoft.NET.Sdk`-`<PackageReference>`-Element, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-163">Remove the `Microsoft.NET.Sdk` `<PackageReference>` element, if it exists.</span></span> <span data-ttu-id="a3aa5-164">Die SDK-Referenz kommt durch das `Sdk`-Attribut auf dem `<Project>`-Element.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-164">The SDK reference comes through the `Sdk` attribute on the `<Project>` element.</span></span>
* <span data-ttu-id="a3aa5-165">Entfernen Sie die [Globs](https://en.wikipedia.org/wiki/Glob_(programming)), die [durch das SDK impliziert](../tools/csproj.md#default-compilation-includes-in-net-core-projects) werden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-165">Remove the [globs](https://en.wikipedia.org/wiki/Glob_(programming)) that are [implied by the SDK](../tools/csproj.md#default-compilation-includes-in-net-core-projects).</span></span> <span data-ttu-id="a3aa5-166">Wenn diese Globs im Projekt bleiben, führt dies zu einem Fehler beim Erstellen, da Compile-Elemente dupliziert werden.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-166">Leaving these globs in your project will cause an error on build because compile items will be duplicated.</span></span>

<span data-ttu-id="a3aa5-167">Nach diesen Schritten sollte das Projekt mit dem RTM .NET Core-csproj-Format vollständig kompatibel sein.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-167">After these steps your project should be fully compatible with the RTM .NET Core csproj format.</span></span>

<span data-ttu-id="a3aa5-168">Beispiele für vor und nach der Migration vom alten csproj-Format zum neuen finden Sie im Artikel [Updating Visual Studio 2017 RC – .NET Core Tooling improvements (Aktualisieren von Visual Studio 2017 RC – Verbesserungen der .NET Core-Tools)](https://blogs.msdn.microsoft.com/dotnet/2016/12/12/updating-visual-studio-2017-rc-net-core-tooling-improvements/) im .NET-Blog.</span><span class="sxs-lookup"><span data-stu-id="a3aa5-168">For examples of before and after the migration from old csproj format to the new one, see the [Updating Visual Studio 2017 RC – .NET Core Tooling improvements](https://blogs.msdn.microsoft.com/dotnet/2016/12/12/updating-visual-studio-2017-rc-net-core-tooling-improvements/) article on the .NET blog.</span></span>

## <a name="see-also"></a><span data-ttu-id="a3aa5-169">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="a3aa5-169">See also</span></span>

- [<span data-ttu-id="a3aa5-170">Übertragung, Migration und Upgrade der Visual Studio-Projekte</span><span class="sxs-lookup"><span data-stu-id="a3aa5-170">Port, Migrate, and Upgrade Visual Studio Projects</span></span>](/visualstudio/porting/port-migrate-and-upgrade-visual-studio-projects)
