---
title: Portieren von .NET Framework zu .NET Core
description: Verstehen Sie den Portiervorgang und entdecken Sie Tools, die Ihnen beim Portieren eines .NET Framework-Projekts zu .NET Core behilflich sein können.
author: cartermp
ms.date: 10/22/2019
ms.openlocfilehash: 764c615d250474573f873b1745b9f1469e637d29
ms.sourcegitcommit: 34968a61e9bac0f6be23ed6ffb837f52d2390c85
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/17/2020
ms.locfileid: "94687411"
---
# <a name="overview-of-porting-from-net-framework-to-net-core"></a><span data-ttu-id="0bd91-103">Übersicht über das Portieren von .NET Framework zu .NET Core</span><span class="sxs-lookup"><span data-stu-id="0bd91-103">Overview of porting from .NET Framework to .NET Core</span></span>

<span data-ttu-id="0bd91-104">Möglicherweise verfügen Sie über Code, der zurzeit im .NET Framework ausgeführt wird und den Sie zu .NET Core portieren möchten.</span><span class="sxs-lookup"><span data-stu-id="0bd91-104">You might have code that currently runs on the .NET Framework that you're interested in porting to .NET Core.</span></span> <span data-ttu-id="0bd91-105">Dieser Artikel enthält:</span><span class="sxs-lookup"><span data-stu-id="0bd91-105">This article provides:</span></span>

* <span data-ttu-id="0bd91-106">Übersicht über den Portiervorgang.</span><span class="sxs-lookup"><span data-stu-id="0bd91-106">An overview of the porting process.</span></span>
* <span data-ttu-id="0bd91-107">Eine Liste der Tools, die beim Portieren Ihres Codes zu .NET Core nützlich sein können.</span><span class="sxs-lookup"><span data-stu-id="0bd91-107">A list of tools that you may find helpful when you're porting your code to .NET Core.</span></span>

## <a name="overview-of-the-porting-process"></a><span data-ttu-id="0bd91-108">Übersicht über den Portiervorgang</span><span class="sxs-lookup"><span data-stu-id="0bd91-108">Overview of the porting process</span></span>

<span data-ttu-id="0bd91-109">Das Portieren zu .NET Core (oder .NET Standard) aus .NET Framework ist für viele Projekte relativ unkompliziert.</span><span class="sxs-lookup"><span data-stu-id="0bd91-109">Porting to .NET Core (or .NET Standard) from .NET Framework for many projects is relatively straightforward.</span></span> <span data-ttu-id="0bd91-110">Es gibt eine Reihe von Änderungen, die erforderlich sind, aber viele von ihnen befolgen die unten beschriebenen Muster.</span><span class="sxs-lookup"><span data-stu-id="0bd91-110">There are a number of changes that are required, but many of them follow the patterns outlined below.</span></span> <span data-ttu-id="0bd91-111">Projekte, bei denen das App-Modell in .NET Core verfügbar ist (z. B. Bibliotheken, Konsolen-Apps und Desktopanwendungen), erfordern in der Regel nur wenige Änderungen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-111">Projects where the app-model is available in .NET Core (such as libraries, console apps, and desktop applications) usually require little changes.</span></span> <span data-ttu-id="0bd91-112">Projekte, für die ein neues App-Modell erforderlich ist, z. B. die Umstellung von ASP.NET auf ASP.NET Core, erfordern etwas mehr Arbeit, aber viele Muster verfügen über analoge Entsprechungen, die während der Konvertierung verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="0bd91-112">Projects that require a new app model, such as moving to ASP.NET Core from ASP.NET, require a bit more work, but many patterns have analogs that can be used during the conversion.</span></span> <span data-ttu-id="0bd91-113">Dieses Dokument sollte bei der Identifizierung der wichtigsten Strategien helfen, die Benutzer angewendet haben, um ihre Codebasen zielgerichtet in .NET Standard oder .NET Core erfolgreich umzuwandeln, und es behandelt dabei die Konvertierung auf zwei Ebenen: projektmappenweit und projektspezifisch.</span><span class="sxs-lookup"><span data-stu-id="0bd91-113">This document should help with identifying the main strategies that have been employed by users to successfully convert their code bases to target .NET Standard or .NET Core and will address the conversion at two levels: solution-wide and project specific.</span></span> <span data-ttu-id="0bd91-114">Informationen zu App-modellspezifischen Konvertierungen finden Sie unter den Links am Ende der Anweisungen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-114">See the links at the bottom for directions on app-model specific conversions.</span></span>

<span data-ttu-id="0bd91-115">Die folgende Vorgehensweise wird empfohlen, um Ihr Projekt zu .NET Core zu portieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-115">We recommend you use the following process when porting your project to .NET Core.</span></span> <span data-ttu-id="0bd91-116">Mit jedem dieser Schritte werden potenzielle Stellen für Verhaltensänderungen eingeführt, weshalb Sie sicherstellen sollten, dass Sie Ihre Bibliothek oder Anwendung ausreichend testen, bevor Sie mit Folgeschritten fortfahren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-116">Each of these steps introduces potential places for behavior changes, so ensure that you adequately test your library or application before continuing on to later steps.</span></span> <span data-ttu-id="0bd91-117">In den ersten Schritten wird Ihr Projekt für einen Wechsel zu .NET Standard oder .NET Core vorbereitet.</span><span class="sxs-lookup"><span data-stu-id="0bd91-117">The first steps are to get your project ready for a switch to .NET Standard or .NET Core.</span></span> <span data-ttu-id="0bd91-118">Wenn Sie über Komponententests verfügen, konvertieren Sie diese am besten zuerst, damit Sie mit dem Testen von Änderungen an dem Produkt fortfahren können, an dem Sie gerade arbeiten.</span><span class="sxs-lookup"><span data-stu-id="0bd91-118">If you have unit tests, it's best to convert them first so that you can continue testing changes in the product you're working on.</span></span> <span data-ttu-id="0bd91-119">Die Portierung auf .NET Core stellt eine erhebliche Änderung Ihrer Codebase dar, deshalb wird dringend empfohlen, Ihre Testprojekte zu portieren. Auf diese Weise können Sie Tests ausführen, wenn Sie Ihren Code portieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-119">Because porting to .NET Core is such a significant change to your codebase, it's highly recommended to port your test projects so that you can run tests as you port your code over.</span></span> <span data-ttu-id="0bd91-120">MSTest, xUnit und NUnit funktionieren in .NET Core.</span><span class="sxs-lookup"><span data-stu-id="0bd91-120">MSTest, xUnit, and NUnit all work on .NET Core.</span></span>

## <a name="getting-started"></a><span data-ttu-id="0bd91-121">Erste Schritte</span><span class="sxs-lookup"><span data-stu-id="0bd91-121">Getting started</span></span>

<span data-ttu-id="0bd91-122">Die folgenden Tools werden im gesamten Prozess verwendet:</span><span class="sxs-lookup"><span data-stu-id="0bd91-122">The following tools will be used throughout the process:</span></span>

- <span data-ttu-id="0bd91-123">Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="0bd91-123">Visual Studio 2019</span></span>
- <span data-ttu-id="0bd91-124">Laden Sie [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) herunter.</span><span class="sxs-lookup"><span data-stu-id="0bd91-124">Download [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md)</span></span>
- <span data-ttu-id="0bd91-125">_Optional_ Installieren Sie [dotnet try-convert](https://github.com/dotnet/try-convert).</span><span class="sxs-lookup"><span data-stu-id="0bd91-125">_Optional_ Install [dotnet try-convert](https://github.com/dotnet/try-convert)</span></span>

## <a name="porting-a-solution"></a><span data-ttu-id="0bd91-126">Portieren einer Projektmappe</span><span class="sxs-lookup"><span data-stu-id="0bd91-126">Porting a solution</span></span>

<span data-ttu-id="0bd91-127">Wenn mehrere Projekte in einer Projektmappe enthalten sind, kann die Portierung komplizierter sein, da Sie Projekte in einer bestimmten Reihenfolge verarbeiten müssen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-127">When there are multiple projects in a solution, the porting can seem more complicated because you must address projects in a specific order.</span></span> <span data-ttu-id="0bd91-128">Der Konvertierungsprozess sollte ein Bottom-Up-Ansatz sein, bei dem die Projekte ohne Abhängigkeiten von anderen Projekten in der Projektmappe zuerst konvertiert werden, und der sich dann durch die gesamte Projektmappe fortsetzt.</span><span class="sxs-lookup"><span data-stu-id="0bd91-128">The conversion process should be a bottom-up approach, where the projects with no dependencies on other projects in the solution are converted first, and continue up through the whole solution.</span></span>

<span data-ttu-id="0bd91-129">Um die Reihenfolge festzustellen, in der Projekte migriert werden sollten, können Sie die folgenden Tools verwenden:</span><span class="sxs-lookup"><span data-stu-id="0bd91-129">In order to identify the order projects should be migrated, you can use the following tools:</span></span>

- <span data-ttu-id="0bd91-130">[Abhängigkeitsdiagramme in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) können ein gerichtetes Diagramm des Codes in einer Projektmappe erstellen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-130">[Dependency Diagrams in Visual Studio](/visualstudio/modeling/create-layer-diagrams-from-your-code) can create a directed graph of the code in a solution.</span></span>
- <span data-ttu-id="0bd91-131">Führen Sie `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` aus, um ein JSON-Dokument zu generieren, das eine Liste der Projektverweise enthält.</span><span class="sxs-lookup"><span data-stu-id="0bd91-131">Run `msbuild _SolutionPath_ /t:GenerateRestoreGraphFile /p:RestoreGraphOutputPath=graph.dg.json` to generate a json document that includes list of project references.</span></span>
- <span data-ttu-id="0bd91-132">Führen Sie den [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) mit der Option `-r DGML` aus, um ein Abhängigkeitsdiagramm der Assemblys abzurufen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-132">Run [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) with the `-r DGML` switch to retrieve a dependency diagram of the assemblies.</span></span> <span data-ttu-id="0bd91-133">Weitere Informationen finden Sie [hier](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span><span class="sxs-lookup"><span data-stu-id="0bd91-133">For more information, see [here](../../standard/analyzers/portability-analyzer.md#solution-wide-view).</span></span>

<span data-ttu-id="0bd91-134">Sobald Sie über die Abhängigkeitsinformationen verfügen, können Sie diese Informationen zum Starten bei den Blattknoten verwenden und sich die Abhängigkeitsstruktur heraufarbeiten, indem Sie die Schritte des nächsten Abschnitts ausführen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-134">Once you have dependency information, you can use that information to start at the leaf nodes and work your way up the dependency tree applying the steps in the next section.</span></span>

## <a name="per-project-steps"></a><span data-ttu-id="0bd91-135">Schritt pro Projekt</span><span class="sxs-lookup"><span data-stu-id="0bd91-135">Per project steps</span></span>

<span data-ttu-id="0bd91-136">Die folgende Vorgehensweise wird empfohlen, um Ihr Projekt zu .NET Core zu portieren:</span><span class="sxs-lookup"><span data-stu-id="0bd91-136">We recommend you use the following process when porting your project to .NET Core:</span></span>

1. <span data-ttu-id="0bd91-137">Konvertieren Sie alle `packages.config`-Abhängigkeiten mit dem [Konvertierungstool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference) in das [PackageReference](/nuget/consume-packages/package-references-in-project-files)-Format.</span><span class="sxs-lookup"><span data-stu-id="0bd91-137">Convert all of your `packages.config` dependencies to the [PackageReference](/nuget/consume-packages/package-references-in-project-files) format with the [conversion tool in Visual Studio](/nuget/consume-packages/migrate-packages-config-to-package-reference).</span></span>

   <span data-ttu-id="0bd91-138">Zu diesem Schritt gehört auch die Konvertierung von Abhängigkeiten aus dem `packages.config`-Legacyformat.</span><span class="sxs-lookup"><span data-stu-id="0bd91-138">This step involves converting your dependencies from the legacy `packages.config` format.</span></span> <span data-ttu-id="0bd91-139">`packages.config` funktioniert in .NET Core nicht, daher ist diese Konvertierung notwendig, wenn Paketabhängigkeiten vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="0bd91-139">`packages.config` doesn't work on .NET Core, so this conversion is required if you have package dependencies.</span></span> <span data-ttu-id="0bd91-140">Außerdem sind nur die Abhängigkeiten erforderlich, die Sie direkt in einem Projekt verwenden. Dadurch werden spätere Schritte vereinfacht, da die Anzahl der zu verwaltenden Abhängigkeiten verringert wird.</span><span class="sxs-lookup"><span data-stu-id="0bd91-140">It also only requires the dependencies you are directly using in a project, which makes later steps easier by reducing the number of dependencies you must manage.</span></span>

1. <span data-ttu-id="0bd91-141">Konvertieren Sie Ihre Projektdatei in die neue SDK-artige Dateistruktur.</span><span class="sxs-lookup"><span data-stu-id="0bd91-141">Convert your project file to the new SDK-style files structure.</span></span> <span data-ttu-id="0bd91-142">Sie können neue Projekte für .NET Core erstellen und die Quelldateien kopieren oder versuchen, Ihre vorhandene Projektdatei mithilfe eines Tools zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-142">You can create new projects for .NET Core and copy over source files, or attempt to convert your existing project file with a tool.</span></span>

   <span data-ttu-id="0bd91-143">.NET Core verwendet ein einfacheres (und anderes) [Projektdateiformat](../tools/csproj.md) als .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="0bd91-143">.NET Core uses a simplified (and different) [project file format](../tools/csproj.md) than .NET Framework.</span></span> <span data-ttu-id="0bd91-144">Sie müssen Ihre Projektdateien in dieses Format konvertieren, um sie weiter nutzen zu können.</span><span class="sxs-lookup"><span data-stu-id="0bd91-144">You'll need to convert your project files into this format to continue.</span></span> <span data-ttu-id="0bd91-145">Mit diesem Projekttyp können Sie auch auf .NET Framework abzielen, das Sie zu diesem Zeitpunkt auch noch als Ziel haben sollten.</span><span class="sxs-lookup"><span data-stu-id="0bd91-145">This project style allows you to also target .NET Framework, which at this point you'll still want to target.</span></span>

   <span data-ttu-id="0bd91-146">Sie können versuchen, kleinere Lösungen oder einzelne Projekte mit dem Tool [dotnet try-convert](https://github.com/dotnet/try-convert) in einem einzigen Vorgang in das .NET Core-Projektdateiformat zu portieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-146">You can attempt to port smaller solutions or individual projects in one operation to the .NET Core project file format with the [dotnet try-convert](https://github.com/dotnet/try-convert) tool.</span></span> <span data-ttu-id="0bd91-147">Es kann nicht garantiert werden, dass `dotnet try-convert` für all Ihre Projekte funktioniert, und es kann zu leichten Abweichungen bei Verhalten kommen, das Sie unbedingt benötigen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-147">`dotnet try-convert` is not guaranteed to work for all your projects, and it may cause subtle changes in behavior that you depended on.</span></span> <span data-ttu-id="0bd91-148">Verwenden Sie das Tool als _Ausgangspunkt_, um grundlegende Elemente zu automatisieren, die sich für eine Automatisierung eignen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-148">Use it as a _starting point_ that automates the basic things that can be automated.</span></span> <span data-ttu-id="0bd91-149">Dies ist keine garantierte Lösung für die Migration eines Projekts, da es viele Unterschiede bei den Zielen gibt, die von den SDK-artigen Projekten verwendet werden, im Vergleich zu den Projektdateien im alten Stil.</span><span class="sxs-lookup"><span data-stu-id="0bd91-149">It isn't a guaranteed solution to migrating a project, as there are many differences in the targets used by the SDK style projects compared to the old-style project files.</span></span>

1. <span data-ttu-id="0bd91-150">Legen Sie für alle zu portierenden Projekte .NET Framework 4.7.2 oder höher als neues Ziel fest.</span><span class="sxs-lookup"><span data-stu-id="0bd91-150">Retarget all projects you wish to port to target .NET Framework 4.7.2 or higher.</span></span>

   <span data-ttu-id="0bd91-151">Durch diesen Schritt wird sichergestellt, dass Sie API-Alternativen für bestimmte .NET Framework-Ziele verwenden können, falls .NET Core eine bestimmte API nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="0bd91-151">This step ensures that you can use API alternatives for .NET Framework-specific targets when .NET Core doesn't support a particular API.</span></span>

1. <span data-ttu-id="0bd91-152">Aktualisieren Sie alle Abhängigkeiten auf die neueste Version.</span><span class="sxs-lookup"><span data-stu-id="0bd91-152">Update all dependencies to the latest version.</span></span> <span data-ttu-id="0bd91-153">Projekte verwenden möglicherweise ältere Versionen von Bibliotheken, die keine Unterstützung für .NET Standard aufweisen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-153">Projects may be using older versions of libraries that may not have .NET Standard support.</span></span> <span data-ttu-id="0bd91-154">Spätere Versionen unterstützen dies jedoch mithilfe eines einfachen Parameters.</span><span class="sxs-lookup"><span data-stu-id="0bd91-154">However, later versions may support it with a simple switch.</span></span> <span data-ttu-id="0bd91-155">Dies erfordert möglicherweise Änderungen am Code, wenn in Bibliotheken Breaking Changes vorliegen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-155">This may require code changes if there are breaking changes in libraries.</span></span>

1. <span data-ttu-id="0bd91-156">Verwenden Sie den [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md), um Ihre Assemblys zu analysieren und zu ermitteln, ob sie zu .NET Core portiert werden können.</span><span class="sxs-lookup"><span data-stu-id="0bd91-156">Use the [.NET Portability Analyzer](../../standard/analyzers/portability-analyzer.md) to analyze your assemblies and see if they're portable to .NET Core.</span></span>

   <span data-ttu-id="0bd91-157">Das .NET Portability Analyzer-Tool analysiert Ihre kompilierten Assemblys und generiert einen Bericht.</span><span class="sxs-lookup"><span data-stu-id="0bd91-157">The .NET Portability Analyzer tool analyzes your compiled assemblies and generates a report.</span></span> <span data-ttu-id="0bd91-158">Dieser Bericht zeigt eine allgemeine Übersicht über die Portierbarkeit und eine Aufschlüsselung nach allen von Ihnen verwendeten APIs, die in .NET Core nicht verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="0bd91-158">This report shows a high-level portability summary and a breakdown of each API you're using that isn't available on .NET Core.</span></span> <span data-ttu-id="0bd91-159">Senden Sie bei Verwendung des Tools nur das einzelne Projekt, das Sie konvertieren, um sich auf die möglicherweise erforderlichen API-Änderungen zu konzentrieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-159">While using the tool, only submit the individual project you are converting to focus on the API changes that are potentially needed.</span></span> <span data-ttu-id="0bd91-160">Viele der APIs verfügen über äquivalente Verfügbarkeit in .NET Core, zu dem Sie wechseln sollten.</span><span class="sxs-lookup"><span data-stu-id="0bd91-160">Many of the APIs have equivalent availability in .NET Core, which you'll want to switch to.</span></span>

   <span data-ttu-id="0bd91-161">Beim Lesen der von der Analyse generierten Berichte sind die wichtigen Informationen die tatsächlich verwendeten APIs und nicht notwendigerweise die prozentuale Unterstützung für die Zielplattform.</span><span class="sxs-lookup"><span data-stu-id="0bd91-161">While reading the reports generated by the analyzer, the important information is the actual APIs that are being used and not necessarily the percentage of support for the target platform.</span></span> <span data-ttu-id="0bd91-162">Viele APIs verfügen über äquivalente Optionen in .NET Standard/Core, weshalb das Verständnis der Szenarien, für die Ihre Bibliothek oder Anwendung die API benötigt, dabei helfen wird, die Auswirkungen auf die Portabilität zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="0bd91-162">Many APIs have equivalent options in .NET Standard/Core, and so understanding the scenarios your library or application needs the API for will help determine the implication for portability.</span></span>

   <span data-ttu-id="0bd91-163">In einigen Fällen sind APIs nicht äquivalent, sodass Sie einige Compilerpräprozessordirektiven (d. h. `#if NET45`) ausführen müssen, um spezielle Anwendungsfälle für die Plattformen zu entwerfen.</span><span class="sxs-lookup"><span data-stu-id="0bd91-163">There are some cases where APIs are not equivalent and you'll need to do some compiler preprocessor directives (that is, `#if NET45`) to special case the platforms.</span></span> <span data-ttu-id="0bd91-164">An diesem Punkt ist Ihr Projekt immer noch ein .NET Framework-Projekt.</span><span class="sxs-lookup"><span data-stu-id="0bd91-164">At this point, your project will still be targeting .NET Framework.</span></span> <span data-ttu-id="0bd91-165">Für jeden dieser Zielfälle empfiehlt es sich, bekannte Bedingungen zu verwenden, die als ein Szenario verstanden werden können.</span><span class="sxs-lookup"><span data-stu-id="0bd91-165">For each of these targeted cases, it is recommended to use well-known conditionals that can be understood as a scenario.</span></span>  <span data-ttu-id="0bd91-166">Beispielsweise ist die AppDomain-Unterstützung in .NET Core begrenzt, doch für das Laden und Entladen von Assemblys gibt es eine neue API, die in .NET Core nicht verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="0bd91-166">For example, AppDomain support in .NET Core is limited, but for the scenario of loading and unloading assemblies, there is a new API that's not available in .NET Core.</span></span> <span data-ttu-id="0bd91-167">Eine gängige Methode, um dies im Code zu behandeln, wäre etwa wie folgt:</span><span class="sxs-lookup"><span data-stu-id="0bd91-167">A common way to handle this in code would be something like this:</span></span>

   ```csharp
   #if FEATURE_APPDOMAIN_LOADING
   // Code that uses appdomains
   #elif FEATURE_ASSEMBLY_LOAD_CONTEXT
   // Code that uses assembly load context
   #else
   #error Unsupported platform
   #endif
   ```

1. <span data-ttu-id="0bd91-168">Installieren Sie das [.NET API-Analysetool](../../standard/analyzers/api-analyzer.md) in Ihren Projekten, um APIs zu identifizieren, die eine <xref:System.PlatformNotSupportedException> für einige Plattformen auslösen, und um weitere potenzielle Kompatibilitätsprobleme zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="0bd91-168">Install the [.NET API analyzer](../../standard/analyzers/api-analyzer.md) into your projects to identify APIs that throw <xref:System.PlatformNotSupportedException> on some platforms and some other potential compatibility issues.</span></span>

   <span data-ttu-id="0bd91-169">Dieses Tool ähnelt Portability Analyzer, analysiert jedoch nicht, ob Code in .NET Core kompiliert werden kann, sondern ob Sie eine API auf eine Weise verwenden, die zur Laufzeit eine <xref:System.PlatformNotSupportedException> auslöst.</span><span class="sxs-lookup"><span data-stu-id="0bd91-169">This tool is similar to the portability analyzer, but instead of analyzing if code can build on .NET Core, it analyzes whether you're using an API in a way that will throw a <xref:System.PlatformNotSupportedException> at run time.</span></span> <span data-ttu-id="0bd91-170">Wenn Sie von .NET Framework 4.7.2 oder höher wechseln, ist dies zwar nicht häufig der Fall, aber eine Überprüfung ist dennoch eine gute Idee.</span><span class="sxs-lookup"><span data-stu-id="0bd91-170">Although this isn't common if you're moving from .NET Framework 4.7.2 or higher, it's good to check.</span></span> <span data-ttu-id="0bd91-171">Weitere Informationen zu APIs, die Ausnahmen in .NET Core auslösen, finden Sie unter [APIs, die grundsätzlich Ausnahmen in .NET Core auslösen](../compatibility/unsupported-apis.md).</span><span class="sxs-lookup"><span data-stu-id="0bd91-171">For more information about APIs that throw exceptions on .NET Core, see [APIs that always throw exceptions on .NET Core](../compatibility/unsupported-apis.md).</span></span>

1. <span data-ttu-id="0bd91-172">An diesem Punkt können Sie zu .NET Core als Ziel (im Allgemeinen für Anwendungen) oder .NET Standard (für Bibliotheken) wechseln.</span><span class="sxs-lookup"><span data-stu-id="0bd91-172">At this point, you can switch to targeting .NET Core (generally for applications) or .NET Standard (for libraries).</span></span>

   <span data-ttu-id="0bd91-173">Die Wahl zwischen .NET Core und .NET Standard hängt größtenteils davon ab, wo das Projekt ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="0bd91-173">The choice between .NET Core and .NET Standard is largely dependent on where the project will be run.</span></span> <span data-ttu-id="0bd91-174">Wenn es sich um eine Bibliothek handelt, die von anderen Anwendungen verwendet oder über NuGet verteilt wird, wird in der Regel .NET Standard als Ziel bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="0bd91-174">If it is a library that will be consumed by other applications or distributed via NuGet, the preference is usually to target .NET Standard.</span></span> <span data-ttu-id="0bd91-175">Es gibt jedoch möglicherweise APIs, die aus Leistungsgründen oder anderen Gründen nur in .NET Core verfügbar sind. Wenn dies der Fall ist, sollte .NET Core möglicherweise mit einem verfügbaren .NET Standard-Build als Ziel sowie mit verringerter Leistung oder Funktionalität verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="0bd91-175">However, there may be APIs that are only available on .NET Core for performance or other reasons; if that's the case, .NET Core should be targeted with potentially a .NET Standard build available as well with reduced performance or functionality.</span></span> <span data-ttu-id="0bd91-176">Wenn Sie auf .NET Standard abzielen, ist das Projekt für die Ausführung auf neuen Plattformen (wie WebAssembly) bereit.</span><span class="sxs-lookup"><span data-stu-id="0bd91-176">By targeting .NET Standard, the project will be ready to run on new platforms (such as WebAssembly).</span></span> <span data-ttu-id="0bd91-177">Wenn das Projekt Abhängigkeiten von bestimmten App-Frameworks (wie ASP.NET Core) aufweist, wird das Ziel durch das, was die Abhängigkeiten unterstützen, eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="0bd91-177">If the project has dependencies on specific app frameworks (such as ASP.NET Core), then the target will be limited by what the dependencies support.</span></span>

   <span data-ttu-id="0bd91-178">Wenn keine Präprozessordirektiven für die bedingte Kompilierung des Codes für .NET Framework oder .NET Standard vorhanden sind, gestaltet sich dies so einfach, wie das Auffinden der folgenden Elemente in der Projektdatei:</span><span class="sxs-lookup"><span data-stu-id="0bd91-178">If there are no preprocessor directives to conditional compile code for .NET Framework or .NET Standard, this will be as simple as finding the following in the project file:</span></span>

   ```xml
   <TargetFramework>net472</TargetFramework>
   ```

   <span data-ttu-id="0bd91-179">und wechseln Sie zum gewünschten Framework.</span><span class="sxs-lookup"><span data-stu-id="0bd91-179">and switch it to the desired framework.</span></span> <span data-ttu-id="0bd91-180">Für .NET Core 3.1 wäre dies:</span><span class="sxs-lookup"><span data-stu-id="0bd91-180">For .NET Core 3.1, this would be:</span></span>

   ```xml
   <TargetFramework>netcoreapp3.1</TargetFramework>
   ```

   <span data-ttu-id="0bd91-181">Wenn es sich hierbei jedoch um eine Bibliothek handelt, die weiterhin .NET Framework-spezifische Builds unterstützen soll, können Sie [mehrere Ziele](../../standard/library-guidance/cross-platform-targeting.md) verwenden, indem Sie durch Folgendes ersetzen:</span><span class="sxs-lookup"><span data-stu-id="0bd91-181">However, if this is a library for which you want to continue supporting .NET Framework-specific builds, you can [multi-target](../../standard/library-guidance/cross-platform-targeting.md) by replacing it with the following:</span></span>

   ```xml
   <TargetFrameworks>net472;netstandard2.0</TargetFrameworks>
   ```

   <span data-ttu-id="0bd91-182">Wenn Sie Windows-spezifische APIs verwenden (z. B. Registrierungszugriff), sollten Sie das [Windows Compatibility Pack](./windows-compat-pack.md) installieren.</span><span class="sxs-lookup"><span data-stu-id="0bd91-182">If you're using Windows-specific APIs (such as registry access), install the [Windows Compatibility Pack](./windows-compat-pack.md).</span></span>

## <a name="next-steps"></a><span data-ttu-id="0bd91-183">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="0bd91-183">Next steps</span></span>

> [!div class="nextstepaction"]
> <span data-ttu-id="0bd91-184">[Analysieren von Abhängigkeiten](third-party-deps.md)
> [Packen eines NuGet-Pakets](../deploying/creating-nuget-packages.md)</span><span class="sxs-lookup"><span data-stu-id="0bd91-184">[Analyze dependencies](third-party-deps.md)
[Package a NuGet package](../deploying/creating-nuget-packages.md)</span></span>

## <a name="see-also"></a><span data-ttu-id="0bd91-185">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="0bd91-185">See also</span></span>

- [<span data-ttu-id="0bd91-186">Migration von ASP.NET zu ASP.NET Core</span><span class="sxs-lookup"><span data-stu-id="0bd91-186">ASP.NET to ASP.NET Core migration</span></span>](/aspnet/core/migration/proper-to-2x)
- [<span data-ttu-id="0bd91-187">Migrieren von WPF-Apps zu .NET Core</span><span class="sxs-lookup"><span data-stu-id="0bd91-187">Migrate WPF apps to .NET Core</span></span>](/dotnet/desktop/wpf/migration/convert-project-from-net-framework)
- [<span data-ttu-id="0bd91-188">Migrieren von .NET Framework-Windows Forms-Apps zu .NET</span><span class="sxs-lookup"><span data-stu-id="0bd91-188">Migrate .NET Framework Windows Forms apps to .NET</span></span>](/dotnet/desktop/winforms/migration/?view=netdesktop-5.0&preserve-view=true)
