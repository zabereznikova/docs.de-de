---
title: 'CA2208: Argument Ausnahmen ordnungsgemäß instanziieren (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA2208: Argument Ausnahmen ordnungsgemäß instanziieren'
ms.date: 05/18/2020
ms.topic: reference
f1_keywords:
- CA2208
- InstantiateArgumentExceptionsCorrectly
helpviewer_keywords:
- InstantiateArgumentExceptionsCorrectly
- CA2208
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: ccfdc2317b00c5db40f3be8fdf2da5002c37ce39
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591902"
---
# <a name="ca2208-instantiate-argument-exceptions-correctly"></a><span data-ttu-id="df353-103">CA2208: Argumentausnahmen korrekt instanziieren.</span><span class="sxs-lookup"><span data-stu-id="df353-103">CA2208: Instantiate argument exceptions correctly</span></span>

| | <span data-ttu-id="df353-104">Wert</span><span class="sxs-lookup"><span data-stu-id="df353-104">Value</span></span> |
|-|-|
| <span data-ttu-id="df353-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="df353-105">**Rule ID**</span></span> |<span data-ttu-id="df353-106">CA2208</span><span class="sxs-lookup"><span data-stu-id="df353-106">CA2208</span></span>|
| <span data-ttu-id="df353-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="df353-107">**Category**</span></span> |<span data-ttu-id="df353-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="df353-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="df353-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="df353-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="df353-110">Nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="df353-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="df353-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="df353-111">Cause</span></span>

<span data-ttu-id="df353-112">Wenn eine Methode über einen-Parameter verfügt und einen Ausnahmetyp auslöst, der oder von abgeleitet ist, wird erwartet, dass <xref:System.ArgumentException> ein Konstruktor aufgerufen wird, der einen `paramName` Parameter ordnungsgemäß akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="df353-112">When a method has a parameter, and it throws an exception type that is, or derives from, <xref:System.ArgumentException>, it expected to call a constructor accepting a `paramName` parameter correctly.</span></span> <span data-ttu-id="df353-113">Zu den möglichen Ursachen gehören die folgenden Situationen:</span><span class="sxs-lookup"><span data-stu-id="df353-113">Possible causes include the following situations:</span></span>

- <span data-ttu-id="df353-114">Der standardmäßige (parameterlose) Konstruktor eines Ausnahme Typs, der ein-Konstruktor ist oder von diesem abgeleitet ist, wird aufgerufen, der <xref:System.ArgumentException> über einen-Konstruktor verfügt, der einen- `paramName` Parameter akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="df353-114">A call is made to the default (parameterless) constructor of an exception type that is, or derives from, <xref:System.ArgumentException> that has a constructor accepting a `paramName` parameter.</span></span>

- <span data-ttu-id="df353-115">Ein falsches Zeichen folgen Argument wird an einen parametrisierten Konstruktor eines Ausnahme Typs übergeben, der oder von abgeleitet ist <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df353-115">An incorrect string argument is passed to a parameterized constructor of an exception type that is, or derives from, <xref:System.ArgumentException>.</span></span>

- <span data-ttu-id="df353-116">Einer der Parameternamen wird für das `message` Argument des Konstruktors des Ausnahme Typs übergeben, der ist oder von abgeleitet ist <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df353-116">One of the parameters' names is passed for the `message` argument of the constructor of exception type that is, or derives from, <xref:System.ArgumentException>.</span></span>

## <a name="rule-description"></a><span data-ttu-id="df353-117">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="df353-117">Rule description</span></span>

<span data-ttu-id="df353-118">Anstatt den Standardkonstruktor aufzurufen, rufen Sie eine der Konstruktorüberladungen auf, die eine aussagekräftigere Ausnahme Meldung bereitstellen lassen.</span><span class="sxs-lookup"><span data-stu-id="df353-118">Instead of calling the default constructor, call one of the constructor overloads that allows a more meaningful exception message to be provided.</span></span> <span data-ttu-id="df353-119">Die Ausnahme Meldung sollte den Entwickler als Ziel haben und die Fehlerbedingung und die Vorgehensweise zur Behebung oder Vermeidung der Ausnahme eindeutig erläutern.</span><span class="sxs-lookup"><span data-stu-id="df353-119">The exception message should target the developer and clearly explain the error condition and how to correct or avoid the exception.</span></span>

<span data-ttu-id="df353-120">Die Signaturen der einen und zwei zeichenfolgenkonstruktoren von <xref:System.ArgumentException> und der abgeleiteten Typen sind in Bezug auf die Position und die Parameter nicht konsistent `message` `paramName` .</span><span class="sxs-lookup"><span data-stu-id="df353-120">The signatures of the one and two string constructors of <xref:System.ArgumentException> and its derived types are not consistent with respect to the position `message` and `paramName` parameters.</span></span> <span data-ttu-id="df353-121">Stellen Sie sicher, dass diese Konstruktoren mit den richtigen Zeichen folgen Argumenten aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="df353-121">Make sure these constructors are called with the correct string arguments.</span></span> <span data-ttu-id="df353-122">Die Signaturen lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="df353-122">The signatures are as follows:</span></span>

- <span data-ttu-id="df353-123"><xref:System.ArgumentException>(Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df353-123"><xref:System.ArgumentException>(string `message`)</span></span>
- <span data-ttu-id="df353-124"><xref:System.ArgumentException>(Zeichenfolge `message` , Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df353-124"><xref:System.ArgumentException>(string `message`, string `paramName`)</span></span>
- <span data-ttu-id="df353-125"><xref:System.ArgumentNullException>(Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df353-125"><xref:System.ArgumentNullException>(string `paramName`)</span></span>
- <span data-ttu-id="df353-126"><xref:System.ArgumentNullException>(Zeichenfolge `paramName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df353-126"><xref:System.ArgumentNullException>(string `paramName`, string `message`)</span></span>
- <span data-ttu-id="df353-127"><xref:System.ArgumentOutOfRangeException>(Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df353-127"><xref:System.ArgumentOutOfRangeException>(string `paramName`)</span></span>
- <span data-ttu-id="df353-128"><xref:System.ArgumentOutOfRangeException>(Zeichenfolge `paramName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df353-128"><xref:System.ArgumentOutOfRangeException>(string `paramName`, string `message`)</span></span>
- <span data-ttu-id="df353-129"><xref:System.DuplicateWaitObjectException>(Zeichenfolge `parameterName` )</span><span class="sxs-lookup"><span data-stu-id="df353-129"><xref:System.DuplicateWaitObjectException>(string `parameterName`)</span></span>
- <span data-ttu-id="df353-130"><xref:System.DuplicateWaitObjectException>(Zeichenfolge `parameterName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df353-130"><xref:System.DuplicateWaitObjectException>(string `parameterName`, string `message`)</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="df353-131">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="df353-131">How to fix violations</span></span>

<span data-ttu-id="df353-132">Um einen Verstoß gegen diese Regel zu beheben, müssen Sie einen Konstruktor aufrufen, der eine Nachricht, einen Parameternamen oder beides annimmt, und sicherstellen, dass die Argumente für den aufgerufenen Typ ordnungsgemäß sind <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df353-132">To fix a violation of this rule, call a constructor that takes a message, a parameter name, or both, and make sure the arguments are proper for the type of <xref:System.ArgumentException> being called.</span></span>

> [!TIP]
> <span data-ttu-id="df353-133">In Visual Studio ist eine Code Korrektur für falsch positionierte Parameternamen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="df353-133">A code fix is available in Visual Studio for incorrectly positioned parameter names.</span></span> <span data-ttu-id="df353-134">Positionieren Sie den Cursor in der Warnungs Zeile, und drücken Sie **STRG**, um ihn zu verwenden + **.**</span><span class="sxs-lookup"><span data-stu-id="df353-134">To use it, position the cursor on the warning row and press **Ctrl**+**.**</span></span> <span data-ttu-id="df353-135">(Punkt).</span><span class="sxs-lookup"><span data-stu-id="df353-135">(period).</span></span> <span data-ttu-id="df353-136">Wählen Sie in der Liste der angezeigten Optionen **die Reihenfolge der Argumente austauschen** aus.</span><span class="sxs-lookup"><span data-stu-id="df353-136">Choose **Swap the arguments order** from the list of options that's presented.</span></span>
>
> ![Code Korrektur für CA2208-Swap-Argumente.](media/ca2208-codefix_swap.png)
>
> <span data-ttu-id="df353-138">Wenn ein Parameter Name anstelle einer Nachricht an die Methode übergeben wird <xref:System.ArgumentException.%23ctor(System.String)> , stellt der fixer die Option bereit, stattdessen zum Two-Argument-Konstruktor zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="df353-138">If a parameter name instead of a message is passed to the <xref:System.ArgumentException.%23ctor(System.String)> method, the fixer provides the option to switch to the two-argument constructor instead.</span></span>
>
> ![Code Korrektur für CA2208: Wechseln Sie zum Konstruktor mit zwei Argumenten.](media/ca2208-codefix_null_msg.png)

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="df353-140">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="df353-140">When to suppress warnings</span></span>

<span data-ttu-id="df353-141">Es ist sicher, eine Warnung aus dieser Regel nur zu unterdrücken, wenn ein parametrisierter Konstruktor mit den richtigen Zeichen folgen Argumenten aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="df353-141">It's safe to suppress a warning from this rule only if a parameterized constructor is called with the correct string arguments.</span></span>

## <a name="configurability"></a><span data-ttu-id="df353-142">Konfigurierbarkeit</span><span class="sxs-lookup"><span data-stu-id="df353-142">Configurability</span></span>

<span data-ttu-id="df353-143">Sie können basierend auf ihrer Barrierefreiheit konfigurieren, für welche Teile Ihrer Codebasis diese Regel ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="df353-143">You can configure which parts of your codebase to run this rule on, based on their accessibility.</span></span> <span data-ttu-id="df353-144">Um z. b. anzugeben, dass die Regel nur für die öffentliche API-Oberfläche ausgeführt werden soll, fügen Sie das folgende Schlüssel-Wert-Paar in eine *Editor config* -Datei in Ihrem Projekt ein:</span><span class="sxs-lookup"><span data-stu-id="df353-144">For example, to specify that the rule should run only against the public API surface, add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.ca2208.api_surface = public
```

<span data-ttu-id="df353-145">Standardmäßig gelten CA2208-Regeln für alle API-Oberflächen (öffentlich, intern und privat).</span><span class="sxs-lookup"><span data-stu-id="df353-145">By default CA2208 rules apply for all API surface (public, internal and private).</span></span> <span data-ttu-id="df353-146">Sie können diese Option nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Entwurf) konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="df353-146">You can configure this option for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="df353-147">Weitere Informationen finden Sie unter [Konfigurationsoptionen für die Code Qualitäts Regel](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="df353-147">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

## <a name="example"></a><span data-ttu-id="df353-148">Beispiel</span><span class="sxs-lookup"><span data-stu-id="df353-148">Example</span></span>

<span data-ttu-id="df353-149">Der folgende Code zeigt einen Konstruktor, der eine Instanz von falsch instanziiert <xref:System.ArgumentNullException> .</span><span class="sxs-lookup"><span data-stu-id="df353-149">The following code shows a constructor that incorrectly instantiates an instance of <xref:System.ArgumentNullException>.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2208.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca2208-instantiate-argument-exceptions-correctly_1.vb" id="snippet1":::

<span data-ttu-id="df353-150">Mit dem folgenden Code wird der vorherige Verstoß korrigiert, indem die Konstruktorargumente gewechselt werden.</span><span class="sxs-lookup"><span data-stu-id="df353-150">The following code fixes the previous violation by switching the constructor arguments.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2208.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca2208-instantiate-argument-exceptions-correctly_1.vb" id="snippet2":::

## <a name="related-rules"></a><span data-ttu-id="df353-151">Verwandte Regeln</span><span class="sxs-lookup"><span data-stu-id="df353-151">Related rules</span></span>

- [<span data-ttu-id="df353-152">CA1507: „nameof“ anstelle der Zeichenfolge verwenden</span><span class="sxs-lookup"><span data-stu-id="df353-152">CA1507: Use nameof in place of string</span></span>](ca1507.md)
