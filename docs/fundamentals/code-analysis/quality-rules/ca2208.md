---
title: 'CA2208: Argument Ausnahmen ordnungsgemäß instanziieren (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA2208: Argument Ausnahmen ordnungsgemäß instanziieren'
ms.date: 05/18/2020
ms.topic: reference
f1_keywords:
- CA2208
- InstantiateArgumentExceptionsCorrectly
helpviewer_keywords:
- InstantiateArgumentExceptionsCorrectly
- CA2208
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 7259a6d944c62e97bab6f04540f4e971b755942d
ms.sourcegitcommit: e301979e3049ce412d19b094c60ed95b316a8f8c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/16/2020
ms.locfileid: "98190831"
---
# <a name="ca2208-instantiate-argument-exceptions-correctly"></a><span data-ttu-id="df3d9-103">CA2208: Argumentausnahmen korrekt instanziieren.</span><span class="sxs-lookup"><span data-stu-id="df3d9-103">CA2208: Instantiate argument exceptions correctly</span></span>

| | <span data-ttu-id="df3d9-104">Wert</span><span class="sxs-lookup"><span data-stu-id="df3d9-104">Value</span></span> |
|-|-|
| <span data-ttu-id="df3d9-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="df3d9-105">**Rule ID**</span></span> |<span data-ttu-id="df3d9-106">CA2208</span><span class="sxs-lookup"><span data-stu-id="df3d9-106">CA2208</span></span>|
| <span data-ttu-id="df3d9-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="df3d9-107">**Category**</span></span> |<span data-ttu-id="df3d9-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="df3d9-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="df3d9-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="df3d9-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="df3d9-110">Nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="df3d9-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="df3d9-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="df3d9-111">Cause</span></span>

<span data-ttu-id="df3d9-112">Wenn eine Methode über einen-Parameter verfügt und einen Ausnahmetyp auslöst, der oder von abgeleitet ist, wird erwartet, dass <xref:System.ArgumentException> ein Konstruktor aufgerufen wird, der einen `paramName` Parameter ordnungsgemäß akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="df3d9-112">When a method has a parameter, and it throws an exception type that is, or derives from, <xref:System.ArgumentException>, it expected to call a constructor accepting a `paramName` parameter correctly.</span></span> <span data-ttu-id="df3d9-113">Zu den möglichen Ursachen gehören die folgenden Situationen:</span><span class="sxs-lookup"><span data-stu-id="df3d9-113">Possible causes include the following situations:</span></span>

- <span data-ttu-id="df3d9-114">Der standardmäßige (parameterlose) Konstruktor eines Ausnahme Typs, der ein-Konstruktor ist oder von diesem abgeleitet ist, wird aufgerufen, der <xref:System.ArgumentException> über einen-Konstruktor verfügt, der einen- `paramName` Parameter akzeptiert.</span><span class="sxs-lookup"><span data-stu-id="df3d9-114">A call is made to the default (parameterless) constructor of an exception type that is, or derives from, <xref:System.ArgumentException> that has a constructor accepting a `paramName` parameter.</span></span>

- <span data-ttu-id="df3d9-115">Ein falsches Zeichen folgen Argument wird an einen parametrisierten Konstruktor eines Ausnahme Typs übergeben, der oder von abgeleitet ist <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df3d9-115">An incorrect string argument is passed to a parameterized constructor of an exception type that is, or derives from, <xref:System.ArgumentException>.</span></span>

- <span data-ttu-id="df3d9-116">Einer der Parameternamen wird für das `message` Argument des Konstruktors des Ausnahme Typs übergeben, der ist oder von abgeleitet ist <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df3d9-116">One of the parameters' names is passed for the `message` argument of the constructor of exception type that is, or derives from, <xref:System.ArgumentException>.</span></span>

## <a name="rule-description"></a><span data-ttu-id="df3d9-117">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="df3d9-117">Rule description</span></span>

<span data-ttu-id="df3d9-118">Anstatt den Standardkonstruktor aufzurufen, rufen Sie eine der Konstruktorüberladungen auf, die eine aussagekräftigere Ausnahme Meldung bereitstellen lassen.</span><span class="sxs-lookup"><span data-stu-id="df3d9-118">Instead of calling the default constructor, call one of the constructor overloads that allows a more meaningful exception message to be provided.</span></span> <span data-ttu-id="df3d9-119">Die Ausnahme Meldung sollte den Entwickler als Ziel haben und die Fehlerbedingung und die Vorgehensweise zur Behebung oder Vermeidung der Ausnahme eindeutig erläutern.</span><span class="sxs-lookup"><span data-stu-id="df3d9-119">The exception message should target the developer and clearly explain the error condition and how to correct or avoid the exception.</span></span>

<span data-ttu-id="df3d9-120">Die Signaturen der einen und zwei zeichenfolgenkonstruktoren von <xref:System.ArgumentException> und der abgeleiteten Typen sind in Bezug auf die Position und die Parameter nicht konsistent `message` `paramName` .</span><span class="sxs-lookup"><span data-stu-id="df3d9-120">The signatures of the one and two string constructors of <xref:System.ArgumentException> and its derived types are not consistent with respect to the position `message` and `paramName` parameters.</span></span> <span data-ttu-id="df3d9-121">Stellen Sie sicher, dass diese Konstruktoren mit den richtigen Zeichen folgen Argumenten aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="df3d9-121">Make sure these constructors are called with the correct string arguments.</span></span> <span data-ttu-id="df3d9-122">Die Signaturen lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="df3d9-122">The signatures are as follows:</span></span>

- <span data-ttu-id="df3d9-123"><xref:System.ArgumentException>(Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-123"><xref:System.ArgumentException>(string `message`)</span></span>
- <span data-ttu-id="df3d9-124"><xref:System.ArgumentException>(Zeichenfolge `message` , Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-124"><xref:System.ArgumentException>(string `message`, string `paramName`)</span></span>
- <span data-ttu-id="df3d9-125"><xref:System.ArgumentNullException>(Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-125"><xref:System.ArgumentNullException>(string `paramName`)</span></span>
- <span data-ttu-id="df3d9-126"><xref:System.ArgumentNullException>(Zeichenfolge `paramName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-126"><xref:System.ArgumentNullException>(string `paramName`, string `message`)</span></span>
- <span data-ttu-id="df3d9-127"><xref:System.ArgumentOutOfRangeException>(Zeichenfolge `paramName` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-127"><xref:System.ArgumentOutOfRangeException>(string `paramName`)</span></span>
- <span data-ttu-id="df3d9-128"><xref:System.ArgumentOutOfRangeException>(Zeichenfolge `paramName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-128"><xref:System.ArgumentOutOfRangeException>(string `paramName`, string `message`)</span></span>
- <span data-ttu-id="df3d9-129"><xref:System.DuplicateWaitObjectException>(Zeichenfolge `parameterName` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-129"><xref:System.DuplicateWaitObjectException>(string `parameterName`)</span></span>
- <span data-ttu-id="df3d9-130"><xref:System.DuplicateWaitObjectException>(Zeichenfolge `parameterName` , Zeichenfolge `message` )</span><span class="sxs-lookup"><span data-stu-id="df3d9-130"><xref:System.DuplicateWaitObjectException>(string `parameterName`, string `message`)</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="df3d9-131">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="df3d9-131">How to fix violations</span></span>

<span data-ttu-id="df3d9-132">Um einen Verstoß gegen diese Regel zu beheben, müssen Sie einen Konstruktor aufrufen, der eine Nachricht, einen Parameternamen oder beides annimmt, und sicherstellen, dass die Argumente für den aufgerufenen Typ ordnungsgemäß sind <xref:System.ArgumentException> .</span><span class="sxs-lookup"><span data-stu-id="df3d9-132">To fix a violation of this rule, call a constructor that takes a message, a parameter name, or both, and make sure the arguments are proper for the type of <xref:System.ArgumentException> being called.</span></span>

> [!TIP]
> <span data-ttu-id="df3d9-133">In Visual Studio ist eine Code Korrektur für falsch positionierte Parameternamen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="df3d9-133">A code fix is available in Visual Studio for incorrectly positioned parameter names.</span></span> <span data-ttu-id="df3d9-134">Positionieren Sie den Cursor in der Warnungs Zeile, und drücken Sie **STRG**, um ihn zu verwenden + **.**</span><span class="sxs-lookup"><span data-stu-id="df3d9-134">To use it, position the cursor on the warning row and press **Ctrl**+**.**</span></span> <span data-ttu-id="df3d9-135">(Punkt).</span><span class="sxs-lookup"><span data-stu-id="df3d9-135">(period).</span></span> <span data-ttu-id="df3d9-136">Wählen Sie in der Liste der angezeigten Optionen **die Reihenfolge der Argumente austauschen** aus.</span><span class="sxs-lookup"><span data-stu-id="df3d9-136">Choose **Swap the arguments order** from the list of options that's presented.</span></span>
>
> ![Code Korrektur für CA2208-Swap-Argumente.](media/ca2208-codefix_swap.png)
>
> <span data-ttu-id="df3d9-138">Wenn ein Parameter Name anstelle einer Nachricht an die Methode übergeben wird <xref:System.ArgumentException.%23ctor(System.String)> , stellt der fixer die Option bereit, stattdessen zum Two-Argument-Konstruktor zu wechseln.</span><span class="sxs-lookup"><span data-stu-id="df3d9-138">If a parameter name instead of a message is passed to the <xref:System.ArgumentException.%23ctor(System.String)> method, the fixer provides the option to switch to the two-argument constructor instead.</span></span>
>
> ![Code Korrektur für CA2208: Wechseln Sie zum Konstruktor mit zwei Argumenten.](media/ca2208-codefix_null_msg.png)

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="df3d9-140">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="df3d9-140">When to suppress warnings</span></span>

<span data-ttu-id="df3d9-141">Es ist sicher, eine Warnung aus dieser Regel nur zu unterdrücken, wenn ein parametrisierter Konstruktor mit den richtigen Zeichen folgen Argumenten aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="df3d9-141">It's safe to suppress a warning from this rule only if a parameterized constructor is called with the correct string arguments.</span></span>

## <a name="configure-code-to-analyze"></a><span data-ttu-id="df3d9-142">Konfigurieren des zu analysierenden Codes</span><span class="sxs-lookup"><span data-stu-id="df3d9-142">Configure code to analyze</span></span>

<span data-ttu-id="df3d9-143">Verwenden Sie die folgende Option, um zu konfigurieren, für welche Teile Ihrer Codebasis diese Regel ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="df3d9-143">Use the following option to configure which parts of your codebase to run this rule on.</span></span>

- [<span data-ttu-id="df3d9-144">Bestimmte API-Oberflächen einschließen</span><span class="sxs-lookup"><span data-stu-id="df3d9-144">Include specific API surfaces</span></span>](#include-specific-api-surfaces)

<span data-ttu-id="df3d9-145">Sie können diese Option nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Entwurf) konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="df3d9-145">You can configure this option for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="df3d9-146">Weitere Informationen finden Sie unter [Konfigurationsoptionen für die Code Qualitäts Regel](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="df3d9-146">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

[!INCLUDE[api-surface](~/includes/code-analysis/api-surface.md)]

<span data-ttu-id="df3d9-147">Standardmäßig gilt die CA2208-Regel für alle API-Oberflächen (öffentlich, intern und privat).</span><span class="sxs-lookup"><span data-stu-id="df3d9-147">By default, the CA2208 rule applies to all API surfaces (public, internal, and private).</span></span>

## <a name="example"></a><span data-ttu-id="df3d9-148">Beispiel</span><span class="sxs-lookup"><span data-stu-id="df3d9-148">Example</span></span>

<span data-ttu-id="df3d9-149">Der folgende Code zeigt einen Konstruktor, der eine Instanz von falsch instanziiert <xref:System.ArgumentNullException> .</span><span class="sxs-lookup"><span data-stu-id="df3d9-149">The following code shows a constructor that incorrectly instantiates an instance of <xref:System.ArgumentNullException>.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2208.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca2208-instantiate-argument-exceptions-correctly_1.vb" id="snippet1":::

<span data-ttu-id="df3d9-150">Mit dem folgenden Code wird der vorherige Verstoß korrigiert, indem die Konstruktorargumente gewechselt werden.</span><span class="sxs-lookup"><span data-stu-id="df3d9-150">The following code fixes the previous violation by switching the constructor arguments.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2208.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca2208-instantiate-argument-exceptions-correctly_1.vb" id="snippet2":::

## <a name="related-rules"></a><span data-ttu-id="df3d9-151">Verwandte Regeln</span><span class="sxs-lookup"><span data-stu-id="df3d9-151">Related rules</span></span>

- [<span data-ttu-id="df3d9-152">CA1507: „nameof“ anstelle der Zeichenfolge verwenden</span><span class="sxs-lookup"><span data-stu-id="df3d9-152">CA1507: Use nameof in place of string</span></span>](ca1507.md)
