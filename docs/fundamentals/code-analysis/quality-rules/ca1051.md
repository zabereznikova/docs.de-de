---
title: 'CA1051: sichtbare Instanzfelder nicht deklarieren (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA1051: nicht sichtbare Instanzfelder deklarieren'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- CA1051
- DoNotDeclareVisibleInstanceFields
helpviewer_keywords:
- CA1051
- DoNotDeclareVisibleInstanceFields
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 6ba2406856f0637f35406095f368a7c6e69cc222
ms.sourcegitcommit: 0273f8845eb1ea8de64086bef2271b4f22182c91
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/13/2021
ms.locfileid: "98162937"
---
# <a name="ca1051-do-not-declare-visible-instance-fields"></a><span data-ttu-id="2491c-103">CA1051: Sichtbare Instanzfelder nicht deklarieren.</span><span class="sxs-lookup"><span data-stu-id="2491c-103">CA1051: Do not declare visible instance fields</span></span>

| | <span data-ttu-id="2491c-104">Wert</span><span class="sxs-lookup"><span data-stu-id="2491c-104">Value</span></span> |
|-|-|
| <span data-ttu-id="2491c-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="2491c-105">**Rule ID**</span></span> |<span data-ttu-id="2491c-106">CA1051</span><span class="sxs-lookup"><span data-stu-id="2491c-106">CA1051</span></span>|
| <span data-ttu-id="2491c-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="2491c-107">**Category**</span></span> |<span data-ttu-id="2491c-108">Microsoft. Design</span><span class="sxs-lookup"><span data-stu-id="2491c-108">Microsoft.Design</span></span>|
| <span data-ttu-id="2491c-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="2491c-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="2491c-110">Breaking</span><span class="sxs-lookup"><span data-stu-id="2491c-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="2491c-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="2491c-111">Cause</span></span>

<span data-ttu-id="2491c-112">Ein Typ verfügt über ein nicht privates Instanzfeld.</span><span class="sxs-lookup"><span data-stu-id="2491c-112">A type has a non-private instance field.</span></span>

<span data-ttu-id="2491c-113">Standardmäßig betrachtet diese Regel nur extern sichtbare Typen, aber dies ist [konfigurierbar](#include-or-exclude-apis).</span><span class="sxs-lookup"><span data-stu-id="2491c-113">By default, this rule only looks at externally visible types, but this is [configurable](#include-or-exclude-apis).</span></span>

## <a name="rule-description"></a><span data-ttu-id="2491c-114">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="2491c-114">Rule description</span></span>

<span data-ttu-id="2491c-115">Ein Feld sollte primär als Implementierungsdetail verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="2491c-115">The primary use of a field should be as an implementation detail.</span></span> <span data-ttu-id="2491c-116">Felder müssen `private` oder sein `internal` und sollten mithilfe von Eigenschaften verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="2491c-116">Fields should be `private` or `internal` and should be exposed by using properties.</span></span> <span data-ttu-id="2491c-117">Es ist so einfach, auf eine Eigenschaft zuzugreifen, da Sie auf ein Feld zugreifen kann. der Code in den Accessoren einer Eigenschaft kann sich ändern, wenn die Funktionen des Typs ohne wichtige Änderungen erweitert werden.</span><span class="sxs-lookup"><span data-stu-id="2491c-117">It's as easy to access a property as it is to access a field, and the code in the accessors of a property can change as the features of the type expand without introducing breaking changes.</span></span>

<span data-ttu-id="2491c-118">Eigenschaften, die nur den Wert eines privaten oder internen Felds zurückgeben, werden für die Ausführung mit dem Zugriff auf ein Feld optimiert. der Leistungsgewinn bei der Verwendung extern sichtbarer Felder anstelle von Eigenschaften ist minimal.</span><span class="sxs-lookup"><span data-stu-id="2491c-118">Properties that just return the value of a private or internal field are optimized to perform on par with accessing a field; the performance gain from using externally visible fields instead of properties is minimal.</span></span> <span data-ttu-id="2491c-119">*Extern sichtbar* bezieht sich auf die `public` `protected` `protected internal` Zugriffsebenen, und ( `Public` , `Protected` und `Protected Friend` in Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="2491c-119">*Externally visible* refers to `public`, `protected`, and `protected internal` (`Public`, `Protected`, and `Protected Friend` in Visual Basic) accessibility levels.</span></span>

<span data-ttu-id="2491c-120">Darüber hinaus können öffentliche Felder nicht durch [Link](../../../framework/misc/link-demands.md)Aufrufe geschützt werden.</span><span class="sxs-lookup"><span data-stu-id="2491c-120">Additionally, public fields cannot be protected by [Link demands](../../../framework/misc/link-demands.md).</span></span> <span data-ttu-id="2491c-121">(Link Aufrufe gelten nicht für .net Core-apps.)</span><span class="sxs-lookup"><span data-stu-id="2491c-121">(Link demands don't apply to .NET Core apps.)</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="2491c-122">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="2491c-122">How to fix violations</span></span>

<span data-ttu-id="2491c-123">Um einen Verstoß gegen diese Regel zu beheben, machen Sie das Feld `private` oder, `internal` und machen Sie es mithilfe einer extern sichtbaren Eigenschaft verfügbar.</span><span class="sxs-lookup"><span data-stu-id="2491c-123">To fix a violation of this rule, make the field `private` or `internal` and expose it by using an externally visible property.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="2491c-124">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="2491c-124">When to suppress warnings</span></span>

<span data-ttu-id="2491c-125">Unterdrücken Sie diese Warnung nur, wenn Sie sicher sind, dass Consumer direkten Zugriff auf das Feld benötigen.</span><span class="sxs-lookup"><span data-stu-id="2491c-125">Only suppress this warning if you're certain that consumers need direct access to the field.</span></span> <span data-ttu-id="2491c-126">Bei den meisten Anwendungen bieten verfügbar gemachte Felder keine Leistungs-oder wart barkeits Vorteile gegenüber Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="2491c-126">For most applications, exposed fields do not provide performance or maintainability benefits over properties.</span></span>

<span data-ttu-id="2491c-127">Consumer benötigen in den folgenden Situationen möglicherweise Feld Zugriff:</span><span class="sxs-lookup"><span data-stu-id="2491c-127">Consumers may need field access in the following situations:</span></span>

- <span data-ttu-id="2491c-128">In ASP.net Web Forms Inhalts Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="2491c-128">In ASP.NET Web Forms content controls.</span></span>
- <span data-ttu-id="2491c-129">Wenn die Zielplattform verwendet, `ref` um Felder zu ändern, wie z. b. Model-View-ViewModel (MVVM)-Frameworks für WPF und UWP.</span><span class="sxs-lookup"><span data-stu-id="2491c-129">When the target platform makes use of `ref` to modify fields, such as model-view-viewmodel (MVVM) frameworks for WPF and UWP.</span></span>

## <a name="include-or-exclude-apis"></a><span data-ttu-id="2491c-130">Einschließen oder Ausschließen von APIs</span><span class="sxs-lookup"><span data-stu-id="2491c-130">Include or exclude APIs</span></span>

<span data-ttu-id="2491c-131">Verwenden Sie die folgenden Optionen, um zu konfigurieren, für welche Teile Ihrer Codebasis diese Regel ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="2491c-131">Use the following options to configure which parts of your codebase to run this rule on.</span></span>

- [<span data-ttu-id="2491c-132">Bestimmte API-Oberflächen einschließen</span><span class="sxs-lookup"><span data-stu-id="2491c-132">Include specific API surfaces</span></span>](#include-specific-api-surfaces)
- [<span data-ttu-id="2491c-133">Strukturen ausschließen</span><span class="sxs-lookup"><span data-stu-id="2491c-133">Exclude structs</span></span>](#exclude-structs)

<span data-ttu-id="2491c-134">Sie können diese Optionen nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Entwurf) konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="2491c-134">You can configure these options for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="2491c-135">Weitere Informationen finden Sie unter [Konfigurationsoptionen für die Code Qualitäts Regel](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="2491c-135">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

[!INCLUDE[api-surface](~/includes/code-analysis/api-surface.md)]

### <a name="exclude-structs"></a><span data-ttu-id="2491c-136">Strukturen ausschließen</span><span class="sxs-lookup"><span data-stu-id="2491c-136">Exclude structs</span></span>

<span data-ttu-id="2491c-137">Sie können `struct` ( `Structure` in Visual Basic) Felder von der Analyse ausschließen.</span><span class="sxs-lookup"><span data-stu-id="2491c-137">You can exclude `struct` (`Structure` in Visual Basic) fields from being analyzed.</span></span>

```ini
dotnet_code_quality.ca1051.exclude_structs = true
```

## <a name="example"></a><span data-ttu-id="2491c-138">Beispiel</span><span class="sxs-lookup"><span data-stu-id="2491c-138">Example</span></span>

<span data-ttu-id="2491c-139">Das folgende Beispiel zeigt einen-Typ ( `BadPublicInstanceFields` ), der gegen diese Regel verstößt.</span><span class="sxs-lookup"><span data-stu-id="2491c-139">The following example shows a type (`BadPublicInstanceFields`) that violates this rule.</span></span> <span data-ttu-id="2491c-140">`GoodPublicInstanceFields` zeigt den korrigierten Code an.</span><span class="sxs-lookup"><span data-stu-id="2491c-140">`GoodPublicInstanceFields` shows the corrected code.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1051.cs" id="snippet1":::

## <a name="see-also"></a><span data-ttu-id="2491c-141">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="2491c-141">See also</span></span>

- [<span data-ttu-id="2491c-142">Verknüpfungsaufrufe</span><span class="sxs-lookup"><span data-stu-id="2491c-142">Link Demands</span></span>](../../../framework/misc/link-demands.md)
