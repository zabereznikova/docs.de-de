---
title: 'CA1806: Methoden Ergebnisse nicht ignorieren (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA1806: Methoden Ergebnisse nicht ignorieren'
ms.date: 06/08/2020
ms.topic: reference
f1_keywords:
- CA1806
- DoNotIgnoreMethodResults
helpviewer_keywords:
- CA1806
- DoNotIgnoreMethodResults
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: db0e940249fbf41ac1df9f7e133a04ad3d646260
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591908"
---
# <a name="ca1806-do-not-ignore-method-results"></a><span data-ttu-id="d4717-103">CA1806: Methodenergebnisse nicht ignorieren.</span><span class="sxs-lookup"><span data-stu-id="d4717-103">CA1806: Do not ignore method results</span></span>

| | <span data-ttu-id="d4717-104">Wert</span><span class="sxs-lookup"><span data-stu-id="d4717-104">Value</span></span> |
|-|-|
| <span data-ttu-id="d4717-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="d4717-105">**Rule ID**</span></span> |<span data-ttu-id="d4717-106">CA1806</span><span class="sxs-lookup"><span data-stu-id="d4717-106">CA1806</span></span>|
| <span data-ttu-id="d4717-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="d4717-107">**Category**</span></span> |<span data-ttu-id="d4717-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="d4717-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="d4717-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="d4717-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="d4717-110">Nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="d4717-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="d4717-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="d4717-111">Cause</span></span>

<span data-ttu-id="d4717-112">Für diese Warnung gibt es mehrere mögliche Gründe:</span><span class="sxs-lookup"><span data-stu-id="d4717-112">There are several possible reasons for this warning:</span></span>

- <span data-ttu-id="d4717-113">Ein neues-Objekt wird erstellt, aber nie verwendet.</span><span class="sxs-lookup"><span data-stu-id="d4717-113">A new object is created but never used.</span></span>

- <span data-ttu-id="d4717-114">Eine Methode, die eine neue Zeichenfolge erstellt und zurückgibt, wird aufgerufen, und die neue Zeichenfolge wird nie verwendet.</span><span class="sxs-lookup"><span data-stu-id="d4717-114">A method that creates and returns a new string is called and the new string is never used.</span></span>

- <span data-ttu-id="d4717-115">Eine com-oder P/aufrufen-Methode, die einen- `HRESULT` oder-Fehlercode zurückgibt, der niemals verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d4717-115">A COM or P/Invoke method that returns a `HRESULT` or error code that is never used.</span></span>

- <span data-ttu-id="d4717-116">Eine Language Integrated Query (LINQ)-Methode, die ein Ergebnis zurückgibt, das nie verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d4717-116">A language-integrated query (LINQ) method that returns a result that is never used.</span></span>

## <a name="rule-description"></a><span data-ttu-id="d4717-117">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="d4717-117">Rule description</span></span>

<span data-ttu-id="d4717-118">Unnötige Objekt Erstellung und zugeordnete Garbage Collection der Leistungsfähigkeit des nicht verwendeten Objekts.</span><span class="sxs-lookup"><span data-stu-id="d4717-118">Unnecessary object creation and the associated garbage collection of the unused object degrade performance.</span></span>

<span data-ttu-id="d4717-119">Zeichen folgen sind unveränderlich, und Methoden wie String. touppergibt eine neue Instanz einer Zeichenfolge zurück, anstatt die Instanz der Zeichenfolge in der aufrufenden Methode zu ändern.</span><span class="sxs-lookup"><span data-stu-id="d4717-119">Strings are immutable and methods such as String.ToUpper returns a new instance of a string instead of modifying the instance of the string in the calling method.</span></span>

<span data-ttu-id="d4717-120">Das Ignorieren von `HRESULT` oder Fehlercode kann zu unerwartetem Verhalten bei Fehlerbedingungen oder zu Ressourcenmangel führen.</span><span class="sxs-lookup"><span data-stu-id="d4717-120">Ignoring `HRESULT` or error code can lead to unexpected behavior in error conditions or to low-resource conditions.</span></span>

<span data-ttu-id="d4717-121">LINQ-Methoden haben bekanntermaßen keine Nebeneffekte, und das Ergebnis sollte nicht ignoriert werden.</span><span class="sxs-lookup"><span data-stu-id="d4717-121">LINQ methods are known to not have side effects, and the result should not be ignored.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="d4717-122">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="d4717-122">How to fix violations</span></span>

<span data-ttu-id="d4717-123">Wenn Methode a eine neue Instanz eines B-Objekts erstellt, das nie verwendet wird, übergeben Sie die Instanz als Argument an eine andere Methode, oder weisen Sie die Instanz einer Variablen zu.</span><span class="sxs-lookup"><span data-stu-id="d4717-123">If method A creates a new instance of B object that is never used, pass the instance as an argument to another method or assign the instance to a variable.</span></span> <span data-ttu-id="d4717-124">Wenn die Objekt Erstellung unnötig ist, entfernen Sie Sie.</span><span class="sxs-lookup"><span data-stu-id="d4717-124">If the object creation is unnecessary, remove the it.</span></span>

<span data-ttu-id="d4717-125">- oder -</span><span class="sxs-lookup"><span data-stu-id="d4717-125">-or-</span></span>

<span data-ttu-id="d4717-126">Wenn method a die Methode b aufruft, aber nicht die neue Zeichen folgen Instanz verwendet, die von der Methode b zurückgegeben wird, übergeben Sie die Instanz als Argument an eine andere Methode, weisen Sie die Instanz einer Variablen zu.</span><span class="sxs-lookup"><span data-stu-id="d4717-126">If method A calls method B, but does not use the new string instance that the method B returns, pass the instance as an argument to another method, assign the instance to a variable.</span></span> <span data-ttu-id="d4717-127">Oder entfernen Sie den-Befehl, wenn dies unnötig ist.</span><span class="sxs-lookup"><span data-stu-id="d4717-127">Or remove the call if it is unnecessary.</span></span>

<span data-ttu-id="d4717-128">- oder -</span><span class="sxs-lookup"><span data-stu-id="d4717-128">-or-</span></span>

<span data-ttu-id="d4717-129">Wenn method a die Methode B aufruft, jedoch nicht den- `HRESULT` oder-Fehlercode, der von der-Methode zurückgegeben wird, verwenden Sie das Ergebnis in einer Bedingungs Anweisung, weisen Sie das Ergebnis einer Variablen zu, oder übergeben Sie es als Argument an eine andere Methode.</span><span class="sxs-lookup"><span data-stu-id="d4717-129">If method A calls method B, but does not use the `HRESULT` or error code that the method returns, use the result in a conditional statement, assign the result to a variable, or pass it as an argument to another method.</span></span>

<span data-ttu-id="d4717-130">- oder -</span><span class="sxs-lookup"><span data-stu-id="d4717-130">-or-</span></span>

<span data-ttu-id="d4717-131">Wenn eine LINQ-Methode die Methode B aufruft, aber das Ergebnis nicht verwendet, verwenden Sie das Ergebnis in einer Bedingungs Anweisung, weisen Sie das Ergebnis einer Variablen zu, oder übergeben Sie es als Argument an eine andere Methode.</span><span class="sxs-lookup"><span data-stu-id="d4717-131">If a LINQ method A calls method B, but does not use the result, use the result in a conditional statement, assign the result to a variable, or pass it as an argument to another method.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="d4717-132">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="d4717-132">When to suppress warnings</span></span>

<span data-ttu-id="d4717-133">Unterdrücken Sie keine Warnung dieser Regel, es sei denn, das Erstellen des Objekts dient einem bestimmten Zweck.</span><span class="sxs-lookup"><span data-stu-id="d4717-133">Do not suppress a warning from this rule unless the act of creating the object serves some purpose.</span></span>

## <a name="example-1"></a><span data-ttu-id="d4717-134">Beispiel 1</span><span class="sxs-lookup"><span data-stu-id="d4717-134">Example 1</span></span>

<span data-ttu-id="d4717-135">Das folgende Beispiel zeigt eine Klasse, die das Ergebnis des Aufruf von String. Trim ignoriert.</span><span class="sxs-lookup"><span data-stu-id="d4717-135">The following example shows a class that ignores the result of calling String.Trim.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca1806-do-not-ignore-method-results_1.vb" id="snippet1":::

## <a name="example-2"></a><span data-ttu-id="d4717-136">Beispiel 2</span><span class="sxs-lookup"><span data-stu-id="d4717-136">Example 2</span></span>

<span data-ttu-id="d4717-137">Im folgenden Beispiel wird der vorherige Verstoß korrigiert, indem das Ergebnis von String. Trim der Variablen zugewiesen wird, für die es aufgerufen wurde.</span><span class="sxs-lookup"><span data-stu-id="d4717-137">The following example fixes the previous violation by assigning the result of String.Trim back to the variable it was called on.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet2":::

:::code language="vb" source="snippets/vb/all-rules/ca1806-do-not-ignore-method-results_1.vb" id="snippet2":::

## <a name="example-3"></a><span data-ttu-id="d4717-138">Beispiel 3</span><span class="sxs-lookup"><span data-stu-id="d4717-138">Example 3</span></span>

<span data-ttu-id="d4717-139">Das folgende Beispiel zeigt eine Methode, die kein Objekt verwendet, das Sie erstellt.</span><span class="sxs-lookup"><span data-stu-id="d4717-139">The following example shows a method that does not use an object that it creates.</span></span>

> [!NOTE]
> <span data-ttu-id="d4717-140">Diese Verletzung kann in Visual Basic nicht reproduziert werden.</span><span class="sxs-lookup"><span data-stu-id="d4717-140">This violation cannot be reproduced in Visual Basic.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet3":::

## <a name="example-4"></a><span data-ttu-id="d4717-141">Beispiel 4</span><span class="sxs-lookup"><span data-stu-id="d4717-141">Example 4</span></span>

<span data-ttu-id="d4717-142">Im folgenden Beispiel wird der vorherige Verstoß behoben, indem die unnötige Erstellung eines Objekts entfernt wird.</span><span class="sxs-lookup"><span data-stu-id="d4717-142">The following example fixes the previous violation by removing the unnecessary creation of an object.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1806.cs" id="snippet4":::

<!-- Examples don't exist for the following...

The following example shows a method that ignores the error code that the native method GetShortPathName returns.

The following example fixes the previous violation by checking the error code and throwing an exception when the call fails.
-->
