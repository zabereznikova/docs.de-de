---
title: 'CA1401: P-Aufrufe dürfen nicht sichtbar sein (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA1401: P-Aufrufe dürfen nicht sichtbar sein.'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- PInvokesShouldNotBeVisible
- CA1401
helpviewer_keywords:
- CA1401
- PInvokesShouldNotBeVisible
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 547dc682b19509cdce23aecdf0110ef977940c7f
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591863"
---
# <a name="ca1401-pinvokes-should-not-be-visible"></a><span data-ttu-id="1c8dc-103">CA1401: P/Invokes dürfen nicht sichtbar sein</span><span class="sxs-lookup"><span data-stu-id="1c8dc-103">CA1401: P/Invokes should not be visible</span></span>

|                                     | <span data-ttu-id="1c8dc-104">Wert</span><span class="sxs-lookup"><span data-stu-id="1c8dc-104">Value</span></span>                      |
|-------------------------------------|----------------------------|
| <span data-ttu-id="1c8dc-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="1c8dc-105">**Rule ID**</span></span>                          | <span data-ttu-id="1c8dc-106">CA1401</span><span class="sxs-lookup"><span data-stu-id="1c8dc-106">CA1401</span></span>                     |
| <span data-ttu-id="1c8dc-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="1c8dc-107">**Category**</span></span>                        | <span data-ttu-id="1c8dc-108">Microsoft. Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="1c8dc-108">Microsoft.Interoperability</span></span> |
| <span data-ttu-id="1c8dc-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="1c8dc-109">**Fix is breaking or non-breaking**</span></span> | <span data-ttu-id="1c8dc-110">Breaking</span><span class="sxs-lookup"><span data-stu-id="1c8dc-110">Breaking</span></span>                   |

## <a name="cause"></a><span data-ttu-id="1c8dc-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="1c8dc-111">Cause</span></span>

<span data-ttu-id="1c8dc-112">Eine öffentliche oder geschützte Methode in einem öffentlichen Typ weist das- <xref:System.Runtime.InteropServices.DllImportAttribute?displayProperty=fullName> Attribut auf (wird auch durch das- `Declare` Schlüsselwort in Visual Basic implementiert).</span><span class="sxs-lookup"><span data-stu-id="1c8dc-112">A public or protected method in a public type has the <xref:System.Runtime.InteropServices.DllImportAttribute?displayProperty=fullName> attribute (also implemented by the `Declare` keyword in Visual Basic).</span></span>

## <a name="rule-description"></a><span data-ttu-id="1c8dc-113">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="1c8dc-113">Rule description</span></span>

<span data-ttu-id="1c8dc-114">Methoden, die mit dem- <xref:System.Runtime.InteropServices.DllImportAttribute> Attribut markiert sind (oder Methoden, die mithilfe des- `Declare` Schlüssel Worts in Visual Basic definiert werden), verwenden Platt Form Aufruf Dienste, um auf nicht verwalteten Code zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-114">Methods that are marked with the <xref:System.Runtime.InteropServices.DllImportAttribute> attribute (or methods that are defined by using the `Declare` keyword in Visual Basic) use Platform Invocation Services to access unmanaged code.</span></span> <span data-ttu-id="1c8dc-115">Solche Methoden sollten nicht verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-115">Such methods should not be exposed.</span></span> <span data-ttu-id="1c8dc-116">Wenn Sie diese Methoden als privat oder intern aufbewahren, stellen Sie sicher, dass die Bibliothek nicht zum verletzen der Sicherheit verwendet werden kann, indem Sie Aufrufern Zugriff auf nicht verwaltete APIs gewähren, die nicht anderweitig aufgerufen werden konnten.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-116">By keeping these methods private or internal, you make sure that your library cannot be used to breach security by allowing callers access to unmanaged APIs that they could not call otherwise.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="1c8dc-117">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="1c8dc-117">How to fix violations</span></span>

<span data-ttu-id="1c8dc-118">Um einen Verstoß gegen diese Regel zu beheben, ändern Sie die Zugriffsebene der Methode.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-118">To fix a violation of this rule, change the access level of the method.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="1c8dc-119">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="1c8dc-119">When to suppress warnings</span></span>

<span data-ttu-id="1c8dc-120">Unterdrücken Sie keine Warnung dieser Regel.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-120">Do not suppress a warning from this rule.</span></span>

## <a name="example"></a><span data-ttu-id="1c8dc-121">Beispiel</span><span class="sxs-lookup"><span data-stu-id="1c8dc-121">Example</span></span>

<span data-ttu-id="1c8dc-122">Im folgenden Beispiel wird eine Methode deklariert, die gegen diese Regel verstößt.</span><span class="sxs-lookup"><span data-stu-id="1c8dc-122">The following example declares a method that violates this rule.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1401.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca1401-p-invokes-should-not-be-visible_1.vb":::
