---
title: 'CA2361: Stellen Sie sicher, dass automatisch generierte Klassen, die DataSet. Read XML () enthalten, nicht mit nicht vertrauenswürdigen Daten (Code Analyse) verwendet werden.'
description: 'Informationen zur Code Analyse Regel CA2361: Stellen Sie sicher, dass automatisch generierte Klassen mit DataSet. Read XML () nicht mit nicht vertrauenswürdigen Daten verwendet werden.'
ms.date: 08/11/2020
ms.topic: reference
author: dotpaul
ms.author: paulming
dev_langs:
- CSharp
f1_keywords:
- CA2361
ms.openlocfilehash: 6b7ab2db8282b5b080a3223e16dd3e285da0c280
ms.sourcegitcommit: a4cecb7389f02c27e412b743f9189bd2a6dea4d6
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/14/2021
ms.locfileid: "98190454"
---
# <a name="ca2361-ensure-autogenerated-class-containing-datasetreadxml-is-not-used-with-untrusted-data"></a>CA2361: Sicherstellen, dass die automatisch generierte Klasse mit DataSet.ReadXml() nicht mit nicht vertrauenswürdigen Daten verwendet wird

| | Wert |
|-|-|
| **Regel-ID** |CA2361|
| **Kategorie** |Microsoft.Security|
| **Behebung ist unterbrechend oder nicht unterbrechend** |Nicht unterbrechend|

## <a name="cause"></a>Ursache

Die <xref:System.Data.DataSet.ReadXml%2A?displayProperty=nameWithType> -Methode wurde aufgerufen oder referenziert, und befindet sich im automatisch generierten Code.

Mit dieser Regel wird automatisch generierter Code b klassifiziert:

- Innerhalb einer Methode mit dem Namen `ReadXmlSerializable` .
- Die- `ReadXmlSerializable` Methode verfügt über einen <xref:System.Diagnostics.DebuggerNonUserCodeAttribute?displayProperty=nameWithType> .
- Die- `ReadXmlSerializable` Methode befindet sich innerhalb eines Typs, der über ein verfügt <xref:System.ComponentModel.DesignerCategoryAttribute?displayProperty=nameWithType> .

[CA2351](ca2351.md) ist eine ähnliche Regel, wenn <xref:System.Data.DataSet.ReadXml%2A?displayProperty=nameWithType> in nicht automatisch generiertem Code angezeigt wird.

## <a name="rule-description"></a>Regelbeschreibung

Beim Deserialisieren eines <xref:System.Data.DataSet> mit nicht vertrauenswürdiger Eingabe kann ein Angreifer böswillige Eingaben erstellen, um einen Denial-of-Service-Angriff auszuführen. Möglicherweise gibt es unbekannte Sicherheitsrisiken bei der Remote Codeausführung.

Diese Regel ähnelt [CA2351](ca2351.md), jedoch für automatisch generierten Code für eine Darstellung von Daten im Arbeitsspeicher in einer GUI-Anwendung. Normalerweise werden diese automatisch generierten Klassen nicht aus einer nicht vertrauenswürdigen Eingabe deserialisiert. Die Nutzung Ihrer Anwendung kann variieren.

Weitere Informationen finden Sie unter [Leitfaden für Datasets und Daten](../../../framework/data/adonet/dataset-datatable-dataview/security-guidance.md)Tabelle.

## <a name="how-to-fix-violations"></a>Behandeln von Verstößen

- Verwenden Sie nach Möglichkeit [Entity Framework](/ef/) anstelle von <xref:System.Data.DataSet> .
- Sorgen Sie dafür, dass die serialisierten Daten manipuliert werden. Signieren Sie die serialisierten Daten nach der Serialisierung kryptografisch. Überprüfen Sie vor der Deserialisierung die kryptografische Signatur. Schützen Sie den Kryptografieschlüssel vor der Offenlegung, und entwerfen Sie Schlüssel Drehungen.

## <a name="when-to-suppress-warnings"></a>Wann sollten Warnungen unterdrückt werden?

[!INCLUDE[insecure-deserializers-common-safe-to-suppress](~/includes/code-analysis/insecure-deserializers-common-safe-to-suppress.md)]

## <a name="pseudo-code-examples"></a>Pseudo Codebeispiele

### <a name="violation"></a>Verletzung

```csharp
namespace ExampleNamespace
{
    /// <summary>
    ///Represents a strongly typed in-memory cache of data.
    ///</summary>
    [global::System.Serializable()]
    [global::System.ComponentModel.DesignerCategoryAttribute("code")]
    [global::System.ComponentModel.ToolboxItem(true)]
    [global::System.Xml.Serialization.XmlSchemaProviderAttribute("GetTypedDataSetSchema")]
    [global::System.Xml.Serialization.XmlRootAttribute("Package")]
    [global::System.ComponentModel.Design.HelpKeywordAttribute("vs.data.DataSet")]
    public partial class Something : global::System.Data.DataSet {

        [global::System.Diagnostics.DebuggerNonUserCodeAttribute()]
        [global::System.CodeDom.Compiler.GeneratedCodeAttribute("System.Data.Design.TypedDataSetGenerator", "4.0.0.0")]
        protected override void ReadXmlSerializable(global::System.Xml.XmlReader reader) {
            if ((this.DetermineSchemaSerializationMode(reader) == global::System.Data.SchemaSerializationMode.IncludeSchema)) {
                this.Reset();
                global::System.Data.DataSet ds = new global::System.Data.DataSet();
                ds.ReadXml(reader);
                if ((ds.Tables["Something"] != null)) {
                    base.Tables.Add(new SomethingTable(ds.Tables["Something"]));
                }
                this.DataSetName = ds.DataSetName;
                this.Prefix = ds.Prefix;
                this.Namespace = ds.Namespace;
                this.Locale = ds.Locale;
                this.CaseSensitive = ds.CaseSensitive;
                this.EnforceConstraints = ds.EnforceConstraints;
                this.Merge(ds, false, global::System.Data.MissingSchemaAction.Add);
                this.InitVars();
            }
            else {
                this.ReadXml(reader);
                this.InitVars();
            }
        }
    }
}
```

## <a name="related-rules"></a>Verwandte Regeln

[CA2350: Sicherstellen, dass die Eingabe von DataTable.ReadXml() vertrauenswürdig ist](ca2350.md)

[CA2351: Sicherstellen, dass die Eingabe von DataSet.ReadXml() vertrauenswürdig ist](ca2351.md)

[CA2352: Unsichere DataSet- oder DataTable-Elemente in einem serialisierbaren Typ können anfällig für Angriffe durch Remotecodeausführung sein](ca2352.md)

[CA2353: Unsichere DataSet- oder DataTable-Elemente in einem serialisierbaren Typ](ca2353.md)

[CA2354: Unsichere DataSet- oder DataTable-Elemente in einem deserialisierten Objektgraph können anfällig für Angriffe durch Remotecodeausführung sein](ca2354.md)

[CA2355: Unsichere DataSet- oder DataTable-Elemente in einem deserialisierten Objektgraph](ca2355.md)

[CA2356: unsicheres DataSet oder Datentabelle im webdeserialisierten Objekt Diagramm](ca2356.md)

[CA2362: Ein unsicheres DataSet- oder DataTable-Element in einem automatisch generierten, serialisierbaren Typ kann für Angriffe durch Remotecodeausführung anfällig sein](ca2362.md)
