---
title: 'CA3076: unsichere XSLT-Skriptausführung (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA3076: unsichere XSLT-Skriptausführung'
ms.date: 11/04/2016
ms.topic: reference
author: gewarren
ms.author: gewarren
ms.openlocfilehash: 1dcb79f0d74e9d2d5eb83e87eeddeb4a07aecace
ms.sourcegitcommit: 2e4adc490c1d2a705a0592b295d606b10b9f51f1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/25/2020
ms.locfileid: "96590751"
---
# <a name="ca3076-insecure-xslt-script-execution"></a><span data-ttu-id="13a06-103">CA3076: Unsichere XSLT-Skriptausführung.</span><span class="sxs-lookup"><span data-stu-id="13a06-103">CA3076: Insecure XSLT Script Execution</span></span>

| | <span data-ttu-id="13a06-104">Wert</span><span class="sxs-lookup"><span data-stu-id="13a06-104">Value</span></span> |
|-|-|
| <span data-ttu-id="13a06-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="13a06-105">**Rule ID**</span></span> |<span data-ttu-id="13a06-106">CA3076</span><span class="sxs-lookup"><span data-stu-id="13a06-106">CA3076</span></span>|
| <span data-ttu-id="13a06-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="13a06-107">**Category**</span></span> |<span data-ttu-id="13a06-108">Microsoft.Security</span><span class="sxs-lookup"><span data-stu-id="13a06-108">Microsoft.Security</span></span>|
| <span data-ttu-id="13a06-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="13a06-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="13a06-110">Nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="13a06-110">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="13a06-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="13a06-111">Cause</span></span>

<span data-ttu-id="13a06-112">Wenn Sie Extensible Stylesheets Language Transformations (XSLT) ungesichert in .NET-Anwendungen ausführen, könnte der Prozessor möglicherweise nicht vertrauenswürdige URI-Verweise auflösen, wodurch Angreifern sensible Informationen offengelegt werden könnten, was wiederum zu Denial-of-Service- und Cross-Site-Angriffen führen kann.</span><span class="sxs-lookup"><span data-stu-id="13a06-112">If you execute Extensible Stylesheets Language Transformations (XSLT) in .NET applications insecurely, the processor may resolve untrusted URI references that could disclose sensitive information to attackers, leading to Denial of Service and Cross-Site attacks.</span></span> <span data-ttu-id="13a06-113">Weitere Informationen finden Sie unter [XSLT-Sicherheitsüberlegungen (. net Guide)](../../../standard/data/xml/xslt-security-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="13a06-113">For more information, see [XSLT Security Considerations(.NET Guide)](../../../standard/data/xml/xslt-security-considerations.md).</span></span>

## <a name="rule-description"></a><span data-ttu-id="13a06-114">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="13a06-114">Rule description</span></span>

<span data-ttu-id="13a06-115">**XSLT** ist ein W3C-Standard (World Wide Web Consortium) zum Transformieren von XML-Daten.</span><span class="sxs-lookup"><span data-stu-id="13a06-115">**XSLT** is a World Wide Web Consortium (W3C) standard for transforming XML data.</span></span> <span data-ttu-id="13a06-116">XSLT wird in der Regel verwendet, um Stylesheets zum Transformieren von XML-Daten in andere Formate (z. b. html, Text mit fester Länge, durch Trennzeichen getrennten Text oder ein anderes XML-Format) zu schreiben.</span><span class="sxs-lookup"><span data-stu-id="13a06-116">XSLT is typically used to write style sheets to transform XML data to other formats such as HTML, fixed-length text, comma-separated text, or a different XML format.</span></span> <span data-ttu-id="13a06-117">Dies ist zwar standardmäßig nicht zulässig, sie können die Option aber für Ihr Projekt aktivieren.</span><span class="sxs-lookup"><span data-stu-id="13a06-117">Although prohibited by default, you may choose to enable it for your project.</span></span>

<span data-ttu-id="13a06-118">Um sicherzustellen, dass Sie keine Angriffsfläche verfügbar machen, wird diese Regel immer dann ausgelöst, wenn XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span><span class="sxs-lookup"><span data-stu-id="13a06-118">To ensure you're not exposing an attack surface, this rule triggers whenever the XslCompiledTransform.<xref:System.Xml.Xsl.XslCompiledTransform.Load%2A></span></span> <span data-ttu-id="13a06-119">empfängt unsichere Kombinations Instanzen von <xref:System.Xml.Xsl.XsltSettings> und <xref:System.Xml.XmlResolver> , wodurch die Verarbeitung bösartiger Skripts ermöglicht wird.</span><span class="sxs-lookup"><span data-stu-id="13a06-119">receives insecure combination instances of <xref:System.Xml.Xsl.XsltSettings> and <xref:System.Xml.XmlResolver>, which allows malicious script processing.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="13a06-120">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="13a06-120">How to fix violations</span></span>

- <span data-ttu-id="13a06-121">Ersetzen Sie das unsichere XsltSettings-Argument durch XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span><span class="sxs-lookup"><span data-stu-id="13a06-121">Replace the insecure XsltSettings argument with XsltSettings.<xref:System.Xml.Xsl.XsltSettings.Default%2A></span></span> <span data-ttu-id="13a06-122">oder mit einer-Instanz, die die Dokument Funktion und Skriptausführung deaktiviert hat.</span><span class="sxs-lookup"><span data-stu-id="13a06-122">or with an instance that has disabled document function and script execution.</span></span>

- <span data-ttu-id="13a06-123">Ersetzen Sie das <xref:System.Xml.XmlResolver> -Argument durch „Null“ oder eine <xref:System.Xml.XmlSecureResolver> -Instanz.</span><span class="sxs-lookup"><span data-stu-id="13a06-123">Replace the <xref:System.Xml.XmlResolver> argument with null or an <xref:System.Xml.XmlSecureResolver> instance.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="13a06-124">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="13a06-124">When to suppress warnings</span></span>

<span data-ttu-id="13a06-125">Unterdrücken Sie eine Regel aus dieser Warnung niemals, es sei denn, Sie sind ganz sicher, dass die Eingabe von einer vertrauenswürdigen Quelle stammt.</span><span class="sxs-lookup"><span data-stu-id="13a06-125">Unless you're sure that the input is known to be from a trusted source, do not suppress a rule from this warning.</span></span>

## <a name="pseudo-code-examples"></a><span data-ttu-id="13a06-126">Pseudo Codebeispiele</span><span class="sxs-lookup"><span data-stu-id="13a06-126">Pseudo-code examples</span></span>

### <a name="violation-that-uses-xsltsettingstrustedxslt"></a><span data-ttu-id="13a06-127">Verstoß, bei dem XsltSettings. treudxslt verwendet wird</span><span class="sxs-lookup"><span data-stu-id="13a06-127">Violation that uses XsltSettings.TrustedXslt</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
         void TestMethod()
        {
             XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
             var settings = XsltSettings.TrustedXslt;
             var resolver = new XmlUrlResolver();
             xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
        }
    }
}
```

### <a name="solution-that-uses-xsltsettingsdefault"></a><span data-ttu-id="13a06-128">Projekt Mappe, die XsltSettings. default verwendet</span><span class="sxs-lookup"><span data-stu-id="13a06-128">Solution that uses XsltSettings.Default</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        void TestMethod()
        {
            XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
            var settings = XsltSettings.Default;
            var resolver = new XmlUrlResolver();
            xslCompiledTransform.Load("testStylesheet", settings, resolver);
        }
    }
}
```

### <a name="violationmdashdocument-function-and-script-execution-not-disabled"></a><span data-ttu-id="13a06-129">Verstoß gegen &mdash; Dokument Funktion und Skriptausführung nicht deaktiviert</span><span class="sxs-lookup"><span data-stu-id="13a06-129">Violation&mdash;document function and script execution not disabled</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver); // warn
            }
            catch { throw; }
            finally { }
        }
    }
}
```

### <a name="solutionmdashdisable-document-function-and-script-execution"></a><span data-ttu-id="13a06-130">Lösung &mdash; Deaktivieren der Dokument Funktion und Skriptausführung</span><span class="sxs-lookup"><span data-stu-id="13a06-130">Solution&mdash;disable document function and script execution</span></span>

```csharp
using System.Xml;
using System.Xml.Xsl;

namespace TestNamespace
{
    class TestClass
    {
        private static void TestMethod(XsltSettings settings)
        {
            try
            {
                XslCompiledTransform xslCompiledTransform = new XslCompiledTransform();
                settings.EnableDocumentFunction = false;
                settings.EnableScript = false;
                var resolver = new XmlUrlResolver();
                xslCompiledTransform.Load("testStylesheet", settings, resolver);
            }
            catch { throw; }
            finally { }
        }
    }
}
```

## <a name="see-also"></a><span data-ttu-id="13a06-131">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="13a06-131">See also</span></span>

- [<span data-ttu-id="13a06-132">XSLT-Sicherheitsüberlegungen (. net-Leitfaden)</span><span class="sxs-lookup"><span data-stu-id="13a06-132">XSLT Security Considerations(.NET Guide)</span></span>](../../../standard/data/xml/xslt-security-considerations.md)
