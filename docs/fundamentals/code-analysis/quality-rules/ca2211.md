---
title: 'CA2211: nicht konstante Felder sollten nicht sichtbar sein (Code Analyse).'
description: 'Weitere Informationen zur Code Analyse Regel CA2211: nicht konstante Felder sollten nicht sichtbar sein.'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2211
- NonConstantFieldsShouldNotBeVisible
helpviewer_keywords:
- NonConstantFieldsShouldNotBeVisible
- CA2211
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 3653695a49277dcc99232795fd614b5cda8d919e
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591901"
---
# <a name="ca2211-non-constant-fields-should-not-be-visible"></a><span data-ttu-id="f0b77-103">CA2211: Nicht konstante Felder sollten nicht sichtbar sein.</span><span class="sxs-lookup"><span data-stu-id="f0b77-103">CA2211: Non-constant fields should not be visible</span></span>

| | <span data-ttu-id="f0b77-104">Wert</span><span class="sxs-lookup"><span data-stu-id="f0b77-104">Value</span></span> |
|-|-|
| <span data-ttu-id="f0b77-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="f0b77-105">**Rule ID**</span></span> |<span data-ttu-id="f0b77-106">CA2211</span><span class="sxs-lookup"><span data-stu-id="f0b77-106">CA2211</span></span>|
| <span data-ttu-id="f0b77-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="f0b77-107">**Category**</span></span> |<span data-ttu-id="f0b77-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="f0b77-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="f0b77-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="f0b77-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="f0b77-110">Breaking</span><span class="sxs-lookup"><span data-stu-id="f0b77-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="f0b77-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="f0b77-111">Cause</span></span>

<span data-ttu-id="f0b77-112">Ein öffentliches oder geschütztes statisches Feld ist nicht konstant und ist nicht schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="f0b77-112">A public or protected static field is not constant nor is it read-only.</span></span>

## <a name="rule-description"></a><span data-ttu-id="f0b77-113">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="f0b77-113">Rule description</span></span>

<span data-ttu-id="f0b77-114">Statische Felder, die weder konstant noch schreibgeschützt sind, sind nicht threadsicher.</span><span class="sxs-lookup"><span data-stu-id="f0b77-114">Static fields that are neither constants nor read-only are not thread-safe.</span></span> <span data-ttu-id="f0b77-115">Der Zugriff auf ein solches Feld muss sorgfältig gesteuert werden und erfordert erweiterte Programmierverfahren für die Synchronisierung des Zugriffs auf das Klassenobjekt.</span><span class="sxs-lookup"><span data-stu-id="f0b77-115">Access to such a field must be carefully controlled and requires advanced programming techniques for synchronizing access to the class object.</span></span> <span data-ttu-id="f0b77-116">Da es schwierig ist, die Kenntnisse zu erlernen und zu meistern, und das Testen eines solchen Objekts seine eigenen Herausforderungen darstellt, werden statische Felder am besten zum Speichern von Daten verwendet, die sich nicht ändern.</span><span class="sxs-lookup"><span data-stu-id="f0b77-116">Because these are difficult skills to learn and master, and testing such an object poses its own challenges, static fields are best used to store data that does not change.</span></span> <span data-ttu-id="f0b77-117">Diese Regel gilt für Bibliotheken. Anwendungen sollten keine Felder verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="f0b77-117">This rule applies to libraries; applications should not expose any fields.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="f0b77-118">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="f0b77-118">How to fix violations</span></span>

<span data-ttu-id="f0b77-119">Um einen Verstoß gegen diese Regel zu beheben, machen Sie das statische Feld konstant oder schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="f0b77-119">To fix a violation of this rule, make the static field constant or read-only.</span></span> <span data-ttu-id="f0b77-120">Wenn dies nicht möglich ist, sollten Sie den Typ so umgestalten, dass er einen alternativen Mechanismus verwendet, wie z. b. eine Thread sichere Eigenschaft, die den Thread sicheren Zugriff auf das zugrunde liegende Feld verwaltet.</span><span class="sxs-lookup"><span data-stu-id="f0b77-120">If this is not possible, redesign the type to use an alternative mechanism such as a thread-safe property that manages thread-safe access to the underlying field.</span></span> <span data-ttu-id="f0b77-121">Beachten Sie, dass Probleme, wie z. b. Sperr Konflikte und Deadlocks, die Leistung und das Verhalten der Bibliothek beeinflussen können.</span><span class="sxs-lookup"><span data-stu-id="f0b77-121">Realize that issues such as lock contention and deadlocks might affect the performance and behavior of the library.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="f0b77-122">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="f0b77-122">When to suppress warnings</span></span>

<span data-ttu-id="f0b77-123">Es ist sicher, eine Warnung aus dieser Regel zu unterdrücken, wenn Sie eine Anwendung entwickeln und daher die vollständige Kontrolle über den Zugriff auf den Typ haben, der das statische Feld enthält.</span><span class="sxs-lookup"><span data-stu-id="f0b77-123">It is safe to suppress a warning from this rule if you are developing an application and therefore have full control over access to the type that contains the static field.</span></span> <span data-ttu-id="f0b77-124">Bibliotheks-Designer sollten eine Warnung aus dieser Regel nicht unterdrücken. durch die Verwendung nicht konstanter statischer Felder kann die Verwendung der Bibliothek für Entwickler schwierig werden.</span><span class="sxs-lookup"><span data-stu-id="f0b77-124">Library designers should not suppress a warning from this rule; using non-constant static fields can make using the library difficult for developers to use correctly.</span></span>

## <a name="example"></a><span data-ttu-id="f0b77-125">Beispiel</span><span class="sxs-lookup"><span data-stu-id="f0b77-125">Example</span></span>

<span data-ttu-id="f0b77-126">Das folgende Beispiel zeigt einen Typ, der gegen diese Regel verstößt.</span><span class="sxs-lookup"><span data-stu-id="f0b77-126">The following example shows a type that violates this rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2211-non-constant-fields-should-not-be-visible_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca2211.cs" id="snippet1":::
