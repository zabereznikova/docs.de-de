---
title: 'CA2218: GetHashCode beim Überschreiben von Equals überschreiben.'
description: 'Weitere Informationen zur Code Analyse Regel CA2218: Überschreiben von GetHashCode beim Überschreiben von Gleichheitszeichen'
ms.date: 11/04/2016
ms.topic: reference
f1_keywords:
- CA2218
- OverrideGetHashCodeOnOverridingEquals
helpviewer_keywords:
- OverrideGetHashCodeOnOverridingEquals
- CA2218
dev_langs:
- VB
ms.openlocfilehash: aebe17a2dd2e2255d2111d42b59edbec05564042
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591848"
---
# <a name="ca2218-override-gethashcode-on-overriding-equals"></a><span data-ttu-id="d9524-103">CA2218: GetHashCode beim Überschreiben von Equals überschreiben.</span><span class="sxs-lookup"><span data-stu-id="d9524-103">CA2218: Override GetHashCode on overriding Equals</span></span>

|<span data-ttu-id="d9524-104">Element</span><span class="sxs-lookup"><span data-stu-id="d9524-104">Item</span></span>|<span data-ttu-id="d9524-105">Wert</span><span class="sxs-lookup"><span data-stu-id="d9524-105">Value</span></span>|
|-|-|
|<span data-ttu-id="d9524-106">RuleId</span><span class="sxs-lookup"><span data-stu-id="d9524-106">RuleId</span></span>|<span data-ttu-id="d9524-107">CA2218</span><span class="sxs-lookup"><span data-stu-id="d9524-107">CA2218</span></span>|
|<span data-ttu-id="d9524-108">Category</span><span class="sxs-lookup"><span data-stu-id="d9524-108">Category</span></span>|<span data-ttu-id="d9524-109">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="d9524-109">Microsoft.Usage</span></span>|
|<span data-ttu-id="d9524-110">Unterbrechende Änderung</span><span class="sxs-lookup"><span data-stu-id="d9524-110">Breaking change</span></span>|<span data-ttu-id="d9524-111">Nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="d9524-111">Non-breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="d9524-112">Ursache</span><span class="sxs-lookup"><span data-stu-id="d9524-112">Cause</span></span>

<span data-ttu-id="d9524-113">Ein öffentlicher Typ überschreibt, <xref:System.Object.Equals%2A?displayProperty=fullName> aber nicht außer Kraft <xref:System.Object.GetHashCode%2A?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="d9524-113">A public type overrides <xref:System.Object.Equals%2A?displayProperty=fullName> but does not override <xref:System.Object.GetHashCode%2A?displayProperty=fullName>.</span></span>

## <a name="rule-description"></a><span data-ttu-id="d9524-114">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="d9524-114">Rule description</span></span>

<span data-ttu-id="d9524-115"><xref:System.Object.GetHashCode%2A> gibt basierend auf der aktuellen Instanz einen-Wert zurück, der für Hash Algorithmen und Datenstrukturen wie Hash Tabellen geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="d9524-115"><xref:System.Object.GetHashCode%2A> returns a value, based on the current instance, that's suited for hashing algorithms and data structures such as hash tables.</span></span> <span data-ttu-id="d9524-116">Zwei Objekte, die denselben Typ und gleich sind, müssen denselben Hashcode zurückgeben, um sicherzustellen, dass Instanzen der folgenden Typen ordnungsgemäß funktionieren:</span><span class="sxs-lookup"><span data-stu-id="d9524-116">Two objects that are the same type and are equal must return the same hash code to ensure that instances of the following types work correctly:</span></span>

- <xref:System.Collections.Hashtable?displayProperty=fullName>
- <xref:System.Collections.SortedList?displayProperty=fullName>
- <xref:System.Collections.Generic.Dictionary%602?displayProperty=fullName>
- <xref:System.Collections.Generic.SortedDictionary%602?displayProperty=fullName>
- <xref:System.Collections.Generic.SortedList%602?displayProperty=fullName>
- <xref:System.Collections.Specialized.HybridDictionary?displayProperty=fullName>
- <xref:System.Collections.Specialized.ListDictionary?displayProperty=fullName>
- <xref:System.Collections.Specialized.OrderedDictionary?displayProperty=fullName>
- <span data-ttu-id="d9524-117">Typen, die implementieren <xref:System.Collections.Generic.IEqualityComparer%601?displayProperty=fullName></span><span class="sxs-lookup"><span data-stu-id="d9524-117">Types that implement <xref:System.Collections.Generic.IEqualityComparer%601?displayProperty=fullName></span></span>

> [!NOTE]
> <span data-ttu-id="d9524-118">Diese Regel gilt nur für Visual Basic-Code.</span><span class="sxs-lookup"><span data-stu-id="d9524-118">This rule only applies to Visual Basic code.</span></span> <span data-ttu-id="d9524-119">Der c#-Compiler generiert eine separate Warnung, [CS0659](../../../csharp/misc/cs0659.md).</span><span class="sxs-lookup"><span data-stu-id="d9524-119">The C# compiler generates a separate warning, [CS0659](../../../csharp/misc/cs0659.md).</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="d9524-120">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="d9524-120">How to fix violations</span></span>

<span data-ttu-id="d9524-121">Um einen Verstoß gegen diese Regel zu beheben, stellen Sie eine Implementierung von bereit <xref:System.Object.GetHashCode%2A> .</span><span class="sxs-lookup"><span data-stu-id="d9524-121">To fix a violation of this rule, provide an implementation of <xref:System.Object.GetHashCode%2A>.</span></span> <span data-ttu-id="d9524-122">Bei einem Paar von Objekten desselben Typs müssen Sie sicherstellen, dass die Implementierung denselben Wert zurückgibt, wenn die Implementierung von <xref:System.Object.Equals%2A> `true` für das Paar zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="d9524-122">For a pair of objects of the same type, ensure that the implementation returns the same value if your implementation of <xref:System.Object.Equals%2A> returns `true` for the pair.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="d9524-123">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="d9524-123">When to suppress warnings</span></span>

<span data-ttu-id="d9524-124">Unterdrücken Sie keine Warnung dieser Regel.</span><span class="sxs-lookup"><span data-stu-id="d9524-124">Do not suppress a warning from this rule.</span></span>

## <a name="class-example"></a><span data-ttu-id="d9524-125">Klassenbeispiel</span><span class="sxs-lookup"><span data-stu-id="d9524-125">Class example</span></span>

<span data-ttu-id="d9524-126">Das folgende Beispiel zeigt eine Klasse (Verweistyp), die gegen diese Regel verstößt.</span><span class="sxs-lookup"><span data-stu-id="d9524-126">The following example shows a class (reference type) that violates this rule.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2218.vb" id="1":::

<span data-ttu-id="d9524-127">Im folgenden Beispiel wird die Verletzung durch Überschreiben behoben <xref:System.Object.GetHashCode> .</span><span class="sxs-lookup"><span data-stu-id="d9524-127">The following example fixes the violation by overriding <xref:System.Object.GetHashCode>.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca2218.vb" id="2":::

## <a name="related-rules"></a><span data-ttu-id="d9524-128">Verwandte Regeln</span><span class="sxs-lookup"><span data-stu-id="d9524-128">Related rules</span></span>

- [<span data-ttu-id="d9524-129">CA1046: Gleichheitsoperator für Referenztypen nicht überladen.</span><span class="sxs-lookup"><span data-stu-id="d9524-129">CA1046: Do not overload operator equals on reference types</span></span>](ca1046.md)
- [<span data-ttu-id="d9524-130">CA2224: Equals beim Überladen von Gleichheitsoperatoren überschreiben.</span><span class="sxs-lookup"><span data-stu-id="d9524-130">CA2224: Override equals on overloading operator equals</span></span>](ca2224.md)
- [<span data-ttu-id="d9524-131">CA2225: Operatorüberladungen weisen benannte Alternativen auf.</span><span class="sxs-lookup"><span data-stu-id="d9524-131">CA2225: Operator overloads have named alternates</span></span>](ca2225.md)
- [<span data-ttu-id="d9524-132">CA2226: Operatoren sollten symmetrische Überladungen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="d9524-132">CA2226: Operators should have symmetrical overloads</span></span>](ca2226.md)
- [<span data-ttu-id="d9524-133">CA2231: Überladen Sie den Gleichheitsoperator beim Überschreiben von ValueType.Equals.</span><span class="sxs-lookup"><span data-stu-id="d9524-133">CA2231: Overload operator equals on overriding ValueType.Equals</span></span>](ca2231.md)

## <a name="see-also"></a><span data-ttu-id="d9524-134">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="d9524-134">See also</span></span>

- [<span data-ttu-id="d9524-135">CS0659</span><span class="sxs-lookup"><span data-stu-id="d9524-135">CS0659</span></span>](../../../csharp/misc/cs0659.md)
- <xref:System.Object.Equals%2A?displayProperty=fullName>
- <xref:System.Object.GetHashCode%2A?displayProperty=fullName>
- <xref:System.Collections.Hashtable?displayProperty=fullName>
- [<span data-ttu-id="d9524-136">Gleichheits Operatoren</span><span class="sxs-lookup"><span data-stu-id="d9524-136">Equality Operators</span></span>](../../../standard/design-guidelines/equality-operators.md)
