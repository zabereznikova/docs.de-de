---
title: 'CA1003: generische Ereignishandlerinstanzen verwenden (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA1003: Verwenden von generischen Ereignishandlerinstanzen'
ms.date: 03/11/2019
ms.topic: reference
f1_keywords:
- UseGenericEventHandlerInstances
- CA1003
helpviewer_keywords:
- CA1003
- UseGenericEventHandlerInstances
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: ded64a3f5c2ff519448733c5c94145f2fdfc056d
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591891"
---
# <a name="ca1003-use-generic-event-handler-instances"></a><span data-ttu-id="0ec86-103">CA1003: Generische Ereignishandlerinstanzen verwenden.</span><span class="sxs-lookup"><span data-stu-id="0ec86-103">CA1003: Use generic event handler instances</span></span>

| <span data-ttu-id="0ec86-104">Element</span><span class="sxs-lookup"><span data-stu-id="0ec86-104">Item</span></span>                                     | <span data-ttu-id="0ec86-105">Wert</span><span class="sxs-lookup"><span data-stu-id="0ec86-105">Value</span></span>            |
|------------------------------------------|------------------|
| <span data-ttu-id="0ec86-106">RuleId</span><span class="sxs-lookup"><span data-stu-id="0ec86-106">RuleId</span></span>                                   | <span data-ttu-id="0ec86-107">CA1003</span><span class="sxs-lookup"><span data-stu-id="0ec86-107">CA1003</span></span>           |
| <span data-ttu-id="0ec86-108">Category</span><span class="sxs-lookup"><span data-stu-id="0ec86-108">Category</span></span>                                 | <span data-ttu-id="0ec86-109">Microsoft. Design</span><span class="sxs-lookup"><span data-stu-id="0ec86-109">Microsoft.Design</span></span> |
| <span data-ttu-id="0ec86-110">Behebung ist unterbrechend oder nicht unterbrechend</span><span class="sxs-lookup"><span data-stu-id="0ec86-110">Fix is breaking or non-breaking</span></span> | <span data-ttu-id="0ec86-111">Breaking</span><span class="sxs-lookup"><span data-stu-id="0ec86-111">Breaking</span></span>         |

## <a name="cause"></a><span data-ttu-id="0ec86-112">Ursache</span><span class="sxs-lookup"><span data-stu-id="0ec86-112">Cause</span></span>

<span data-ttu-id="0ec86-113">Ein Typ enthält einen Delegaten, der "void" zurückgibt und dessen Signatur zwei Parameter enthält (das erste Objekt und das zweite einen Typ, der EventArgs zugewiesen werden kann), und die enthaltende Assembly als Ziel .net.</span><span class="sxs-lookup"><span data-stu-id="0ec86-113">A type contains a delegate that returns void and whose signature contains two parameters (the first an object and the second a type that is assignable to EventArgs), and the containing assembly targets .NET.</span></span>

<span data-ttu-id="0ec86-114">Standardmäßig betrachtet diese Regel nur extern sichtbare Typen, aber dies ist [konfigurierbar](#configurability).</span><span class="sxs-lookup"><span data-stu-id="0ec86-114">By default, this rule only looks at externally visible types, but this is [configurable](#configurability).</span></span>

## <a name="rule-description"></a><span data-ttu-id="0ec86-115">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="0ec86-115">Rule description</span></span>

<span data-ttu-id="0ec86-116">Bevor .NET Framework 2,0, um benutzerdefinierte Informationen an den-Ereignishandler zu übergeben, musste ein neuer Delegat deklariert werden, der eine Klasse angibt, die von der-Klasse abgeleitet wurde <xref:System.EventArgs?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="0ec86-116">Before .NET Framework 2.0, in order to pass custom information to the event handler, a new delegate had to be declared that specified a class that was derived from the <xref:System.EventArgs?displayProperty=fullName> class.</span></span> <span data-ttu-id="0ec86-117">In .NET Framework 2,0 und höheren Versionen ermöglicht der generische Delegat, <xref:System.EventHandler%601?displayProperty=fullName> dass jede Klasse, die von abgeleitet ist, in <xref:System.EventArgs> Verbindung mit dem-Ereignishandler verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="0ec86-117">In .NET Framework 2.0 and later versions, the generic <xref:System.EventHandler%601?displayProperty=fullName> delegate allows any class that's derived from <xref:System.EventArgs> to be used together with the event handler.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="0ec86-118">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="0ec86-118">How to fix violations</span></span>

<span data-ttu-id="0ec86-119">Um einen Verstoß gegen diese Regel zu beheben, entfernen Sie den-Delegaten, und ersetzen Sie dessen Verwendung mithilfe des-Delegaten <xref:System.EventHandler%601?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="0ec86-119">To fix a violation of this rule, remove the delegate and replace its use by using the <xref:System.EventHandler%601?displayProperty=fullName> delegate.</span></span>

<span data-ttu-id="0ec86-120">Wenn der Delegat automatisch vom Visual Basic-Compiler generiert wird, ändern Sie die Syntax der Ereignis Deklaration, um den Delegaten zu verwenden <xref:System.EventHandler%601?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="0ec86-120">If the delegate is autogenerated by the Visual Basic compiler, change the syntax of the event declaration to use the <xref:System.EventHandler%601?displayProperty=fullName> delegate.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="0ec86-121">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="0ec86-121">When to suppress warnings</span></span>

<span data-ttu-id="0ec86-122">Unterdrücken Sie keine Warnung dieser Regel.</span><span class="sxs-lookup"><span data-stu-id="0ec86-122">Do not suppress a warning from this rule.</span></span>

## <a name="configurability"></a><span data-ttu-id="0ec86-123">Konfigurierbarkeit</span><span class="sxs-lookup"><span data-stu-id="0ec86-123">Configurability</span></span>

<span data-ttu-id="0ec86-124">Sie können basierend auf ihrer Barrierefreiheit konfigurieren, für welche Teile Ihrer Codebasis diese Regel ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="0ec86-124">You can configure which parts of your codebase to run this rule on, based on their accessibility.</span></span> <span data-ttu-id="0ec86-125">Um z. b. anzugeben, dass die Regel nur für die nicht öffentliche API-Oberfläche ausgeführt werden soll, fügen Sie das folgende Schlüssel-Wert-Paar in eine *Editor config* -Datei in Ihrem Projekt ein:</span><span class="sxs-lookup"><span data-stu-id="0ec86-125">For example, to specify that the rule should run only against the non-public API surface, add the following key-value pair to an *.editorconfig* file in your project:</span></span>

```ini
dotnet_code_quality.ca1003.api_surface = private, internal
```

<span data-ttu-id="0ec86-126">Sie können diese Option nur für diese Regel, für alle Regeln oder für alle Regeln in dieser Kategorie (Entwurf) konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="0ec86-126">You can configure this option for just this rule, for all rules, or for all rules in this category (Design).</span></span> <span data-ttu-id="0ec86-127">Weitere Informationen finden Sie unter [Konfigurationsoptionen für die Code Qualitäts Regel](../code-quality-rule-options.md).</span><span class="sxs-lookup"><span data-stu-id="0ec86-127">For more information, see [Code quality rule configuration options](../code-quality-rule-options.md).</span></span>

## <a name="example"></a><span data-ttu-id="0ec86-128">Beispiel</span><span class="sxs-lookup"><span data-stu-id="0ec86-128">Example</span></span>

<span data-ttu-id="0ec86-129">Das folgende Beispiel zeigt einen Delegaten, der gegen die Regel verstößt.</span><span class="sxs-lookup"><span data-stu-id="0ec86-129">The following example shows a delegate that violates the rule.</span></span> <span data-ttu-id="0ec86-130">Im Visual Basic Beispiel wird beschrieben, wie Sie das Beispiel ändern, um die Regel zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="0ec86-130">In the Visual Basic example, comments describe how to modify the example to satisfy the rule.</span></span> <span data-ttu-id="0ec86-131">Im c#-Beispiel folgt ein Beispiel, das den geänderten Code anzeigt.</span><span class="sxs-lookup"><span data-stu-id="0ec86-131">For the C# example, an example follows that shows the modified code.</span></span>

:::code language="vb" source="snippets/vb/all-rules/ca1003-use-generic-event-handler-instances_1.vb":::

:::code language="csharp" source="snippets/csharp/all-rules/ca1003.cs" id="snippet1":::

<span data-ttu-id="0ec86-132">Der folgende Code Ausschnitt entfernt die Delegatdeklaration aus dem vorherigen Beispiel, die die Regel erfüllt.</span><span class="sxs-lookup"><span data-stu-id="0ec86-132">The following code snippet removes the delegate declaration from the previous example, which satisfies the rule.</span></span> <span data-ttu-id="0ec86-133">Er ersetzt seine Verwendung in den `ClassThatRaisesEvent` Methoden und mithilfe des-Delegaten `ClassThatHandlesEvent` <xref:System.EventHandler%601?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="0ec86-133">It replaces its use in the `ClassThatRaisesEvent` and `ClassThatHandlesEvent` methods by using the <xref:System.EventHandler%601?displayProperty=fullName> delegate.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca1003.cs" id="snippet2":::

## <a name="related-rules"></a><span data-ttu-id="0ec86-134">Verwandte Regeln</span><span class="sxs-lookup"><span data-stu-id="0ec86-134">Related rules</span></span>

- [<span data-ttu-id="0ec86-135">CA1005: Übermäßige Anzahl von Parametern in generischen Typen vermeiden.</span><span class="sxs-lookup"><span data-stu-id="0ec86-135">CA1005: Avoid excessive parameters on generic types</span></span>](ca1005.md)
- [<span data-ttu-id="0ec86-136">CA1010: Sammlungen müssen eine generische Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="0ec86-136">CA1010: Collections should implement generic interface</span></span>](ca1010.md)
- [<span data-ttu-id="0ec86-137">CA1000: Statische Member nicht in generischen Typen deklarieren.</span><span class="sxs-lookup"><span data-stu-id="0ec86-137">CA1000: Do not declare static members on generic types</span></span>](ca1000.md)
- [<span data-ttu-id="0ec86-138">CA1002: Generische Listen nicht verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="0ec86-138">CA1002: Do not expose generic lists</span></span>](ca1002.md)

## <a name="see-also"></a><span data-ttu-id="0ec86-139">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="0ec86-139">See also</span></span>

- [<span data-ttu-id="0ec86-140">Generics</span><span class="sxs-lookup"><span data-stu-id="0ec86-140">Generics</span></span>](../../../csharp/programming-guide/generics/index.md)
