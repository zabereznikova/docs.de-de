---
title: 'CA2227: Sammlungs Eigenschaften sollten schreibgeschützt sein (Code Analyse)'
description: 'Weitere Informationen zur Code Analyse Regel CA2227: Sammlungs Eigenschaften sollten schreibgeschützt sein.'
ms.date: 09/28/2018
ms.topic: reference
f1_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
helpviewer_keywords:
- CA2227
- CollectionPropertiesShouldBeReadOnly
author: gewarren
ms.author: gewarren
dev_langs:
- CSharp
- VB
ms.openlocfilehash: 793c6f9676279cc0a4e6ada16a560d733abddc6b
ms.sourcegitcommit: a6bd4cad438fe479cbd112eae10f2cd449f06e40
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/08/2020
ms.locfileid: "96591845"
---
# <a name="ca2227-collection-properties-should-be-read-only"></a><span data-ttu-id="46bde-103">CA2227: Sammlungseigenschaften sollten schreibgeschützt sein.</span><span class="sxs-lookup"><span data-stu-id="46bde-103">CA2227: Collection properties should be read only</span></span>

| | <span data-ttu-id="46bde-104">Wert</span><span class="sxs-lookup"><span data-stu-id="46bde-104">Value</span></span> |
|-|-|
| <span data-ttu-id="46bde-105">**Regel-ID**</span><span class="sxs-lookup"><span data-stu-id="46bde-105">**Rule ID**</span></span> |<span data-ttu-id="46bde-106">CA2227</span><span class="sxs-lookup"><span data-stu-id="46bde-106">CA2227</span></span>|
| <span data-ttu-id="46bde-107">**Kategorie**</span><span class="sxs-lookup"><span data-stu-id="46bde-107">**Category**</span></span> |<span data-ttu-id="46bde-108">Microsoft. Usage</span><span class="sxs-lookup"><span data-stu-id="46bde-108">Microsoft.Usage</span></span>|
| <span data-ttu-id="46bde-109">**Behebung ist unterbrechend oder nicht unterbrechend**</span><span class="sxs-lookup"><span data-stu-id="46bde-109">**Fix is breaking or non-breaking**</span></span> |<span data-ttu-id="46bde-110">Breaking</span><span class="sxs-lookup"><span data-stu-id="46bde-110">Breaking</span></span>|

## <a name="cause"></a><span data-ttu-id="46bde-111">Ursache</span><span class="sxs-lookup"><span data-stu-id="46bde-111">Cause</span></span>

<span data-ttu-id="46bde-112">Eine extern sichtbare, beschreibbare Eigenschaft ist ein Typ, der implementiert <xref:System.Collections.ICollection?displayProperty=fullName> .</span><span class="sxs-lookup"><span data-stu-id="46bde-112">An externally visible, writable property is of a type that implements <xref:System.Collections.ICollection?displayProperty=fullName>.</span></span> <span data-ttu-id="46bde-113">Diese Regel ignoriert Arrays, Indexer (Eigenschaften mit dem Namen "Item"), unveränderliche Auflistungen, schreibgeschützte Auflistungen und Berechtigungs Sätze.</span><span class="sxs-lookup"><span data-stu-id="46bde-113">This rule ignores arrays, indexers (properties with the name 'Item'), immutable collections, readonly collections, and permission sets.</span></span>

## <a name="rule-description"></a><span data-ttu-id="46bde-114">Regelbeschreibung</span><span class="sxs-lookup"><span data-stu-id="46bde-114">Rule description</span></span>

<span data-ttu-id="46bde-115">Eine beschreibbare Auflistungs Eigenschaft ermöglicht es einem Benutzer, die Sammlung durch eine vollkommen andere Auflistung zu ersetzen.</span><span class="sxs-lookup"><span data-stu-id="46bde-115">A writable collection property allows a user to replace the collection with a completely different collection.</span></span> <span data-ttu-id="46bde-116">Eine schreibgeschützte Eigenschaft verhindert, dass die Auflistung ersetzt wird, lässt jedoch weiterhin zu, dass die einzelnen Member festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="46bde-116">A read-only property stops the collection from being replaced, but still allows the individual members to be set.</span></span> <span data-ttu-id="46bde-117">Wenn das Ersetzen der Auflistung ein Ziel ist, besteht das bevorzugte Entwurfsmuster darin, eine Methode zum Entfernen aller Elemente aus der Auflistung und eine Methode zum erneuten Auffüllen der Auflistung einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="46bde-117">If replacing the collection is a goal, the preferred design pattern is to include a method to remove all the elements from the collection, and a method to repopulate the collection.</span></span> <span data-ttu-id="46bde-118">Ein Beispiel für dieses Muster finden Sie unter den <xref:System.Collections.ArrayList.Clear%2A> -und- <xref:System.Collections.ArrayList.AddRange%2A> Methoden der- <xref:System.Collections.ArrayList?displayProperty=fullName> Klasse.</span><span class="sxs-lookup"><span data-stu-id="46bde-118">See the <xref:System.Collections.ArrayList.Clear%2A> and <xref:System.Collections.ArrayList.AddRange%2A> methods of the <xref:System.Collections.ArrayList?displayProperty=fullName> class for an example of this pattern.</span></span>

<span data-ttu-id="46bde-119">Sowohl die binäre als auch die XML-Serialisierung unterstützen schreibgeschützte Eigenschaften, die Sammlungen sind.</span><span class="sxs-lookup"><span data-stu-id="46bde-119">Both binary and XML serialization support read-only properties that are collections.</span></span> <span data-ttu-id="46bde-120">Die <xref:System.Xml.Serialization.XmlSerializer?displayProperty=fullName> -Klasse verfügt über bestimmte Anforderungen für Typen, die implementieren, <xref:System.Collections.ICollection> und <xref:System.Collections.IEnumerable?displayProperty=fullName> , um serialisierbar zu sein.</span><span class="sxs-lookup"><span data-stu-id="46bde-120">The <xref:System.Xml.Serialization.XmlSerializer?displayProperty=fullName> class has specific requirements for types that implement <xref:System.Collections.ICollection> and <xref:System.Collections.IEnumerable?displayProperty=fullName> in order to be serializable.</span></span>

## <a name="how-to-fix-violations"></a><span data-ttu-id="46bde-121">Behandeln von Verstößen</span><span class="sxs-lookup"><span data-stu-id="46bde-121">How to fix violations</span></span>

<span data-ttu-id="46bde-122">Um einen Verstoß gegen diese Regel zu beheben, legen Sie die Eigenschaft als schreibgeschützt fest.</span><span class="sxs-lookup"><span data-stu-id="46bde-122">To fix a violation of this rule, make the property read-only.</span></span> <span data-ttu-id="46bde-123">Wenn der Entwurf dies erfordert, fügen Sie Methoden hinzu, um die Auflistung zu löschen und neu aufzufüllen.</span><span class="sxs-lookup"><span data-stu-id="46bde-123">If the design requires it, add methods to clear and repopulate the collection.</span></span>

## <a name="when-to-suppress-warnings"></a><span data-ttu-id="46bde-124">Wann sollten Warnungen unterdrückt werden?</span><span class="sxs-lookup"><span data-stu-id="46bde-124">When to suppress warnings</span></span>

<span data-ttu-id="46bde-125">Sie können die Warnung unterdrücken, wenn die Eigenschaft Teil einer [Datenübertragung Object (dto)](/previous-versions/msp-n-p/ff649585(v=pandp.10)) -Klasse ist.</span><span class="sxs-lookup"><span data-stu-id="46bde-125">You can suppress the warning if the property is part of a [Data Transfer Object (DTO)](/previous-versions/msp-n-p/ff649585(v=pandp.10)) class.</span></span>

<span data-ttu-id="46bde-126">Andernfalls sollten Sie keine Warnungen dieser Regel unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="46bde-126">Otherwise, do not suppress warnings from this rule.</span></span>

## <a name="example"></a><span data-ttu-id="46bde-127">Beispiel</span><span class="sxs-lookup"><span data-stu-id="46bde-127">Example</span></span>

<span data-ttu-id="46bde-128">Das folgende Beispiel zeigt einen Typ mit einer beschreibbaren Auflistungs Eigenschaft und zeigt, wie die Auflistung direkt ersetzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="46bde-128">The following example shows a type with a writable collection property and shows how the collection can be replaced directly.</span></span> <span data-ttu-id="46bde-129">Außerdem zeigt es die bevorzugte Methode zum Ersetzen einer schreibgeschützten Auflistungs Eigenschaft mithilfe `Clear` der `AddRange` Methoden und.</span><span class="sxs-lookup"><span data-stu-id="46bde-129">Additionally, it shows the preferred manner of replacing a read-only collection property using `Clear` and `AddRange` methods.</span></span>

:::code language="csharp" source="snippets/csharp/all-rules/ca2227.cs" id="snippet1":::

:::code language="vb" source="snippets/vb/all-rules/ca2227-collection-properties-should-be-read-only_1.vb":::

## <a name="related-rules"></a><span data-ttu-id="46bde-130">Verwandte Regeln</span><span class="sxs-lookup"><span data-stu-id="46bde-130">Related rules</span></span>

- [<span data-ttu-id="46bde-131">CA1819: Eigenschaften sollten keine Arrays zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="46bde-131">CA1819: Properties should not return arrays</span></span>](ca1819.md)
