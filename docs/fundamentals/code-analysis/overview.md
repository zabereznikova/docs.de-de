---
title: Code Analyse in .net
titleSuffix: ''
description: Erfahren Sie mehr über die Quell Code Analyse im .NET SDK.
ms.date: 08/22/2020
ms.topic: overview
ms.custom: updateeachrelease
helpviewer_keywords:
- code analysis
- code analyzers
ms.openlocfilehash: 8efac4d5e3fddcb9fdc6e08bcc933f2776420ced
ms.sourcegitcommit: ecd9e9bb2225eb76f819722ea8b24988fe46f34c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/05/2020
ms.locfileid: "96739973"
---
# <a name="overview-of-net-source-code-analysis"></a><span data-ttu-id="63ebd-103">Übersicht über die Analyse von .NET-Quellcode</span><span class="sxs-lookup"><span data-stu-id="63ebd-103">Overview of .NET source code analysis</span></span>

<span data-ttu-id="63ebd-104">Die Analysetools für die .NET-Compilerplattform (Roslyn) untersuchen Ihren C#- oder Visual Basic-Code auf Probleme hinsichtlich Codequalität und Codeformat.</span><span class="sxs-lookup"><span data-stu-id="63ebd-104">.NET compiler platform (Roslyn) analyzers inspect your C# or Visual Basic code for code quality and code style issues.</span></span> <span data-ttu-id="63ebd-105">Ab .NET 5.0 sind diese Analysetools im .NET SDK enthalten.</span><span class="sxs-lookup"><span data-stu-id="63ebd-105">Starting in .NET 5.0, these analyzers are included with the .NET SDK.</span></span> <span data-ttu-id="63ebd-106">Wenn Sie nicht zum .net 5 + SDK wechseln möchten oder wenn Sie ein auf einem nuget-Paket basierendes Modell bevorzugen, sind die Analysetools auch im `Microsoft.CodeAnalysis.NetAnalyzers` [nuget-Paket](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers)verfügbar.</span><span class="sxs-lookup"><span data-stu-id="63ebd-106">If you don't want to move to the .NET 5+ SDK or if you prefer a NuGet package-based model, the analyzers are also available in the `Microsoft.CodeAnalysis.NetAnalyzers` [NuGet package](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span></span> <span data-ttu-id="63ebd-107">Möglicherweise bevorzugen Sie ein Paket basiertes Modell für Bedarfs gesteuerte Versions Aktualisierungen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-107">You might prefer a package-based model for on-demand version updates.</span></span>

> [!NOTE]
> <span data-ttu-id="63ebd-108">.Net-Analysen sind Zielplattform-agnostisch.</span><span class="sxs-lookup"><span data-stu-id="63ebd-108">.NET analyzers are target-platform agnostic.</span></span> <span data-ttu-id="63ebd-109">Das heißt, das Projekt muss keine bestimmte .NET-Plattform als Ziel haben.</span><span class="sxs-lookup"><span data-stu-id="63ebd-109">That is, your project does not need to target a specific .NET platform.</span></span> <span data-ttu-id="63ebd-110">Die Analyzer funktionieren für Projekte, die auf `net5.0` und frühere Versionen von .net abzielen, z `netcoreapp` . b `netstandard` ., und `net472` .</span><span class="sxs-lookup"><span data-stu-id="63ebd-110">The analyzers work for projects that target `net5.0` as well as earlier .NET versions, such as `netcoreapp`, `netstandard`, and `net472`.</span></span>

- [<span data-ttu-id="63ebd-111">Code Qualitätsanalyse ("CAXXXX"-Regeln)</span><span class="sxs-lookup"><span data-stu-id="63ebd-111">Code quality analysis ("CAxxxx" rules)</span></span>](#code-quality-analysis)
- [<span data-ttu-id="63ebd-112">Code Format Analyse ("idexxxx"-Regeln)</span><span class="sxs-lookup"><span data-stu-id="63ebd-112">Code style analysis ("IDExxxx" rules)</span></span>](#code-style-analysis)

<span data-ttu-id="63ebd-113">Wenn Regelverstöße von einem Analyzer gefunden werden, werden Sie abhängig von der [Konfiguration](configuration-options.md)der einzelnen Regeln als Vorschlag, Warnung oder Fehler gemeldet.</span><span class="sxs-lookup"><span data-stu-id="63ebd-113">If rule violations are found by an analyzer, they're reported as a suggestion, warning, or error, depending on how each rule is [configured](configuration-options.md).</span></span> <span data-ttu-id="63ebd-114">Code Analyse Verstöße werden mit dem Präfix "ca" oder "IDE" angezeigt, um Sie von Compilerfehlern zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="63ebd-114">Code analysis violations appear with the prefix "CA" or "IDE" to differentiate them from compiler errors.</span></span>

> [!TIP]
>
> - <span data-ttu-id="63ebd-115">Sie können auch Analysemodule von Drittanbietern installieren, z. b. [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [xUnit](https://www.nuget.org/packages/xunit.analyzers/) [Analyzer und Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span><span class="sxs-lookup"><span data-stu-id="63ebd-115">You can also install third party analyzers, such as [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [XUnit Analyzers](https://www.nuget.org/packages/xunit.analyzers/), and [Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span></span>
> - <span data-ttu-id="63ebd-116">Wenn Sie Visual Studio verwenden, verfügen viele Analyzer-Regeln über zugeordnete *Code Korrekturen* , die Sie anwenden können, um das Problem zu beheben.</span><span class="sxs-lookup"><span data-stu-id="63ebd-116">If you're using Visual Studio, many analyzer rules have associated *code fixes* that you can apply to correct the problem.</span></span> <span data-ttu-id="63ebd-117">Code Korrekturen werden im Glühbirnen Symbol-Menü angezeigt.</span><span class="sxs-lookup"><span data-stu-id="63ebd-117">Code fixes are shown in the light bulb icon menu.</span></span>

## <a name="code-quality-analysis"></a><span data-ttu-id="63ebd-118">Analyse der Codequalität</span><span class="sxs-lookup"><span data-stu-id="63ebd-118">Code quality analysis</span></span>

<span data-ttu-id="63ebd-119">_Regeln für die Code Qualitätsanalyse ("ca")_ untersuchen ihren c#-oder Visual Basic-Code auf Sicherheit, Leistung, Entwurf und andere Probleme.</span><span class="sxs-lookup"><span data-stu-id="63ebd-119">_Code quality analysis ("CA") rules_ inspect your C# or Visual Basic code for security, performance, design and other issues.</span></span> <span data-ttu-id="63ebd-120">Die Analyse ist standardmäßig für Projekte aktiviert, die auf .net 5,0 oder höher ausgerichtet sind.</span><span class="sxs-lookup"><span data-stu-id="63ebd-120">Analysis is enabled, by default, for projects that target .NET 5.0 or later.</span></span> <span data-ttu-id="63ebd-121">Sie können die Code Analyse für Projekte aktivieren, die auf frühere .NET-Versionen abzielen, indem Sie die [enablenetanalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) -Eigenschaft auf festlegen `true` .</span><span class="sxs-lookup"><span data-stu-id="63ebd-121">You can enable code analysis on projects that target earlier .NET versions by setting the [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) property to `true`.</span></span> <span data-ttu-id="63ebd-122">Sie können die Code Analyse für Ihr Projekt auch deaktivieren, indem Sie `EnableNETAnalyzers` auf festlegen `false` .</span><span class="sxs-lookup"><span data-stu-id="63ebd-122">You can also disable code analysis for your project by setting `EnableNETAnalyzers` to `false`.</span></span>

> [!TIP]
> <span data-ttu-id="63ebd-123">In Visual Studio können Sie die Code Analyse mithilfe der Projekt Eigenschaftenfenster aktivieren oder deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="63ebd-123">In Visual Studio, you can enable or disable code analysis using the Project Properties window.</span></span> <span data-ttu-id="63ebd-124">Um auf das Projekt Eigenschaftenfenster zuzugreifen, klicken Sie mit der rechten Maustaste auf ein Projekt in Projektmappen-Explorer, und wählen Sie **Eigenschaften** aus.</span><span class="sxs-lookup"><span data-stu-id="63ebd-124">To access the Project Properties window, right-click on a project within Solution Explorer and select **Properties**.</span></span> <span data-ttu-id="63ebd-125">Wählen Sie als nächstes die Registerkarte **Code Analyse** aus, und aktivieren oder deaktivieren Sie dann das Kontrollkästchen, um **.net-Analysen zu aktivieren**.</span><span class="sxs-lookup"><span data-stu-id="63ebd-125">Next, select the **Code Analysis** tab, and then either select or clear the checkbox to **Enable .NET analyzers**.</span></span>

### <a name="enabled-rules"></a><span data-ttu-id="63ebd-126">Aktivierte Regeln</span><span class="sxs-lookup"><span data-stu-id="63ebd-126">Enabled rules</span></span>

<span data-ttu-id="63ebd-127">Die folgenden Regeln sind standardmäßig in .net 5,0 Preview 8 aktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-127">The following rules are enabled, by default, in .NET 5.0 Preview 8.</span></span>

| <span data-ttu-id="63ebd-128">Diagnose-ID</span><span class="sxs-lookup"><span data-stu-id="63ebd-128">Diagnostic ID</span></span> | <span data-ttu-id="63ebd-129">Category</span><span class="sxs-lookup"><span data-stu-id="63ebd-129">Category</span></span> | <span data-ttu-id="63ebd-130">Schweregrad</span><span class="sxs-lookup"><span data-stu-id="63ebd-130">Severity</span></span> | <span data-ttu-id="63ebd-131">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="63ebd-131">Description</span></span> |
| - | - | - | - |
| [<span data-ttu-id="63ebd-132">CA1416</span><span class="sxs-lookup"><span data-stu-id="63ebd-132">CA1416</span></span>](/visualstudio/code-quality/ca1416) | <span data-ttu-id="63ebd-133">Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="63ebd-133">Interoperability</span></span> | <span data-ttu-id="63ebd-134">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-134">Warning</span></span> | <span data-ttu-id="63ebd-135">Analysetool für die Plattformkompatibilität</span><span class="sxs-lookup"><span data-stu-id="63ebd-135">Platform compatibility analyzer</span></span> |
| [<span data-ttu-id="63ebd-136">CA1417</span><span class="sxs-lookup"><span data-stu-id="63ebd-136">CA1417</span></span>](/visualstudio/code-quality/ca1417) | <span data-ttu-id="63ebd-137">Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="63ebd-137">Interoperability</span></span> | <span data-ttu-id="63ebd-138">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-138">Warning</span></span> | <span data-ttu-id="63ebd-139">Nicht `OutAttribute` für Zeichen folgen Parameter für P/Aufrufe verwenden</span><span class="sxs-lookup"><span data-stu-id="63ebd-139">Do not use `OutAttribute` on string parameters for P/Invokes</span></span> |
| [<span data-ttu-id="63ebd-140">CA1831</span><span class="sxs-lookup"><span data-stu-id="63ebd-140">CA1831</span></span>](/visualstudio/code-quality/ca1831) | <span data-ttu-id="63ebd-141">Leistung</span><span class="sxs-lookup"><span data-stu-id="63ebd-141">Performance</span></span> | <span data-ttu-id="63ebd-142">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-142">Warning</span></span> | <span data-ttu-id="63ebd-143">Verwenden Sie `AsSpan` anstelle von Bereichs basierten indexatoren für Zeichen folgen, wenn dies angebracht ist.</span><span class="sxs-lookup"><span data-stu-id="63ebd-143">Use `AsSpan` instead of range-based indexers for string when appropriate</span></span> |
| [<span data-ttu-id="63ebd-144">CA2013</span><span class="sxs-lookup"><span data-stu-id="63ebd-144">CA2013</span></span>](/visualstudio/code-quality/ca2013) | <span data-ttu-id="63ebd-145">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="63ebd-145">Reliability</span></span> | <span data-ttu-id="63ebd-146">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-146">Warning</span></span> | <span data-ttu-id="63ebd-147">Nicht `ReferenceEquals` mit Werttypen verwenden</span><span class="sxs-lookup"><span data-stu-id="63ebd-147">Do not use `ReferenceEquals` with value types</span></span> |
| [<span data-ttu-id="63ebd-148">CA2014</span><span class="sxs-lookup"><span data-stu-id="63ebd-148">CA2014</span></span>](/visualstudio/code-quality/ca2014) | <span data-ttu-id="63ebd-149">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="63ebd-149">Reliability</span></span> | <span data-ttu-id="63ebd-150">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-150">Warning</span></span> | <span data-ttu-id="63ebd-151">Nicht `stackalloc` in Schleifen verwenden</span><span class="sxs-lookup"><span data-stu-id="63ebd-151">Do not use `stackalloc` in loops</span></span> |
| [<span data-ttu-id="63ebd-152">CA2015</span><span class="sxs-lookup"><span data-stu-id="63ebd-152">CA2015</span></span>](/visualstudio/code-quality/ca2015) | <span data-ttu-id="63ebd-153">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="63ebd-153">Reliability</span></span> | <span data-ttu-id="63ebd-154">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-154">Warning</span></span> | <span data-ttu-id="63ebd-155">Finalizer nicht für Typen definieren, die von abgeleitet sind <xref:System.Buffers.MemoryManager%601></span><span class="sxs-lookup"><span data-stu-id="63ebd-155">Do not define finalizers for types derived from <xref:System.Buffers.MemoryManager%601></span></span> |
| [<span data-ttu-id="63ebd-156">CA2200</span><span class="sxs-lookup"><span data-stu-id="63ebd-156">CA2200</span></span>](/visualstudio/code-quality/ca2200) | <span data-ttu-id="63ebd-157">Verwendung</span><span class="sxs-lookup"><span data-stu-id="63ebd-157">Usage</span></span> | <span data-ttu-id="63ebd-158">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-158">Warning</span></span> | <span data-ttu-id="63ebd-159">Erneut ausführen, um Stapeldetails beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="63ebd-159">Rethrow to preserve stack details</span></span>
| [<span data-ttu-id="63ebd-160">CA2247</span><span class="sxs-lookup"><span data-stu-id="63ebd-160">CA2247</span></span>](/visualstudio/code-quality/ca2247) | <span data-ttu-id="63ebd-161">Verwendung</span><span class="sxs-lookup"><span data-stu-id="63ebd-161">Usage</span></span> | <span data-ttu-id="63ebd-162">Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-162">Warning</span></span> | <span data-ttu-id="63ebd-163">Argument, das an den TaskCompletionSource-Konstruktor übergeben wurde, sollte <xref:System.Threading.Tasks.TaskCreationOptions> Enumeration anstelle von <xref:System.Threading.Tasks.TaskContinuationOptions></span><span class="sxs-lookup"><span data-stu-id="63ebd-163">Argument passed to TaskCompletionSource constructor should be <xref:System.Threading.Tasks.TaskCreationOptions> enum instead of <xref:System.Threading.Tasks.TaskContinuationOptions></span></span> |

<span data-ttu-id="63ebd-164">Sie können den Schweregrad dieser Regeln ändern, um Sie zu deaktivieren oder auf Fehler zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-164">You can change the severity of these rules to disable them or elevate them to errors.</span></span>

<span data-ttu-id="63ebd-165">Eine vollständige Liste der verfügbaren Code Qualitätsregeln finden Sie unter [Code Qualitätsregeln](quality-rules/index.md).</span><span class="sxs-lookup"><span data-stu-id="63ebd-165">For a full list of available code quality rules, see [Code quality rules](quality-rules/index.md).</span></span>

### <a name="enable-additional-rules"></a><span data-ttu-id="63ebd-166">Aktivieren zusätzlicher Regeln</span><span class="sxs-lookup"><span data-stu-id="63ebd-166">Enable additional rules</span></span>

<span data-ttu-id="63ebd-167">Ab .NET 5.0 RC2 umfasst das .NET SDK alle [Codequalitätsregeln für Zertifizierungsstellen](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span><span class="sxs-lookup"><span data-stu-id="63ebd-167">Starting with .NET 5.0 RC2, the .NET SDK ships with all of the ["CA" code quality rules](/visualstudio/code-quality/code-analysis-for-managed-code-warnings).</span></span> <span data-ttu-id="63ebd-168">Eine vollständige Liste der Regeln, die in jeder .NET SDK-Version enthalten sind, finden Sie unter [Analyzer Releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span><span class="sxs-lookup"><span data-stu-id="63ebd-168">For a full list of rules that are included with each .NET SDK version, see [analyzer releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span></span>

#### <a name="default-analysis-mode"></a><span data-ttu-id="63ebd-169">Standardanalyse Modus</span><span class="sxs-lookup"><span data-stu-id="63ebd-169">Default analysis mode</span></span>

<span data-ttu-id="63ebd-170">Im Standardanalyse Modus sind einige Regeln [standardmäßig](#enabled-rules) als Buildwarnungen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-170">In the default analysis mode, some rules are [enabled by default](#enabled-rules) as build warnings.</span></span> <span data-ttu-id="63ebd-171">Einige andere Regeln sind standardmäßig nur als Visual Studio-IDE-Vorschläge mit entsprechenden Code Korrekturen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-171">Some other rules are enabled by default only as Visual Studio IDE suggestions with corresponding code fixes.</span></span> <span data-ttu-id="63ebd-172">Die übrigen Regeln sind standardmäßig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-172">The remaining rules are disabled by default.</span></span> <span data-ttu-id="63ebd-173">Die [vollständige Liste der Regeln](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) schließt den Standard Schweregrad jeder Regel ein und gibt an, ob die Regel standardmäßig im Standardanalyse Modus aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="63ebd-173">The [full list of rules](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md) includes each rule's default severity and whether or not the rule is enabled by default in the default analysis mode.</span></span>

#### <a name="custom-analysis-mode"></a><span data-ttu-id="63ebd-174">Benutzerdefinierter Analysemodus</span><span class="sxs-lookup"><span data-stu-id="63ebd-174">Custom analysis mode</span></span>

<span data-ttu-id="63ebd-175">Sie können [Code Analyse Regeln konfigurieren](configuration-options.md) , um eine einzelne Regel oder eine Kategorie von Regeln zu aktivieren oder zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="63ebd-175">You can [configure code analysis rules](configuration-options.md) to enable or disable an individual rule or a category of rules.</span></span> <span data-ttu-id="63ebd-176">Außerdem können Sie die [analysismode](../../core/project-sdk/msbuild-props.md#analysismode) -Eigenschaft verwenden, um zu einem der folgenden benutzerdefinierten Analyse Modi zu wechseln:</span><span class="sxs-lookup"><span data-stu-id="63ebd-176">Additionally, you can use the [AnalysisMode](../../core/project-sdk/msbuild-props.md#analysismode) property to switch to one of the following custom analysis modes:</span></span>

- <span data-ttu-id="63ebd-177">_Aggressiver_ oder _Opt-out-_ Modus: alle Regeln sind standardmäßig als Buildwarnungen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-177">_Aggressive_ or _Opt-out_ mode: All rules are enabled by default as build warnings.</span></span> <span data-ttu-id="63ebd-178">Sie können einzelne Regeln [deaktivieren](configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="63ebd-178">You can selectively [opt out](configuration-options.md) of individual rules to disable them.</span></span>
- <span data-ttu-id="63ebd-179">_Konservativer_ oder _Opt-in-_ Modus: alle Regeln sind standardmäßig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-179">_Conservative_ or _Opt-in_ mode: All rules are disabled by default.</span></span> <span data-ttu-id="63ebd-180">Sie können einzelne Regeln [aktivieren](configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="63ebd-180">You can selectively [opt into](configuration-options.md) individual rules to enable them.</span></span>

### <a name="treat-warnings-as-errors"></a><span data-ttu-id="63ebd-181">Warnungen als Fehler behandeln</span><span class="sxs-lookup"><span data-stu-id="63ebd-181">Treat warnings as errors</span></span>

<span data-ttu-id="63ebd-182">Wenn Sie das- `-warnaserror` Flag verwenden, wenn Sie die Projekte erstellen, werden alle Code Analyse Warnungen auch als Fehler behandelt.</span><span class="sxs-lookup"><span data-stu-id="63ebd-182">If you use the `-warnaserror` flag when you build your projects, all code analysis warnings are also treated as errors.</span></span> <span data-ttu-id="63ebd-183">Wenn Sie nicht möchten, dass Code Qualitäts Warnungen (CAXXXX) als Fehler behandelt werden `-warnaserror` , können Sie die `CodeAnalysisTreatWarningsAsErrors` MSBuild-Eigenschaft `false` in der Projektdatei auf festlegen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-183">If you do not want code quality warnings (CAxxxx) to be treated as errors in presence of `-warnaserror`, you can set the `CodeAnalysisTreatWarningsAsErrors` MSBuild property to `false` in your project file.</span></span>

```xml
<PropertyGroup>
  <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>
</PropertyGroup>
```

<span data-ttu-id="63ebd-184">Sie sehen weiterhin alle Code Analyse Warnungen, aber Sie werden Ihren Build nicht unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-184">You'll still see any code analysis warnings, but they won't break your build.</span></span>

### <a name="latest-updates"></a><span data-ttu-id="63ebd-185">Neueste Updates</span><span class="sxs-lookup"><span data-stu-id="63ebd-185">Latest updates</span></span>

<span data-ttu-id="63ebd-186">Standardmäßig erhalten Sie die neuesten Code Analyse Regeln und Standardregel Schweregrade, wenn Sie ein Upgrade auf neuere Versionen des .NET SDK durchführen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-186">By default, you'll get the latest code analysis rules and default rule severities as you upgrade to newer versions of the .NET SDK.</span></span> <span data-ttu-id="63ebd-187">Wenn Sie dieses Verhalten nicht wünschen, z. b. Wenn Sie sicherstellen möchten, dass keine neuen Regeln aktiviert oder deaktiviert sind, können Sie es mit einer der folgenden Methoden außer Kraft setzen:</span><span class="sxs-lookup"><span data-stu-id="63ebd-187">If you don't want this behavior, for example, if you want to ensure that no new rules are enabled or disabled, you can override it in one of the following ways:</span></span>

- <span data-ttu-id="63ebd-188">Legen Sie die `AnalysisLevel` MSBuild-Eigenschaft auf einen bestimmten Wert fest, um die Warnungen für diese Gruppe zu sperren.</span><span class="sxs-lookup"><span data-stu-id="63ebd-188">Set the `AnalysisLevel` MSBuild property to a specific value to lock the warnings to that set.</span></span> <span data-ttu-id="63ebd-189">Wenn Sie ein Upgrade auf ein neueres SDK durchführen, erhalten Sie weiterhin Fehlerbehebungen für diese Warnungen, aber es werden keine neuen Warnungen aktiviert, und vorhandene Warnungen werden nicht deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-189">When you upgrade to a newer SDK, you'll still get bug fixes for those warnings, but no new warnings will be enabled and no existing warnings will be disabled.</span></span> <span data-ttu-id="63ebd-190">Fügen Sie z. b. den folgenden Eintrag in die Projektdatei ein, um den Satz von Regeln für die zu sperren, die mit Version 5,0 des .NET SDK ausgeliefert werden.</span><span class="sxs-lookup"><span data-stu-id="63ebd-190">For example, to lock the set of rules to those that ship with version 5.0 of the .NET SDK, add the following entry to your project file.</span></span>

  ```xml
  <PropertyGroup>
    <AnalysisLevel>5.0</AnalysisLevel>
  </PropertyGroup>
  ```

  > [!TIP]
  > <span data-ttu-id="63ebd-191">Der Standardwert für die- `AnalysisLevel` Eigenschaft ist. dies `latest` bedeutet, dass Sie immer die neuesten Code Analyse Regeln erhalten, wenn Sie zu neueren Versionen des .NET SDK wechseln.</span><span class="sxs-lookup"><span data-stu-id="63ebd-191">The default value for the `AnalysisLevel` property is `latest`, which means you always get the latest code analysis rules as you move to newer versions of the .NET SDK.</span></span>

  <span data-ttu-id="63ebd-192">Weitere Informationen und eine Liste möglicher Werte finden Sie unter [analysislevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span><span class="sxs-lookup"><span data-stu-id="63ebd-192">For more information, and to see a list of possible values, see [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span></span>

- <span data-ttu-id="63ebd-193">Installieren Sie das [nuget-Paket Microsoft. Code Analysis. netanalyzers](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) , um Regel Updates von .NET SDK-Updates zu entkoppeln.</span><span class="sxs-lookup"><span data-stu-id="63ebd-193">Install the [Microsoft.CodeAnalysis.NetAnalyzers NuGet package](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) to decouple rule updates from .NET SDK updates.</span></span> <span data-ttu-id="63ebd-194">Durch das Installieren des Pakets werden die integrierten SDK-Analysen deaktiviert, und es wird eine Buildwarnung generiert, wenn das SDK eine neuere Analyzer-Assemblyversion enthält, als das nuget-Paket.</span><span class="sxs-lookup"><span data-stu-id="63ebd-194">Installing the package turns off the built-in SDK analyzers and generates a build warning if the SDK contains a newer analyzer assembly version than that of the NuGet package.</span></span>

## <a name="code-style-analysis"></a><span data-ttu-id="63ebd-195">Code Format Analyse</span><span class="sxs-lookup"><span data-stu-id="63ebd-195">Code style analysis</span></span>

<span data-ttu-id="63ebd-196">[Code Format Analyse](/visualstudio/ide/editorconfig-code-style-settings-reference) ("idexxxx"-Regeln) ermöglicht es Ihnen, konsistentes Codeformat in Ihrer Codebasis zu definieren und zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="63ebd-196">[Code style analysis](/visualstudio/ide/editorconfig-code-style-settings-reference) ("IDExxxx" rules) enables you to define and maintain consistent code style in your codebase.</span></span> <span data-ttu-id="63ebd-197">Im folgenden sind die Standardeinstellungen aufgeführt:</span><span class="sxs-lookup"><span data-stu-id="63ebd-197">Following are the default settings:</span></span>

- <span data-ttu-id="63ebd-198">Befehlszeilenbuild: die Code Format Analyse ist standardmäßig für alle .net-Projekte in Befehlszeilenbuilds deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="63ebd-198">Command line build: Code style analysis is disabled, by default, for all .NET projects on command-line builds.</span></span>
- <span data-ttu-id="63ebd-199">Visual Studio: die Code Format Analyse ist standardmäßig für alle .net-Projekte in Visual Studio aktiviert, wenn [schnelle Aktionen im Code umgestaltet](/visualstudio/ide/code-generation-in-visual-studio)werden.</span><span class="sxs-lookup"><span data-stu-id="63ebd-199">Visual Studio: Code style analysis is enabled, by default, for all .NET projects inside Visual Studio as [code refactoring quick actions](/visualstudio/ide/code-generation-in-visual-studio).</span></span>

<span data-ttu-id="63ebd-200">Ab .net 5,0 rc2 können Sie die Code Format Analyse für den Build aktivieren, sowohl in der Befehlszeile als auch in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="63ebd-200">Starting .NET 5.0 RC2, you can enable code style analysis on build, both at the command line and inside Visual Studio.</span></span> <span data-ttu-id="63ebd-201">Code Format Verletzungen werden als Warnungen oder Fehler mit einem Präfix "IDE" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="63ebd-201">Code style violations appear as warnings or errors with an "IDE" prefix.</span></span> <span data-ttu-id="63ebd-202">Dies ermöglicht es Ihnen, konsistente Code Stile zum Zeitpunkt der Erstellung zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="63ebd-202">This enables you to enforce consistent code styles at build time.</span></span>

> [!NOTE]
> <span data-ttu-id="63ebd-203">Die Funktion zur Analyse des Code Stils ist experimentell und kann sich zwischen den Versionen von .net 5 und .net 6 ändern.</span><span class="sxs-lookup"><span data-stu-id="63ebd-203">The code style analysis feature is experimental and may change between the .NET 5 and .NET 6 releases.</span></span>

<span data-ttu-id="63ebd-204">Schritte zum Aktivieren der Code Format Analyse bei Build:</span><span class="sxs-lookup"><span data-stu-id="63ebd-204">Steps to enable code style analysis on build:</span></span>

1. <span data-ttu-id="63ebd-205">Legen Sie die MSBuild-Eigenschaft [enforcecodestyleinbuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) auf fest `true` .</span><span class="sxs-lookup"><span data-stu-id="63ebd-205">Set the MSBuild property [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) to `true`.</span></span>

1. <span data-ttu-id="63ebd-206">[Konfigurieren](configuration-options.md) Sie in einer *Editor config* -Datei jede "IDE"-codestilregel, die Sie auf dem Build ausführen möchten, als Warnung oder Fehler.</span><span class="sxs-lookup"><span data-stu-id="63ebd-206">In an *.editorconfig* file, [configure](configuration-options.md) each "IDE" code style rule that you wish to run on build as a warning or an error.</span></span> <span data-ttu-id="63ebd-207">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="63ebd-207">For example:</span></span>

   ```ini
   [*.{cs,vb}]
   # IDE0040: Accessibility modifiers required (escalated to a build warning)
   dotnet_diagnostic.IDE0040.severity = warning
   ```

   <span data-ttu-id="63ebd-208">Alternativ können Sie die gesamte Kategorie "Style" standardmäßig als Warnung oder Fehler konfigurieren und dann selektiv Regeln deaktivieren, die Sie nicht bei Build ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="63ebd-208">Alternatively, you can configure the entire "Style" category to be a warning or error, by default, and then selectively turn off rules that you don't want to run on build.</span></span> <span data-ttu-id="63ebd-209">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="63ebd-209">For example:</span></span>

   ```ini
   [*.{cs,vb}]

   # Default severity for analyzer diagnostics with category 'Style' (escalated to build warnings)
   dotnet_analyzer_diagnostic.category-Style.severity = warning

   # IDE0040: Accessibility modifiers required (disabled on build)
   dotnet_diagnostic.IDE0040.severity = silent
   ```

## <a name="suppress-a-warning"></a><span data-ttu-id="63ebd-210">Unterdrücken einer Warnung</span><span class="sxs-lookup"><span data-stu-id="63ebd-210">Suppress a warning</span></span>

<span data-ttu-id="63ebd-211">Legen Sie die Option Schweregrad für diese Regel-ID `none` in einer Editor config-Datei auf fest, um eine Regelverletzung zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="63ebd-211">To suppress a rule violation, set the severity option for that rule ID to `none` in an EditorConfig file.</span></span> <span data-ttu-id="63ebd-212">Zum Beispiel:</span><span class="sxs-lookup"><span data-stu-id="63ebd-212">For example:</span></span>

```ini
dotnet_diagnostic.CA1822.severity = none
```

<span data-ttu-id="63ebd-213">Visual Studio bietet zusätzliche Möglichkeiten, Warnungen von Code Analyse Regeln zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="63ebd-213">Visual Studio provides additional ways to suppress warnings from code analysis rules.</span></span> <span data-ttu-id="63ebd-214">Weitere Informationen finden Sie unter unter [drücken von Verletzungen](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span><span class="sxs-lookup"><span data-stu-id="63ebd-214">For more information, see [Suppress violations](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span></span>

<span data-ttu-id="63ebd-215">Weitere Informationen zu Schweregraden von Regeln finden Sie unter [Konfigurieren des Regel schwere](configuration-options.md#severity-level)Grads.</span><span class="sxs-lookup"><span data-stu-id="63ebd-215">For more information about rule severities, see [Configure rule severity](configuration-options.md#severity-level).</span></span>

## <a name="see-also"></a><span data-ttu-id="63ebd-216">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="63ebd-216">See also</span></span>

- [<span data-ttu-id="63ebd-217">Referenz zur Code Qualitätsanalyse Regel</span><span class="sxs-lookup"><span data-stu-id="63ebd-217">Code quality analysis rule reference</span></span>](quality-rules/index.md)
- [<span data-ttu-id="63ebd-218">Regel Referenz für Code Format Analyse</span><span class="sxs-lookup"><span data-stu-id="63ebd-218">Code style analysis rule reference</span></span>](style-rules/index.md)
- [<span data-ttu-id="63ebd-219">Codeanalyse in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="63ebd-219">Code analysis in Visual Studio</span></span>](/visualstudio/code-quality/roslyn-analyzers-overview)
- [<span data-ttu-id="63ebd-220">.NET Compiler Platform SDK</span><span class="sxs-lookup"><span data-stu-id="63ebd-220">.NET Compiler Platform SDK</span></span>](../../csharp/roslyn-sdk/index.md)
- [<span data-ttu-id="63ebd-221">Tutorial: Schreiben Ihres ersten Analysetools und Codefixes</span><span class="sxs-lookup"><span data-stu-id="63ebd-221">Tutorial: Write your first analyzer and code fix</span></span>](../../csharp/roslyn-sdk/tutorials/how-to-write-csharp-analyzer-code-fix.md)
