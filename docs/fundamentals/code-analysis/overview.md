---
title: Code Analyse in .net
titleSuffix: ''
description: Erfahren Sie mehr über die Quell Code Analyse im .NET SDK.
ms.date: 12/04/2020
ms.topic: overview
ms.custom: updateeachrelease
helpviewer_keywords:
- code analysis
- code analyzers
ms.openlocfilehash: 657975742c3efc2985264fe16cb316357b959e73
ms.sourcegitcommit: 45c7148f2483db2501c1aa696ab6ed2ed8cb71b2
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/08/2020
ms.locfileid: "96851815"
---
# <a name="overview-of-net-source-code-analysis"></a><span data-ttu-id="3ce9f-103">Übersicht über die Analyse von .NET-Quellcode</span><span class="sxs-lookup"><span data-stu-id="3ce9f-103">Overview of .NET source code analysis</span></span>

<span data-ttu-id="3ce9f-104">Die Analysetools für die .NET-Compilerplattform (Roslyn) untersuchen Ihren C#- oder Visual Basic-Code auf Probleme hinsichtlich Codequalität und Codeformat.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-104">.NET compiler platform (Roslyn) analyzers inspect your C# or Visual Basic code for code quality and code style issues.</span></span> <span data-ttu-id="3ce9f-105">Ab .net 5,0 sind diese Analysen im .NET SDK enthalten und müssen nicht separat installiert werden.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-105">Starting in .NET 5.0, these analyzers are included with the .NET SDK and you don't need to install them separately.</span></span> <span data-ttu-id="3ce9f-106">Wenn Ihr Projekt auf .net 5 oder höher ausgerichtet ist, ist die Code Analyse standardmäßig aktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-106">If your project targets .NET 5 or later, code analysis is enabled by default.</span></span> <span data-ttu-id="3ce9f-107">Wenn das Projekt eine andere .NET-Implementierung als Ziel hat, z. b. .net Core, .NET Standard oder .NET Framework, müssen Sie die Code Analyse manuell aktivieren, indem Sie die [enablenetanalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) -Eigenschaft auf festlegen `true` .</span><span class="sxs-lookup"><span data-stu-id="3ce9f-107">If your project target a different .NET implementation, for example, .NET Core, .NET Standard, or .NET Framework, you must manually enable code analysis by setting the [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) property to `true`.</span></span>

<span data-ttu-id="3ce9f-108">Wenn Sie nicht zum .net 5 + SDK wechseln möchten oder wenn Sie ein auf einem nuget-Paket basierendes Modell bevorzugen, sind die Analysetools auch im [nuget-Paket Microsoft. Code Analysis. netanalyzers](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers)verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-108">If you don't want to move to the .NET 5+ SDK or if you prefer a NuGet package-based model, the analyzers are also available in the [Microsoft.CodeAnalysis.NetAnalyzers NuGet package](https://www.nuget.org/packages/Microsoft.CodeAnalysis.NetAnalyzers).</span></span> <span data-ttu-id="3ce9f-109">Möglicherweise bevorzugen Sie ein Paket basiertes Modell für Bedarfs gesteuerte Versions Aktualisierungen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-109">You might prefer a package-based model for on-demand version updates.</span></span>

> [!NOTE]
> <span data-ttu-id="3ce9f-110">.Net-Analysen sind Ziel Framework-agnostisch.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-110">.NET analyzers are target-framework agnostic.</span></span> <span data-ttu-id="3ce9f-111">Das heißt, das Projekt muss keine bestimmte .NET-Implementierung als Ziel haben.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-111">That is, your project does not need to target a specific .NET implementation.</span></span> <span data-ttu-id="3ce9f-112">Die Analysen funktionieren für Projekte, die auf `net5.0` und frühere Versionen von .net abzielen, z `netcoreapp3.1` `net472` . b. und.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-112">The analyzers work for projects that target `net5.0` as well as earlier .NET versions, such as `netcoreapp3.1` and `net472`.</span></span>

<span data-ttu-id="3ce9f-113">Wenn Regelverstöße von einem Analyzer gefunden werden, werden Sie abhängig von der [Konfiguration](configuration-options.md)der einzelnen Regeln als Vorschlag, Warnung oder Fehler gemeldet.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-113">If rule violations are found by an analyzer, they're reported as a suggestion, warning, or error, depending on how each rule is [configured](configuration-options.md).</span></span> <span data-ttu-id="3ce9f-114">Code Analyse Verstöße werden mit dem Präfix "ca" oder "IDE" angezeigt, um Sie von Compilerfehlern zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-114">Code analysis violations appear with the prefix "CA" or "IDE" to differentiate them from compiler errors.</span></span>

## <a name="code-quality-analysis"></a><span data-ttu-id="3ce9f-115">Analyse der Codequalität</span><span class="sxs-lookup"><span data-stu-id="3ce9f-115">Code quality analysis</span></span>

<span data-ttu-id="3ce9f-116">Regeln für die *Code Qualitätsanalyse* ("CAXXXX") untersuchen ihren c#-oder Visual Basic-Code auf Sicherheit, Leistung, Entwurf und andere Probleme.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-116">*Code quality analysis* ("CAxxxx") rules inspect your C# or Visual Basic code for security, performance, design and other issues.</span></span> <span data-ttu-id="3ce9f-117">Die Analyse ist standardmäßig für Projekte aktiviert, die auf .net 5,0 oder höher ausgerichtet sind.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-117">Analysis is enabled, by default, for projects that target .NET 5.0 or later.</span></span> <span data-ttu-id="3ce9f-118">Sie können die Code Analyse für Projekte aktivieren, die auf frühere .NET-Versionen abzielen, indem Sie die [enablenetanalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) -Eigenschaft auf festlegen `true` .</span><span class="sxs-lookup"><span data-stu-id="3ce9f-118">You can enable code analysis on projects that target earlier .NET versions by setting the [EnableNETAnalyzers](../../core/project-sdk/msbuild-props.md#enablenetanalyzers) property to `true`.</span></span> <span data-ttu-id="3ce9f-119">Sie können die Code Analyse für Ihr Projekt auch deaktivieren, indem Sie `EnableNETAnalyzers` auf festlegen `false` .</span><span class="sxs-lookup"><span data-stu-id="3ce9f-119">You can also disable code analysis for your project by setting `EnableNETAnalyzers` to `false`.</span></span>

> [!TIP]
> <span data-ttu-id="3ce9f-120">Wenn Sie Visual Studio verwenden:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-120">If you're using Visual Studio:</span></span>
>
> - <span data-ttu-id="3ce9f-121">Viele Analyzer-Regeln verfügen über zugeordnete *Code Korrekturen* , die Sie anwenden können, um das Problem zu beheben.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-121">Many analyzer rules have associated *code fixes* that you can apply to correct the problem.</span></span> <span data-ttu-id="3ce9f-122">Code Korrekturen werden im Glühbirnen Symbol-Menü angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-122">Code fixes are shown in the light bulb icon menu.</span></span>
> - <span data-ttu-id="3ce9f-123">Sie können die Code Analyse aktivieren oder deaktivieren, indem Sie in Projektmappen-Explorer mit der rechten Maustaste auf ein Projekt klicken und **Eigenschaften** der  >  Registerkarte "**Code Analyse** " auswählen > die **.net-Analysen aktivieren**</span><span class="sxs-lookup"><span data-stu-id="3ce9f-123">You can enable or disable code analysis by right-clicking on a project in Solution Explorer and selecting **Properties** > **Code Analysis** tab > **Enable .NET analyzers**.</span></span>

### <a name="enabled-rules"></a><span data-ttu-id="3ce9f-124">Aktivierte Regeln</span><span class="sxs-lookup"><span data-stu-id="3ce9f-124">Enabled rules</span></span>

<span data-ttu-id="3ce9f-125">Die folgenden Regeln sind standardmäßig in .net 5,0 aktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-125">The following rules are enabled, by default, in .NET 5.0.</span></span>

| <span data-ttu-id="3ce9f-126">Diagnose-ID</span><span class="sxs-lookup"><span data-stu-id="3ce9f-126">Diagnostic ID</span></span> | <span data-ttu-id="3ce9f-127">Kategorie</span><span class="sxs-lookup"><span data-stu-id="3ce9f-127">Category</span></span> | <span data-ttu-id="3ce9f-128">Schweregrad</span><span class="sxs-lookup"><span data-stu-id="3ce9f-128">Severity</span></span> | <span data-ttu-id="3ce9f-129">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-129">Description</span></span> |
| - | - | - | - |
| [<span data-ttu-id="3ce9f-130">CA1416</span><span class="sxs-lookup"><span data-stu-id="3ce9f-130">CA1416</span></span>](/visualstudio/code-quality/ca1416) | <span data-ttu-id="3ce9f-131">Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="3ce9f-131">Interoperability</span></span> | <span data-ttu-id="3ce9f-132">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-132">Warning</span></span> | <span data-ttu-id="3ce9f-133">Analysetool für die Plattformkompatibilität</span><span class="sxs-lookup"><span data-stu-id="3ce9f-133">Platform compatibility analyzer</span></span> |
| [<span data-ttu-id="3ce9f-134">CA1417</span><span class="sxs-lookup"><span data-stu-id="3ce9f-134">CA1417</span></span>](/visualstudio/code-quality/ca1417) | <span data-ttu-id="3ce9f-135">Interoperabilität</span><span class="sxs-lookup"><span data-stu-id="3ce9f-135">Interoperability</span></span> | <span data-ttu-id="3ce9f-136">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-136">Warning</span></span> | <span data-ttu-id="3ce9f-137">Nicht `OutAttribute` für Zeichen folgen Parameter für P/Aufrufe verwenden</span><span class="sxs-lookup"><span data-stu-id="3ce9f-137">Do not use `OutAttribute` on string parameters for P/Invokes</span></span> |
| [<span data-ttu-id="3ce9f-138">CA1831</span><span class="sxs-lookup"><span data-stu-id="3ce9f-138">CA1831</span></span>](/visualstudio/code-quality/ca1831) | <span data-ttu-id="3ce9f-139">Leistung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-139">Performance</span></span> | <span data-ttu-id="3ce9f-140">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-140">Warning</span></span> | <span data-ttu-id="3ce9f-141">Verwenden Sie `AsSpan` anstelle von Bereichs basierten indexatoren für Zeichen folgen, wenn dies angebracht ist.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-141">Use `AsSpan` instead of range-based indexers for string when appropriate</span></span> |
| [<span data-ttu-id="3ce9f-142">CA2013</span><span class="sxs-lookup"><span data-stu-id="3ce9f-142">CA2013</span></span>](/visualstudio/code-quality/ca2013) | <span data-ttu-id="3ce9f-143">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="3ce9f-143">Reliability</span></span> | <span data-ttu-id="3ce9f-144">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-144">Warning</span></span> | <span data-ttu-id="3ce9f-145">Nicht `ReferenceEquals` mit Werttypen verwenden</span><span class="sxs-lookup"><span data-stu-id="3ce9f-145">Do not use `ReferenceEquals` with value types</span></span> |
| [<span data-ttu-id="3ce9f-146">CA2014</span><span class="sxs-lookup"><span data-stu-id="3ce9f-146">CA2014</span></span>](/visualstudio/code-quality/ca2014) | <span data-ttu-id="3ce9f-147">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="3ce9f-147">Reliability</span></span> | <span data-ttu-id="3ce9f-148">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-148">Warning</span></span> | <span data-ttu-id="3ce9f-149">Nicht `stackalloc` in Schleifen verwenden</span><span class="sxs-lookup"><span data-stu-id="3ce9f-149">Do not use `stackalloc` in loops</span></span> |
| [<span data-ttu-id="3ce9f-150">CA2015</span><span class="sxs-lookup"><span data-stu-id="3ce9f-150">CA2015</span></span>](/visualstudio/code-quality/ca2015) | <span data-ttu-id="3ce9f-151">Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="3ce9f-151">Reliability</span></span> | <span data-ttu-id="3ce9f-152">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-152">Warning</span></span> | <span data-ttu-id="3ce9f-153">Finalizer nicht für Typen definieren, die von abgeleitet sind <xref:System.Buffers.MemoryManager%601></span><span class="sxs-lookup"><span data-stu-id="3ce9f-153">Do not define finalizers for types derived from <xref:System.Buffers.MemoryManager%601></span></span> |
| [<span data-ttu-id="3ce9f-154">CA2200</span><span class="sxs-lookup"><span data-stu-id="3ce9f-154">CA2200</span></span>](/visualstudio/code-quality/ca2200) | <span data-ttu-id="3ce9f-155">Verbrauch</span><span class="sxs-lookup"><span data-stu-id="3ce9f-155">Usage</span></span> | <span data-ttu-id="3ce9f-156">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-156">Warning</span></span> | <span data-ttu-id="3ce9f-157">Erneut ausführen, um Stapeldetails beizubehalten.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-157">Rethrow to preserve stack details</span></span>
| [<span data-ttu-id="3ce9f-158">CA2247</span><span class="sxs-lookup"><span data-stu-id="3ce9f-158">CA2247</span></span>](/visualstudio/code-quality/ca2247) | <span data-ttu-id="3ce9f-159">Verbrauch</span><span class="sxs-lookup"><span data-stu-id="3ce9f-159">Usage</span></span> | <span data-ttu-id="3ce9f-160">Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-160">Warning</span></span> | <span data-ttu-id="3ce9f-161">Argument, das an den TaskCompletionSource-Konstruktor übergeben wurde, sollte <xref:System.Threading.Tasks.TaskCreationOptions> Enumeration anstelle von <xref:System.Threading.Tasks.TaskContinuationOptions></span><span class="sxs-lookup"><span data-stu-id="3ce9f-161">Argument passed to TaskCompletionSource constructor should be <xref:System.Threading.Tasks.TaskCreationOptions> enum instead of <xref:System.Threading.Tasks.TaskContinuationOptions></span></span> |

<span data-ttu-id="3ce9f-162">Sie können den Schweregrad dieser Regeln ändern, um Sie zu deaktivieren oder auf Fehler zu erhöhen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-162">You can change the severity of these rules to disable them or elevate them to errors.</span></span> <span data-ttu-id="3ce9f-163">Sie können auch [Weitere Regeln aktivieren](#enable-additional-rules).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-163">You can also [enable more rules](#enable-additional-rules).</span></span>

- <span data-ttu-id="3ce9f-164">Eine Liste der Regeln, die in jeder .NET SDK-Version enthalten sind, finden Sie unter [Analyzer Releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-164">For a list of rules that are included with each .NET SDK version, see [Analyzer releases](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span></span>
- <span data-ttu-id="3ce9f-165">Eine Liste aller Code Qualitätsregeln finden Sie unter [Code Qualitätsregeln](quality-rules/index.md).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-165">For a list of all the code quality rules, see [Code quality rules](quality-rules/index.md).</span></span>

### <a name="enable-additional-rules"></a><span data-ttu-id="3ce9f-166">Aktivieren zusätzlicher Regeln</span><span class="sxs-lookup"><span data-stu-id="3ce9f-166">Enable additional rules</span></span>

<span data-ttu-id="3ce9f-167">Der *Analysemodus* verweist auf eine vordefinierte Konfiguration der Code Analyse, bei der keine, einige oder alle Regeln aktiviert sind.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-167">*Analysis mode* refers to a predefined code analysis configuration where none, some, or all rules are enabled.</span></span> <span data-ttu-id="3ce9f-168">Im Standardanalyse Modus wird nur eine kleine Anzahl von Regeln [als Buildwarnungen aktiviert](#enabled-rules).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-168">In the default analysis mode, only a small number of rules are [enabled as build warnings](#enabled-rules).</span></span> <span data-ttu-id="3ce9f-169">Sie können den Analysemodus für Ihr Projekt ändern, indem Sie die [analysismode](../../core/project-sdk/msbuild-props.md#analysismode) -Eigenschaft in der Projektdatei festlegen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-169">You can change the analysis mode for your project by setting the [AnalysisMode](../../core/project-sdk/msbuild-props.md#analysismode) property in the project file.</span></span> <span data-ttu-id="3ce9f-170">Folgende Werte sind zulässig:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-170">The allowable values are:</span></span>

| <span data-ttu-id="3ce9f-171">Wert</span><span class="sxs-lookup"><span data-stu-id="3ce9f-171">Value</span></span> | <span data-ttu-id="3ce9f-172">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-172">Description</span></span> |
| - | - |
| `AllDisabledByDefault` | <span data-ttu-id="3ce9f-173">Dies ist der konservativste Modus.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-173">This is the most conservative mode.</span></span> <span data-ttu-id="3ce9f-174">Alle Regeln sind standardmäßig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-174">All rules are disabled by default.</span></span> <span data-ttu-id="3ce9f-175">Sie können einzelne Regeln [aktivieren](configuration-options.md).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-175">You can selectively [opt into](configuration-options.md) individual rules to enable them.</span></span><br /><br />`<AnalysisMode>AllDisabledByDefault</AnalysisMode>` |
| `AllEnabledByDefault` | <span data-ttu-id="3ce9f-176">Dies ist der aggressivste Modus.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-176">This is the most aggressive mode.</span></span> <span data-ttu-id="3ce9f-177">Alle Regeln werden als Buildwarnungen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-177">All rules are enabled as build warnings.</span></span> <span data-ttu-id="3ce9f-178">Sie [können einzelne Regeln selektiv deaktivieren, um](configuration-options.md) Sie zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-178">You can selectively [opt out of](configuration-options.md) individual rules to disable them.</span></span><br /><br />`<AnalysisMode>AllEnabledByDefault</AnalysisMode>` |
| `Default` | <span data-ttu-id="3ce9f-179">Der Standardmodus, in dem einige der Regeln als Warnungen aktiviert sind, sind andere nur als Visual Studio-IDE-Vorschläge mit entsprechenden Code Behebungen aktiviert, und der Rest wird vollständig deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-179">The default mode, where a handful of rules are enabled as warnings, others are enabled only as Visual Studio IDE suggestions with corresponding code fixes, and the rest are disabled completely.</span></span> <span data-ttu-id="3ce9f-180">Sie können einzelne Regeln selektiv aktivieren [oder](configuration-options.md) deaktivieren, um Sie zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-180">You can selectively [opt into or out of](configuration-options.md) individual rules to disable them.</span></span><br /><br />`<AnalysisMode>Default</AnalysisMode>` |

<span data-ttu-id="3ce9f-181">Informationen zum Ermitteln des Standard schwere Grads für jede verfügbare Regel und unabhängig davon, ob die Regel im Standardanalyse Modus aktiviert ist, finden Sie in der [vollständigen Liste der Regeln](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-181">To find the default severity for each available rule and whether or not the rule is enabled in the default analysis mode, see the [full list of rules](https://github.com/dotnet/roslyn-analyzers/blob/master/src/NetAnalyzers/Core/AnalyzerReleases.Shipped.md).</span></span>

### <a name="treat-warnings-as-errors"></a><span data-ttu-id="3ce9f-182">Warnungen als Fehler behandeln</span><span class="sxs-lookup"><span data-stu-id="3ce9f-182">Treat warnings as errors</span></span>

<span data-ttu-id="3ce9f-183">Wenn Sie das- `-warnaserror` Flag verwenden, wenn Sie die Projekte erstellen, werden alle Code Analyse Warnungen auch als Fehler behandelt.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-183">If you use the `-warnaserror` flag when you build your projects, all code analysis warnings are also treated as errors.</span></span> <span data-ttu-id="3ce9f-184">Wenn Sie nicht möchten, dass Code Qualitäts Warnungen (CAXXXX) als Fehler behandelt werden `-warnaserror` , können Sie die `CodeAnalysisTreatWarningsAsErrors` MSBuild-Eigenschaft `false` in der Projektdatei auf festlegen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-184">If you do not want code quality warnings (CAxxxx) to be treated as errors in presence of `-warnaserror`, you can set the `CodeAnalysisTreatWarningsAsErrors` MSBuild property to `false` in your project file.</span></span>

```xml
<PropertyGroup>
  <CodeAnalysisTreatWarningsAsErrors>false</CodeAnalysisTreatWarningsAsErrors>
</PropertyGroup>
```

<span data-ttu-id="3ce9f-185">Sie sehen weiterhin alle Code Analyse Warnungen, aber Sie werden Ihren Build nicht unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-185">You'll still see any code analysis warnings, but they won't break your build.</span></span>

### <a name="latest-updates"></a><span data-ttu-id="3ce9f-186">Neueste Updates</span><span class="sxs-lookup"><span data-stu-id="3ce9f-186">Latest updates</span></span>

<span data-ttu-id="3ce9f-187">Standardmäßig erhalten Sie die neuesten Code Analyse Regeln und Standardregel Schweregrade, wenn Sie ein Upgrade auf neuere Versionen des .NET SDK durchführen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-187">By default, you'll get the latest code analysis rules and default rule severities as you upgrade to newer versions of the .NET SDK.</span></span> <span data-ttu-id="3ce9f-188">Wenn Sie dieses Verhalten nicht wünschen, z. b. Wenn Sie sicherstellen möchten, dass keine neuen Regeln aktiviert oder deaktiviert sind, können Sie es mit einer der folgenden Methoden außer Kraft setzen:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-188">If you don't want this behavior, for example, if you want to ensure that no new rules are enabled or disabled, you can override it in one of the following ways:</span></span>

- <span data-ttu-id="3ce9f-189">Legen Sie die `AnalysisLevel` MSBuild-Eigenschaft auf einen bestimmten Wert fest, um die Warnungen für diese Gruppe zu sperren.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-189">Set the `AnalysisLevel` MSBuild property to a specific value to lock the warnings to that set.</span></span> <span data-ttu-id="3ce9f-190">Wenn Sie ein Upgrade auf ein neueres SDK durchführen, erhalten Sie weiterhin Fehlerbehebungen für diese Warnungen, aber es werden keine neuen Warnungen aktiviert, und vorhandene Warnungen werden nicht deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-190">When you upgrade to a newer SDK, you'll still get bug fixes for those warnings, but no new warnings will be enabled and no existing warnings will be disabled.</span></span> <span data-ttu-id="3ce9f-191">Fügen Sie z. b. den folgenden Eintrag in die Projektdatei ein, um den Satz von Regeln für die zu sperren, die mit Version 5,0 des .NET SDK ausgeliefert werden.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-191">For example, to lock the set of rules to those that ship with version 5.0 of the .NET SDK, add the following entry to your project file.</span></span>

  ```xml
  <PropertyGroup>
    <AnalysisLevel>5.0</AnalysisLevel>
  </PropertyGroup>
  ```

  > [!TIP]
  > <span data-ttu-id="3ce9f-192">Der Standardwert für die- `AnalysisLevel` Eigenschaft ist. dies `latest` bedeutet, dass Sie immer die neuesten Code Analyse Regeln erhalten, wenn Sie zu neueren Versionen des .NET SDK wechseln.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-192">The default value for the `AnalysisLevel` property is `latest`, which means you always get the latest code analysis rules as you move to newer versions of the .NET SDK.</span></span>

  <span data-ttu-id="3ce9f-193">Weitere Informationen und eine Liste möglicher Werte finden Sie unter [analysislevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-193">For more information, and to see a list of possible values, see [AnalysisLevel](../../core/project-sdk/msbuild-props.md#analysislevel).</span></span>

- <span data-ttu-id="3ce9f-194">Installieren Sie das [nuget-Paket Microsoft. Code Analysis. netanalyzers](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) , um Regel Updates von .NET SDK-Updates zu entkoppeln.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-194">Install the [Microsoft.CodeAnalysis.NetAnalyzers NuGet package](https://github.com/dotnet/roslyn-analyzers#microsoftcodeanalysisnetanalyzers) to decouple rule updates from .NET SDK updates.</span></span> <span data-ttu-id="3ce9f-195">Durch das Installieren des Pakets werden die integrierten SDK-Analysen deaktiviert, und es wird eine Buildwarnung generiert, wenn das SDK eine neuere Analyzer-Assemblyversion enthält, als das nuget-Paket.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-195">Installing the package turns off the built-in SDK analyzers and generates a build warning if the SDK contains a newer analyzer assembly version than that of the NuGet package.</span></span>

## <a name="code-style-analysis"></a><span data-ttu-id="3ce9f-196">Code Format Analyse</span><span class="sxs-lookup"><span data-stu-id="3ce9f-196">Code style analysis</span></span>

<span data-ttu-id="3ce9f-197">*Code Format Analyse* -Regeln ("idexxxx") ermöglichen es Ihnen, konsistentes Codeformat in Ihrer Codebasis zu definieren und zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-197">*Code style analysis* ("IDExxxx") rules enable you to define and maintain consistent code style in your codebase.</span></span> <span data-ttu-id="3ce9f-198">Die Standardeinstellungen für die Aktivierung lauten:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-198">The default enablement settings are:</span></span>

- <span data-ttu-id="3ce9f-199">Befehlszeilenbuild: die Code Format Analyse ist standardmäßig für alle .net-Projekte in Befehlszeilenbuilds deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-199">Command line build: Code style analysis is disabled, by default, for all .NET projects on command-line builds.</span></span>
- <span data-ttu-id="3ce9f-200">Visual Studio: die Code Format Analyse ist standardmäßig für alle .net-Projekte in Visual Studio aktiviert, wenn [schnelle Aktionen im Code umgestaltet](/visualstudio/ide/code-generation-in-visual-studio)werden.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-200">Visual Studio: Code style analysis is enabled, by default, for all .NET projects inside Visual Studio as [code refactoring quick actions](/visualstudio/ide/code-generation-in-visual-studio).</span></span>

<span data-ttu-id="3ce9f-201">Ab .net 5,0 können Sie die Code Format Analyse für den Build aktivieren, sowohl in der Befehlszeile als auch in Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-201">Starting .NET 5.0, you can enable code style analysis on build, both at the command line and inside Visual Studio.</span></span> <span data-ttu-id="3ce9f-202">Code Format Verletzungen werden als Warnungen oder Fehler mit einem Präfix "IDE" angezeigt.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-202">Code style violations appear as warnings or errors with an "IDE" prefix.</span></span> <span data-ttu-id="3ce9f-203">Dies ermöglicht es Ihnen, konsistente Code Stile zum Zeitpunkt der Erstellung zu erzwingen.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-203">This enables you to enforce consistent code styles at build time.</span></span>

<span data-ttu-id="3ce9f-204">Eine vollständige Liste der Code Analyse Regeln finden Sie unter Regeln für den [Code Stil](style-rules/index.md).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-204">For a full list of code-style analysis rules, see [Code style rules](style-rules/index.md).</span></span>

> [!NOTE]
> <span data-ttu-id="3ce9f-205">Die Funktion zur Analyse des Code Stils ist experimentell und kann sich zwischen den Versionen von .net 5 und .net 6 ändern.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-205">The code style analysis feature is experimental and may change between the .NET 5 and .NET 6 releases.</span></span>

<span data-ttu-id="3ce9f-206">Schritte zum Aktivieren der Code Format Analyse bei Build:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-206">Steps to enable code style analysis on build:</span></span>

1. <span data-ttu-id="3ce9f-207">Legen Sie die MSBuild-Eigenschaft [enforcecodestyleinbuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) auf fest `true` .</span><span class="sxs-lookup"><span data-stu-id="3ce9f-207">Set the MSBuild property [EnforceCodeStyleInBuild](../../core/project-sdk/msbuild-props.md#enforcecodestyleinbuild) to `true`.</span></span>

1. <span data-ttu-id="3ce9f-208">[Konfigurieren](configuration-options.md) Sie in einer *Editor config* -Datei jede "IDE"-codestilregel, die Sie auf dem Build ausführen möchten, als Warnung oder Fehler.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-208">In an *.editorconfig* file, [configure](configuration-options.md) each "IDE" code style rule that you wish to run on build as a warning or an error.</span></span> <span data-ttu-id="3ce9f-209">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-209">For example:</span></span>

   ```ini
   [*.{cs,vb}]
   # IDE0040: Accessibility modifiers required (escalated to a build warning)
   dotnet_diagnostic.IDE0040.severity = warning
   ```

   <span data-ttu-id="3ce9f-210">Alternativ können Sie die gesamte Kategorie "Style" standardmäßig als Warnung oder Fehler konfigurieren und dann selektiv Regeln deaktivieren, die Sie nicht bei Build ausführen möchten.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-210">Alternatively, you can configure the entire "Style" category to be a warning or error, by default, and then selectively turn off rules that you don't want to run on build.</span></span> <span data-ttu-id="3ce9f-211">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-211">For example:</span></span>

   ```ini
   [*.{cs,vb}]

   # Default severity for analyzer diagnostics with category 'Style' (escalated to build warnings)
   dotnet_analyzer_diagnostic.category-Style.severity = warning

   # IDE0040: Accessibility modifiers required (disabled on build)
   dotnet_diagnostic.IDE0040.severity = silent
   ```

## <a name="suppress-a-warning"></a><span data-ttu-id="3ce9f-212">Unterdrücken einer Warnung</span><span class="sxs-lookup"><span data-stu-id="3ce9f-212">Suppress a warning</span></span>

<span data-ttu-id="3ce9f-213">Legen Sie die Option Schweregrad für diese Regel-ID `none` in einer Editor config-Datei auf fest, um eine Regelverletzung zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-213">To suppress a rule violation, set the severity option for that rule ID to `none` in an EditorConfig file.</span></span> <span data-ttu-id="3ce9f-214">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="3ce9f-214">For example:</span></span>

```ini
dotnet_diagnostic.CA1822.severity = none
```

<span data-ttu-id="3ce9f-215">Visual Studio bietet zusätzliche Möglichkeiten, Warnungen von Code Analyse Regeln zu unterdrücken.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-215">Visual Studio provides additional ways to suppress warnings from code analysis rules.</span></span> <span data-ttu-id="3ce9f-216">Weitere Informationen finden Sie unter unter [drücken von Verletzungen](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-216">For more information, see [Suppress violations](/visualstudio/code-quality/use-roslyn-analyzers#suppress-violations).</span></span>

<span data-ttu-id="3ce9f-217">Weitere Informationen zu Schweregraden von Regeln finden Sie unter [Konfigurieren des Regel schwere](configuration-options.md#severity-level)Grads.</span><span class="sxs-lookup"><span data-stu-id="3ce9f-217">For more information about rule severities, see [Configure rule severity](configuration-options.md#severity-level).</span></span>

## <a name="third-party-analyzers"></a><span data-ttu-id="3ce9f-218">Analysetools von Drittanbietern</span><span class="sxs-lookup"><span data-stu-id="3ce9f-218">Third-party analyzers</span></span>

<span data-ttu-id="3ce9f-219">Zusätzlich zu den offiziellen .net-Analysemodulen können Sie auch Drittanbieter-Analyzers installieren, z. b. [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [xUnit](https://www.nuget.org/packages/xunit.analyzers/)Analyzer und [Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span><span class="sxs-lookup"><span data-stu-id="3ce9f-219">In addition to the official .NET analyzers, you can also install third party analyzers, such as [StyleCop](https://www.nuget.org/packages/StyleCop.Analyzers/), [Roslynator](https://www.nuget.org/packages/Roslynator.Analyzers/), [XUnit Analyzers](https://www.nuget.org/packages/xunit.analyzers/), and [Sonar Analyzer](https://www.nuget.org/packages/SonarAnalyzer.CSharp/).</span></span>

## <a name="see-also"></a><span data-ttu-id="3ce9f-220">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="3ce9f-220">See also</span></span>

- [<span data-ttu-id="3ce9f-221">Referenz zur Code Qualitätsanalyse Regel</span><span class="sxs-lookup"><span data-stu-id="3ce9f-221">Code quality analysis rule reference</span></span>](quality-rules/index.md)
- [<span data-ttu-id="3ce9f-222">Regel Referenz für Code Format Analyse</span><span class="sxs-lookup"><span data-stu-id="3ce9f-222">Code style analysis rule reference</span></span>](style-rules/index.md)
- [<span data-ttu-id="3ce9f-223">Codeanalyse in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="3ce9f-223">Code analysis in Visual Studio</span></span>](/visualstudio/code-quality/roslyn-analyzers-overview)
- [<span data-ttu-id="3ce9f-224">.NET Compiler Platform SDK</span><span class="sxs-lookup"><span data-stu-id="3ce9f-224">.NET Compiler Platform SDK</span></span>](../../csharp/roslyn-sdk/index.md)
- [<span data-ttu-id="3ce9f-225">Tutorial: Schreiben Ihres ersten Analysetools und Codefixes</span><span class="sxs-lookup"><span data-stu-id="3ce9f-225">Tutorial: Write your first analyzer and code fix</span></span>](../../csharp/roslyn-sdk/tutorials/how-to-write-csharp-analyzer-code-fix.md)
