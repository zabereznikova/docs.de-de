---
title: Best Practices für das Laden von Assemblys
ms.date: 03/30/2017
helpviewer_keywords:
- assemblies,binding
- LoadFrom method
- default load context
- TypeLoadException class,causes
- assembly loading errors
- load contexts
- assemblies,loading
- LoadWithPartialName method
- load-from context
ms.assetid: 68d1c539-6a47-4614-ab59-4b071c9d4b4c
ms.openlocfilehash: d1b6c2cd9f96a4acf48cbced48a86bc3e3409562
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 01/07/2020
ms.locfileid: "75716589"
---
# <a name="best-practices-for-assembly-loading"></a><span data-ttu-id="839a2-102">Best Practices für das Laden von Assemblys</span><span class="sxs-lookup"><span data-stu-id="839a2-102">Best Practices for Assembly Loading</span></span>
<span data-ttu-id="839a2-103">In diesem Artikel werden Möglichkeiten zur Vermeidung von Problemen mit der Typidentität erläutert, die zu <xref:System.InvalidCastException>, <xref:System.MissingMethodException> und anderen Fehlern führen können.</span><span class="sxs-lookup"><span data-stu-id="839a2-103">This article discusses ways to avoid problems of type identity that can lead to <xref:System.InvalidCastException>, <xref:System.MissingMethodException>, and other errors.</span></span> <span data-ttu-id="839a2-104">In diesem Artikel werden folgende Empfehlungen besprochen:</span><span class="sxs-lookup"><span data-stu-id="839a2-104">The article discusses the following recommendations:</span></span>  
  
- [<span data-ttu-id="839a2-105">Vor- und Nachteile von Load-Kontexten</span><span class="sxs-lookup"><span data-stu-id="839a2-105">Understand the advantages and disadvantages of load contexts</span></span>](#load_contexts)  
  
- [<span data-ttu-id="839a2-106">Vermeiden von Bindungen bei partiellen Assemblynamen</span><span class="sxs-lookup"><span data-stu-id="839a2-106">Avoid binding on partial assembly names</span></span>](#avoid_partial_names)  
  
- [<span data-ttu-id="839a2-107">Vermeiden des Ladens von Assemblys in mehrere Kontexte</span><span class="sxs-lookup"><span data-stu-id="839a2-107">Avoid loading an assembly into multiple contexts</span></span>](#avoid_loading_into_multiple_contexts)  
  
- [<span data-ttu-id="839a2-108">Vermeiden des Ladens von mehreren Versionen einer Assembly in denselben Kontext</span><span class="sxs-lookup"><span data-stu-id="839a2-108">Avoid loading multiple versions of an assembly into the same context</span></span>](#avoid_loading_multiple_versions)  
  
- [<span data-ttu-id="839a2-109">Ziehen Sie in Erwägung, zum Standard-Load-Kontext zu wechseln</span><span class="sxs-lookup"><span data-stu-id="839a2-109">Consider switching to the default load context</span></span>](#switch_to_default)  
  
 <span data-ttu-id="839a2-110">In der ersten Empfehlung, [Vor- und Nachteile von Load-Kontexten](#load_contexts), erhalten Sie Hintergrundinformationen zu den anderen Empfehlungen, da diese alle eine Kenntnis von Load-Kontexten voraussetzen.</span><span class="sxs-lookup"><span data-stu-id="839a2-110">The first recommendation, [understand the advantages and disadvantages of load contexts](#load_contexts), provides background information for the other recommendations, because they all depend on a knowledge of load contexts.</span></span>  
  
<a name="load_contexts"></a>   
## <a name="understand-the-advantages-and-disadvantages-of-load-contexts"></a><span data-ttu-id="839a2-111">Vor- und Nachteile von Load-Kontexten</span><span class="sxs-lookup"><span data-stu-id="839a2-111">Understand the Advantages and Disadvantages of Load Contexts</span></span>  
 <span data-ttu-id="839a2-112">Assemblys können innerhalb einer Anwendungsdomäne in einen von drei Kontexten geladen werden. Alternativ können sie auch ohne Kontext geladen werden:</span><span class="sxs-lookup"><span data-stu-id="839a2-112">Within an application domain, assemblies can be loaded into one of three contexts, or they can be loaded without context:</span></span>  
  
- <span data-ttu-id="839a2-113">Der Standard-Load-Kontext enthält Assemblys, die beim Durchsuchen des globalen Assemblycaches, des Hostassemblyspeichers (wenn die Runtime gehostet wird, z.B. in SQL Server) und der Eigenschaften <xref:System.AppDomainSetup.ApplicationBase%2A> und <xref:System.AppDomainSetup.PrivateBinPath%2A> der Anwendungsdomäne gefunden wurden.</span><span class="sxs-lookup"><span data-stu-id="839a2-113">The default load context contains assemblies found by probing the global assembly cache, the host assembly store if the runtime is hosted (for example, in SQL Server), and the <xref:System.AppDomainSetup.ApplicationBase%2A> and <xref:System.AppDomainSetup.PrivateBinPath%2A> of the application domain.</span></span> <span data-ttu-id="839a2-114">Die meisten Überladungen der Methode <xref:System.Reflection.Assembly.Load%2A> laden Assemblys in diesen Kontext.</span><span class="sxs-lookup"><span data-stu-id="839a2-114">Most overloads of the <xref:System.Reflection.Assembly.Load%2A> method load assemblies into this context.</span></span>  
  
- <span data-ttu-id="839a2-115">Der LoadFrom-Kontext enthält Assemblys, die von Speicherorten geladen werden, die vom Ladeprogramm nicht durchsucht wurden.</span><span class="sxs-lookup"><span data-stu-id="839a2-115">The load-from context contains assemblies that are loaded from locations that are not searched by the loader.</span></span> <span data-ttu-id="839a2-116">Add-Ins können z.B. in einem Verzeichnis installiert sein, dass sich nicht im Anwendungspfad befindet.</span><span class="sxs-lookup"><span data-stu-id="839a2-116">For example, add-ins might be installed in a directory that is not under the application path.</span></span> <span data-ttu-id="839a2-117"><xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>, <xref:System.AppDomain.CreateInstanceFrom%2A?displayProperty=nameWithType> und <xref:System.AppDomain.ExecuteAssembly%2A?displayProperty=nameWithType> sind Beispiel für Methoden, die anhand des Pfads laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-117"><xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>, <xref:System.AppDomain.CreateInstanceFrom%2A?displayProperty=nameWithType>, and <xref:System.AppDomain.ExecuteAssembly%2A?displayProperty=nameWithType> are examples of methods that load by path.</span></span>  
  
- <span data-ttu-id="839a2-118">Der ReflectionOnly-Kontext enthält Assemblys, die mit den Methoden <xref:System.Reflection.Assembly.ReflectionOnlyLoad%2A> und <xref:System.Reflection.Assembly.ReflectionOnlyLoadFrom%2A> geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="839a2-118">The reflection-only context contains assemblies loaded with the <xref:System.Reflection.Assembly.ReflectionOnlyLoad%2A> and <xref:System.Reflection.Assembly.ReflectionOnlyLoadFrom%2A> methods.</span></span> <span data-ttu-id="839a2-119">Code, der sich in diesem Kontext befindet, kann nicht ausgeführt werden. Deshalb wird darauf hier nicht weiter eingegangen.</span><span class="sxs-lookup"><span data-stu-id="839a2-119">Code in this context cannot be executed, so it is not discussed here.</span></span> <span data-ttu-id="839a2-120">Weitere Informationen finden Sie unter [Vorgehensweise: Laden von Assemblys in den reflexionsbezogenen Kontext](../reflection-and-codedom/how-to-load-assemblies-into-the-reflection-only-context.md).</span><span class="sxs-lookup"><span data-stu-id="839a2-120">For more information, see [How to: Load Assemblies into the Reflection-Only Context](../reflection-and-codedom/how-to-load-assemblies-into-the-reflection-only-context.md).</span></span>  
  
- <span data-ttu-id="839a2-121">Wenn Sie eine vorübergehende dynamische Assembly mit der Reflektionsausgabe erstellt haben, befindet die Assembly sich in keinem Kontext.</span><span class="sxs-lookup"><span data-stu-id="839a2-121">If you generated a transient dynamic assembly by using reflection emit, the assembly is not in any context.</span></span> <span data-ttu-id="839a2-122">Außerdem werden Assemblys, die mit der <xref:System.Reflection.Assembly.LoadFile%2A>-Methode geladen wurden, ohne Kontext geladen. Assemblys, die aus Bytearrays geladen werden, werden ohne Kontext geladen, es sei denn, ihre Identität (nachdem eine Richtlinie angewendet wurde) gibt an, dass sie sich im globalen Assemblycache befinden.</span><span class="sxs-lookup"><span data-stu-id="839a2-122">In addition, most assemblies that are loaded by using the <xref:System.Reflection.Assembly.LoadFile%2A> method are loaded without context, and assemblies that are loaded from byte arrays are loaded without context unless their identity (after policy is applied) establishes that they are in the global assembly cache.</span></span>  
  
 <span data-ttu-id="839a2-123">Der Ausführungskontexte haben Vor- und Nachteile, wie in den folgenden Abschnitten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="839a2-123">The execution contexts have advantages and disadvantages, as discussed in the following sections.</span></span>  
  
### <a name="default-load-context"></a><span data-ttu-id="839a2-124">Standard-Load-Kontext</span><span class="sxs-lookup"><span data-stu-id="839a2-124">Default Load Context</span></span>  
 <span data-ttu-id="839a2-125">Wenn Assemblys in den Load-Kontext geladen werden, werden ihre Abhängigkeiten automatisch mitgeladen.</span><span class="sxs-lookup"><span data-stu-id="839a2-125">When assemblies are loaded into the default load context, their dependencies are loaded automatically.</span></span> <span data-ttu-id="839a2-126">Abhängigkeiten, die in den Standard-Load-Kontext geladen werden, werden automatisch für Assemblys im Standard-Load-Kontext oder dem LoadFrom-Kontext geladen.</span><span class="sxs-lookup"><span data-stu-id="839a2-126">Dependencies that are loaded into the default load context are found automatically for assemblies in the default load context or the load-from context.</span></span> <span data-ttu-id="839a2-127">Das Laden anhand der Assemblyidentität erhöht die Stabilität Ihrer Anwendung, da sichergestellt wird, dass unbekannte Assemblyversionen nicht verwendet werden (weitere Informationen im Abschnitt [Vermeiden von Bindungen bei partiellen Assemblynamen](#avoid_partial_names)).</span><span class="sxs-lookup"><span data-stu-id="839a2-127">Loading by assembly identity increases the stability of applications by ensuring that unknown versions of assemblies are not used (see the [Avoid Binding on Partial Assembly Names](#avoid_partial_names) section).</span></span>  
  
 <span data-ttu-id="839a2-128">Das Verwenden des Standard-Load-Kontexts hat folgende Nachteile:</span><span class="sxs-lookup"><span data-stu-id="839a2-128">Using the default load context has the following disadvantages:</span></span>  
  
- <span data-ttu-id="839a2-129">Abhängigkeiten, die in die andere Kontexte geladen werden, stehen nicht zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="839a2-129">Dependencies that are loaded into other contexts are not available.</span></span>  
  
- <span data-ttu-id="839a2-130">Sie können keine Assemblys von Speicherorten in den Standard-Load-Kontext laden, die sich außerhalb des Suchpfads befindet.</span><span class="sxs-lookup"><span data-stu-id="839a2-130">You cannot load assemblies from locations outside the probing path into the default load context.</span></span>  
  
### <a name="load-from-context"></a><span data-ttu-id="839a2-131">LoadFrom-Kontext</span><span class="sxs-lookup"><span data-stu-id="839a2-131">Load-From Context</span></span>  
 <span data-ttu-id="839a2-132">Im LoadFrom-Kontext können Sie eine Assembly aus einem Pfad laden, der sich nicht im Anwendungspfad befindet und deshalb bei der Suche nicht berücksichtigt wird.</span><span class="sxs-lookup"><span data-stu-id="839a2-132">The load-from context lets you load an assembly from a path that is not under the application path, and therefore is not included in probing.</span></span> <span data-ttu-id="839a2-133">So können Abhängigkeiten in diesem Pfad gefunden und geladen werden, da die Pfadinformationen vom Kontext verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-133">It enables dependencies to be located and loaded from that path, because the path information is maintained by the context.</span></span> <span data-ttu-id="839a2-134">Des Weiteren können Assemblys in diesem Kontext Abhängigkeiten verwenden, die in den Standard-Load-Kontext geladen wurden.</span><span class="sxs-lookup"><span data-stu-id="839a2-134">In addition, assemblies in this context can use dependencies that are loaded into the default load context.</span></span>  
  
 <span data-ttu-id="839a2-135">Das Laden von Assemblys mit der <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>-Methode oder einer der anderen Methoden, die anhand des Pfads laden, hat folgende Nachteile:</span><span class="sxs-lookup"><span data-stu-id="839a2-135">Loading assemblies by using the <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType> method, or one of the other methods that load by path, has the following disadvantages:</span></span>  
  
- <span data-ttu-id="839a2-136">Wenn eine Assembly mit der gleichen Identität bereits geladen wurde, gibt <xref:System.Reflection.Assembly.LoadFrom%2A> die geladene Assembly zurück, auch wenn ein anderer Pfad angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="839a2-136">If an assembly with the same identity is already loaded, <xref:System.Reflection.Assembly.LoadFrom%2A> returns the loaded assembly even if a different path was specified.</span></span>  
  
- <span data-ttu-id="839a2-137">Wenn eine Assembly mit <xref:System.Reflection.Assembly.LoadFrom%2A> geladen wird und eine Assembly im Standard-Load-Kontext zu einem späteren Zeitpunkt versucht, dieselbe Assembly anhand des Anzeigenamens zu laden, schlägt der Ladeversuch fehl.</span><span class="sxs-lookup"><span data-stu-id="839a2-137">If an assembly is loaded with <xref:System.Reflection.Assembly.LoadFrom%2A>, and later an assembly in the default load context tries to load the same assembly by display name, the load attempt fails.</span></span> <span data-ttu-id="839a2-138">Dies kann auftreten, wenn eine Assembly deserialisiert ist.</span><span class="sxs-lookup"><span data-stu-id="839a2-138">This can occur when an assembly is deserialized.</span></span>  
  
- <span data-ttu-id="839a2-139">Wenn eine Assembly mit <xref:System.Reflection.Assembly.LoadFrom%2A> geladen wurde und der Suchpfad eine Assembly mit der gleichen Identität an einem anderen Speicherort enthält, kann eine <xref:System.InvalidCastException>, <xref:System.MissingMethodException> oder ein anderes unerwartetes Verhalten auftreten.</span><span class="sxs-lookup"><span data-stu-id="839a2-139">If an assembly is loaded with <xref:System.Reflection.Assembly.LoadFrom%2A>, and the probing path includes an assembly with the same identity but in a different location, an <xref:System.InvalidCastException>, <xref:System.MissingMethodException>, or other unexpected behavior can occur.</span></span>  
  
- <span data-ttu-id="839a2-140"><xref:System.Reflection.Assembly.LoadFrom%2A> fordert <xref:System.Security.Permissions.FileIOPermissionAccess.Read?displayProperty=nameWithType> und <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery?displayProperty=nameWithType> oder <xref:System.Net.WebPermission> im angegebenen Pfad.</span><span class="sxs-lookup"><span data-stu-id="839a2-140"><xref:System.Reflection.Assembly.LoadFrom%2A> demands <xref:System.Security.Permissions.FileIOPermissionAccess.Read?displayProperty=nameWithType> and <xref:System.Security.Permissions.FileIOPermissionAccess.PathDiscovery?displayProperty=nameWithType>, or <xref:System.Net.WebPermission>, on the specified path.</span></span>  
  
- <span data-ttu-id="839a2-141">Wenn für die Assembly ein natives Image vorhanden ist, wird sie nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="839a2-141">If a native image exists for the assembly, it is not used.</span></span>  
  
- <span data-ttu-id="839a2-142">Die Assembly kann nicht als domänenneutral geladen werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-142">The assembly cannot be loaded as domain-neutral.</span></span>  
  
- <span data-ttu-id="839a2-143">In .NET Framework Version 1.0 und 1.1 wird die Richtlinie nicht angewendet.</span><span class="sxs-lookup"><span data-stu-id="839a2-143">In the .NET Framework versions 1.0 and 1.1, policy is not applied.</span></span>  
  
### <a name="no-context"></a><span data-ttu-id="839a2-144">Kein Kontext</span><span class="sxs-lookup"><span data-stu-id="839a2-144">No Context</span></span>  
 <span data-ttu-id="839a2-145">Das Laden ohne Kontext ist die einzige Möglichkeit für vorübergehende, durch die Reflektionsausgabe generierte Assemblys.</span><span class="sxs-lookup"><span data-stu-id="839a2-145">Loading without context is the only option for transient assemblies that are generated with reflection emit.</span></span> <span data-ttu-id="839a2-146">Das Laden ohne Kontext ist die einzige Möglichkeit, mehrere Assemblys mit der gleichen Identität in eine Anwendungsdomäne zu laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-146">Loading without context is the only way to load multiple assemblies that have the same identity into one application domain.</span></span> <span data-ttu-id="839a2-147">Der Suchaufwand wird umgangen.</span><span class="sxs-lookup"><span data-stu-id="839a2-147">The cost of probing is avoided.</span></span>  
  
 <span data-ttu-id="839a2-148">Aus Bytearrays geladenen Assemblys werden ohne Kontext geladen, es sei denn, die Identität der Assembly, die festgelegt wird, wenn die Richtlinie angewendet wird, entspricht der Identität der Assembly im globalen Assemblycache. In einem derartigen Fall wird die Assembly aus dem globalen Assemblycache geladen.</span><span class="sxs-lookup"><span data-stu-id="839a2-148">Assemblies that are loaded from byte arrays are loaded without context unless the identity of the assembly, which is established when policy is applied, matches the identity of an assembly in the global assembly cache; in that case, the assembly is loaded from the global assembly cache.</span></span>  
  
 <span data-ttu-id="839a2-149">Das Laden ohne Kontext hat folgende Nachteile:</span><span class="sxs-lookup"><span data-stu-id="839a2-149">Loading assemblies without context has the following disadvantages:</span></span>  
  
- <span data-ttu-id="839a2-150">Es können keine anderen Assemblys an Assemblys gebunden werden, die ohne Kontext geladen wurden, es sei denn, sie behandeln das <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="839a2-150">Other assemblies cannot bind to assemblies that are loaded without context, unless you handle the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>  
  
- <span data-ttu-id="839a2-151">Abhängigkeiten werden nicht automatisch geladen.</span><span class="sxs-lookup"><span data-stu-id="839a2-151">Dependencies are not loaded automatically.</span></span> <span data-ttu-id="839a2-152">Sie können sie vorab ohne Kontext oder in den Standard-Load-Kontext laden. Zudem können Sie sie laden, indem Sie das <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>-Ereignis behandeln.</span><span class="sxs-lookup"><span data-stu-id="839a2-152">You can preload them without context, preload them into the default load context, or load them by handling the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event.</span></span>  
  
- <span data-ttu-id="839a2-153">Das Laden mehrerer Assemblys mit der gleichen Identität ohne Kontext kann zu Probleme mit der Typidentität führen. Diese ähneln den Problemen, die durch das Laden von Assemblys mit der gleichen Identität in mehreren Kontexten verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-153">Loading multiple assemblies with the same identity without context can cause type identity problems similar to those caused by loading assemblies with the same identity into multiple contexts.</span></span> <span data-ttu-id="839a2-154">Weitere Informationen finden Sie unter [Vermeiden des Ladens von Assemblys in mehrere Kontexte](#avoid_loading_into_multiple_contexts).</span><span class="sxs-lookup"><span data-stu-id="839a2-154">See [Avoid Loading an Assembly into Multiple Contexts](#avoid_loading_into_multiple_contexts).</span></span>  
  
- <span data-ttu-id="839a2-155">Wenn für die Assembly ein natives Image vorhanden ist, wird sie nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="839a2-155">If a native image exists for the assembly, it is not used.</span></span>  
  
- <span data-ttu-id="839a2-156">Die Assembly kann nicht als domänenneutral geladen werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-156">The assembly cannot be loaded as domain-neutral.</span></span>  
  
- <span data-ttu-id="839a2-157">In .NET Framework Version 1.0 und 1.1 wird die Richtlinie nicht angewendet.</span><span class="sxs-lookup"><span data-stu-id="839a2-157">In the .NET Framework versions 1.0 and 1.1, policy is not applied.</span></span>  
  
<a name="avoid_partial_names"></a>   
## <a name="avoid-binding-on-partial-assembly-names"></a><span data-ttu-id="839a2-158">Vermeiden von Bindungen bei partiellen Assemblynamen</span><span class="sxs-lookup"><span data-stu-id="839a2-158">Avoid Binding on Partial Assembly Names</span></span>  
 <span data-ttu-id="839a2-159">Die partielle Namensbindung tritt auf, wenn Sie beim Laden einer Assembly nur einen Teil des Assemblyanzeigenamens (<xref:System.Reflection.Assembly.FullName%2A>) angeben.</span><span class="sxs-lookup"><span data-stu-id="839a2-159">Partial name binding occurs when you specify only part of the assembly display name (<xref:System.Reflection.Assembly.FullName%2A>) when you load an assembly.</span></span> <span data-ttu-id="839a2-160">Unter Umständen rufen Sie z.B. die <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>-Methode nur mit dem einfachen Namen der Assembly auf und lassen dabei die Version, Kultur und das öffentliche Schlüsseltoken weg.</span><span class="sxs-lookup"><span data-stu-id="839a2-160">For example, you might call the <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> method with only the simple name of the assembly, omitting the version, culture, and public key token.</span></span> <span data-ttu-id="839a2-161">Möglicherweise rufen Sie auch die <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>-Methode auf, die zunächst die <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>-Methode aufruft. Falls die Assembly nicht gefunden werden kann, durchsucht die Methode den globalen Assemblycache und lädt die letzte verfügbare Version der Assembly.</span><span class="sxs-lookup"><span data-stu-id="839a2-161">Or you might call the <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType> method, which first calls the <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> method and, if that fails to locate the assembly, searches the global assembly cache and loads the latest available version of the assembly.</span></span>  
  
 <span data-ttu-id="839a2-162">Die partielle Namensbindung kann zu vielen Problemen führen, u.a.:</span><span class="sxs-lookup"><span data-stu-id="839a2-162">Partial name binding can cause many problems, including the following:</span></span>  
  
- <span data-ttu-id="839a2-163">Die <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType>-Methode lädt möglicherweise eine andere Assembly mit dem gleichen einfachen Namen.</span><span class="sxs-lookup"><span data-stu-id="839a2-163">The <xref:System.Reflection.Assembly.LoadWithPartialName%2A?displayProperty=nameWithType> method might load a different assembly with the same simple name.</span></span> <span data-ttu-id="839a2-164">Möglicherweise werden so zwei völlig verschiedene Assemblys von zwei Anwendungen im globalen Assemblycache installiert, beide mit dem einfachen Namen `GraphicsLibrary`.</span><span class="sxs-lookup"><span data-stu-id="839a2-164">For example, two applications might install two completely different assemblies that both have the simple name `GraphicsLibrary` into the global assembly cache.</span></span>  
  
- <span data-ttu-id="839a2-165">Die Assembly, die tatsächlich geladen wird, ist möglicherweise nicht abwärtskompatibel.</span><span class="sxs-lookup"><span data-stu-id="839a2-165">The assembly that is actually loaded might not be backward-compatible.</span></span> <span data-ttu-id="839a2-166">Wenn Sie z.B. die Version nicht angeben, kann dies dazu führen, dass eine deutlich spätere Version als die Version geladen wird, für die Ihr Programm eigentlich geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="839a2-166">For example, not specifying the version might result in the loading of a much later version than the version your program was originally written to use.</span></span> <span data-ttu-id="839a2-167">Änderungen in der späteren Version verursachen möglicherweise Fehler in Ihrer Anwendung.</span><span class="sxs-lookup"><span data-stu-id="839a2-167">Changes in the later version might cause errors in your application.</span></span>  
  
- <span data-ttu-id="839a2-168">Die Assembly, die tatsächlich geladen wird, ist möglicherweise nicht aufwärtskompatibel.</span><span class="sxs-lookup"><span data-stu-id="839a2-168">The assembly that is actually loaded might not be forward-compatible.</span></span> <span data-ttu-id="839a2-169">Ihre Anwendung kann z.B. mit der aktuellsten Version der Assembly entwickelt und geprüft worden sein, aber die partielle Bindung lädt möglicherweise eine sehr viel frühere Version, die nicht über die Funktionen verfügt,die Ihre Anwendung verwendet.</span><span class="sxs-lookup"><span data-stu-id="839a2-169">For example, you might have built and tested your application with the latest version of an assembly, but partial binding might load a much earlier version that lacks features your application uses.</span></span>  
  
- <span data-ttu-id="839a2-170">Das Installieren einer neuen Anwendung kann bereits vorhandene Anwendungen unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="839a2-170">Installing new applications can break existing applications.</span></span> <span data-ttu-id="839a2-171">Eine Anwendung, die die <xref:System.Reflection.Assembly.LoadWithPartialName%2A>-Methode verwendet, kann durch die Installation einer neueren, inkompatiblen Version einer freigegebenen Assembly unterbrochen werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-171">An application that uses the <xref:System.Reflection.Assembly.LoadWithPartialName%2A> method can be broken by installing a newer, incompatible version of a shared assembly.</span></span>  
  
- <span data-ttu-id="839a2-172">Das unvorhergesehene Laden von Abhängigkeiten kann auftreten.</span><span class="sxs-lookup"><span data-stu-id="839a2-172">Unexpected dependency loading can occur.</span></span> <span data-ttu-id="839a2-173">Wenn Sie zwei Assemblys mit einer gemeinsamen Abhängigkeit laden, kann das Laden mit partieller Bindung dazu führen, dass eine Assembly eine Komponente verwendet, für die sie nicht entwickelt bzw. geprüft wurde.</span><span class="sxs-lookup"><span data-stu-id="839a2-173">It you load two assemblies that share a dependency, loading them with partial binding might result in one assembly using a component that it was not built or tested with.</span></span>  
  
 <span data-ttu-id="839a2-174">Aufgrund der Probleme, die sie verursachen kann, wurde die <xref:System.Reflection.Assembly.LoadWithPartialName%2A>-Methode als veraltet markiert.</span><span class="sxs-lookup"><span data-stu-id="839a2-174">Because of the problems it can cause, the <xref:System.Reflection.Assembly.LoadWithPartialName%2A> method has been marked obsolete.</span></span> <span data-ttu-id="839a2-175">Es wird empfohlen, dass Sie stattdessen die <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>-Methode verwenden, und dass Sie vollständige Assemblyanzeigenamen angeben.</span><span class="sxs-lookup"><span data-stu-id="839a2-175">We recommend that you use the <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> method instead, and specify full assembly display names.</span></span> <span data-ttu-id="839a2-176">Weitere Informationen finden Sie unter [Vor- und Nachteile von Load-Kontexten](#load_contexts) und [Ziehen Sie in Erwägung, zum Standard-Load-Kontext zu wechseln](#switch_to_default).</span><span class="sxs-lookup"><span data-stu-id="839a2-176">See [Understand the Advantages and Disadvantages of Load Contexts](#load_contexts) and [Consider Switching to the Default Load Context](#switch_to_default).</span></span>  
  
 <span data-ttu-id="839a2-177">Wenn Sie die <xref:System.Reflection.Assembly.LoadWithPartialName%2A>-Methode verwenden möchten, weil es das Laden von Assemblys erleichtert, beachten Sie, dass, wenn Sie Ihre Anwendung mit einer Fehlermeldung fehlschlagen lassen, die die fehlende Assembly identifiziert, dies sehr wahrscheinlich zu einer besseren Benutzererfahrung führt als wenn Sie automatisch eine unbekannte Version der Assembly verwenden. Dies kann zu unvorhergesehenem Verhalten und Sicherheitslücken führen.</span><span class="sxs-lookup"><span data-stu-id="839a2-177">If you want to use the <xref:System.Reflection.Assembly.LoadWithPartialName%2A> method because it makes assembly loading easy, consider that having your application fail with an error message that identifies the missing assembly is likely to provide a better user experience than automatically using an unknown version of the assembly, which might cause unpredictable behavior and security holes.</span></span>  
  
<a name="avoid_loading_into_multiple_contexts"></a>   
## <a name="avoid-loading-an-assembly-into-multiple-contexts"></a><span data-ttu-id="839a2-178">Vermeiden des Ladens von Assemblys in mehrere Kontexte</span><span class="sxs-lookup"><span data-stu-id="839a2-178">Avoid Loading an Assembly into Multiple Contexts</span></span>  
 <span data-ttu-id="839a2-179">Das Laden einer Assembly in mehrere Kontexte kann zu Problemen mit der Typidentität führen.</span><span class="sxs-lookup"><span data-stu-id="839a2-179">Loading an assembly into multiple contexts can cause type identity problems.</span></span> <span data-ttu-id="839a2-180">Wenn der gleiche Typ aus der gleichen Assembly in zwei verschiedene Kontexte geladen wurde, ist dies so, als wären zwei verschiedene Typen mit dem gleichen Namen geladen worden.</span><span class="sxs-lookup"><span data-stu-id="839a2-180">If the same type is loaded from the same assembly into two different contexts, it is as if two different types with the same name had been loaded.</span></span> <span data-ttu-id="839a2-181">Eine <xref:System.InvalidCastException> wird ausgelöst, wenn Sie versuchen, einen Typ in einen anderen umzuwandeln. Dabei wird die verwirrende Nachricht angezeigt, dass Typ `MyType` nicht in Typ `MyType` umgewandelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="839a2-181">An <xref:System.InvalidCastException> is thrown if you try to cast one type to the other, with the confusing message that type `MyType` cannot be cast to type `MyType`.</span></span>  
  
 <span data-ttu-id="839a2-182">Nehmen Sie z.B. an, dass die `ICommunicate`-Schnittstelle in einer Assembly mit dem Namen `Utility` deklariert wird, auf die von Ihrem Programm sowie von anderen von Ihrem Programm geladenen Assemblys verwiesen wird.</span><span class="sxs-lookup"><span data-stu-id="839a2-182">For example, suppose that the `ICommunicate` interface is declared in an assembly named `Utility`, which is referenced by your program and also by other assemblies that your program loads.</span></span> <span data-ttu-id="839a2-183">Diese andere Assembly enthält Typen, die die `ICommunicate`-Schnittstelle implementieren. So können diese von Ihrem Programm verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-183">These other assemblies contain types that implement the `ICommunicate` interface, allowing your program to use them.</span></span>  
  
 <span data-ttu-id="839a2-184">Überlegen Sie jetzt, was passiert, wenn Ihr Programm ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="839a2-184">Now consider what happens when your program is run.</span></span> <span data-ttu-id="839a2-185">Assemblys, auf die von Ihrem Programm verwiesen wird, werden in den Standard-Load-Kontext geladen.</span><span class="sxs-lookup"><span data-stu-id="839a2-185">Assemblies that are referenced by your program are loaded into the default load context.</span></span> <span data-ttu-id="839a2-186">Wenn Sie eine Zielassembly anhand deren Identität mit der <xref:System.Reflection.Assembly.Load%2A>-Methode laden, befindet sich diese sowie ihre Abhängigkeiten im Standard-Load-Kontext.</span><span class="sxs-lookup"><span data-stu-id="839a2-186">If you load a target assembly by its identity, using the <xref:System.Reflection.Assembly.Load%2A> method, it will be in the default load context, and so will its dependencies.</span></span> <span data-ttu-id="839a2-187">Sowohl Ihr Programm als auch die Zielassembly verwenden die gleiche `Utility`-Assembly.</span><span class="sxs-lookup"><span data-stu-id="839a2-187">Both your program and the target assembly will use the same `Utility` assembly.</span></span>  
  
 <span data-ttu-id="839a2-188">Stellen Sie sich aber jetzt vor, Sie würden Ihre Zielassembly mit ihrem Dateipfad mit der <xref:System.Reflection.Assembly.LoadFile%2A>-Methode laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-188">However, suppose you load the target assembly by its file path, using the <xref:System.Reflection.Assembly.LoadFile%2A> method.</span></span> <span data-ttu-id="839a2-189">Die Assembly wird ohne Kontext geladen, weshalb ihre Abhängigkeiten nicht automatisch geladen werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-189">The assembly is loaded without any context, so its dependencies are not automatically loaded.</span></span> <span data-ttu-id="839a2-190">Möglicherweise haben Sie einen Handler für das <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>-Ereignis, um die Abhängigkeit bereitzustellen. Unter Umständen lädt er die `Utility`-Assembly ohne Kontext mit der Methode <xref:System.Reflection.Assembly.LoadFile%2A>.</span><span class="sxs-lookup"><span data-stu-id="839a2-190">You might have a handler for the <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType> event to supply the dependency, and it might load the `Utility` assembly with no context by using the <xref:System.Reflection.Assembly.LoadFile%2A> method.</span></span> <span data-ttu-id="839a2-191">Wenn Sie jetzt eine Instanz eines Typs erstellen, der in der Zielassembly enthalten ist, und versuchen, diesen einer Variablen mit dem Typ `ICommunicate` zuzuweisen, wird eine <xref:System.InvalidCastException> ausgelöst, da die Runtime die `ICommunicate`-Schnittstellen in den zwei Kopien der `Utility`-Assembly als von unterschiedlichen Typen ansieht.</span><span class="sxs-lookup"><span data-stu-id="839a2-191">Now when you create an instance of a type that is contained in the target assembly and try to assign it to a variable of type `ICommunicate`, an <xref:System.InvalidCastException> is thrown because the runtime considers the `ICommunicate` interfaces in the two copies of the `Utility` assembly to be different types.</span></span>  
  
 <span data-ttu-id="839a2-192">Es gibt viele andere Szenarios, in denen eine Assembly in mehrere Kontexte geladen werden kann.</span><span class="sxs-lookup"><span data-stu-id="839a2-192">There are many other scenarios in which an assembly can be loaded into multiple contexts.</span></span> <span data-ttu-id="839a2-193">Am besten vermeiden Sie Konflikte, indem Sie die Zielassembly in Ihrem Anwendungspfad verschieben und die <xref:System.Reflection.Assembly.Load%2A>-Methode mit dem vollständigen Anzeigenamen verwenden.</span><span class="sxs-lookup"><span data-stu-id="839a2-193">The best approach is to avoid conflicts by relocating the target assembly in your application path and using the <xref:System.Reflection.Assembly.Load%2A> method with the full display name.</span></span> <span data-ttu-id="839a2-194">Dann wird die Assembly in den Standard-Load-Kontext geladen, und beide Assemblys verwenden dieselbe `Utility`-Assembly.</span><span class="sxs-lookup"><span data-stu-id="839a2-194">The assembly is then loaded into the default load context, and both assemblies use the same `Utility` assembly.</span></span>  
  
 <span data-ttu-id="839a2-195">Wenn die Zielassembly außerhalb Ihres Anwendungspfads bleiben muss, können Sie die <xref:System.Reflection.Assembly.LoadFrom%2A>-Methode verwenden, um sie in den LoadFrom-Kontext zu laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-195">If the target assembly must remain outside your application path, you can use the <xref:System.Reflection.Assembly.LoadFrom%2A> method to load it into the load-from context.</span></span> <span data-ttu-id="839a2-196">Wenn die Zielassembly mit einem Verweis auf die `Utility`-Assembly der Anwendung kompiliert wurde, verwendet sie die `Utility`-Assembly, die Ihre Anwendung in den Standard-Load-Kontext geladen hat.</span><span class="sxs-lookup"><span data-stu-id="839a2-196">If the target assembly was compiled with a reference to your application's `Utility` assembly, it will use the `Utility` assembly that your application has loaded into the default load context.</span></span> <span data-ttu-id="839a2-197">Beachten Sie, dass Probleme auftreten können, wenn die Zielassembly eine Abhängigkeit auf einer Kopie der `Utility`-Assembly hat, die sich außerhalb des Anwendungspfads befindet.</span><span class="sxs-lookup"><span data-stu-id="839a2-197">Note that problems can occur if the target assembly has a dependency on a copy of the `Utility` assembly located outside your application path.</span></span> <span data-ttu-id="839a2-198">Wenn diese Assembly in den LoadFrom-Kontext geladen wird, bevor Ihre Anwendung die `Utility`-Assembly lädt, schlägt der Ladevorgang Ihrer Anwendung fehl.</span><span class="sxs-lookup"><span data-stu-id="839a2-198">If that assembly is loaded into the load-from context before your application loads the `Utility` assembly, your application's load will fail.</span></span>  
  
 <span data-ttu-id="839a2-199">Im Abschnitt [Ziehen Sie in Erwägung, zum Standard-Load-Kontext zu wechseln](#switch_to_default) werden Alternativen zum Laden von Dateipfaden erläutert, wie etwa <xref:System.Reflection.Assembly.LoadFile%2A> und <xref:System.Reflection.Assembly.LoadFrom%2A>.</span><span class="sxs-lookup"><span data-stu-id="839a2-199">The [Consider Switching to the Default Load Context](#switch_to_default) section discusses alternatives to using file path loads such as <xref:System.Reflection.Assembly.LoadFile%2A> and <xref:System.Reflection.Assembly.LoadFrom%2A>.</span></span>  
  
<a name="avoid_loading_multiple_versions"></a>   
## <a name="avoid-loading-multiple-versions-of-an-assembly-into-the-same-context"></a><span data-ttu-id="839a2-200">Vermeiden des Ladens von mehreren Versionen einer Assembly in denselben Kontext</span><span class="sxs-lookup"><span data-stu-id="839a2-200">Avoid Loading Multiple Versions of an Assembly into the Same Context</span></span>  
 <span data-ttu-id="839a2-201">Das Laden von mehreren Assemblyversionen in einen Load-Kontext kann zu Problemen mit der Typidentität führen.</span><span class="sxs-lookup"><span data-stu-id="839a2-201">Loading multiple versions of an assembly into one load context can cause type identity problems.</span></span> <span data-ttu-id="839a2-202">Wenn der gleiche Typ aus der zwei Versionen derselben Assembly geladen wurde, ist dies so, als wären zwei verschiedene Typen mit dem gleichen Namen geladen worden.</span><span class="sxs-lookup"><span data-stu-id="839a2-202">If the same type is loaded from two versions of the same assembly, it is as if two different types with the same name had been loaded.</span></span> <span data-ttu-id="839a2-203">Eine <xref:System.InvalidCastException> wird ausgelöst, wenn Sie versuchen, einen Typ in einen anderen umzuwandeln. Dabei wird die verwirrende Nachricht angezeigt, dass Typ `MyType` nicht in Typ `MyType` umgewandelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="839a2-203">An <xref:System.InvalidCastException> is thrown if you try to cast one type to the other, with the confusing message that type `MyType` cannot be cast to type `MyType`.</span></span>  
  
 <span data-ttu-id="839a2-204">Ihr Programm lädt z.B. möglicherweise eine Version der `Utility`-Assembly direkt, aber zu einem späteren Zeitpunkt lädt es möglicherweise eine andere Assembly, die eine andere Version der `Utility`-Assembly lädt.</span><span class="sxs-lookup"><span data-stu-id="839a2-204">For example, your program might load one version of the `Utility` assembly directly, and later it might load another assembly that loads a different version of the `Utility` assembly.</span></span> <span data-ttu-id="839a2-205">Es kann auch sein, dass ein Codefehler dazu führt, dass zwei unterschiedliche Codepfade Ihrer Anwendung verschiedene Versionen einer Assembly laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-205">Or a coding error might cause two different code paths in your application to load different versions of an assembly.</span></span>  
  
 <span data-ttu-id="839a2-206">Dieses Problem kann im Standard-Load-Kontext auftreten, wenn Sie die <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>-Methode verwenden und vollständige Assemblyanzeigenamen angeben, die verschiedene Versionsnummern enthalten.</span><span class="sxs-lookup"><span data-stu-id="839a2-206">In the default load context, this problem can occur when you use the <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> method and specify complete assembly display names that include different version numbers.</span></span> <span data-ttu-id="839a2-207">Das Problem kann bei Assemblys, die ohne Kontext geladen wurden, durch das Verwenden der <xref:System.Reflection.Assembly.LoadFile%2A?displayProperty=nameWithType>-Methode zum Laden der gleichen Assembly aus einem anderen Pfad verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-207">For assemblies that are loaded without context, the problem can be caused by using the <xref:System.Reflection.Assembly.LoadFile%2A?displayProperty=nameWithType> method to load the same assembly from different paths.</span></span> <span data-ttu-id="839a2-208">Die Runtime sieht zwei Assemblys, die aus verschiedenen Pfaden geladen wurden, als unterschiedlich an, auch wenn deren Identitäten übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="839a2-208">The runtime considers two assemblies that are loaded from different paths to be different assemblies, even if their identities are the same.</span></span>  
  
 <span data-ttu-id="839a2-209">Neben Problemen mit der Typidentität können mehrere Versionen einer Assembly eine <xref:System.MissingMethodException> verursachen, wenn ein Typ, der aus einer Version der Assembly geladen wird, an Code übergeben wird, der diesen Typ einer anderen Version erwartet.</span><span class="sxs-lookup"><span data-stu-id="839a2-209">In addition to type identity problems, multiple versions of an assembly can cause a <xref:System.MissingMethodException> if a type that is loaded from one version of the assembly is passed to code that expects that type from a different version.</span></span> <span data-ttu-id="839a2-210">Der Code erwartet z.B. möglicherweise eine Methode, die in einer späteren Version hinzugefügt wurde.</span><span class="sxs-lookup"><span data-stu-id="839a2-210">For example, the code might expect a method that was added to the later version.</span></span>  
  
 <span data-ttu-id="839a2-211">Geringfügigere Fehler können auftreten, wenn das Verhalten des Typs von einer Version zur anderen geändert wurde.</span><span class="sxs-lookup"><span data-stu-id="839a2-211">More subtle errors can occur if the behavior of the type changed between versions.</span></span> <span data-ttu-id="839a2-212">Eine Methode kann z.B. eine unerwartete Ausnahme auslösen oder einen unerwarteten Wert zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="839a2-212">For example, a method might throw an unexpected exception or return an unexpected value.</span></span>  
  
 <span data-ttu-id="839a2-213">Überprüfen Sie Ihren Code gründlich, um sicherzustellen, dass nur eine Version einer Assembly geladen wird.</span><span class="sxs-lookup"><span data-stu-id="839a2-213">Carefully review your code to ensure that only one version of an assembly is loaded.</span></span> <span data-ttu-id="839a2-214">Sie können die <xref:System.AppDomain.GetAssemblies%2A?displayProperty=nameWithType>-Methode verwenden, um zu bestimmten, welche Assemblys zu einem gegebenen Zeitpunkt geladen werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-214">You can use the <xref:System.AppDomain.GetAssemblies%2A?displayProperty=nameWithType> method to determine which assemblies are loaded at any given time.</span></span>  
  
<a name="switch_to_default"></a>   
## <a name="consider-switching-to-the-default-load-context"></a><span data-ttu-id="839a2-215">Ziehen Sie in Erwägung, zum Standard-Load-Kontext zu wechseln</span><span class="sxs-lookup"><span data-stu-id="839a2-215">Consider Switching to the Default Load Context</span></span>  
 <span data-ttu-id="839a2-216">Schauen Sie sich die Muster Ihrer Anwendung zum Laden und Bereitstellen von Assemblys an.</span><span class="sxs-lookup"><span data-stu-id="839a2-216">Examine your application's assembly loading and deployment patterns.</span></span> <span data-ttu-id="839a2-217">Können Sie aus Bytearrays geladene Assemblys beseitigen?</span><span class="sxs-lookup"><span data-stu-id="839a2-217">Can you eliminate assemblies that are loaded from byte arrays?</span></span> <span data-ttu-id="839a2-218">Können Sie Assemblys in den Suchpfad verschieben?</span><span class="sxs-lookup"><span data-stu-id="839a2-218">Can you move assemblies into the probing path?</span></span> <span data-ttu-id="839a2-219">Wenn sich Assemblys im globalen Assemblycache oder im Suchpfad der Anwendungsdomäne befinden (d.h. deren <xref:System.AppDomainSetup.ApplicationBase%2A> und <xref:System.AppDomainSetup.PrivateBinPath%2A>), können Sie die Assembly anhand ihrer Identität laden.</span><span class="sxs-lookup"><span data-stu-id="839a2-219">If assemblies are located in the global assembly cache or in the application domain's probing path (that is, its <xref:System.AppDomainSetup.ApplicationBase%2A> and <xref:System.AppDomainSetup.PrivateBinPath%2A>), you can load the assembly by its identity.</span></span>  
  
 <span data-ttu-id="839a2-220">Wenn Sie Ihre Assemblys nicht alle in den Suchpfad verschieben können, ziehen Sie Alternativen wie das Add-In-Modell von .NET Framework, das Platzieren von Assemblys in den globalen Assemblycache oder das Erstellen einer Anwendungsdomäne in Erwägung.</span><span class="sxs-lookup"><span data-stu-id="839a2-220">If it is not possible to put all your assemblies in the probing path, consider alternatives such as using the .NET Framework add-in model, placing assemblies into the global assembly cache, or creating application domains.</span></span>  
  
### <a name="consider-using-the-net-framework-add-in-model"></a><span data-ttu-id="839a2-221">Ziehen Sie in Erwägung das Add-In-Modell von .NET Framework zu verwenden</span><span class="sxs-lookup"><span data-stu-id="839a2-221">Consider Using the .NET Framework Add-In Model</span></span>  
 <span data-ttu-id="839a2-222">Wenn Sie den LoadFrom-Kontext verwenden, um Add-Ins zu implementieren, die für gewöhnlich nicht in der Anwendungsbasis installiert sind, verwenden Sie das Add-In-Modell von .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="839a2-222">If you are using the load-from context to implement add-ins, which typically are not installed in the application base, use the .NET Framework add-in model.</span></span> <span data-ttu-id="839a2-223">Dieses Modell ermöglicht die Isolation auf der Anwendungsdomänen- oder Prozessebene, ohne dass Sie die Anwendungsdomäne selbst verwalten müssen.</span><span class="sxs-lookup"><span data-stu-id="839a2-223">This model provides isolation at the application domain or process level, without requiring you to manage application domains yourself.</span></span> <span data-ttu-id="839a2-224">Weiter Informationen zum Add-In-Modell finden Sie unter [Add-ins and Extensibility (Add-Ins und Erweiterbarkeit)](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb384200(v%3dvs.100)).</span><span class="sxs-lookup"><span data-stu-id="839a2-224">For information about the add-in model, see [Add-ins and Extensibility](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/bb384200(v%3dvs.100)).</span></span>  
  
### <a name="consider-using-the-global-assembly-cache"></a><span data-ttu-id="839a2-225">Ziehen Sie in Erwägung, den globalen Assemblycache zu verwenden</span><span class="sxs-lookup"><span data-stu-id="839a2-225">Consider Using the Global Assembly Cache</span></span>  
 <span data-ttu-id="839a2-226">Platzieren Sie Assemblys in den globalen Assemblycache, um vom Pfad der freigegebenen Assembly zu profitieren, die sich außerhalb der Anwendungsbasis befindet. Dabei büßen Sie aber nichts an den Vorteilen des Standard-Load-Kontexts ein. Ebenso wenig müssen Sie sich mit den Nachteilen der anderen Kontexte auseinandersetzen.</span><span class="sxs-lookup"><span data-stu-id="839a2-226">Place assemblies in the global assembly cache to get the benefit of a shared assembly path that is outside the application base, without losing the advantages of the default load context or taking on the disadvantages of the other contexts.</span></span>  
  
### <a name="consider-using-application-domains"></a><span data-ttu-id="839a2-227">Ziehen Sie in Erwägung, Anwendungsdomänen zu verwenden</span><span class="sxs-lookup"><span data-stu-id="839a2-227">Consider Using Application Domains</span></span>  
 <span data-ttu-id="839a2-228">Wenn Sie bestimmen, dass einige Assemblys nicht im Suchpfad der Anwendung bereitgestellt werden können, ziehen Sie in Erwägung, eine neue Anwendungsdomäne für diese Assemblys zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="839a2-228">If you determine that some of your assemblies cannot be deployed in the application's probing path, consider creating a new application domain for those assemblies.</span></span> <span data-ttu-id="839a2-229">Verwenden Sie <xref:System.AppDomainSetup>, um neue Anwendungsdomänen zu erstellen, und verwenden Sie die <xref:System.AppDomainSetup.ApplicationBase%2A?displayProperty=nameWithType>-Eigenschaft, um den Pfad anzugeben, der die Assembly enthält, die Sie laden möchten.</span><span class="sxs-lookup"><span data-stu-id="839a2-229">Use an <xref:System.AppDomainSetup> to create the new application domain, and use the <xref:System.AppDomainSetup.ApplicationBase%2A?displayProperty=nameWithType> property to specify the path that contains the assemblies you want to load.</span></span> <span data-ttu-id="839a2-230">Wenn Sie mehrere Verzeichnisse durchsuchen müssen, können Sie <xref:System.AppDomainSetup.ApplicationBase%2A> auf ein Stammverzeichnis festlegen und die <xref:System.AppDomainSetup.PrivateBinPath%2A?displayProperty=nameWithType>-Eigenschaft verwenden, um die zu durchsuchenden Unterverzeichnisse zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="839a2-230">If you have multiple directories to probe, you can set the <xref:System.AppDomainSetup.ApplicationBase%2A> to a root directory and use the <xref:System.AppDomainSetup.PrivateBinPath%2A?displayProperty=nameWithType> property to identify the subdirectories to probe.</span></span> <span data-ttu-id="839a2-231">Alternativ können Sie auch mehrere Anwendungsdomänen erstellen und <xref:System.AppDomainSetup.ApplicationBase%2A> jeder Anwendungsdomäne auf den entsprechenden Pfad für deren Assemblys festlegen.</span><span class="sxs-lookup"><span data-stu-id="839a2-231">Alternatively, you can create multiple application domains and set the <xref:System.AppDomainSetup.ApplicationBase%2A> of each application domain to the appropriate path for its assemblies.</span></span>  
  
 <span data-ttu-id="839a2-232">Beachten Sie, dass Sie diese Assemblys mit der <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>-Methode laden können.</span><span class="sxs-lookup"><span data-stu-id="839a2-232">Note that you can use the <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType> method to load these assemblies.</span></span> <span data-ttu-id="839a2-233">Da sie sich nun im Suchpfad befinden, werden sie in den Standard-Load-Kontext geladen statt in den LoadFrom-Kontext.</span><span class="sxs-lookup"><span data-stu-id="839a2-233">Because they are now in the probing path, they will be loaded into the default load context instead of the load-from context.</span></span> <span data-ttu-id="839a2-234">Es wird allerdings empfohlen, dass Sie zur <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>-Methode wechseln und vollständige Assemblyanzeigenamen angeben, um sicherzustellen, dass immer die korrekten Versionen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="839a2-234">However, we recommend that you switch to the <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType> method and supply full assembly display names to ensure that correct versions are always used.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="839a2-235">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="839a2-235">See also</span></span>

- <xref:System.Reflection.Assembly.Load%2A?displayProperty=nameWithType>
- <xref:System.Reflection.Assembly.LoadFrom%2A?displayProperty=nameWithType>
- <xref:System.Reflection.Assembly.LoadFile%2A?displayProperty=nameWithType>
- <xref:System.AppDomain.AssemblyResolve?displayProperty=nameWithType>
