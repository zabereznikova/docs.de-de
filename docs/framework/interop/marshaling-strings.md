---
title: Marshalling von Zeichenfolgen
description: Erfahren Sie mehr zum Marshalling von Zeichenfolgen. Erfahren Sie mehr über die Möglichkeiten zum Marshallen von Zeichenfolgen nach Wert oder Verweis, als Ergebnis, in einer Struktur oder Klasse nach Wert oder Verweis und vieles mehr.
ms.date: 03/30/2017
helpviewer_keywords:
- marshaling, samples
- platform invoke, marshaling data
- data marshaling, strings
- data marshaling, samples
- data marshaling, platform invoke
- marshaling. strings
- marshaling, platform invoke
- sample applications [.NET Framework], marshaling strings
ms.assetid: e21b078b-70fb-4905-be26-c097ab2433ff
ms.openlocfilehash: 2b7038a57ee0a8186288c7388fcd000daad70ed0
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96238040"
---
# <a name="marshaling-strings"></a><span data-ttu-id="32a14-104">Marshalling von Zeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="32a14-104">Marshaling Strings</span></span>

<span data-ttu-id="32a14-105">Der Plattformaufruf kopiert Zeichenfolgenparameter, wobei das .NET Framework-Format (Unicode) bei Bedarf in das nicht verwaltete Format (ANSI) konvertiert wird.</span><span class="sxs-lookup"><span data-stu-id="32a14-105">Platform invoke copies string parameters, converting them from the .NET Framework format (Unicode) to the unmanaged format (ANSI), if needed.</span></span> <span data-ttu-id="32a14-106">Da verwaltete Zeichenfolgen unveränderlich sind, kopieren Plattformaufrufe sie bei Rückgabe der Funktion nicht aus dem nicht verwalteten Speicher in den verwalteten Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="32a14-106">Because managed strings are immutable, platform invoke does not copy them back from unmanaged memory to managed memory when the function returns.</span></span>  
  
 <span data-ttu-id="32a14-107">In der folgende Tabelle werden Marshallingoptionen für Zeichenfolgen aufgelistet. Ihre Verwendung wird beschrieben, und es werden Links zu den entsprechenden .NET Framework-Beispielen bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="32a14-107">The following table lists marshaling options for strings, describes their usage, and provides a link to the corresponding .NET Framework sample.</span></span>  
  
|<span data-ttu-id="32a14-108">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="32a14-108">String</span></span>|<span data-ttu-id="32a14-109">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="32a14-109">Description</span></span>|<span data-ttu-id="32a14-110">Beispiel</span><span class="sxs-lookup"><span data-stu-id="32a14-110">Sample</span></span>|  
|------------|-----------------|------------|  
|<span data-ttu-id="32a14-111">Nach Wert.</span><span class="sxs-lookup"><span data-stu-id="32a14-111">By value.</span></span>|<span data-ttu-id="32a14-112">Übergibt Zeichenfolgen als In-Parameter.</span><span class="sxs-lookup"><span data-stu-id="32a14-112">Passes strings as In parameters.</span></span>|[<span data-ttu-id="32a14-113">MsgBox</span><span class="sxs-lookup"><span data-stu-id="32a14-113">MsgBox</span></span>](msgbox-sample.md)|  
|<span data-ttu-id="32a14-114">Als Ergebnis.</span><span class="sxs-lookup"><span data-stu-id="32a14-114">As result.</span></span>|<span data-ttu-id="32a14-115">Gibt Zeichenfolgen aus nicht verwaltetem Code zurück.</span><span class="sxs-lookup"><span data-stu-id="32a14-115">Returns strings from unmanaged code.</span></span>|<span data-ttu-id="32a14-116">[Zeichenfolgen](/previous-versions/dotnet/netframework-4.0/e765dyyy(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-116">[Strings](/previous-versions/dotnet/netframework-4.0/e765dyyy(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-117">Nach Verweis.</span><span class="sxs-lookup"><span data-stu-id="32a14-117">By reference.</span></span>|<span data-ttu-id="32a14-118">Übergibt Zeichenfolgen als In/Out-Parameter mit <xref:System.Text.StringBuilder>.</span><span class="sxs-lookup"><span data-stu-id="32a14-118">Passes strings as In/Out parameters using <xref:System.Text.StringBuilder>.</span></span>|<span data-ttu-id="32a14-119">[Puffer](/previous-versions/dotnet/netframework-4.0/x3txb6xc(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-119">[Buffers](/previous-versions/dotnet/netframework-4.0/x3txb6xc(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-120">In einer Struktur nach Wert.</span><span class="sxs-lookup"><span data-stu-id="32a14-120">In a structure by value.</span></span>|<span data-ttu-id="32a14-121">Zeichenfolgen werden in einer Struktur, die ein In-Parameter ist, übergeben.</span><span class="sxs-lookup"><span data-stu-id="32a14-121">Passes strings in a structure that is an In parameter.</span></span>|<span data-ttu-id="32a14-122">[Strukturen](/previous-versions/dotnet/netframework-4.0/eadtsekz(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-122">[Structs](/previous-versions/dotnet/netframework-4.0/eadtsekz(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-123">In einer Struktur nach Verweis **(char\*)** .</span><span class="sxs-lookup"><span data-stu-id="32a14-123">In a structure by reference **(char\*)**.</span></span>|<span data-ttu-id="32a14-124">Zeichenfolgen werden in einer Struktur, die ein In/Out-Parameter ist, übergeben.</span><span class="sxs-lookup"><span data-stu-id="32a14-124">Passes strings in a structure that is an In/Out parameter.</span></span> <span data-ttu-id="32a14-125">Die nicht verwaltete Funktion erwartet einen Zeiger auf einen Zeichenpuffer, und die Größe des Puffers ist ein Element der Struktur.</span><span class="sxs-lookup"><span data-stu-id="32a14-125">The unmanaged function expects a pointer to a character buffer and the buffer size is a member of the structure.</span></span>|<span data-ttu-id="32a14-126">[Zeichenfolgen](/previous-versions/dotnet/netframework-4.0/e765dyyy(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-126">[Strings](/previous-versions/dotnet/netframework-4.0/e765dyyy(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-127">In einer Struktur nach Verweis **(char[])** .</span><span class="sxs-lookup"><span data-stu-id="32a14-127">In a structure by reference **(char[])**.</span></span>|<span data-ttu-id="32a14-128">Zeichenfolgen werden in einer Struktur, die ein In/Out-Parameter ist, übergeben.</span><span class="sxs-lookup"><span data-stu-id="32a14-128">Passes strings in a structure that is an In/Out parameter.</span></span> <span data-ttu-id="32a14-129">Die nicht verwaltete Funktion erwartet einen eingebetteten Zeichenpuffer.</span><span class="sxs-lookup"><span data-stu-id="32a14-129">The unmanaged function expects an embedded character buffer.</span></span>|<span data-ttu-id="32a14-130">[OSInfo](/previous-versions/dotnet/netframework-4.0/795sy883(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-130">[OSInfo](/previous-versions/dotnet/netframework-4.0/795sy883(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-131">In einer Klasse nach Wert **(char\*)** .</span><span class="sxs-lookup"><span data-stu-id="32a14-131">In a class by value **(char\*)**.</span></span>|<span data-ttu-id="32a14-132">Zeichenfolgen werden in einer Klasse übergeben (eine Klasse ist ein In/Out-Parameter).</span><span class="sxs-lookup"><span data-stu-id="32a14-132">Passes strings in a class (a class is an In/Out parameter).</span></span> <span data-ttu-id="32a14-133">Die nicht verwaltete Funktion erwartet einen Zeiger auf einen Zeichenpuffer.</span><span class="sxs-lookup"><span data-stu-id="32a14-133">The unmanaged function expects a pointer to a character buffer.</span></span>|<span data-ttu-id="32a14-134">[OpenFileDlg](/previous-versions/dotnet/netframework-4.0/w5tyztk9(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-134">[OpenFileDlg](/previous-versions/dotnet/netframework-4.0/w5tyztk9(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-135">In einer Klasse nach Wert **(char[])** .</span><span class="sxs-lookup"><span data-stu-id="32a14-135">In a class by value **(char[])**.</span></span>|<span data-ttu-id="32a14-136">Zeichenfolgen werden in einer Klasse übergeben (eine Klasse ist ein In/Out-Parameter).</span><span class="sxs-lookup"><span data-stu-id="32a14-136">Passes strings in a class (a class is an In/Out parameter).</span></span> <span data-ttu-id="32a14-137">Die nicht verwaltete Funktion erwartet einen eingebetteten Zeichenpuffer.</span><span class="sxs-lookup"><span data-stu-id="32a14-137">The unmanaged function expects an embedded character buffer.</span></span>|<span data-ttu-id="32a14-138">[OSInfo](/previous-versions/dotnet/netframework-4.0/795sy883(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-138">[OSInfo](/previous-versions/dotnet/netframework-4.0/795sy883(v=vs.100))</span></span>|  
|<span data-ttu-id="32a14-139">Als Array aus Zeichenfolgen nach Wert.</span><span class="sxs-lookup"><span data-stu-id="32a14-139">As an array of strings by value.</span></span>|<span data-ttu-id="32a14-140">Erstellt ein Array aus Zeichenfolgen, das als Wert übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="32a14-140">Creates an array of strings that is passed by value.</span></span>|[<span data-ttu-id="32a14-141">Arrays</span><span class="sxs-lookup"><span data-stu-id="32a14-141">Arrays</span></span>](marshaling-different-types-of-arrays.md)|  
|<span data-ttu-id="32a14-142">Als ein Array von Strukturen, das Zeichenfolgen nach Wert enthält.</span><span class="sxs-lookup"><span data-stu-id="32a14-142">As an array of structures that contain strings by value.</span></span>|<span data-ttu-id="32a14-143">Erstellt ein Array von Strukturen, das Zeichenfolgen enthält, und das Array wird nach Wert übergeben.</span><span class="sxs-lookup"><span data-stu-id="32a14-143">Creates an array of structures that contain strings and the array is passed by value.</span></span>|[<span data-ttu-id="32a14-144">Arrays</span><span class="sxs-lookup"><span data-stu-id="32a14-144">Arrays</span></span>](marshaling-different-types-of-arrays.md)|  
  
## <a name="see-also"></a><span data-ttu-id="32a14-145">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="32a14-145">See also</span></span>

- [<span data-ttu-id="32a14-146">Standardmäßiges Marshalling für Zeichenfolgen</span><span class="sxs-lookup"><span data-stu-id="32a14-146">Default Marshaling for Strings</span></span>](default-marshaling-for-strings.md)
- [<span data-ttu-id="32a14-147">Marshallen von Daten mit Plattformaufruf</span><span class="sxs-lookup"><span data-stu-id="32a14-147">Marshaling Data with Platform Invoke</span></span>](marshaling-data-with-platform-invoke.md)
- [<span data-ttu-id="32a14-148">Marshallen von Klassen, Strukturen und Unions</span><span class="sxs-lookup"><span data-stu-id="32a14-148">Marshaling Classes, Structures, and Unions</span></span>](marshaling-classes-structures-and-unions.md)
- [<span data-ttu-id="32a14-149">Maushallen verschiedener Typen von Arrays</span><span class="sxs-lookup"><span data-stu-id="32a14-149">Marshaling Different Types of Arrays</span></span>](marshaling-different-types-of-arrays.md)
- <span data-ttu-id="32a14-150">[Verschiedene Marshallingbeispiele](/previous-versions/dotnet/netframework-4.0/ss9sb93t(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="32a14-150">[Miscellaneous Marshaling Samples](/previous-versions/dotnet/netframework-4.0/ss9sb93t(v=vs.100))</span></span>
