---
title: Übersicht über Anwendungseinstellungen
ms.date: 03/30/2017
f1_keywords:
- ApplicationsSettingsOverview
helpviewer_keywords:
- application settings [Windows Forms], about application settings
- dynamic properties
- user preferences [Windows Forms], tracking
ms.assetid: 0dd8bca5-a6bf-4ac4-8eec-5725d08b38dc
ms.openlocfilehash: 369495322328350bc06827b87598160469d864bb
ms.sourcegitcommit: 5280b2aef60a1ed99002dba44e4b9e7f6c830604
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/03/2020
ms.locfileid: "84307058"
---
# <a name="application-settings-overview"></a><span data-ttu-id="cee33-102">Übersicht über Anwendungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-102">Application Settings Overview</span></span>
<span data-ttu-id="cee33-103">In diesem Thema wird erläutert, wie Einstellungsdaten für Ihre Anwendung und deren Benutzer erstellt und gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="cee33-103">This topic discusses how to create and store settings data on behalf of your application and your users.</span></span>

 <span data-ttu-id="cee33-104">Die Funktion „Anwendungseinstellungen“ von Windows Forms erleichtert das Erstellen, Speichern und Verwalten von benutzerdefinierten Einstellungen für Anwendungen und Benutzer auf dem Clientcomputer.</span><span class="sxs-lookup"><span data-stu-id="cee33-104">The Application Settings feature of Windows Forms makes it easy to create, store, and maintain custom application and user preferences on the client computer.</span></span> <span data-ttu-id="cee33-105">Mit Windows Forms-Anwendungseinstellungen können Sie nicht nur Anwendungsdaten wie Datenbankverbindungszeichenfolgen, sondern auch benutzerspezifische Daten, etwa Anwendungseinstellungen, speichern.</span><span class="sxs-lookup"><span data-stu-id="cee33-105">With Windows Forms application settings, you can store not only application data such as database connection strings, but also user-specific data, such as user application preferences.</span></span> <span data-ttu-id="cee33-106">Mithilfe von Visual Studio oder benutzerdefiniertem verwaltetem Code können Sie neue Einstellungen erstellen, diese vom Datenträger lesen bzw. sie darauf schreiben, sie an Eigenschaften in Ihren Formularen binden und Einstellungsdaten vor dem Laden und Speichern überprüfen.</span><span class="sxs-lookup"><span data-stu-id="cee33-106">Using Visual Studio or custom managed code, you can create new settings, read them from and write them to disk, bind them to properties on your forms, and validate settings data prior to loading and saving.</span></span>

 <span data-ttu-id="cee33-107">Anwendungseinstellungen ermöglichen Entwicklern das Speichern des Zustands in Ihrer Anwendung mithilfe von sehr geringem benutzerdefiniertem Code und sind ein Ersatz für dynamische Eigenschaften in früheren Versionen der .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="cee33-107">Application settings enables developers to save state in their application using very little custom code, and is a replacement for dynamic properties in previous versions of the .NET Framework.</span></span> <span data-ttu-id="cee33-108">Anwendungseinstellungen enthalten zahlreiche Verbesserungen gegenüber dynamischen Eigenschaften, die schreibgeschützt und spät gebunden sind sowie mehr benutzerdefinierte Programmierung erfordern.</span><span class="sxs-lookup"><span data-stu-id="cee33-108">Application settings contains many improvements over dynamic properties, which are read-only, late-bound, and require more custom programming.</span></span> <span data-ttu-id="cee33-109">Die dynamischen Eigenschaften Klassen wurden in .NET Framework 2,0 aufbewahrt, aber Sie sind lediglich shellklassen, die die Klassen für Anwendungseinstellungen schlank verpacken.</span><span class="sxs-lookup"><span data-stu-id="cee33-109">The dynamic property classes have been retained in .NET Framework 2.0, but they are just shell classes that thinly wrap the application settings classes.</span></span>

## <a name="what-are-application-settings"></a><span data-ttu-id="cee33-110">Was sind Anwendungseinstellungen?</span><span class="sxs-lookup"><span data-stu-id="cee33-110">What Are Application Settings?</span></span>
 <span data-ttu-id="cee33-111">Ihr Windows Forms-Anwendungen benötigen häufig Daten, die für die Ausführung der Anwendung von entscheidender Bedeutung sind, die Sie aber nicht direkt in den Anwendungscode einschließen möchten.</span><span class="sxs-lookup"><span data-stu-id="cee33-111">Your Windows Forms applications will often require data that is critical to running the application, but which you do not want to include directly in the application's code.</span></span> <span data-ttu-id="cee33-112">Wenn Ihre Anwendung einen Webdienst oder einen Datenbankserver verwendet, sollten Sie diese Informationen in einer separaten Datei speichern, damit Sie sie später ändern können, ohne sie neu kompilieren zu müssen.</span><span class="sxs-lookup"><span data-stu-id="cee33-112">If your application uses a Web Service or a database server, you may want to store this information in a separate file, so that you can change it in the future without re-compiling.</span></span> <span data-ttu-id="cee33-113">Auf ähnliche Weise können Ihre Anwendungen die Speicherung von Daten erfordern, die für den aktuellen Benutzer spezifisch sind.</span><span class="sxs-lookup"><span data-stu-id="cee33-113">Similarly, your applications may require storing data that is specific to the current user.</span></span> <span data-ttu-id="cee33-114">Die meisten Anwendungen verfügen beispielsweise über Benutzereinstellungen, die das Aussehen und Verhalten der Anwendung anpassen.</span><span class="sxs-lookup"><span data-stu-id="cee33-114">Most applications, for example, have user preferences that customize the application's appearance and behavior.</span></span>

 <span data-ttu-id="cee33-115">Anwendungseinstellungen tragen beiden dieser Anforderungen Rechnung, indem sie eine einfache Möglichkeit bereitstellen, um sowohl anwendungsspezifische als auch benutzerspezifische Einstellungen auf dem Clientcomputer zu speichern.</span><span class="sxs-lookup"><span data-stu-id="cee33-115">Application settings addresses both needs by providing an easy way to store both application-scoped and user-scoped settings on the client computer.</span></span> <span data-ttu-id="cee33-116">Mithilfe von Visual Studio oder einem Code-Editor definieren Sie eine Einstellung für eine bestimmte Eigenschaft durch Angabe ihres Namens, Datentyps und Gültigkeitsbereichs (Anwendung oder Benutzer).</span><span class="sxs-lookup"><span data-stu-id="cee33-116">Using Visual Studio or a code editor, you define a setting for a given property by specifying its name, data type, and scope (application or user).</span></span> <span data-ttu-id="cee33-117">Sie können sogar verwandte Einstellungen in benannten Gruppen ablegen, um ihre Verwendbarkeit und Lesbarkeit zu vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="cee33-117">You can even place related settings into named groups for easier use and readability.</span></span> <span data-ttu-id="cee33-118">Nachdem diese Einstellungen definiert wurden, werden sie dauerhaft gespeichert und zur Laufzeit automatisch zurück in den Speicher gelesen.</span><span class="sxs-lookup"><span data-stu-id="cee33-118">Once defined, these settings are persisted and read back into memory automatically at run time.</span></span> <span data-ttu-id="cee33-119">Eine Architektur mit austauschbaren Komponenten ermöglicht die Änderung des Mechanismus für die dauerhafte Speicherung, doch standardmäßig wird das lokale Dateisystem verwendet.</span><span class="sxs-lookup"><span data-stu-id="cee33-119">A pluggable architecture enables the persistence mechanism to be changed, but by default, the local file system is used.</span></span>

 <span data-ttu-id="cee33-120">Anwendungseinstellungen funktionieren so, dass sie Daten als XML in unterschiedlichen Konfigurationsdateien (.config) dauerhaft speichern, je nachdem, ob die Einstellung anwendungsspezifisch oder benutzerspezifisch ist.</span><span class="sxs-lookup"><span data-stu-id="cee33-120">Application settings works by persisting data as XML to different configuration (.config) files, corresponding to whether the setting is application-scoped or user-scoped.</span></span> <span data-ttu-id="cee33-121">In den meisten Fällen sind die anwendungsspezifischen Einstellungen schreibgeschützt. Da es sich dabei um Programminformationen handelt, müssen Sie sie in der Regel nicht überschreiben.</span><span class="sxs-lookup"><span data-stu-id="cee33-121">In most cases, the application-scoped settings are read-only; because they are program information, you will typically not need to overwrite them.</span></span> <span data-ttu-id="cee33-122">Im Gegensatz dazu können benutzerspezifische Einstellungen zur Laufzeit problemlos gelesen und geschrieben werden, auch wenn Ihre Anwendung nur mit teilweiser Vertrauenswürdigkeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="cee33-122">By contrast, user-scoped settings can be read and written safely at run time, even if your application runs under partial trust.</span></span> <span data-ttu-id="cee33-123">Weitere Informationen zu teilweiser Vertrauenswürdigkeit finden Sie unter [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span><span class="sxs-lookup"><span data-stu-id="cee33-123">For more information about partial trust, see [Security in Windows Forms Overview](../security-in-windows-forms-overview.md).</span></span>

 <span data-ttu-id="cee33-124">Einstellungen werden als XML-Fragmente in Konfigurationsdateien gespeichert.</span><span class="sxs-lookup"><span data-stu-id="cee33-124">Settings are stored as XML fragments in configuration files.</span></span> <span data-ttu-id="cee33-125">Anwendungsspezifische Einstellungen werden durch das `<applicationSettings>` -Element dargestellt und normalerweise in " *App*.exe.config" abgelegt, wobei *App* der Name Ihrer Hauptausführungsdatei ist.</span><span class="sxs-lookup"><span data-stu-id="cee33-125">Application-scoped settings are represented by the `<applicationSettings>` element, and generally are placed in *app*.exe.config, where *app* is the name of your main executable file.</span></span> <span data-ttu-id="cee33-126">Benutzerspezifische Einstellungen werden durch das `<userSettings>` -Element dargestellt und in " *Benutzer*.config" abgelegt, wobei *Benutzer* der Benutzername der Person ist, die aktuell die Anwendung ausführt.</span><span class="sxs-lookup"><span data-stu-id="cee33-126">User-scoped settings are represented by the `<userSettings>` element and are placed in *user*.config, where *user* is the user name of the person currently running the application.</span></span> <span data-ttu-id="cee33-127">Sie müssen die Datei " *App*.exe.config" mit Ihrer Anwendung bereitstellen. Die Architektur der Einstellungen erstellt die " *Benutzer*.config"-Dateien bei Bedarf, wenn die Anwendung Einstellungen für diesen Benutzer zum erste Mal speichert.</span><span class="sxs-lookup"><span data-stu-id="cee33-127">You must deploy the *app*.exe.config file with your application; the settings architecture will create the *user*.config files on demand the first time the application saves settings for that user.</span></span> <span data-ttu-id="cee33-128">Außerdem können Sie einen `<userSettings>` -Block in " *App*.exe.config" definieren, um Standardwerte für benutzerspezifische Einstellungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="cee33-128">You can also define a `<userSettings>` block within *app*.exe.config to provide default values for user-scoped settings.</span></span>

 <span data-ttu-id="cee33-129">Benutzerdefinierte Steuerelemente können ihre eigenen Einstellungen auch speichern, indem die <xref:System.Configuration.IPersistComponentSettings> -Schnittstelle implementiert wird, die die <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> -Methode verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="cee33-129">Custom controls can also save their own settings by implementing the <xref:System.Configuration.IPersistComponentSettings> interface, which exposes the <xref:System.Configuration.IPersistComponentSettings.SaveSettings%2A> method.</span></span> <span data-ttu-id="cee33-130">Das Windows Forms-Steuerelement <xref:System.Windows.Forms.ToolStrip> implementiert diese Schnittstelle, um die Position von Symbolleisten und Symbolleistenelementen zwischen Anwendungssitzungen zu speichern.</span><span class="sxs-lookup"><span data-stu-id="cee33-130">The Windows Forms <xref:System.Windows.Forms.ToolStrip> control implements this interface to save the position of toolbars and toolbar items between application sessions.</span></span> <span data-ttu-id="cee33-131">Weitere Informationen zu benutzerdefinierten Steuerelementen und Anwendungseinstellungen finden Sie unter [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span><span class="sxs-lookup"><span data-stu-id="cee33-131">For more information about custom controls and application settings, see [Application Settings for Custom Controls](application-settings-for-custom-controls.md).</span></span>

## <a name="limitations-of-application-settings"></a><span data-ttu-id="cee33-132">Einschränkungen von Anwendungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-132">Limitations of Application Settings</span></span>
 <span data-ttu-id="cee33-133">Sie können keine Anwendungseinstellungen in einer nicht verwalteten Anwendung verwenden, die die .NET Framework hostet.</span><span class="sxs-lookup"><span data-stu-id="cee33-133">You cannot use application settings in an unmanaged application that hosts the .NET Framework.</span></span> <span data-ttu-id="cee33-134">Einstellungen funktionieren nicht in Umgebungen wie Visual Studio-Add-Ins, C++ für Microsoft Office, Steuerelementhosting in Internet Explorer oder Microsoft Outlook-Add-Ins und Projekte.</span><span class="sxs-lookup"><span data-stu-id="cee33-134">Settings will not work in such environments as Visual Studio add-ins, C++ for Microsoft Office, control hosting in Internet Explorer, or Microsoft Outlook add-ins and projects.</span></span>

 <span data-ttu-id="cee33-135">Sie können derzeit keine Bindung an einige Eigenschaften in Windows Forms durchführen.</span><span class="sxs-lookup"><span data-stu-id="cee33-135">You currently cannot bind to some properties in Windows Forms.</span></span> <span data-ttu-id="cee33-136">Das bemerkenswerteste Beispiel ist die <xref:System.Windows.Forms.Form.ClientSize%2A> -Eigenschaft, weil das Binden an diese Eigenschaft zu unvorhersehbarem Verhalten zur Laufzeit führen würde.</span><span class="sxs-lookup"><span data-stu-id="cee33-136">The most notable example is the <xref:System.Windows.Forms.Form.ClientSize%2A> property, as binding to this property would cause unpredictable behavior at run time.</span></span> <span data-ttu-id="cee33-137">Sie können diese Probleme in der Regel umgehen, indem Sie diese Einstellungen programmgesteuert speichern und laden.</span><span class="sxs-lookup"><span data-stu-id="cee33-137">You can usually work around these issues by saving and loading these settings programmatically.</span></span>

 <span data-ttu-id="cee33-138">Anwendungseinstellungen besitzen keine integrierte Funktion zum automatischen Verschlüsseln von Informationen.</span><span class="sxs-lookup"><span data-stu-id="cee33-138">Application settings has no built-in facility for encrypting information automatically.</span></span> <span data-ttu-id="cee33-139">Sie sollten nie sicherheitsrelevante Informationen wie Datenbankkennwörter in Klartext speichern.</span><span class="sxs-lookup"><span data-stu-id="cee33-139">You should never store security-related information, such as database passwords, in clear text.</span></span> <span data-ttu-id="cee33-140">Wenn Sie solche vertraulichen Informationen speichern möchten, sind Sie als Entwickler dafür verantwortlich, dass sie geschützt werden.</span><span class="sxs-lookup"><span data-stu-id="cee33-140">If you want to store such sensitive information, you as the application developer are responsible for making sure it is secure.</span></span> <span data-ttu-id="cee33-141">Wenn Sie Verbindungszeichenfolgen speichern möchten, empfehlen wir Ihnen, die integrierte Sicherheit von Windows zu verwenden und nicht zur Hartcodierung von Kennwörtern in der URL zu greifen.</span><span class="sxs-lookup"><span data-stu-id="cee33-141">If you want to store connection strings, we recommend that you use Windows Integrated Security and not resort to hard-coding passwords into the URL.</span></span> <span data-ttu-id="cee33-142">Weitere Informationen finden Sie unter [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span><span class="sxs-lookup"><span data-stu-id="cee33-142">For more information, see [Code Access Security and ADO.NET](../../data/adonet/code-access-security.md).</span></span>

## <a name="getting-started-with-application-settings"></a><span data-ttu-id="cee33-143">Erste Schritte mit Anwendungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-143">Getting Started with Application Settings</span></span>
 <span data-ttu-id="cee33-144">Wenn Sie Visual Studio verwenden, können Sie im Windows Forms-Designer mithilfe der **(ApplicationSettings)** -Eigenschaft im Fenster **Eigenschaften** Einstellungen definieren.</span><span class="sxs-lookup"><span data-stu-id="cee33-144">If you use Visual Studio, you can define settings within the Windows Forms Designer using the **(ApplicationSettings)** property in the **Properties** window.</span></span> <span data-ttu-id="cee33-145">Wenn Sie Einstellungen auf diese Weise definieren, erstellt Visual Studio automatisch eine benutzerdefinierte, verwaltete Wrapperklasse, die jede Einstellung einer Klasseneigenschaft zuordnet.</span><span class="sxs-lookup"><span data-stu-id="cee33-145">When you define settings this way, Visual Studio automatically creates a custom managed wrapper class which associates each setting with a class property.</span></span> <span data-ttu-id="cee33-146">Visual Studio übernimmt außerdem das Binden der Einstellung an eine Eigenschaft in einem Formular oder Steuerelement, damit die Einstellungen des Steuerelements automatisch wiederhergestellt werden, wenn sein Formular angezeigt wird, und automatisch gespeichert werden, wenn das Formular geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="cee33-146">Visual Studio also takes care of binding the setting to a property on a form or control so that the control's settings are restored automatically when its form is displayed, and saved automatically when the form is closed.</span></span>

 <span data-ttu-id="cee33-147">Wenn Sie eine detailliertere Kontrolle über Ihre Einstellungen benötigen, können Sie Ihre eigene benutzerdefinierte Wrapperklasse für Anwendungseinstellungen definieren.</span><span class="sxs-lookup"><span data-stu-id="cee33-147">If you want more detailed control over your settings, you can define your own custom applications settings wrapper class.</span></span> <span data-ttu-id="cee33-148">Dies geschieht durch Ableiten einer Klasse von <xref:System.Configuration.ApplicationSettingsBase>, Hinzufügen einer Eigenschaft, die jeder Einstellung entspricht, und Anwenden bestimmter Attribute auf diese Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="cee33-148">This is accomplished by deriving a class from <xref:System.Configuration.ApplicationSettingsBase>, adding a property that corresponds to each setting, and applying special attributes to these properties.</span></span> <span data-ttu-id="cee33-149">Detaillierte Informationen zum Erstellen von Wrapperklassen finden Sie unter [Architektur der Anwendungseinstellungen](application-settings-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="cee33-149">For details about creating wrapper classes, see [Application Settings Architecture](application-settings-architecture.md).</span></span>

 <span data-ttu-id="cee33-150">Sie können auch die <xref:System.Windows.Forms.Binding> -Klasse verwenden, um Einstellungen programmgesteuert an Eigenschaften in Formularen und Steuerelementen zu binden.</span><span class="sxs-lookup"><span data-stu-id="cee33-150">You can also use the <xref:System.Windows.Forms.Binding> class to bind settings programmatically to properties on forms and controls.</span></span>

## <a name="see-also"></a><span data-ttu-id="cee33-151">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="cee33-151">See also</span></span>

- <xref:System.Configuration.ApplicationSettingsBase>
- <xref:System.Configuration.SettingsProvider>
- <xref:System.Configuration.LocalFileSettingsProvider>
- <xref:System.Configuration.IPersistComponentSettings>
- [<span data-ttu-id="cee33-152">Vorgehensweise: Überprüfen von Anwendungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-152">How to: Validate Application Settings</span></span>](how-to-validate-application-settings.md)
- [<span data-ttu-id="cee33-153">Verwalten von Anwendungseinstellungen (.NET)</span><span class="sxs-lookup"><span data-stu-id="cee33-153">Managing Application Settings (.NET)</span></span>](/visualstudio/ide/managing-application-settings-dotnet)
- [<span data-ttu-id="cee33-154">Vorgehensweise: Lesen von Einstellungen zur Laufzeit mit C#</span><span class="sxs-lookup"><span data-stu-id="cee33-154">How To: Read Settings at Run Time With C#</span></span>](how-to-read-settings-at-run-time-with-csharp.md)
- [<span data-ttu-id="cee33-155">Verwenden von Anwendungseinstellungen und Benutzereinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-155">Using Application Settings and User Settings</span></span>](using-application-settings-and-user-settings.md)
- [<span data-ttu-id="cee33-156">Architektur der Anwendungseinstellungen</span><span class="sxs-lookup"><span data-stu-id="cee33-156">Application Settings Architecture</span></span>](application-settings-architecture.md)
- [<span data-ttu-id="cee33-157">Anwendungseinstellungen für benutzerdefinierte Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="cee33-157">Application Settings for Custom Controls</span></span>](application-settings-for-custom-controls.md)
