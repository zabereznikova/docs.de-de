---
title: "Empfohlene Vorgehensweisen für das Skalieren des DataGridView-Steuerelements in Windows Forms"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-winforms
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- DataGridView control [Windows Forms], row sharing
- data grids [Windows Forms], best practices
- DataGridView control [Windows Forms], shared rows
- DataGridView control [Windows Forms], best practices
- best practices [Windows Forms], dataGridView control
- DataGridView control [Windows Forms], scaling
ms.assetid: 8321a8a6-6340-4fd1-b475-fa090b905aaf
caps.latest.revision: "31"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: ecd629bd38e08c8d6909ee4ad771f17b1554fc80
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/22/2017
---
# <a name="best-practices-for-scaling-the-windows-forms-datagridview-control"></a><span data-ttu-id="59aaf-102">Empfohlene Vorgehensweisen für das Skalieren des DataGridView-Steuerelements in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-102">Best Practices for Scaling the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="59aaf-103">Die <xref:System.Windows.Forms.DataGridView> Steuerelement wurde entwickelt, um maximale Skalierbarkeit bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-103">The <xref:System.Windows.Forms.DataGridView> control is designed to provide maximum scalability.</span></span> <span data-ttu-id="59aaf-104">Wenn Sie große Mengen von Daten anzeigen möchten, sollten Sie die in diesem Thema, um große Mengen an Arbeitsspeicher fest, und beeinträchtigt die Reaktionsfähigkeit der Benutzeroberfläche (UI) beschriebenen Richtlinien folgen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-104">If you need to display large amounts of data, you should follow the guidelines described in this topic to avoid consuming large amounts of memory or degrading the responsiveness of the user interface (UI).</span></span> <span data-ttu-id="59aaf-105">In diesem Thema wird Folgendes erläutert:</span><span class="sxs-lookup"><span data-stu-id="59aaf-105">This topic discusses the following issues:</span></span>  
  
-   <span data-ttu-id="59aaf-106">Effizientes Verwenden von Zellenstile</span><span class="sxs-lookup"><span data-stu-id="59aaf-106">Using cell styles efficiently</span></span>  
  
-   <span data-ttu-id="59aaf-107">Effizientes Verwenden von Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="59aaf-107">Using shortcut menus efficiently</span></span>  
  
-   <span data-ttu-id="59aaf-108">Automatische Größenänderung effizient verwenden</span><span class="sxs-lookup"><span data-stu-id="59aaf-108">Using automatic resizing efficiently</span></span>  
  
-   <span data-ttu-id="59aaf-109">Effizientes Verwenden von den ausgewählten Zellen, Zeilen und Spalten Sammlungen</span><span class="sxs-lookup"><span data-stu-id="59aaf-109">Using the selected cells, rows, and columns collections efficiently</span></span>  
  
-   <span data-ttu-id="59aaf-110">Verwenden freigegebene Zeilen</span><span class="sxs-lookup"><span data-stu-id="59aaf-110">Using shared rows</span></span>  
  
-   <span data-ttu-id="59aaf-111">Verhindert, dass Zeilen aufgehoben</span><span class="sxs-lookup"><span data-stu-id="59aaf-111">Preventing rows from becoming unshared</span></span>  
  
 <span data-ttu-id="59aaf-112">Wenn Sie spezielle leistungsanforderungen haben, können Implementieren des virtuellen Modus und eigene Datenverwaltungsvorgänge bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-112">If you have special performance needs, you can implement virtual mode and provide your own data management operations.</span></span> <span data-ttu-id="59aaf-113">Weitere Informationen finden Sie unter [Datenanzeigemodi im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="59aaf-113">For more information, see [Data Display Modes in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-cell-styles-efficiently"></a><span data-ttu-id="59aaf-114">Effizientes Verwenden von Zellenstile</span><span class="sxs-lookup"><span data-stu-id="59aaf-114">Using Cell Styles Efficiently</span></span>  
 <span data-ttu-id="59aaf-115">Jede Zelle, Zeile und Spalte kann einen eigenen Formatinformationen haben.</span><span class="sxs-lookup"><span data-stu-id="59aaf-115">Each cell, row, and column can have its own style information.</span></span> <span data-ttu-id="59aaf-116">Formatinformationen befindet sich in <xref:System.Windows.Forms.DataGridViewCellStyle> Objekte.</span><span class="sxs-lookup"><span data-stu-id="59aaf-116">Style information is stored in <xref:System.Windows.Forms.DataGridViewCellStyle> objects.</span></span> <span data-ttu-id="59aaf-117">Erstellen Zelle Formatobjekte für viele einzelne <xref:System.Windows.Forms.DataGridView> Elemente können ineffizient sein, insbesondere bei der Arbeit mit großen Mengen von Daten.</span><span class="sxs-lookup"><span data-stu-id="59aaf-117">Creating cell style objects for many individual <xref:System.Windows.Forms.DataGridView> elements can be inefficient, especially when working with large amounts of data.</span></span> <span data-ttu-id="59aaf-118">Um Leistungseinbußen zu vermeiden, verwenden Sie die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="59aaf-118">To avoid a performance impact, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="59aaf-119">Vermeiden Sie das Festlegen von Eigenschaften für den Zellstil für einzelne <xref:System.Windows.Forms.DataGridViewCell> oder <xref:System.Windows.Forms.DataGridViewRow> Objekte.</span><span class="sxs-lookup"><span data-stu-id="59aaf-119">Avoid setting cell style properties for individual <xref:System.Windows.Forms.DataGridViewCell> or <xref:System.Windows.Forms.DataGridViewRow> objects.</span></span> <span data-ttu-id="59aaf-120">Dies schließt das Zeilenobjekt gemäß der <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-120">This includes the row object specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="59aaf-121">Jede neue Zeile, die von der Zeilenvorlage geklont wurde, erhält eine eigene Kopie der Vorlage Zelle Formatvorlagenobjekt.</span><span class="sxs-lookup"><span data-stu-id="59aaf-121">Each new row that is cloned from the row template will receive its own copy of the template's cell style object.</span></span> <span data-ttu-id="59aaf-122">Für maximale Skalierbarkeit, legen Sie Eigenschaften für den Zellstil an die <xref:System.Windows.Forms.DataGridView> Ebene.</span><span class="sxs-lookup"><span data-stu-id="59aaf-122">For maximum scalability, set cell style properties at the <xref:System.Windows.Forms.DataGridView> level.</span></span> <span data-ttu-id="59aaf-123">Legen Sie z. B. die <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> Eigenschaft anstelle der <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-123">For example, set the <xref:System.Windows.Forms.DataGridView.DefaultCellStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="59aaf-124">Wenn einige Zellen Formatieren von anderen benötigen als den Standardwert zu formatieren, verwenden Sie den gleichen <xref:System.Windows.Forms.DataGridViewCellStyle> Instanz auf Gruppen von Zellen, Zeilen oder Spalten.</span><span class="sxs-lookup"><span data-stu-id="59aaf-124">If some cells require formatting other than default formatting, use the same <xref:System.Windows.Forms.DataGridViewCellStyle> instance across groups of cells, rows, or columns.</span></span> <span data-ttu-id="59aaf-125">Vermeiden Sie direkt festlegen von Eigenschaften des Typs <xref:System.Windows.Forms.DataGridViewCellStyle> auf einzelne Zellen, Zeilen und Spalten.</span><span class="sxs-lookup"><span data-stu-id="59aaf-125">Avoid directly setting properties of type <xref:System.Windows.Forms.DataGridViewCellStyle> on individual cells, rows, and columns.</span></span> <span data-ttu-id="59aaf-126">Beispielsweise eine Freigabe von Zellenstilen finden Sie unter [Vorgehensweise: Festlegen von standardmäßigen Zellenstilen für DataGridView-Steuerelements in Windows Forms](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="59aaf-126">For an example of cell style sharing, see [How to: Set Default Cell Styles for the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span></span> <span data-ttu-id="59aaf-127">Sie können auch eine Leistungseinbuße umgehen, der zum Einstellen Zellenstile einzeln durch Behandeln der <xref:System.Windows.Forms.DataGridView.CellFormatting> -Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="59aaf-127">You can also avoid a performance penalty when setting cell styles individually by handling the <xref:System.Windows.Forms.DataGridView.CellFormatting> event handler.</span></span> <span data-ttu-id="59aaf-128">Ein Beispiel finden Sie unter [wie: Anpassen der Datenformatierung im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="59aaf-128">For an example, see [How to: Customize Data Formatting in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/how-to-customize-data-formatting-in-the-windows-forms-datagridview-control.md).</span></span>  
  
-   <span data-ttu-id="59aaf-129">Wenn eine Zellenstils verwenden die <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> Eigenschaft statt über das <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-129">When determining a cell's style, use the <xref:System.Windows.Forms.DataGridViewCell.InheritedStyle%2A?displayProperty=nameWithType> property rather than the <xref:System.Windows.Forms.DataGridViewCell.Style%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="59aaf-130">Zugreifen auf die <xref:System.Windows.Forms.DataGridViewCell.Style%2A> Eigenschaft erstellt eine neue Instanz der dem <xref:System.Windows.Forms.DataGridViewCellStyle> Klasse, wenn die Eigenschaft noch nicht verwendet wurde.</span><span class="sxs-lookup"><span data-stu-id="59aaf-130">Accessing the <xref:System.Windows.Forms.DataGridViewCell.Style%2A> property creates a new instance of the <xref:System.Windows.Forms.DataGridViewCellStyle> class if the property has not already been used.</span></span> <span data-ttu-id="59aaf-131">Darüber hinaus kann dieses Objekt nicht enthalten, die vollständige Stilinformationen für die Zelle Wenn Formate von der Zeilen-, Spalten- oder Steuerelement geerbt werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-131">Additionally, this object might not contain the complete style information for the cell if some styles are inherited from the row, column, or control.</span></span> <span data-ttu-id="59aaf-132">Weitere Informationen zur Vererbung von Zellenstilen finden Sie unter [Zellstile im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="59aaf-132">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-shortcut-menus-efficiently"></a><span data-ttu-id="59aaf-133">Effizientes Verwenden von Kontextmenüs</span><span class="sxs-lookup"><span data-stu-id="59aaf-133">Using Shortcut Menus Efficiently</span></span>  
 <span data-ttu-id="59aaf-134">Jede Zelle, Zeile und Spalte kann ein eigenen Kontextmenü verfügen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-134">Each cell, row, and column can have its own shortcut menu.</span></span> <span data-ttu-id="59aaf-135">Kontextmenüs in der <xref:System.Windows.Forms.DataGridView> Steuerelements dargestellte <xref:System.Windows.Forms.ContextMenuStrip> Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="59aaf-135">Shortcut menus in the <xref:System.Windows.Forms.DataGridView> control are represented by <xref:System.Windows.Forms.ContextMenuStrip> controls.</span></span> <span data-ttu-id="59aaf-136">Wie bei Zelle Formatobjekte, Erstellen von Kontextmenüs für viele einzelne <xref:System.Windows.Forms.DataGridView> Elemente werden die Leistung negativ beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="59aaf-136">Just as with cell style objects, creating shortcut menus for many individual <xref:System.Windows.Forms.DataGridView> elements will negatively impact performance.</span></span> <span data-ttu-id="59aaf-137">Um dieser Nachteil zu vermeiden, verwenden Sie die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="59aaf-137">To avoid this penalty, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="59aaf-138">Vermeiden Sie das Erstellen von Kontextmenüs für einzelne Zellen, Zeilen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-138">Avoid creating shortcut menus for individual cells and rows.</span></span> <span data-ttu-id="59aaf-139">Dies schließt die Zeilenvorlage, die zusammen mit dem Kontextmenü geklont wird, wenn das Steuerelement neue Zeilen hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-139">This includes the row template, which is cloned along with its shortcut menu when new rows are added to the control.</span></span> <span data-ttu-id="59aaf-140">Verwenden Sie nur des Steuerelements für maximale Skalierbarkeit <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> Eigenschaft, um ein einzelnes Kontextmenü für das gesamte Steuerelement anzugeben.</span><span class="sxs-lookup"><span data-stu-id="59aaf-140">For maximum scalability, use only the control's <xref:System.Windows.Forms.Control.ContextMenuStrip%2A> property to specify a single shortcut menu for the entire control.</span></span>  
  
-   <span data-ttu-id="59aaf-141">Wenn Sie mehrere Kontextmenüs für mehrere Zeilen oder Zellen benötigen, behandeln die <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> oder <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="59aaf-141">If you require multiple shortcut menus for multiple rows or cells, handle the <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> or <xref:System.Windows.Forms.DataGridView.RowContextMenuStripNeeded> events.</span></span> <span data-ttu-id="59aaf-142">Diese Ereignisse können Sie die Verknüpfung im Menü-Objekte zu verwalten, selbst ermöglicht Ihnen, die Leistung zu optimieren.</span><span class="sxs-lookup"><span data-stu-id="59aaf-142">These events let you manage the shortcut menu objects yourself, allowing you to tune performance.</span></span>  
  
## <a name="using-automatic-resizing-efficiently"></a><span data-ttu-id="59aaf-143">Automatische Größenänderung effizient verwenden</span><span class="sxs-lookup"><span data-stu-id="59aaf-143">Using Automatic Resizing Efficiently</span></span>  
 <span data-ttu-id="59aaf-144">Zeilen, Spalten und Header können automatisch als Änderungen am Inhalt der Zelle einnimmt, damit der gesamte Inhalt von Zellen angezeigt werden, ohne ihn abzuschneiden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-144">Rows, columns, and headers can be automatically resized as cell content changes so that the entire contents of cells are displayed without clipping.</span></span> <span data-ttu-id="59aaf-145">Ändern von Größenanpassungsmodi kann auch Zeilen, Spalten und Header ändern.</span><span class="sxs-lookup"><span data-stu-id="59aaf-145">Changing sizing modes can also resize rows, columns, and headers.</span></span> <span data-ttu-id="59aaf-146">Um die richtige Größe zu bestimmen, die <xref:System.Windows.Forms.DataGridView> Steuerelement muss untersuchen Sie den Wert jeder Zelle, die angepasst werden müssen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-146">To determine the correct size, the <xref:System.Windows.Forms.DataGridView> control must examine the value of each cell that it must accommodate.</span></span> <span data-ttu-id="59aaf-147">Bei der Arbeit mit großen Datasets kann auf Basis dieser Analyse beeinträchtigen die Leistung des Steuerelements automatische Größenänderung tritt.</span><span class="sxs-lookup"><span data-stu-id="59aaf-147">When working with large data sets, this analysis can negatively impact the performance of the control when automatic resizing occurs.</span></span> <span data-ttu-id="59aaf-148">Um Leistungseinbußen zu vermeiden, verwenden Sie die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="59aaf-148">To avoid performance penalties, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="59aaf-149">Vermeiden Sie die Verwendung der automatischen Größenänderung auf eine <xref:System.Windows.Forms.DataGridView> Steuerelement mit einer großen Gruppe von Zeilen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-149">Avoid using automatic sizing on a <xref:System.Windows.Forms.DataGridView> control with a large set of rows.</span></span> <span data-ttu-id="59aaf-150">Wenn Sie automatische größenanpassung, nur die Größe, die basierend auf der angezeigten Zeilen verwenden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-150">If you do use automatic sizing, only resize based on the displayed rows.</span></span> <span data-ttu-id="59aaf-151">Verwenden Sie nur die Zeilen angezeigten, in als auch der virtuelle Modus.</span><span class="sxs-lookup"><span data-stu-id="59aaf-151">Use only the displayed rows in virtual mode as well.</span></span>  
  
    -   <span data-ttu-id="59aaf-152">Verwenden Sie für Zeilen und Spalten, die `DisplayedCells` oder `DisplayedCellsExceptHeaders` Feld der <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, und <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> Enumerationen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-152">For rows and columns, use the `DisplayedCells` or `DisplayedCellsExceptHeaders` field of the <xref:System.Windows.Forms.DataGridViewAutoSizeRowsMode>, <xref:System.Windows.Forms.DataGridViewAutoSizeColumnsMode>, and <xref:System.Windows.Forms.DataGridViewAutoSizeColumnMode> enumerations.</span></span>  
  
    -   <span data-ttu-id="59aaf-153">Verwenden Sie für die Zeilenkopfzeilen, die <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> oder <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> Feld der <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> Enumeration.</span><span class="sxs-lookup"><span data-stu-id="59aaf-153">For row headers, use the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToDisplayedHeaders> or <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode.AutoSizeToFirstHeader> field of the <xref:System.Windows.Forms.DataGridViewRowHeadersWidthSizeMode> enumeration.</span></span>  
  
-   <span data-ttu-id="59aaf-154">Deaktivieren Sie für maximale Skalierbarkeit automatische größenanpassung und verwenden Sie programmgesteuerten größenanpassung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-154">For maximum scalability, turn off automatic sizing and use programmatic resizing.</span></span>  
  
 <span data-ttu-id="59aaf-155">Weitere Informationen finden Sie unter [Größenänderungsoptionen im DataGridView-Steuerelement von Windows Forms](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="59aaf-155">For more information, see [Sizing Options in the Windows Forms DataGridView Control](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="using-the-selected-cells-rows-and-columns-collections-efficiently"></a><span data-ttu-id="59aaf-156">Effizientes Verwenden von der ausgewählten Zellen, Zeilen und Spalten Sammlungen</span><span class="sxs-lookup"><span data-stu-id="59aaf-156">Using the Selected Cells, Rows, and Columns Collections Efficiently</span></span>  
 <span data-ttu-id="59aaf-157">Die <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> Auflistung führt keine effizient mit großen Auswahl.</span><span class="sxs-lookup"><span data-stu-id="59aaf-157">The <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection does not perform efficiently with large selections.</span></span> <span data-ttu-id="59aaf-158">Die <xref:System.Windows.Forms.DataGridView.SelectedRows%2A> und <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> Sammlungen können auch ineffizient sein, auch in geringerem Maße kommen viele weniger Zeilen als Zellen in einem typischen <xref:System.Windows.Forms.DataGridView> -Steuerelement, und viele weniger Spalten als Zeilen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-158">The <xref:System.Windows.Forms.DataGridView.SelectedRows%2A> and <xref:System.Windows.Forms.DataGridView.SelectedColumns%2A> collections can also be inefficient, although to a lesser degree because there are many fewer rows than cells in a typical <xref:System.Windows.Forms.DataGridView> control, and many fewer columns than rows.</span></span> <span data-ttu-id="59aaf-159">Um Leistungseinbußen zu vermeiden, bei der Arbeit mit diesen Auflistungen, verwenden Sie die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="59aaf-159">To avoid performance penalties when working with these collections, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="59aaf-160">Um zu bestimmen, ob alle Zellen in der <xref:System.Windows.Forms.DataGridView> ausgewählt wurden, bevor Sie den Inhalt der Zugriff auf die <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> -Auflistung, überprüfen den Rückgabewert von der <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="59aaf-160">To determine whether all the cells in the <xref:System.Windows.Forms.DataGridView> have been selected before you access the contents of the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A> collection, check the return value of the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A> method.</span></span> <span data-ttu-id="59aaf-161">Beachten Sie jedoch, dass diese Methode Zeilen aufgehoben verursachen kann.</span><span class="sxs-lookup"><span data-stu-id="59aaf-161">Note, however, that this method can cause rows to become unshared.</span></span> <span data-ttu-id="59aaf-162">Weitere Informationen finden Sie im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="59aaf-162">For more information, see the next section.</span></span>  
  
-   <span data-ttu-id="59aaf-163">Vermeiden Sie die Verwendung der <xref:System.Collections.ICollection.Count%2A> Eigenschaft von der <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> bestimmt die Anzahl der ausgewählten Zellen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-163">Avoid using the <xref:System.Collections.ICollection.Count%2A> property of the <xref:System.Windows.Forms.DataGridViewSelectedCellCollection?displayProperty=nameWithType> to determine the number of selected cells.</span></span> <span data-ttu-id="59aaf-164">Verwenden Sie stattdessen die <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> Methode und übergeben der <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> Wert.</span><span class="sxs-lookup"><span data-stu-id="59aaf-164">Instead, use the <xref:System.Windows.Forms.DataGridView.GetCellCount%2A?displayProperty=nameWithType> method and pass in the <xref:System.Windows.Forms.DataGridViewElementStates.Selected?displayProperty=nameWithType> value.</span></span> <span data-ttu-id="59aaf-165">Auf ähnliche Weise mithilfe der <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> und <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> Methoden zur Bestimmung der Anzahl der ausgewählten Elemente, anstatt den Zugriff auf den ausgewählten Sammlungen von Zeile und Spalte.</span><span class="sxs-lookup"><span data-stu-id="59aaf-165">Similarly, use the <xref:System.Windows.Forms.DataGridViewRowCollection.GetRowCount%2A?displayProperty=nameWithType> and <xref:System.Windows.Forms.DataGridViewColumnCollection.GetColumnCount%2A?displayProperty=nameWithType> methods to determine the number of selected elements, rather than accessing the selected row and column collections.</span></span>  
  
-   <span data-ttu-id="59aaf-166">Vermeiden Sie zellenbasierte Auswahlmodi.</span><span class="sxs-lookup"><span data-stu-id="59aaf-166">Avoid cell-based selection modes.</span></span> <span data-ttu-id="59aaf-167">Legen Sie stattdessen die <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> Eigenschaft <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> oder <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-167">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
## <a name="using-shared-rows"></a><span data-ttu-id="59aaf-168">Verwenden von freigegebenen Zeilen</span><span class="sxs-lookup"><span data-stu-id="59aaf-168">Using Shared Rows</span></span>  
 <span data-ttu-id="59aaf-169">Effiziente speichernutzung erfolgt der <xref:System.Windows.Forms.DataGridView> Kontrolle über freigegebene Zeilen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-169">Efficient memory use is achieved in the <xref:System.Windows.Forms.DataGridView> control through shared rows.</span></span> <span data-ttu-id="59aaf-170">Zeilen werden so viele Informationen zu ihrer Darstellung und Verhalten wie möglich freigeben, indem Sie Instanzen der Freigabe der <xref:System.Windows.Forms.DataGridViewRow> Klasse.</span><span class="sxs-lookup"><span data-stu-id="59aaf-170">Rows will share as much information about their appearance and behavior as possible by sharing instances of the <xref:System.Windows.Forms.DataGridViewRow> class.</span></span>  
  
 <span data-ttu-id="59aaf-171">Freigabe Zeileninstanz Arbeitsspeicher speichert, können die Zeilen einfach aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-171">While sharing row instances saves memory, rows can easily become unshared.</span></span> <span data-ttu-id="59aaf-172">Wenn ein Benutzer direkt mit einer Zelle interagiert, wird die Zeile aufgehoben.</span><span class="sxs-lookup"><span data-stu-id="59aaf-172">For example, whenever a user interacts directly with a cell, its row becomes unshared.</span></span> <span data-ttu-id="59aaf-173">Da dies vermieden werden kann, eignen sich die Richtlinien in diesem Thema nur bei der Arbeit mit sehr großen Mengen von Daten und nur, wenn Benutzer mit einer relativ kleinen Teil der Daten jedes Mal interagieren werden, wenn das Programm ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-173">Because this cannot be avoided, the guidelines in this topic are useful only when working with very large amounts of data and only when users will interact with a relatively small part of the data each time your program is run.</span></span>  
  
 <span data-ttu-id="59aaf-174">Eine Zeile kann nicht freigegeben werden in einer nicht gebundenen <xref:System.Windows.Forms.DataGridView> steuern, wenn eine ihrer Zellen Werte enthält.</span><span class="sxs-lookup"><span data-stu-id="59aaf-174">A row cannot be shared in an unbound <xref:System.Windows.Forms.DataGridView> control if any of its cells contain values.</span></span> <span data-ttu-id="59aaf-175">Wenn die <xref:System.Windows.Forms.DataGridView> Steuerelement an einer externen Datenquelle gebunden ist, oder wenn Sie virtuellen Modus implementieren und eine eigene Datenquelle bereitstellen, werden die Zellenwerte gespeichert, außerhalb der Kontrolle und nicht in Zelle Objekte, wodurch die Zeilen gemeinsam genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-175">When the <xref:System.Windows.Forms.DataGridView> control is bound to an external data source or when you implement virtual mode and provide your own data source, the cell values are stored outside the control rather than in cell objects, allowing the rows to be shared.</span></span>  
  
 <span data-ttu-id="59aaf-176">Ein Zeilenobjekt kann nur freigegeben werden, wenn der Status ihrer Zellen aus dem Zustand der Zeile und den Status der Spalten mit den Zellen bestimmt werden kann.</span><span class="sxs-lookup"><span data-stu-id="59aaf-176">A row object can only be shared if the state of all its cells can be determined from the state of the row and the states of the columns containing the cells.</span></span> <span data-ttu-id="59aaf-177">Wenn Sie den Zustand einer Zelle ändern, sodass es nicht mehr aus dem Zustand ihrer Zeile und Spalte abgeleitet werden kann, kann die Zeile nicht freigegeben werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-177">If you change the state of a cell so that it can no longer be deduced from the state of its row and column, the row cannot be shared.</span></span>  
  
 <span data-ttu-id="59aaf-178">Beispielsweise kann keine Zeile in den folgenden Situationen freigegeben werden:</span><span class="sxs-lookup"><span data-stu-id="59aaf-178">For example, a row cannot be shared in any of the following situations:</span></span>  
  
-   <span data-ttu-id="59aaf-179">Die Zeile enthält eine einzelne ausgewählte Zelle, die nicht in einer ausgewählten Spalte ist.</span><span class="sxs-lookup"><span data-stu-id="59aaf-179">The row contains a single selected cell that is not in a selected column.</span></span>  
  
-   <span data-ttu-id="59aaf-180">Die Zeile enthält eine Zelle mit seiner <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> oder <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> festgelegten Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="59aaf-180">The row contains a cell with its <xref:System.Windows.Forms.DataGridViewCell.ToolTipText%2A> or <xref:System.Windows.Forms.DataGridViewCell.ContextMenuStrip%2A> properties set.</span></span>  
  
-   <span data-ttu-id="59aaf-181">Die Zeile enthält eine <xref:System.Windows.Forms.DataGridViewComboBoxCell> mit seiner <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> Eigenschaftensatz.</span><span class="sxs-lookup"><span data-stu-id="59aaf-181">The row contains a <xref:System.Windows.Forms.DataGridViewComboBoxCell> with its <xref:System.Windows.Forms.DataGridViewComboBoxCell.Items%2A> property set.</span></span>  
  
 <span data-ttu-id="59aaf-182">Im gebundenen oder virtuellen Modus können Sie QuickInfos und Kontextmenüs für einzelne Zellen angeben, durch Behandeln der <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> und <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="59aaf-182">In bound mode or virtual mode, you can provide ToolTips and shortcut menus for individual cells by handling the <xref:System.Windows.Forms.DataGridView.CellToolTipTextNeeded> and <xref:System.Windows.Forms.DataGridView.CellContextMenuStripNeeded> events.</span></span>  
  
 <span data-ttu-id="59aaf-183">Die <xref:System.Windows.Forms.DataGridView> Steuerelement versucht automatisch, freigegebene Zeilen zu verwenden, wenn Zeilen hinzugefügt werden die <xref:System.Windows.Forms.DataGridViewRowCollection>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-183">The <xref:System.Windows.Forms.DataGridView> control will automatically attempt to use shared rows whenever rows are added to the <xref:System.Windows.Forms.DataGridViewRowCollection>.</span></span> <span data-ttu-id="59aaf-184">Verwenden Sie die folgenden Richtlinien, um sicherzustellen, dass Zeilen gemeinsam genutzt werden:</span><span class="sxs-lookup"><span data-stu-id="59aaf-184">Use the following guidelines to ensure that rows are shared:</span></span>  
  
-   <span data-ttu-id="59aaf-185">Vermeiden Sie Aufrufe der `Add(Object[])` Überladung von der <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> Methode und die `Insert(Object[])` Überladung der der <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> Methode der <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-185">Avoid calling the `Add(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method and the `Insert(Object[])` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="59aaf-186">Diese Überladungen werden automatisch nicht freigegebene Zeilen erstellen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-186">These overloads automatically create unshared rows.</span></span>  
  
-   <span data-ttu-id="59aaf-187">Stellen Sie sicher, dass der Zeile angegeben wird, der <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> Eigenschaft in den folgenden Fällen gemeinsam genutzt werden kann:</span><span class="sxs-lookup"><span data-stu-id="59aaf-187">Be sure that the row specified in the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A?displayProperty=nameWithType> property can be shared in the following cases:</span></span>  
  
    -   <span data-ttu-id="59aaf-188">Beim Aufrufen der `Add()` oder `Add(Int32)` Überladungen der der <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> Methode oder die `Insert(Int32,Int32)` Überladung von der <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> Methode der <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-188">When calling the `Add()` or `Add(Int32)` overloads of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method or the `Insert(Int32,Int32)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
    -   <span data-ttu-id="59aaf-189">Erhöhen Sie den Wert von der <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-189">When increasing the value of the <xref:System.Windows.Forms.DataGridView.RowCount%2A?displayProperty=nameWithType> property.</span></span>  
  
    -   <span data-ttu-id="59aaf-190">Beim Festlegen der <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-190">When setting the <xref:System.Windows.Forms.DataGridView.DataSource%2A?displayProperty=nameWithType> property.</span></span>  
  
-   <span data-ttu-id="59aaf-191">Stellen Sie sicher, dass die Zeile, angegeben durch die `indexSource` Parameter kann freigegeben werden, beim Aufrufen der <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, und <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> Methoden der <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-191">Be sure that the row indicated by the `indexSource` parameter can be shared when calling the <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.InsertCopies%2A> methods of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
-   <span data-ttu-id="59aaf-192">Achten Sie darauf, dass beim Aufrufen der angegebenen Zeile bzw. Zeilen freigegeben werden können die `Add(DataGridViewRow)` Überladung der der <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> -Methode, die <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> -Methode, die `Insert(Int32,DataGridViewRow)` Überladung der der <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> -Methode, und die <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> Methode von der <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType>Auflistung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-192">Be sure that the specified row or rows can be shared when calling the `Add(DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A> method, the <xref:System.Windows.Forms.DataGridViewRowCollection.AddRange%2A> method, the `Insert(Int32,DataGridViewRow)` overload of the <xref:System.Windows.Forms.DataGridViewRowCollection.Insert%2A> method, and the <xref:System.Windows.Forms.DataGridViewRowCollection.InsertRange%2A> method of the <xref:System.Windows.Forms.DataGridView.Rows%2A?displayProperty=nameWithType> collection.</span></span>  
  
 <span data-ttu-id="59aaf-193">Um zu bestimmen, ob eine Zeile freigegeben ist, verwenden die <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> Methode, um das Zeilenobjekt abgerufen, und überprüfen Sie des Objekts <xref:System.Windows.Forms.DataGridViewBand.Index%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-193">To determine whether a row is shared, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method to retrieve the row object, and then check the object's <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property.</span></span> <span data-ttu-id="59aaf-194">Freigegebene Zeilen verfügen immer über ein <xref:System.Windows.Forms.DataGridViewBand.Index%2A> Eigenschaftswert von – 1.</span><span class="sxs-lookup"><span data-stu-id="59aaf-194">Shared rows always have an <xref:System.Windows.Forms.DataGridViewBand.Index%2A> property value of –1.</span></span>  
  
## <a name="preventing-rows-from-becoming-unshared"></a><span data-ttu-id="59aaf-195">Verhindert, dass Zeilen aufgehoben</span><span class="sxs-lookup"><span data-stu-id="59aaf-195">Preventing Rows from Becoming Unshared</span></span>  
 <span data-ttu-id="59aaf-196">Freigegebene Zeilen können als Ergebnis der Aktion "Code" oder "Benutzer aufgehoben werden.</span><span class="sxs-lookup"><span data-stu-id="59aaf-196">Shared rows can become unshared as a result of code or user action.</span></span> <span data-ttu-id="59aaf-197">Um Leistungseinbußen zu vermeiden, sollten Sie vermeiden, sodass Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-197">To avoid a performance impact, you should avoid causing rows to become unshared.</span></span> <span data-ttu-id="59aaf-198">Sie können während der Anwendungsentwicklung behandeln die <xref:System.Windows.Forms.DataGridView.RowUnshared> Ereignis, um zu bestimmen, wann Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-198">During application development, you can handle the <xref:System.Windows.Forms.DataGridView.RowUnshared> event to determine when rows become unshared.</span></span> <span data-ttu-id="59aaf-199">Dies ist hilfreich beim Debuggen von Problemen Freigeben von Zeilen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-199">This is useful when debugging row-sharing problems.</span></span>  
  
 <span data-ttu-id="59aaf-200">Um zu verhindern, dass Zeilen aufgehoben, verwenden Sie die folgenden Richtlinien:</span><span class="sxs-lookup"><span data-stu-id="59aaf-200">To prevent rows from becoming unshared, use the following guidelines:</span></span>  
  
-   <span data-ttu-id="59aaf-201">Vermeiden Sie die Indizierung der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung oder durchlaufen, bis sie mit einer `foreach` Schleife.</span><span class="sxs-lookup"><span data-stu-id="59aaf-201">Avoid indexing the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection or iterating through it with a `foreach` loop.</span></span> <span data-ttu-id="59aaf-202">Normalerweise müssen Sie nicht direkt auf Zeilen zugreifen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-202">You will not typically need to access rows directly.</span></span> <span data-ttu-id="59aaf-203"><xref:System.Windows.Forms.DataGridView>Methoden, die für Zeilen ausgeführt werden, nehmen Zeileninstanz, anstatt Argumente für den Zeilenindex.</span><span class="sxs-lookup"><span data-stu-id="59aaf-203"><xref:System.Windows.Forms.DataGridView> methods that operate on rows take row index arguments rather than row instances.</span></span> <span data-ttu-id="59aaf-204">Darüber hinaus Empfangshandler für Ereignisse in Zusammenhang mit Zeile Argument Ereignisobjekten mit Eigenschaften für die Zeile, die Sie verwenden können, um Zeilen zu bearbeiten, ohne dass aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-204">Additionally, handlers for row-related events receive event argument objects with row properties that you can use to manipulate rows without causing them to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-205">Wenn Sie ein Zeilenobjekt zugreifen müssen, verwenden die <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> -Methode und übergeben Sie den tatsächlichen Zeilenindex.</span><span class="sxs-lookup"><span data-stu-id="59aaf-205">If you need to access a row object, use the <xref:System.Windows.Forms.DataGridViewRowCollection.SharedRow%2A?displayProperty=nameWithType> method and pass in the row's actual index.</span></span> <span data-ttu-id="59aaf-206">Beachten Sie jedoch, dass das Ändern von freigegebenen Zeilenobjekts abgerufen, die durch diese Methode alle Zeilen geändert werden, die dieses Objekt aufweisen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-206">Note, however, that modifying a shared row object retrieved through this method will modify all the rows that share this object.</span></span> <span data-ttu-id="59aaf-207">Die Zeile für neue Datensätze ist nicht mit anderen Zeilen hat jedoch freigegeben, sodass es nicht betroffen sind, wenn Sie eine anderen Zeile ändern.</span><span class="sxs-lookup"><span data-stu-id="59aaf-207">The row for new records is not shared with other rows, however, so it will not be affected when you modify any other row.</span></span> <span data-ttu-id="59aaf-208">Beachten Sie außerdem, dass unterschiedliche Zeilen, die durch eine freigegebene Zeile dargestellten verschiedene Kontextmenüs aufweisen können.</span><span class="sxs-lookup"><span data-stu-id="59aaf-208">Note also that different rows represented by a shared row may have different shortcut menus.</span></span> <span data-ttu-id="59aaf-209">Um das richtige Kontextmenü aus einer Instanz freigegebenen Zeile abzurufen, verwenden die <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> -Methode und übergeben Sie den tatsächlichen Zeilenindex.</span><span class="sxs-lookup"><span data-stu-id="59aaf-209">To retrieve the correct shortcut menu from a shared row instance, use the <xref:System.Windows.Forms.DataGridViewRow.GetContextMenuStrip%2A> method and pass in the row's actual index.</span></span> <span data-ttu-id="59aaf-210">Wenn der Zugriff auf die freigegebenen Zeile <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> Eigenschaft stattdessen die freigegebene Zeilenindex "-1" wird verwendet und wird nicht das richtige Kontextmenü abrufen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-210">If you access the shared row's <xref:System.Windows.Forms.DataGridViewRow.ContextMenuStrip%2A> property instead, it will use the shared row index of -1 and will not retrieve the correct shortcut menu.</span></span>  
  
-   <span data-ttu-id="59aaf-211">Vermeiden Sie die Indizierung der <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="59aaf-211">Avoid indexing the <xref:System.Windows.Forms.DataGridViewRow.Cells%2A?displayProperty=nameWithType> collection.</span></span> <span data-ttu-id="59aaf-212">Direkten Zugriff auf eine Zelle führt dazu, dass die übergeordneten Zeile aufgehoben und Instanziierung eines neuen <xref:System.Windows.Forms.DataGridViewRow>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-212">Accessing a cell directly will cause its parent row to become unshared, instantiating a new <xref:System.Windows.Forms.DataGridViewRow>.</span></span> <span data-ttu-id="59aaf-213">Empfangshandler für Ereignisse in Zusammenhang mit Zelle Argument Ereignisobjekten mit Zelleigenschaften, die Sie verwenden können, um Zellen zu bearbeiten, ohne Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-213">Handlers for cell-related events receive event argument objects with cell properties that you can use to manipulate cells without causing rows to become unshared.</span></span> <span data-ttu-id="59aaf-214">Sie können auch die <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> Eigenschaft, um die Zeilen- und Spaltenindizes der aktuellen Zelle abrufen, ohne den direkten Zugriff auf die Zelle.</span><span class="sxs-lookup"><span data-stu-id="59aaf-214">You can also use the <xref:System.Windows.Forms.DataGridView.CurrentCellAddress%2A> property to retrieve the row and column indexes of the current cell without accessing the cell directly.</span></span>  
  
-   <span data-ttu-id="59aaf-215">Vermeiden Sie zellenbasierte Auswahlmodi.</span><span class="sxs-lookup"><span data-stu-id="59aaf-215">Avoid cell-based selection modes.</span></span> <span data-ttu-id="59aaf-216">Diese Modi dazu führen, dass Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-216">These modes cause rows to become unshared.</span></span> <span data-ttu-id="59aaf-217">Legen Sie stattdessen die <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> Eigenschaft <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> oder <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-217">Instead, set the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property to <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="59aaf-218">Behandeln Sie keine der <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> oder <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> Ereignisse.</span><span class="sxs-lookup"><span data-stu-id="59aaf-218">Do not handle the <xref:System.Windows.Forms.DataGridViewRowCollection.CollectionChanged?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.RowStateChanged?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="59aaf-219">Diese Ereignisse dazu führen, dass Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-219">These events cause rows to become unshared.</span></span> <span data-ttu-id="59aaf-220">Rufen Sie außerdem nicht den <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> oder <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> Methoden, die diese Ereignisse auslösen.</span><span class="sxs-lookup"><span data-stu-id="59aaf-220">Also, do not call the <xref:System.Windows.Forms.DataGridViewRowCollection.OnCollectionChanged%2A?displayProperty=nameWithType> or <xref:System.Windows.Forms.DataGridView.OnRowStateChanged%2A?displayProperty=nameWithType> methods, which raise these events.</span></span>  
  
-   <span data-ttu-id="59aaf-221">Nicht auf die <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> Auflistung bei der <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> Eigenschaftswert ist <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, oder <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-221">Do not access the <xref:System.Windows.Forms.DataGridView.SelectedCells%2A?displayProperty=nameWithType> collection when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.FullColumnSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.ColumnHeaderSelect>, <xref:System.Windows.Forms.DataGridViewSelectionMode.FullRowSelect>, or <xref:System.Windows.Forms.DataGridViewSelectionMode.RowHeaderSelect>.</span></span> <span data-ttu-id="59aaf-222">Dies bewirkt, dass alle ausgewählten Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-222">This causes all selected rows to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-223">Rufen Sie nicht die <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> Methode.</span><span class="sxs-lookup"><span data-stu-id="59aaf-223">Do not call the <xref:System.Windows.Forms.DataGridView.AreAllCellsSelected%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="59aaf-224">Diese Methode kann dazu führen, dass Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-224">This method can cause rows to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-225">Rufen Sie nicht die <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> Methode bei der <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> Eigenschaftswert ist <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span><span class="sxs-lookup"><span data-stu-id="59aaf-225">Do not call the <xref:System.Windows.Forms.DataGridView.SelectAll%2A?displayProperty=nameWithType> method when the <xref:System.Windows.Forms.DataGridView.SelectionMode%2A?displayProperty=nameWithType> property value is <xref:System.Windows.Forms.DataGridViewSelectionMode.CellSelect>.</span></span> <span data-ttu-id="59aaf-226">Dies bewirkt, dass alle Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-226">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-227">Legen Sie nicht die <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> oder <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> Eigenschaft einer Zelle, `false` Wenn die entsprechende Eigenschaft in der Spalte auf festgelegt ist `true`.</span><span class="sxs-lookup"><span data-stu-id="59aaf-227">Do not set the <xref:System.Windows.Forms.DataGridViewCell.ReadOnly%2A> or <xref:System.Windows.Forms.DataGridViewCell.Selected%2A> property of a cell to `false` when the corresponding property in its column is set to `true`.</span></span> <span data-ttu-id="59aaf-228">Dies bewirkt, dass alle Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-228">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-229">Nicht auf die <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="59aaf-229">Do not access the <xref:System.Windows.Forms.DataGridViewRowCollection.List%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="59aaf-230">Dies bewirkt, dass alle Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-230">This causes all rows to become unshared.</span></span>  
  
-   <span data-ttu-id="59aaf-231">Rufen Sie nicht die `Sort(IComparer)` Überladung von der <xref:System.Windows.Forms.DataGridView.Sort%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="59aaf-231">Do not call the `Sort(IComparer)` overload of the <xref:System.Windows.Forms.DataGridView.Sort%2A> method.</span></span> <span data-ttu-id="59aaf-232">Sortieren mit einem benutzerdefinierten Vergleich bewirkt, dass alle Zeilen aufgehoben wird.</span><span class="sxs-lookup"><span data-stu-id="59aaf-232">Sorting with a custom comparer causes all rows to become unshared.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="59aaf-233">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="59aaf-233">See Also</span></span>  
 <xref:System.Windows.Forms.DataGridView>  
 [<span data-ttu-id="59aaf-234">Leistungsoptimierung im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-234">Performance Tuning in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/performance-tuning-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="59aaf-235">Virtueller Modus im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-235">Virtual Mode in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/virtual-mode-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="59aaf-236">Datenanzeigemodi im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-236">Data Display Modes in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/data-display-modes-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="59aaf-237">Zellstile im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-237">Cell Styles in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/cell-styles-in-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="59aaf-238">Gewusst wie: Festlegen von Standardzellenformaten für das DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-238">How to: Set Default Cell Styles for the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md)  
 [<span data-ttu-id="59aaf-239">Größenänderungsoptionen im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="59aaf-239">Sizing Options in the Windows Forms DataGridView Control</span></span>](../../../../docs/framework/winforms/controls/sizing-options-in-the-windows-forms-datagridview-control.md)
