---
title: Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement
ms.date: 03/30/2017
helpviewer_keywords:
- DataGridView control [Windows Forms], adding rows for new records
- rows [Windows Forms], new records
- DataGridView control [Windows Forms], data entry
ms.assetid: 6110f1ea-9794-442c-a98a-f104a1feeaf4
ms.openlocfilehash: 2fcd35f8c4d04909cdbc26f6a4293fdd570385b8
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2020
ms.locfileid: "76728332"
---
# <a name="using-the-row-for-new-records-in-the-windows-forms-datagridview-control"></a><span data-ttu-id="a674a-102">Verwenden der Zeile für neue Datensätze im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="a674a-102">Using the Row for New Records in the Windows Forms DataGridView Control</span></span>
<span data-ttu-id="a674a-103">Wenn Sie einen <xref:System.Windows.Forms.DataGridView> zum Bearbeiten von Daten in der Anwendung verwenden, möchten Sie Ihren Benutzern oft die Möglichkeit geben, dem Datenspeicher neue Daten Zeilen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="a674a-103">When you use a <xref:System.Windows.Forms.DataGridView> for editing data in your application, you will often want to give your users the ability to add new rows of data to the data store.</span></span> <span data-ttu-id="a674a-104">Das <xref:System.Windows.Forms.DataGridView>-Steuerelement unterstützt diese Funktion, indem es eine Zeile für neue Datensätze bereitstellt, die immer als letzte Zeile angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="a674a-104">The <xref:System.Windows.Forms.DataGridView> control supports this functionality by providing a row for new records, which is always shown as the last row.</span></span> <span data-ttu-id="a674a-105">Es ist mit einem Sternchen (\*)-Symbol in seiner Zeilen Überschrift markiert.</span><span class="sxs-lookup"><span data-stu-id="a674a-105">It is marked with an asterisk (\*) symbol in its row header.</span></span> <span data-ttu-id="a674a-106">In den folgenden Abschnitten werden einige der Punkte erläutert, die Sie beim Programmieren mit der Zeile für neue aktivierte Datensätze berücksichtigen sollten.</span><span class="sxs-lookup"><span data-stu-id="a674a-106">The following sections discuss some of the things you should consider when you program with the row for new records enabled.</span></span>  
  
## <a name="displaying-the-row-for-new-records"></a><span data-ttu-id="a674a-107">Anzeigen der Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="a674a-107">Displaying the Row for New Records</span></span>  
 <span data-ttu-id="a674a-108">Verwenden Sie die <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A>-Eigenschaft, um anzugeben, ob die Zeile für neue Datensätze angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="a674a-108">Use the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property to indicate whether the row for new records is displayed.</span></span> <span data-ttu-id="a674a-109">Der Standardwert dieser Eigenschaft ist `true`.</span><span class="sxs-lookup"><span data-stu-id="a674a-109">The default value of this property is `true`.</span></span>  
  
 <span data-ttu-id="a674a-110">Für den Daten gebundenen Fall wird die Zeile für neue Datensätze angezeigt, wenn die <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A>-Eigenschaft des-Steuer Elements und die <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType>-Eigenschaft der Datenquelle beide `true`sind.</span><span class="sxs-lookup"><span data-stu-id="a674a-110">For the data bound case, the row for new records will be shown if the <xref:System.Windows.Forms.DataGridView.AllowUserToAddRows%2A> property of the control and the <xref:System.ComponentModel.IBindingList.AllowNew%2A?displayProperty=nameWithType> property of the data source are both `true`.</span></span> <span data-ttu-id="a674a-111">Wenn eine der beiden `false` ist, wird die Zeile nicht angezeigt.</span><span class="sxs-lookup"><span data-stu-id="a674a-111">If either is `false` then the row will not be shown.</span></span>  
  
## <a name="populating-the-row-for-new-records-with-default-data"></a><span data-ttu-id="a674a-112">Auffüllen der Zeile für neue Datensätze mit Standarddaten</span><span class="sxs-lookup"><span data-stu-id="a674a-112">Populating the Row for New Records with Default Data</span></span>  
 <span data-ttu-id="a674a-113">Wenn der Benutzer die Zeile für neue Datensätze als aktuelle Zeile auswählt, löst das <xref:System.Windows.Forms.DataGridView>-Steuerelement das <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded>-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="a674a-113">When the user selects the row for new records as the current row, the <xref:System.Windows.Forms.DataGridView> control raises the <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event.</span></span>  
  
 <span data-ttu-id="a674a-114">Dieses Ereignis bietet Zugriff auf den neuen <xref:System.Windows.Forms.DataGridViewRow> und ermöglicht es Ihnen, die neue Zeile mit Standarddaten aufzufüllen.</span><span class="sxs-lookup"><span data-stu-id="a674a-114">This event provides access to the new <xref:System.Windows.Forms.DataGridViewRow> and enables you to populate the new row with default data.</span></span> <span data-ttu-id="a674a-115">Weitere Informationen finden Sie unter Gewusst [wie: Angeben von Standardwerten für neue Zeilen im Windows Forms DataGridView-Steuer](specify-default-values-for-new-rows-in-the-datagrid.md) Element.</span><span class="sxs-lookup"><span data-stu-id="a674a-115">For more information, see [How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control](specify-default-values-for-new-rows-in-the-datagrid.md)</span></span>  
  
## <a name="the-rows-collection"></a><span data-ttu-id="a674a-116">Die Rows-Auflistung</span><span class="sxs-lookup"><span data-stu-id="a674a-116">The Rows Collection</span></span>  
 <span data-ttu-id="a674a-117">Die Zeile für neue Datensätze ist in der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung des <xref:System.Windows.Forms.DataGridView>-Steuer Elements enthalten, verhält sich jedoch in zweierlei Hinsicht anders:</span><span class="sxs-lookup"><span data-stu-id="a674a-117">The row for new records is contained in the <xref:System.Windows.Forms.DataGridView> control's <xref:System.Windows.Forms.DataGridView.Rows%2A> collection but behaves differently in two respects:</span></span>  
  
- <span data-ttu-id="a674a-118">Die Zeile für neue Datensätze kann nicht Programm gesteuert aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Sammlung entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="a674a-118">The row for new records cannot be removed from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection programmatically.</span></span> <span data-ttu-id="a674a-119">Eine <xref:System.InvalidOperationException> wird ausgelöst, wenn versucht wird, den Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a674a-119">An <xref:System.InvalidOperationException> is thrown if this is attempted.</span></span> <span data-ttu-id="a674a-120">Außerdem kann der Benutzer die Zeile für neue Datensätze nicht löschen.</span><span class="sxs-lookup"><span data-stu-id="a674a-120">The user also cannot delete the row for new records.</span></span> <span data-ttu-id="a674a-121">Die <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType>-Methode entfernt diese Zeile nicht aus der <xref:System.Windows.Forms.DataGridView.Rows%2A> Auflistung.</span><span class="sxs-lookup"><span data-stu-id="a674a-121">The <xref:System.Windows.Forms.DataGridViewRowCollection.Clear%2A?displayProperty=nameWithType> method does not remove this row from the <xref:System.Windows.Forms.DataGridView.Rows%2A> collection.</span></span>  
  
- <span data-ttu-id="a674a-122">Nach der Zeile für neue Datensätze kann keine Zeile hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="a674a-122">No row can be added after the row for new records.</span></span> <span data-ttu-id="a674a-123">Eine <xref:System.InvalidOperationException> wird ausgelöst, wenn versucht wird, diesen Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a674a-123">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span> <span data-ttu-id="a674a-124">Folglich ist die Zeile für neue Datensätze immer die letzte Zeile im <xref:System.Windows.Forms.DataGridView>-Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="a674a-124">As a result, the row for new records is always the last row in the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="a674a-125">Die Methoden auf <xref:System.Windows.Forms.DataGridViewRowCollection>, die Zeilen hinzufügen –<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>und <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>– alle Methoden zum Einfügen von anrufen, wenn die Zeile für neue Datensätze vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="a674a-125">The methods on <xref:System.Windows.Forms.DataGridViewRowCollection> that add rows—<xref:System.Windows.Forms.DataGridViewRowCollection.Add%2A>, <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopy%2A>, and <xref:System.Windows.Forms.DataGridViewRowCollection.AddCopies%2A>—all call insertion methods internally when the row for new records is present.</span></span>  
  
## <a name="visual-customization-of-the-row-for-new-records"></a><span data-ttu-id="a674a-126">Visuelle Anpassung der Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="a674a-126">Visual Customization of the Row for New Records</span></span>  
 <span data-ttu-id="a674a-127">Wenn die Zeile für neue Datensätze erstellt wird, basiert Sie auf der durch die <xref:System.Windows.Forms.DataGridView.RowTemplate%2A>-Eigenschaft angegebenen Zeile.</span><span class="sxs-lookup"><span data-stu-id="a674a-127">When the row for new records is created, it is based on the row specified by the <xref:System.Windows.Forms.DataGridView.RowTemplate%2A> property.</span></span> <span data-ttu-id="a674a-128">Alle Zell Stile, die für diese Zeile nicht angegeben sind, werden von anderen Eigenschaften geerbt.</span><span class="sxs-lookup"><span data-stu-id="a674a-128">Any cell styles that are not specified for this row are inherited from other properties.</span></span> <span data-ttu-id="a674a-129">Weitere Informationen zur Vererbung von Zellen Formaten finden Sie unter [Zellen Stile im Windows Forms DataGridView-Steuer](cell-styles-in-the-windows-forms-datagridview-control.md)Element.</span><span class="sxs-lookup"><span data-stu-id="a674a-129">For more information about cell style inheritance, see [Cell Styles in the Windows Forms DataGridView Control](cell-styles-in-the-windows-forms-datagridview-control.md).</span></span>  
  
 <span data-ttu-id="a674a-130">Die Anfangswerte, die von Zellen in der Zeile für neue Datensätze angezeigt werden, werden aus der <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A>-Eigenschaft jeder Zelle abgerufen.</span><span class="sxs-lookup"><span data-stu-id="a674a-130">The initial values displayed by cells in the row for new records are retrieved from each cell's <xref:System.Windows.Forms.DataGridViewCell.DefaultNewRowValue%2A> property.</span></span> <span data-ttu-id="a674a-131">Bei Zellen vom Typ <xref:System.Windows.Forms.DataGridViewImageCell>gibt diese Eigenschaft ein Platzhalter Bild zurück.</span><span class="sxs-lookup"><span data-stu-id="a674a-131">For cells of type <xref:System.Windows.Forms.DataGridViewImageCell>, this property returns a placeholder image.</span></span> <span data-ttu-id="a674a-132">Andernfalls gibt diese Eigenschaft `null` zurück.</span><span class="sxs-lookup"><span data-stu-id="a674a-132">Otherwise, this property returns `null`.</span></span> <span data-ttu-id="a674a-133">Sie können diese Eigenschaft überschreiben, um einen benutzerdefinierten Wert zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="a674a-133">You can override this property to return a custom value.</span></span> <span data-ttu-id="a674a-134">Allerdings können diese anfänglichen Werte durch einen <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> Ereignishandler ersetzt werden, wenn der Fokus in der Zeile für neue Datensätze eintritt.</span><span class="sxs-lookup"><span data-stu-id="a674a-134">However, these initial values can be replaced by a <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded> event handler when focus enters the row for new records.</span></span>  
  
 <span data-ttu-id="a674a-135">Die Standardsymbole für den Header dieser Zeile, die ein Pfeil oder ein Sternchen sind, werden nicht öffentlich verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="a674a-135">The standard icons for this row's header, which are an arrow or an asterisk, are not exposed publicly.</span></span> <span data-ttu-id="a674a-136">Wenn Sie die Symbole anpassen möchten, müssen Sie eine benutzerdefinierte <xref:System.Windows.Forms.DataGridViewRowHeaderCell> Klasse erstellen.</span><span class="sxs-lookup"><span data-stu-id="a674a-136">If you want to customize the icons, you will need to create a custom <xref:System.Windows.Forms.DataGridViewRowHeaderCell> class.</span></span>  
  
 <span data-ttu-id="a674a-137">In den Standardsymbolen wird die <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A>-Eigenschaft des <xref:System.Windows.Forms.DataGridViewCellStyle> verwendet, der von der Zeilen Header Zelle verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="a674a-137">The standard icons use the <xref:System.Windows.Forms.DataGridViewCellStyle.ForeColor%2A> property of the <xref:System.Windows.Forms.DataGridViewCellStyle> in use by the row header cell.</span></span> <span data-ttu-id="a674a-138">Die Standardsymbole werden nicht gerendert, wenn nicht genügend Speicherplatz vorhanden ist, um Sie vollständig anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="a674a-138">The standard icons are not rendered if there is not enough space to display them completely.</span></span>  
  
 <span data-ttu-id="a674a-139">Wenn für die Zeilen Header Zelle ein Zeichen folgen Wert festgelegt ist, und wenn nicht genügend Platz für den Text und das Symbol vorhanden ist, wird das Symbol zuerst gelöscht.</span><span class="sxs-lookup"><span data-stu-id="a674a-139">If the row header cell has a string value set, and if there is not enough room for both the text and icon, the icon is dropped first.</span></span>  
  
## <a name="sorting"></a><span data-ttu-id="a674a-140">Sortieren</span><span class="sxs-lookup"><span data-stu-id="a674a-140">Sorting</span></span>  
 <span data-ttu-id="a674a-141">Im ungebundenen Modus werden neue Datensätze immer am Ende der <xref:System.Windows.Forms.DataGridView> hinzugefügt, auch wenn der Benutzer den Inhalt des <xref:System.Windows.Forms.DataGridView>sortiert hat.</span><span class="sxs-lookup"><span data-stu-id="a674a-141">In unbound mode, new records will always be added to the end of the <xref:System.Windows.Forms.DataGridView> even if the user has sorted the content of the <xref:System.Windows.Forms.DataGridView>.</span></span> <span data-ttu-id="a674a-142">Der Benutzer muss die Sortierung erneut anwenden, um die Zeile an die richtige Position zu sortieren. Dieses Verhalten ähnelt dem des <xref:System.Windows.Forms.ListView> Steuer Elements.</span><span class="sxs-lookup"><span data-stu-id="a674a-142">The user will need to apply the sort again in order to sort the row to the correct position; this behavior is similar to that of the <xref:System.Windows.Forms.ListView> control.</span></span>  
  
 <span data-ttu-id="a674a-143">Im Daten gebundenen und virtuellen Modus hängt das Einfügeverhalten, wenn eine Sortierung angewendet wird, von der Implementierung des Datenmodells ab.</span><span class="sxs-lookup"><span data-stu-id="a674a-143">In data bound and virtual modes, the insertion behavior when a sort is applied will be dependent on the implementation of the data model.</span></span> <span data-ttu-id="a674a-144">Für ADO.net wird die Zeile sofort an die richtige Position sortiert.</span><span class="sxs-lookup"><span data-stu-id="a674a-144">For ADO.NET, the row is immediately sorted into the correct position.</span></span>  
  
## <a name="other-notes-on-the-row-for-new-records"></a><span data-ttu-id="a674a-145">Weitere Hinweise in der Zeile für neue Datensätze</span><span class="sxs-lookup"><span data-stu-id="a674a-145">Other Notes on the Row for New Records</span></span>  
 <span data-ttu-id="a674a-146">Die <xref:System.Windows.Forms.DataGridViewRow.Visible%2A>-Eigenschaft dieser Zeile kann nicht auf `false`festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="a674a-146">You cannot set the <xref:System.Windows.Forms.DataGridViewRow.Visible%2A> property of this row to `false`.</span></span> <span data-ttu-id="a674a-147">Eine <xref:System.InvalidOperationException> wird ausgelöst, wenn versucht wird, diesen Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a674a-147">An <xref:System.InvalidOperationException> is raised if this is attempted.</span></span>  
  
 <span data-ttu-id="a674a-148">Die Zeile für neue Datensätze wird immer im nicht ausgewählten Zustand erstellt.</span><span class="sxs-lookup"><span data-stu-id="a674a-148">The row for new records is always created in the unselected state.</span></span>  
  
## <a name="virtual-mode"></a><span data-ttu-id="a674a-149">Virtueller Modus</span><span class="sxs-lookup"><span data-stu-id="a674a-149">Virtual Mode</span></span>  
 <span data-ttu-id="a674a-150">Wenn Sie den virtuellen Modus implementieren, müssen Sie nachverfolgen, wann eine Zeile für neue Datensätze im Datenmodell benötigt wird und wann ein Rollback für das Hinzufügen der Zeile ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="a674a-150">If you are implementing virtual mode, you will need to track when a row for new records is needed in the data model and when to roll back the addition of the row.</span></span> <span data-ttu-id="a674a-151">Die genaue Implementierung dieser Funktionalität hängt von der Implementierung des Datenmodells und seiner Transaktions Semantik ab, z. b. ob der commitbereich auf Zellen-oder Zeilenebene liegt.</span><span class="sxs-lookup"><span data-stu-id="a674a-151">The exact implementation of this functionality depends on the implementation of the data model and its transaction semantics, for example, whether commit scope is at the cell or row level.</span></span> <span data-ttu-id="a674a-152">Weitere Informationen finden Sie [im Windows Forms DataGridView-Steuerelement im virtuellen Modus](virtual-mode-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="a674a-152">For more information, see [Virtual Mode in the Windows Forms DataGridView Control](virtual-mode-in-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a674a-153">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="a674a-153">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.DataGridView.DefaultValuesNeeded?displayProperty=nameWithType>
- [<span data-ttu-id="a674a-154">Dateneingabe im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="a674a-154">Data Entry in the Windows Forms DataGridView Control</span></span>](data-entry-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="a674a-155">Gewusst wie: Angeben von Standardwerten für neue Zeilen im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="a674a-155">How to: Specify Default Values for New Rows in the Windows Forms DataGridView Control</span></span>](specify-default-values-for-new-rows-in-the-datagrid.md)
