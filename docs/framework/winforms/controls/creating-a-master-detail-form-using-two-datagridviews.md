---
title: 'Exemplarische Vorgehensweise: Erstellen eines Master / Detail-Formulars mit zwei DataGridView-Steuerelementen in Windows Forms'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- DataGridView control [Windows Forms], master/detail form
- parent-child tables [Windows Forms], displaying on Windows Forms
- master-details lists [Windows Forms], displaying on Windows Forms
- walkthroughs [Windows Forms], DataGridView control
ms.assetid: c5fa29e8-47f7-4691-829b-0e697a691f36
ms.openlocfilehash: a887dacfcb83b4b6ea4cb2690ab09b0d1b20b4fa
ms.sourcegitcommit: 9b552addadfb57fab0b9e7852ed4f1f1b8a42f8e
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 04/23/2019
ms.locfileid: "61772891"
---
# <a name="walkthrough-creating-a-masterdetail-form-using-two-windows-forms-datagridview-controls"></a><span data-ttu-id="e3120-102">Exemplarische Vorgehensweise: Erstellen eines Master-/Detailformulars mit zwei DataGridView-Steuerelementen in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="e3120-102">Walkthrough: Creating a Master/Detail Form Using Two Windows Forms DataGridView Controls</span></span>
<span data-ttu-id="e3120-103">Einer der häufigsten Szenarios für die Verwendung der <xref:System.Windows.Forms.DataGridView> Steuerelement ist die *Master/Detail-* Form, in dem eine über-/unterordnungsbeziehung zwischen zwei Datenbanktabellen angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="e3120-103">One of the most common scenarios for using the <xref:System.Windows.Forms.DataGridView> control is the *master/detail* form, in which a parent/child relationship between two database tables is displayed.</span></span> <span data-ttu-id="e3120-104">Auswählen von Zeilen in der master-Tabelle bewirkt, dass die Detailtabelle um mit den entsprechenden untergeordneten Daten zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="e3120-104">Selecting rows in the master table causes the detail table to update with the corresponding child data.</span></span>  
  
 <span data-ttu-id="e3120-105">Implementieren eine Master-/Detailformulars kann leicht mit der die Interaktion zwischen der <xref:System.Windows.Forms.DataGridView> Steuerelement und die <xref:System.Windows.Forms.BindingSource> Komponente.</span><span class="sxs-lookup"><span data-stu-id="e3120-105">Implementing a master/detail form is easy using the interaction between the <xref:System.Windows.Forms.DataGridView> control and the <xref:System.Windows.Forms.BindingSource> component.</span></span> <span data-ttu-id="e3120-106">In dieser exemplarischen Vorgehensweise erstellen Sie das Formular mit zwei <xref:System.Windows.Forms.DataGridView> -Steuerelemente und zwei <xref:System.Windows.Forms.BindingSource> Komponenten.</span><span class="sxs-lookup"><span data-stu-id="e3120-106">In this walkthrough, you will build the form using two <xref:System.Windows.Forms.DataGridView> controls and two <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="e3120-107">Das Formular zeigt zwei verknüpfte Tabellen in der Beispieldatenbank Northwind-SQL Server: `Customers` und `Orders`.</span><span class="sxs-lookup"><span data-stu-id="e3120-107">The form will show two related tables in the Northwind SQL Server sample database: `Customers` and `Orders`.</span></span> <span data-ttu-id="e3120-108">Wenn Sie fertig sind, haben Sie ein Formular, das zeigt, alle Kunden in der Datenbank in der Masterdatenbank <xref:System.Windows.Forms.DataGridView> und alle Aufträge für den ausgewählten Kunden in die Details <xref:System.Windows.Forms.DataGridView>.</span><span class="sxs-lookup"><span data-stu-id="e3120-108">When you are finished, you will have a form that shows all the customers in the database in the master <xref:System.Windows.Forms.DataGridView> and all the orders for the selected customer in the detail <xref:System.Windows.Forms.DataGridView>.</span></span>  
  
 <span data-ttu-id="e3120-109">Zum Kopieren des Codes in diesem Thema als einzelne Auflistung lesen Sie [Vorgehensweise: Erstellen Sie eine Master-/Detailformulars mit zwei DataGridView-Steuerelementen in Windows Forms](create-a-master-detail-form-using-two-datagridviews.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-109">To copy the code in this topic as a single listing, see [How to: Create a Master/Detail Form Using Two Windows Forms DataGridView Controls](create-a-master-detail-form-using-two-datagridviews.md).</span></span>  
  
## <a name="prerequisites"></a><span data-ttu-id="e3120-110">Vorraussetzungen</span><span class="sxs-lookup"><span data-stu-id="e3120-110">Prerequisites</span></span>  
 <span data-ttu-id="e3120-111">Für die Durchführung dieser exemplarischen Vorgehensweise benötigen Sie Folgendes:</span><span class="sxs-lookup"><span data-stu-id="e3120-111">In order to complete this walkthrough, you will need:</span></span>  
  
- <span data-ttu-id="e3120-112">Zugriff auf einen Server, der die Beispieldatenbank Northwind-SQL-Server verfügt.</span><span class="sxs-lookup"><span data-stu-id="e3120-112">Access to a server that has the Northwind SQL Server sample database.</span></span>  
  
## <a name="creating-the-form"></a><span data-ttu-id="e3120-113">Erstellen des Formulars</span><span class="sxs-lookup"><span data-stu-id="e3120-113">Creating the form</span></span>  
  
#### <a name="to-create-a-masterdetail-form"></a><span data-ttu-id="e3120-114">Erstellen eines Master/Detail-Formulars</span><span class="sxs-lookup"><span data-stu-id="e3120-114">To create a master/detail form</span></span>  
  
1. <span data-ttu-id="e3120-115">Erstellen Sie eine abgeleitete Klasse <xref:System.Windows.Forms.Form> und enthält zwei <xref:System.Windows.Forms.DataGridView> -Steuerelemente und zwei <xref:System.Windows.Forms.BindingSource> Komponenten.</span><span class="sxs-lookup"><span data-stu-id="e3120-115">Create a class that derives from <xref:System.Windows.Forms.Form> and contains two <xref:System.Windows.Forms.DataGridView> controls and two <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="e3120-116">Der folgende Code stellt die grundlegende Form Initialisierung bereit und enthält eine `Main` Methode.</span><span class="sxs-lookup"><span data-stu-id="e3120-116">The following code provides basic form initialization and includes a `Main` method.</span></span> <span data-ttu-id="e3120-117">Wenn Sie Visual Studio-Designer verwenden, um das Formular zu erstellen, können Sie verwenden Sie den vom Designer generierten Code anstelle dieser Code, aber Achten Sie darauf, dass Sie die in den Variablen Deklarationen in den hier angezeigten Namen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3120-117">If you use the Visual Studio designer to create your form, you can use the designer generated code instead of this code, but be sure to use the names shown in the variable declarations here.</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#01](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#01)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#01](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#01)]  
    [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#02](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#02)]
    [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#02](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#02)]  
  
2. <span data-ttu-id="e3120-118">Implementieren Sie eine Methode in Ihres Formulars Klassendefinition für die Verarbeitung von Details der Verbindung zur Datenbank.</span><span class="sxs-lookup"><span data-stu-id="e3120-118">Implement a method in your form's class definition for handling the detail of connecting to the database.</span></span> <span data-ttu-id="e3120-119">Dieses Beispiel verwendet eine `GetData` -Methode, die füllt eine <xref:System.Data.DataSet> Objekt, fügt ein <xref:System.Data.DataRelation> Objekt, das Dataset, und bindet die <xref:System.Windows.Forms.BindingSource> Komponenten.</span><span class="sxs-lookup"><span data-stu-id="e3120-119">This example uses a `GetData` method that populates a <xref:System.Data.DataSet> object, adds a <xref:System.Data.DataRelation> object to the data set, and binds the <xref:System.Windows.Forms.BindingSource> components.</span></span> <span data-ttu-id="e3120-120">Sorgen Sie dafür, dass die `connectionString`-Variable auf einen Wert gesetzt wird, der für Ihre Datenbank geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="e3120-120">Be sure to set the `connectionString` variable to a value that is appropriate for your database.</span></span>  
  
    > [!IMPORTANT]
    >  <span data-ttu-id="e3120-121">Das Speichern vertraulicher Informationen (z. B. eines Kennworts) innerhalb der Verbindungszeichenfolge kann die Sicherheit einer Anwendung beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="e3120-121">Storing sensitive information, such as a password, within the connection string can affect the security of your application.</span></span> <span data-ttu-id="e3120-122">Der Zugriff auf eine Datenbank lässt sich mithilfe der Windows-Authentifizierung (wird auch als integrierte Sicherheit bezeichnet) sicherer steuern.</span><span class="sxs-lookup"><span data-stu-id="e3120-122">Using Windows Authentication (also known as integrated security) is a more secure way to control access to a database.</span></span> <span data-ttu-id="e3120-123">Weitere Informationen finden Sie unter [Protecting Connection Information (Schützen von Verbindungsinformationen)](../../data/adonet/protecting-connection-information.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-123">For more information, see [Protecting Connection Information](../../data/adonet/protecting-connection-information.md).</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#20](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#20)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#20](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#20)]  
  
3. <span data-ttu-id="e3120-124">Implementieren einen Handler für Ihres Formulars <xref:System.Windows.Forms.Form.Load> -Ereignis, das gebunden wird die <xref:System.Windows.Forms.DataGridView> -Steuerelementen an die <xref:System.Windows.Forms.BindingSource> Komponenten und ruft die `GetData` Methode.</span><span class="sxs-lookup"><span data-stu-id="e3120-124">Implement a handler for your form's <xref:System.Windows.Forms.Form.Load> event that binds the <xref:System.Windows.Forms.DataGridView> controls to the <xref:System.Windows.Forms.BindingSource> components and calls the `GetData` method.</span></span> <span data-ttu-id="e3120-125">Das folgende Beispiel enthält Code, der Größe der <xref:System.Windows.Forms.DataGridView> Spalten sind die angezeigten Daten anpassen.</span><span class="sxs-lookup"><span data-stu-id="e3120-125">The following example includes code that resizes <xref:System.Windows.Forms.DataGridView> columns to fit the displayed data.</span></span>  
  
     [!code-csharp[System.Windows.Forms.DataGridViewMasterDetails#10](~/samples/snippets/csharp/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/CS/masterdetails.cs#10)]
     [!code-vb[System.Windows.Forms.DataGridViewMasterDetails#10](~/samples/snippets/visualbasic/VS_Snippets_Winforms/System.Windows.Forms.DataGridViewMasterDetails/VB/masterdetails.vb#10)]  
  
## <a name="testing-the-application"></a><span data-ttu-id="e3120-126">Testen der Anwendung</span><span class="sxs-lookup"><span data-stu-id="e3120-126">Testing the Application</span></span>  
 <span data-ttu-id="e3120-127">Sie können das Formular jetzt testen, um sicherzustellen, dass das Verhalten wie erwartet ausfällt.</span><span class="sxs-lookup"><span data-stu-id="e3120-127">You can now test the form to make sure it behaves as expected.</span></span>  
  
#### <a name="to-test-the-form"></a><span data-ttu-id="e3120-128">So testen Sie das Formular</span><span class="sxs-lookup"><span data-stu-id="e3120-128">To test the form</span></span>  
  
- <span data-ttu-id="e3120-129">Kompilieren Sie die Anwendung, und führen Sie sie aus.</span><span class="sxs-lookup"><span data-stu-id="e3120-129">Compile and run the application.</span></span>  
  
     <span data-ttu-id="e3120-130">Sie sehen zwei <xref:System.Windows.Forms.DataGridView> übereinander steuert.</span><span class="sxs-lookup"><span data-stu-id="e3120-130">You will see two <xref:System.Windows.Forms.DataGridView> controls, one above the other.</span></span> <span data-ttu-id="e3120-131">Sind Sie oben auf die Kunden aus dem Northwind `Customers` Tabelle, und werden am unteren Rand der `Orders` für den ausgewählten Kunden.</span><span class="sxs-lookup"><span data-stu-id="e3120-131">On top are the customers from the Northwind `Customers` table, and at the bottom are the `Orders` corresponding to the selected customer.</span></span> <span data-ttu-id="e3120-132">Bei Auswahl von unterschiedlichen Zeilen in der oberen <xref:System.Windows.Forms.DataGridView>, den Inhalt der unteren <xref:System.Windows.Forms.DataGridView> entsprechend ändern.</span><span class="sxs-lookup"><span data-stu-id="e3120-132">As you select different rows in the upper <xref:System.Windows.Forms.DataGridView>, the contents of the lower <xref:System.Windows.Forms.DataGridView> change accordingly.</span></span>  
  
## <a name="next-steps"></a><span data-ttu-id="e3120-133">Nächste Schritte</span><span class="sxs-lookup"><span data-stu-id="e3120-133">Next Steps</span></span>  
 <span data-ttu-id="e3120-134">Diese Anwendung verfügt über einen grundlegenden Überblick der <xref:System.Windows.Forms.DataGridView> Funktionen des Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="e3120-134">This application gives you a basic understanding of the <xref:System.Windows.Forms.DataGridView> control's capabilities.</span></span> <span data-ttu-id="e3120-135">Sie können das Aussehen und Verhalten der Anpassen der <xref:System.Windows.Forms.DataGridView> Steuerelement auf verschiedene Weise:</span><span class="sxs-lookup"><span data-stu-id="e3120-135">You can customize the appearance and behavior of the <xref:System.Windows.Forms.DataGridView> control in several ways:</span></span>  
  
- <span data-ttu-id="e3120-136">Ändern von Rahmen und Header-Formaten.</span><span class="sxs-lookup"><span data-stu-id="e3120-136">Change border and header styles.</span></span> <span data-ttu-id="e3120-137">Weitere Informationen finden Sie unter [Vorgehensweise: Ändern des Rahmen- und Rasterlinienstils in der Windows Forms DataGridView-Steuerelement](change-the-border-and-gridline-styles-in-the-datagrid.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-137">For more information, see [How to: Change the Border and Gridline Styles in the Windows Forms DataGridView Control](change-the-border-and-gridline-styles-in-the-datagrid.md).</span></span>  
  
- <span data-ttu-id="e3120-138">Aktivieren oder Einschränken von Benutzereingaben in die <xref:System.Windows.Forms.DataGridView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="e3120-138">Enable or restrict user input to the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="e3120-139">Weitere Informationen finden Sie unter [Vorgehensweise: Verhindern des Hinzufügens der Zeile, und Löschen in der Windows Forms-DataGridView-Steuerelement](prevent-row-addition-and-deletion-datagridview.md), und [Vorgehensweise: Festlegen von Spalten schreibgeschützt in der Windows Forms-DataGridView-Steuerelement](how-to-make-columns-read-only-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-139">For more information, see [How to: Prevent Row Addition and Deletion in the Windows Forms DataGridView Control](prevent-row-addition-and-deletion-datagridview.md), and [How to: Make Columns Read-Only in the Windows Forms DataGridView Control](how-to-make-columns-read-only-in-the-windows-forms-datagridview-control.md).</span></span>  
  
- <span data-ttu-id="e3120-140">Überprüfen Sie Benutzereingaben an das <xref:System.Windows.Forms.DataGridView> Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="e3120-140">Validate user input to the <xref:System.Windows.Forms.DataGridView> control.</span></span> <span data-ttu-id="e3120-141">Weitere Informationen finden Sie unter [Exemplarische Vorgehensweise: Überprüfen von Daten in der Windows Forms-DataGridView-Steuerelement](walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-141">For more information, see [Walkthrough: Validating Data in the Windows Forms DataGridView Control](walkthrough-validating-data-in-the-windows-forms-datagridview-control.md).</span></span>  
  
- <span data-ttu-id="e3120-142">Behandeln Sie sehr großen Datasets, die Verwendung des virtuellen Modus.</span><span class="sxs-lookup"><span data-stu-id="e3120-142">Handle very large data sets using virtual mode.</span></span> <span data-ttu-id="e3120-143">Weitere Informationen finden Sie unter [Exemplarische Vorgehensweise: Implementieren des virtuellen Modus in der Windows Forms-DataGridView-Steuerelement](implementing-virtual-mode-wf-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-143">For more information, see [Walkthrough: Implementing Virtual Mode in the Windows Forms DataGridView Control](implementing-virtual-mode-wf-datagridview-control.md).</span></span>  
  
- <span data-ttu-id="e3120-144">Anpassen der Darstellung von Zellen an.</span><span class="sxs-lookup"><span data-stu-id="e3120-144">Customize the appearance of cells.</span></span> <span data-ttu-id="e3120-145">Weitere Informationen finden Sie unter [Vorgehensweise: Anpassen der Darstellung von Zellen in der DataGridView-Steuerelement in Windows Forms](customize-the-appearance-of-cells-in-the-datagrid.md) und [Vorgehensweise: Festlegen von Standardzellenformaten für das Windows-DataGridView-Steuerelement Forms](how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span><span class="sxs-lookup"><span data-stu-id="e3120-145">For more information, see [How to: Customize the Appearance of Cells in the Windows Forms DataGridView Control](customize-the-appearance-of-cells-in-the-datagrid.md) and [How to: Set Default Cell Styles for the Windows Forms DataGridView Control](how-to-set-default-cell-styles-for-the-windows-forms-datagridview-control.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3120-146">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e3120-146">See also</span></span>

- <xref:System.Windows.Forms.DataGridView>
- <xref:System.Windows.Forms.BindingSource>
- [<span data-ttu-id="e3120-147">Anzeigen von Daten im DataGridView-Steuerelement in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="e3120-147">Displaying Data in the Windows Forms DataGridView Control</span></span>](displaying-data-in-the-windows-forms-datagridview-control.md)
- [<span data-ttu-id="e3120-148">Vorgehensweise: Erstellen Sie eine Master-/Detailformulars mit zwei DataGridView-Steuerelementen in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="e3120-148">How to: Create a Master/Detail Form Using Two Windows Forms DataGridView Controls</span></span>](create-a-master-detail-form-using-two-datagridviews.md)
- [<span data-ttu-id="e3120-149">Protecting Connection Information (Schützen von Verbindungsinformationen)</span><span class="sxs-lookup"><span data-stu-id="e3120-149">Protecting Connection Information</span></span>](../../data/adonet/protecting-connection-information.md)
