---
title: Weitere Überlegungen zur Sicherheit
ms.date: 03/30/2017
helpviewer_keywords:
- Windows Forms, secure calls to Windows API
- security [Windows Forms]
- security [Windows Forms], calling APIs
- Clipboard [Windows Forms], securing access
ms.assetid: 15abda8b-0527-47c7-aedb-77ab595f2bf1
ms.openlocfilehash: c8d51a57194f1dc536bc4b5d0376987dbfd3b2cf
ms.sourcegitcommit: de17a7a0a37042f0d4406f5ae5393531caeb25ba
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/24/2020
ms.locfileid: "76739810"
---
# <a name="additional-security-considerations-in-windows-forms"></a><span data-ttu-id="1ca0e-102">Weitere Überlegungen zur Sicherheit in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="1ca0e-102">Additional Security Considerations in Windows Forms</span></span>
<span data-ttu-id="1ca0e-103">.NET Framework Sicherheitseinstellungen können dazu führen, dass Ihre Anwendung in einer teilweise vertrauenswürdigen Umgebung anders als auf dem lokalen Computer ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-103">.NET Framework security settings might cause your application to run differently in a partial trust environment than on your local computer.</span></span> <span data-ttu-id="1ca0e-104">Der .NET Framework schränkt den Zugriff auf solche wichtigen lokalen Ressourcen wie das Dateisystem, das Netzwerk und nicht verwaltete APIs ein.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-104">The .NET Framework restricts access to such critical local resources as the file system, network, and unmanaged APIs, among other things.</span></span> <span data-ttu-id="1ca0e-105">Die Sicherheitseinstellungen wirken sich auf die Fähigkeit aus, die Microsoft Windows-API oder andere APIs aufzurufen, die vom Sicherheitssystem nicht verifiziert werden können.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-105">The security settings affect the ability to call the Microsoft Windows API or other APIs that cannot be verified by the security system.</span></span> <span data-ttu-id="1ca0e-106">Sicherheit wirkt sich auch auf andere Aspekte der Anwendung aus, einschließlich des Datei-und Datenzugriffs und des Druckens.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-106">Security also affects other aspects of your application, including file and data access, and printing.</span></span> <span data-ttu-id="1ca0e-107">Weitere Informationen zum Zugriff auf Dateien und Daten in einer teilweise vertrauenswürdigen Umgebung finden Sie unter [Mehr Sicherheit beim Datei- und Datenzugriff in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="1ca0e-107">For more information about file and data access in a partial trust environment, see [More Secure File and Data Access in Windows Forms](more-secure-file-and-data-access-in-windows-forms.md).</span></span> <span data-ttu-id="1ca0e-108">Weitere Informationen zum Drucken in einer teilweise vertrauenswürdigen Umgebung finden Sie unter [Mehr Sicherheit beim Drucken in Windows Forms](more-secure-printing-in-windows-forms.md).</span><span class="sxs-lookup"><span data-stu-id="1ca0e-108">For more information about printing in a partial trust environment, see [More Secure Printing in Windows Forms](more-secure-printing-in-windows-forms.md).</span></span>  
  
 <span data-ttu-id="1ca0e-109">In den folgenden Abschnitten wird erläutert, wie Sie mit der Zwischenablage arbeiten, Fenster Manipulationen durchführen und die Windows-API von Anwendungen aus abrufen, die in einer teilweise vertrauenswürdigen Umgebung ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-109">The following sections discuss how to work with the Clipboard, perform window manipulation, and call the Windows API from applications that are running in a partial trust environment.</span></span>  
  
## <a name="clipboard-access"></a><span data-ttu-id="1ca0e-110">Zugriff auf die Zwischenablage</span><span class="sxs-lookup"><span data-stu-id="1ca0e-110">Clipboard Access</span></span>  
 <span data-ttu-id="1ca0e-111">Die <xref:System.Security.Permissions.UIPermission>-Klasse steuert den Zugriff auf die Zwischenablage, und der zugeordnete <xref:System.Security.Permissions.UIPermissionClipboard> Enumerationswert gibt die Zugriffsebene an.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-111">The <xref:System.Security.Permissions.UIPermission> class controls access to the Clipboard, and the associated <xref:System.Security.Permissions.UIPermissionClipboard> enumeration value indicates the level of access.</span></span> <span data-ttu-id="1ca0e-112">Die folgende Tabelle enthält die möglichen Berechtigungsebenen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-112">The following table shows the possible permission levels.</span></span>  
  
|<span data-ttu-id="1ca0e-113">UIPermissionClipboard-Wert</span><span class="sxs-lookup"><span data-stu-id="1ca0e-113">UIPermissionClipboard value</span></span>|<span data-ttu-id="1ca0e-114">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="1ca0e-114">Description</span></span>|  
|---------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard>|<span data-ttu-id="1ca0e-115">Die Zwischenablage kann ohne Einschränkung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-115">The Clipboard can be used without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard>|<span data-ttu-id="1ca0e-116">Die Zwischenablage kann mit einigen Einschränkungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-116">The Clipboard can be used with some restrictions.</span></span> <span data-ttu-id="1ca0e-117">Die Möglichkeit zum Einfügen von Daten in der Zwischenablage (Befehlsvorgang „Kopieren“ oder „Ausschneiden“) ist nicht eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-117">The ability to put data on the Clipboard (Copy or Cut command operations) is unrestricted.</span></span> <span data-ttu-id="1ca0e-118">Systeminterne Steuerelemente, die das Einfügen zulassen (z.B. von einem Textfeld), können Daten aus der Zwischenablage annehmen, Benutzersteuerelemente jedoch können nicht programmgesteuert aus der Zwischenablage gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-118">Intrinsic controls that accept paste, such as a text box, can accept Clipboard data, but user controls cannot programmatically read from the Clipboard.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionClipboard.NoClipboard>|<span data-ttu-id="1ca0e-119">Die Zwischenablage kann nicht verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-119">The Clipboard cannot be used.</span></span>|  
  
 <span data-ttu-id="1ca0e-120">Standardmäßig erhält die lokale Intranetzone <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> Zugriff, und die Internet Zone erhält <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> Zugriff.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-120">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.AllClipboard> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionClipboard.OwnClipboard> access.</span></span> <span data-ttu-id="1ca0e-121">Dies bedeutet, dass die Anwendung zwar Daten in die Zwischenablage kopieren kann, sie kann jedoch keine Daten programmgesteuert in die Zwischenablage einfügen oder aus der Zwischenablage lesen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-121">This means that the application can copy data to the Clipboard, but the application cannot programmatically paste to or read from the Clipboard.</span></span> <span data-ttu-id="1ca0e-122">Diese Einschränkungen verhindern, dass Programme ohne volle Vertrauenswürdigkeit auf Inhalte, die von einer anderen Anwendung in die Zwischenablage kopiert wurden, gelesen werden können.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-122">These restrictions prevent programs without full trust from reading content copied to the Clipboard by another application.</span></span> <span data-ttu-id="1ca0e-123">Wenn Ihre Anwendung vollständigen Zugriff auf die Zwischenablage benötigt, aber Sie nicht über die Berechtigungen verfügen, müssen Sie die Berechtigungen für Ihre Anwendung erhöhen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-123">If your application requires full Clipboard access but you do not have the permissions, you will have to elevate the permissions for your application.</span></span> <span data-ttu-id="1ca0e-124">Weitere Informationen zum Erhöhen von Berechtigungen finden Sie unter [Allgemeine Verwaltung der Sicherheitsrichtlinien](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ca0e-124">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="window-manipulation"></a><span data-ttu-id="1ca0e-125">Fensterbearbeitung</span><span class="sxs-lookup"><span data-stu-id="1ca0e-125">Window Manipulation</span></span>  
 <span data-ttu-id="1ca0e-126">Die <xref:System.Security.Permissions.UIPermission>-Klasse steuert auch die Berechtigung zum Ausführen der Fenster Manipulation und anderer Benutzeroberflächen bezogener Aktionen, und der zugeordnete <xref:System.Security.Permissions.UIPermissionWindow> Enumerationswert gibt die Zugriffsebene an.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-126">The <xref:System.Security.Permissions.UIPermission> class also controls permission to perform window manipulation and other UI-related actions, and the associated <xref:System.Security.Permissions.UIPermissionWindow> enumeration value indicates the level of access.</span></span> <span data-ttu-id="1ca0e-127">Die folgende Tabelle enthält die möglichen Berechtigungsebenen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-127">The following table shows the possible permission levels.</span></span>  
  
 <span data-ttu-id="1ca0e-128">Standardmäßig erhält die lokale Intranetzone <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> Zugriff, und die Internet Zone erhält <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> Zugriff.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-128">By default, the Local Intranet zone receives <xref:System.Security.Permissions.UIPermissionWindow.AllWindows> access and the Internet zone receives <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> access.</span></span> <span data-ttu-id="1ca0e-129">Dies bedeutet, dass die Anwendung in der Internetzone die meisten Fenster- und Benutzeroberflächenaktionen ausführen kann, die Darstellung des Fensters jedoch wird geändert.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-129">This means that in the Internet zone, the application can perform most windowing and UI actions, but the window's appearance will be modified.</span></span> <span data-ttu-id="1ca0e-130">Das geänderte Fenster zeigt bei Erstausführung eine Sprechblase an, enthält geänderten Titelleistentext und erfordert die Schaltfläche „Schließen“ in der Titelleiste.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-130">The modified window displays a balloon notification when first run, contains modified title bar text, and requires a close button on the title bar.</span></span> <span data-ttu-id="1ca0e-131">Die Sprechblase und die Titelleiste zeigen dem Benutzer der Anwendung an, dass die Anwendung mit teilweiser Vertrauenswürdigkeit ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-131">The balloon notification and the title bar identify to the user of the application that the application is running under partial trust.</span></span>  
  
|<span data-ttu-id="1ca0e-132">UIPermissionWindow-Wert</span><span class="sxs-lookup"><span data-stu-id="1ca0e-132">UIPermissionWindow value</span></span>|<span data-ttu-id="1ca0e-133">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="1ca0e-133">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.Security.Permissions.UIPermissionWindow.AllWindows>|<span data-ttu-id="1ca0e-134">Benutzer können alle Fenster und Benutzereingabeereignisse uneingeschränkt verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-134">Users can use all windows and user input events without restriction.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>|<span data-ttu-id="1ca0e-135">Benutzer können nur sicherere übergeordnete und sicherere untergeordnete Fenster zum Zeichnen verwenden, und sie können nur Benutzereingabeereignisse in diesen über- und untergeordneten Fenstern für die Benutzeroberfläche verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-135">Users can use only safer top-level windows and safer subwindows for drawing, and can use only user input events for the user interface within those top-level windows and subwindows.</span></span> <span data-ttu-id="1ca0e-136">Diese Safer sind deutlich gekennzeichnet und weisen minimale und maximale Größenbeschränkungen auf.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-136">These safer windows are clearly labeled and have minimum and maximum size restrictions.</span></span> <span data-ttu-id="1ca0e-137">Die Einschränkungen verhindern potenziell schädliche Spoofingangriffe, z. b. das imitieren von System Anmelde Bildschirmen oder des System Desktops, und schränkt den programmgesteuerten Zugriff auf übergeordnete Fenster, Fokus bezogene APIs und die Verwendung des <xref:System.Windows.Forms.ToolTip> Steuer Elements ein.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-137">The restrictions prevent potentially harmful spoofing attacks, such as imitating system logon screens or the system desktop, and restricts programmatic access to parent windows, focus-related APIs, and use of the <xref:System.Windows.Forms.ToolTip> control,</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows>|<span data-ttu-id="1ca0e-138">Benutzer können nur sicherere untergeordnete Fenster zum Zeichnen verwenden, und sie können nur Benutzereingabeereignisse für die Benutzeroberfläche in diesem untergeordneten Fenster verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-138">Users can use only safer subwindows for drawing, and can use only user input events for the user interface within that subwindow.</span></span> <span data-ttu-id="1ca0e-139">Ein in einem Browser angezeigtes Steuerelement ist ein Beispiel für ein sichereres, untergeordnetes Fenster.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-139">A control displayed within a browser is an example of a safer subwindow.</span></span>|  
|<xref:System.Security.Permissions.UIPermissionWindow.NoWindows>|<span data-ttu-id="1ca0e-140">Benutzer können nicht willkürlich Fenster oder Benutzeroberflächenereignisse verwenden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-140">Users cannot use any windows or user interface events.</span></span> <span data-ttu-id="1ca0e-141">Es kann keine Benutzeroberfläche verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-141">No user interface can be used.</span></span>|  
  
 <span data-ttu-id="1ca0e-142">Jede Berechtigungsebene, die durch die <xref:System.Security.Permissions.UIPermissionWindow>-Enumeration identifiziert wird, lässt weniger Aktionen als die oben genannte Ebene zu.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-142">Each permission level identified by the <xref:System.Security.Permissions.UIPermissionWindow> enumeration allows fewer actions than the level above it.</span></span> <span data-ttu-id="1ca0e-143">Die folgenden Tabellen geben die Aktionen an, die durch die Werte <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> und <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> eingeschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-143">The following tables indicate the actions that are restricted by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> and <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> values.</span></span> <span data-ttu-id="1ca0e-144">Die genauen Berechtigungen, die für jedes Mitglied erforderlich sind, finden Sie im Verweis für das Mitglied in der Dokumentation zur .NET Framework-Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-144">For exact permissions that are required for each member, see the reference for that member in the .NET Framework class library documentation.</span></span>  
  
 <span data-ttu-id="1ca0e-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> Berechtigung schränkt die in der folgenden Tabelle aufgeführten Aktionen ein.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-145"><xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> permission restricts the actions listed in the following table.</span></span>  
  
|<span data-ttu-id="1ca0e-146">Komponente</span><span class="sxs-lookup"><span data-stu-id="1ca0e-146">Component</span></span>|<span data-ttu-id="1ca0e-147">Eingeschränkte Aktionen</span><span class="sxs-lookup"><span data-stu-id="1ca0e-147">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="1ca0e-148">– Festlegen der <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-148">-   Setting the <xref:System.Windows.Forms.Application.SafeTopLevelCaptionFormat%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="1ca0e-149">-Die <xref:System.Windows.Forms.Control.Parent%2A>-Eigenschaft wird erhalten.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-149">-   Getting the <xref:System.Windows.Forms.Control.Parent%2A> property.</span></span><br /><span data-ttu-id="1ca0e-150">– Festlegen der `Region`-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-150">-   Setting the `Region` property.</span></span><br /><span data-ttu-id="1ca0e-151">-Aufrufen der <xref:System.Windows.Forms.Control.FindForm%2A>-, <xref:System.Windows.Forms.Control.Focus%2A>-, <xref:System.Windows.Forms.Control.FromChildHandle%2A>-und <xref:System.Windows.Forms.Control.FromHandle%2A>-, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>-, <xref:System.Windows.Forms.Control.ReflectMessage%2A>-oder <xref:System.Windows.Forms.Control.SetTopLevel%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-151">-   Calling the <xref:System.Windows.Forms.Control.FindForm%2A> , <xref:System.Windows.Forms.Control.Focus%2A>, <xref:System.Windows.Forms.Control.FromChildHandle%2A> and <xref:System.Windows.Forms.Control.FromHandle%2A>, <xref:System.Windows.Forms.Control.PreProcessMessage%2A>, <xref:System.Windows.Forms.Control.ReflectMessage%2A>, or <xref:System.Windows.Forms.Control.SetTopLevel%2A> method.</span></span><br /><span data-ttu-id="1ca0e-152">-Aufrufen der <xref:System.Windows.Forms.Control.GetChildAtPoint%2A>-Methode, wenn das zurückgegebene Steuerelement kein untergeordnetes Element des aufrufenden Steuer Elements ist.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-152">-   Calling the <xref:System.Windows.Forms.Control.GetChildAtPoint%2A> method if the control returned is not a child of the calling control.</span></span><br /><span data-ttu-id="1ca0e-153">— Ändern des Steuerelementfokus innerhalb eines Containersteuerelements.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-153">-   Modify control focus inside a container control.</span></span>|  
|<xref:System.Windows.Forms.Cursor>|<span data-ttu-id="1ca0e-154">– Festlegen der <xref:System.Windows.Forms.Cursor.Clip%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-154">-   Setting the <xref:System.Windows.Forms.Cursor.Clip%2A> property.</span></span><br /><span data-ttu-id="1ca0e-155">-Aufrufen der <xref:System.Windows.Forms.Control.Hide%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-155">-   Calling the <xref:System.Windows.Forms.Control.Hide%2A> method.</span></span>|  
|<xref:System.Windows.Forms.DataGrid>|<span data-ttu-id="1ca0e-156">-Aufrufen der <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-156">-   Calling the <xref:System.Windows.Forms.ContainerControl.ProcessTabKey%2A> method.</span></span>|  
|<xref:System.Windows.Forms.Form>|<span data-ttu-id="1ca0e-157">-Die <xref:System.Windows.Forms.Form.ActiveForm%2A> oder <xref:System.Windows.Forms.Form.MdiParent%2A> Eigenschaft wird erhalten.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-157">-   Getting the <xref:System.Windows.Forms.Form.ActiveForm%2A> or <xref:System.Windows.Forms.Form.MdiParent%2A> property.</span></span><br /><span data-ttu-id="1ca0e-158">: Festlegen der <xref:System.Windows.Forms.Form.ControlBox%2A>-, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>-oder <xref:System.Windows.Forms.Form.TopMost%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-158">-   Setting the <xref:System.Windows.Forms.Form.ControlBox%2A>, <xref:System.Windows.Forms.Form.ShowInTaskbar%2A>, or <xref:System.Windows.Forms.Form.TopMost%2A> property.</span></span><br /><span data-ttu-id="1ca0e-159">-Die <xref:System.Windows.Forms.Form.Opacity%2A>-Eigenschaft wird unter 50% festgelegt.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-159">-   Setting the <xref:System.Windows.Forms.Form.Opacity%2A> property below 50%.</span></span><br /><span data-ttu-id="1ca0e-160">-Die <xref:System.Windows.Forms.Form.WindowState%2A>-Eigenschaft wird auf <xref:System.Windows.Forms.FormWindowState.Minimized> Programm gesteuert festgelegt.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-160">-   Setting the <xref:System.Windows.Forms.Form.WindowState%2A> property to <xref:System.Windows.Forms.FormWindowState.Minimized> programmatically.</span></span><br /><span data-ttu-id="1ca0e-161">-Aufrufen der <xref:System.Windows.Forms.Form.Activate%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-161">-   Calling the <xref:System.Windows.Forms.Form.Activate%2A> method.</span></span><br /><span data-ttu-id="1ca0e-162">-Verwenden der <xref:System.Windows.Forms.FormBorderStyle> Enumerationswerte <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>und <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow>.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-162">-   Using the <xref:System.Windows.Forms.FormBorderStyle.None>, <xref:System.Windows.Forms.FormBorderStyle.FixedToolWindow>, and <xref:System.Windows.Forms.FormBorderStyle.SizableToolWindow><xref:System.Windows.Forms.FormBorderStyle> enumeration values.</span></span>|  
|<xref:System.Windows.Forms.NotifyIcon>|<span data-ttu-id="1ca0e-163">-Die Verwendung der <xref:System.Windows.Forms.NotifyIcon> Komponente ist vollständig eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-163">-   Using the <xref:System.Windows.Forms.NotifyIcon> component is completely restricted.</span></span>|  
  
 <span data-ttu-id="1ca0e-164">Der Wert <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> schränkt die in der folgenden Tabelle aufgeführten Aktionen ein, zusätzlich zu den Einschränkungen, die durch den <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows>-Wert auferlegt werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-164">The <xref:System.Security.Permissions.UIPermissionWindow.SafeSubWindows> value restricts the actions listed in the following table, in addition to the restrictions placed by the <xref:System.Security.Permissions.UIPermissionWindow.SafeTopLevelWindows> value.</span></span>  
  
|<span data-ttu-id="1ca0e-165">Komponente</span><span class="sxs-lookup"><span data-stu-id="1ca0e-165">Component</span></span>|<span data-ttu-id="1ca0e-166">Eingeschränkte Aktionen</span><span class="sxs-lookup"><span data-stu-id="1ca0e-166">Restricted actions</span></span>|  
|---------------|------------------------|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="1ca0e-167">-Ein von der <xref:System.Windows.Forms.CommonDialog>-Klasse abgeleitetes Dialogfeld wird angezeigt.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-167">-   Showing a dialog box derived from the <xref:System.Windows.Forms.CommonDialog> class.</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="1ca0e-168">-Aufrufen der <xref:System.Windows.Forms.Control.CreateGraphics%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-168">-   Calling the <xref:System.Windows.Forms.Control.CreateGraphics%2A> method.</span></span><br /><span data-ttu-id="1ca0e-169">– Festlegen der <xref:System.Windows.Forms.Control.Cursor%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-169">-   Setting the <xref:System.Windows.Forms.Control.Cursor%2A> property.</span></span>|  
|<xref:System.Windows.Forms.Control.Cursor%2A>|<span data-ttu-id="1ca0e-170">– Festlegen der <xref:System.Windows.Forms.Cursor.Current%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-170">-   Setting the <xref:System.Windows.Forms.Cursor.Current%2A> property.</span></span>|  
|<xref:System.Windows.Forms.MessageBox>|<span data-ttu-id="1ca0e-171">-Aufrufen der <xref:System.Windows.Forms.Form.Show%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-171">-   Calling the <xref:System.Windows.Forms.Form.Show%2A> method.</span></span>|  
  
### <a name="hosting-third-party-controls"></a><span data-ttu-id="1ca0e-172">Hosten von Steuerelementen von Drittanbietern</span><span class="sxs-lookup"><span data-stu-id="1ca0e-172">Hosting Third-Party Controls</span></span>  
 <span data-ttu-id="1ca0e-173">Eine andere Art von Fensterbearbeitung kann auftreten, wenn in Ihren Formularen Steuerelemente von Drittanbietern gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-173">Another kind of window manipulation can occur if your forms host third-party controls.</span></span> <span data-ttu-id="1ca0e-174">Ein Steuerelement eines Drittanbieters ist ein beliebiges benutzerdefiniertes <xref:System.Windows.Forms.UserControl>, das Sie nicht selbst entwickelt und kompiliert haben.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-174">A third-party control is any custom <xref:System.Windows.Forms.UserControl> that you have not developed and compiled yourself.</span></span> <span data-ttu-id="1ca0e-175">Obwohl das Hostingszenario nur schwer nutzbar ist, kann das Steuerelement eines Drittanbieters theoretisch seine Renderingoberfläche über den gesamten Bereich Ihres Formulars erweitern.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-175">Although the hosting scenario is hard to exploit, it is theoretically possible for a third-party control to expand its rendering surface to cover the entire area of your form.</span></span> <span data-ttu-id="1ca0e-176">Dieses Steuerelement könnte dann ein wichtiges Dialogfeld imitieren und Informationen wie Kombinationen aus Benutzername und Kennwort oder Bankkontonummern von Benutzern anfordern.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-176">This control could then mimic a critical dialog box, and request information such as username/password combinations or bank account numbers from your users.</span></span>  
  
 <span data-ttu-id="1ca0e-177">Verwenden Sie zur Einschränkung dieses möglichen Risikos Steuerelemente von Drittanbietern nur von Anbietern, denen Sie vertrauen können.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-177">To limit this potential risk, use third-party controls only from vendors you can trust.</span></span> <span data-ttu-id="1ca0e-178">Wenn Sie Steuerelemente von Drittanbietern verwenden, die Sie von einer nicht überprüfbaren Quelle heruntergeladen haben, wird empfohlen, dass Sie den Quellcode auf mögliche Exploits überprüfen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-178">If you use third-party controls you have downloaded from an unverifiable source, we recommend that you review the source code for potential exploits.</span></span> <span data-ttu-id="1ca0e-179">Nachdem Sie sichergestellt haben, dass die Quelle nicht bösartig ist, sollten Sie die Assembly selbst kompilieren, um sicherzustellen, dass die Quelle der Assembly entspricht.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-179">After you've verified that the source is non-malicious, you should compile the assembly yourself to ensure that the source matches the assembly.</span></span>  
  
## <a name="windows-api-calls"></a><span data-ttu-id="1ca0e-180">Windows-API-Aufrufe</span><span class="sxs-lookup"><span data-stu-id="1ca0e-180">Windows API Calls</span></span>  
 <span data-ttu-id="1ca0e-181">Wenn ihr Anwendungs Entwurf erfordert, dass eine Funktion von der Windows-API aufgerufen wird, greifen Sie auf nicht verwalteten Code zu.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-181">If your application design requires calling a function from the Windows API, you are accessing unmanaged code.</span></span> <span data-ttu-id="1ca0e-182">In diesem Fall können die Aktionen des Codes für das Fenster oder das Betriebssystem nicht bestimmt werden, wenn Sie mit Windows-API-aufrufen oder-Werten arbeiten.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-182">In this case the code's actions to the window or operating system cannot be determined when you are working with Windows API calls or values.</span></span> <span data-ttu-id="1ca0e-183">Die <xref:System.Security.Permissions.SecurityPermission>-Klasse und der <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> Wert der <xref:System.Security.Permissions.SecurityPermissionFlag>-Enumeration steuern den Zugriff auf nicht verwalteten Code.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-183">The <xref:System.Security.Permissions.SecurityPermission> class and the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> value of the <xref:System.Security.Permissions.SecurityPermissionFlag> enumeration control access to unmanaged code.</span></span> <span data-ttu-id="1ca0e-184">Eine Anwendung kann nur auf nicht verwalteten Code zugreifen, wenn ihr die <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> Berechtigung gewährt wird.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-184">An application can access unmanaged code only when it is granted the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="1ca0e-185">Standardmäßig können nur lokal ausgeführte Anwendungen den nicht verwalteten Code aufrufen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-185">By default, only applications that are running locally can call unmanaged code.</span></span>  
  
 <span data-ttu-id="1ca0e-186">Einige Windows Forms Mitglieder bieten nicht verwalteten Zugriff, der die <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>-Berechtigung erfordert.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-186">Some Windows Forms members provide unmanaged access that requires the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission.</span></span> <span data-ttu-id="1ca0e-187">In der folgenden Tabelle werden die Elemente im <xref:System.Windows.Forms>-Namespace aufgelistet, die die-Berechtigung erfordern.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-187">The following table lists the members in the <xref:System.Windows.Forms> namespace that require the permission.</span></span> <span data-ttu-id="1ca0e-188">Weitere Informationen zu den Berechtigungen, die für ein Member erforderlich sind, finden Sie in der Dokumentation zur .NET Framework-Klassenbibliothek.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-188">For more information about the permissions that are required for a member, see the .NET Framework class library documentation.</span></span>  
  
|<span data-ttu-id="1ca0e-189">Komponente</span><span class="sxs-lookup"><span data-stu-id="1ca0e-189">Component</span></span>|<span data-ttu-id="1ca0e-190">Member</span><span class="sxs-lookup"><span data-stu-id="1ca0e-190">Member</span></span>|  
|---------------|------------|  
|<xref:System.Windows.Forms.Application>|<span data-ttu-id="1ca0e-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-191">-   <xref:System.Windows.Forms.Application.AddMessageFilter%2A> method</span></span><br /><span data-ttu-id="1ca0e-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A>-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="1ca0e-192">-   <xref:System.Windows.Forms.Application.CurrentInputLanguage%2A> property</span></span><br /><span data-ttu-id="1ca0e-193">-   `Exit` Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-193">-   `Exit` method</span></span><br /><span data-ttu-id="1ca0e-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-194">-   <xref:System.Windows.Forms.Application.ExitThread%2A> method</span></span><br /><span data-ttu-id="1ca0e-195">-   <xref:System.Windows.Forms.Application.ThreadException>-Ereignis</span><span class="sxs-lookup"><span data-stu-id="1ca0e-195">-   <xref:System.Windows.Forms.Application.ThreadException> event</span></span>|  
|<xref:System.Windows.Forms.CommonDialog>|<span data-ttu-id="1ca0e-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-196">-   <xref:System.Windows.Forms.CommonDialog.HookProc%2A> method</span></span><br /><span data-ttu-id="1ca0e-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\-Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-197">-   <xref:System.Windows.Forms.CommonDialog.OwnerWndProc%2A>\ method</span></span><br /><span data-ttu-id="1ca0e-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-198">-   <xref:System.Windows.Forms.CommonDialog.Reset%2A> method</span></span><br /><span data-ttu-id="1ca0e-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-199">-   <xref:System.Windows.Forms.CommonDialog.RunDialog%2A> method</span></span>|  
|<xref:System.Windows.Forms.Control>|<span data-ttu-id="1ca0e-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-200">-   <xref:System.Windows.Forms.Control.CreateParams%2A> method</span></span><br /><span data-ttu-id="1ca0e-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-201">-   <xref:System.Windows.Forms.Control.DefWndProc%2A> method</span></span><br /><span data-ttu-id="1ca0e-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-202">-   <xref:System.Windows.Forms.Control.DestroyHandle%2A> method</span></span><br /><span data-ttu-id="1ca0e-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-203">-   <xref:System.Windows.Forms.Control.WndProc%2A> method</span></span>|  
|<xref:System.Windows.Forms.Help>|<span data-ttu-id="1ca0e-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> Methoden</span><span class="sxs-lookup"><span data-stu-id="1ca0e-204">-   <xref:System.Windows.Forms.Help.ShowHelp%2A> methods</span></span><br /><span data-ttu-id="1ca0e-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-205">-   <xref:System.Windows.Forms.Help.ShowHelpIndex%2A> method</span></span>|  
|<xref:System.Windows.Forms.NativeWindow>|<span data-ttu-id="1ca0e-206">-   <xref:System.Windows.Forms.NativeWindow> Klasse</span><span class="sxs-lookup"><span data-stu-id="1ca0e-206">-   <xref:System.Windows.Forms.NativeWindow> class</span></span>|  
|<xref:System.Windows.Forms.Screen>|<span data-ttu-id="1ca0e-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-207">-   <xref:System.Windows.Forms.Screen.FromHandle%2A> method</span></span>|  
|<xref:System.Windows.Forms.SendKeys>|<span data-ttu-id="1ca0e-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-208">-   <xref:System.Windows.Forms.SendKeys.Send%2A> method</span></span><br /><span data-ttu-id="1ca0e-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> Methode</span><span class="sxs-lookup"><span data-stu-id="1ca0e-209">-   <xref:System.Windows.Forms.SendKeys.SendWait%2A> method</span></span>|  
  
 <span data-ttu-id="1ca0e-210">Wenn Ihre Anwendung nicht über die Berechtigung zum Aufrufen von nicht verwaltetem Code verfügt, muss Ihre Anwendung <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> Berechtigung anfordern, oder Sie müssen alternative Methoden zum Implementieren von Features in Erwägung gezogen werden. in vielen Fällen bietet Windows Forms eine verwaltete Alternative zu Windows-API-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-210">If your application does not have permission to call unmanaged code, your application must request <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> permission, or you must consider alternative ways of implementing features; in many cases, Windows Forms provides a managed alternative to Windows API functions.</span></span> <span data-ttu-id="1ca0e-211">Wenn keine Alternativen vorhanden sind und die Anwendung auf einen nicht verwalteten Code zugreifen muss, müssen Sie die Berechtigungen für die Anwendung erhöhen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-211">If no alternative means exist and the application must access unmanaged code, you will have to elevate the permissions for the application.</span></span>  
  
 <span data-ttu-id="1ca0e-212">Mit der Berechtigung zum Aufrufen eines nicht verwalteten Codes kann eine Anwendung nahezu jede Aktion ausführen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-212">Permission to call unmanaged code allows an application to perform most anything.</span></span> <span data-ttu-id="1ca0e-213">Aus diesem Grund sollte die Berechtigung zum Aufrufen eines nicht verwalteten Codes nur für Anwendungen erteilt werden, die aus einer vertrauenswürdigen Quelle stammen.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-213">Therefore, permission to call unmanaged code should only be granted for applications that come from a trusted source.</span></span> <span data-ttu-id="1ca0e-214">Alternativ, abhängig von der Anwendung, könnte der Teil der Anwendungsfunktionalität, über den der nicht verwaltete Code aufgerufen wird, optional sein oder nur in einer vollständig vertrauenswürdigen Umgebung aktiviert werden.</span><span class="sxs-lookup"><span data-stu-id="1ca0e-214">Alternatively, depending on the application, the piece of application functionality that makes the call to unmanaged code could be optional, or enabled in the full trust environment only.</span></span> <span data-ttu-id="1ca0e-215">Weitere Informationen zu problematischen Berechtigungen finden Sie unter [Problematische Berechtigungen und Richtlinienverwaltung](../misc/dangerous-permissions-and-policy-administration.md).</span><span class="sxs-lookup"><span data-stu-id="1ca0e-215">For more information about dangerous permissions, see [Dangerous Permissions and Policy Administration](../misc/dangerous-permissions-and-policy-administration.md).</span></span> <span data-ttu-id="1ca0e-216">Weitere Informationen zum Erhöhen von Berechtigungen finden Sie unter [Allgemeine Verwaltung der Sicherheitsrichtlinien](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1ca0e-216">For more information about elevating permissions, see [General Security Policy Administration](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ed5htz45(v=vs.100)).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1ca0e-217">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="1ca0e-217">See also</span></span>

- [<span data-ttu-id="1ca0e-218">Mehr Sicherheit beim Datei- und Datenzugriff in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="1ca0e-218">More Secure File and Data Access in Windows Forms</span></span>](more-secure-file-and-data-access-in-windows-forms.md)
- [<span data-ttu-id="1ca0e-219">Mehr Sicherheit beim Drucken in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="1ca0e-219">More Secure Printing in Windows Forms</span></span>](more-secure-printing-in-windows-forms.md)
- [<span data-ttu-id="1ca0e-220">Übersicht über die Sicherheit in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="1ca0e-220">Security in Windows Forms Overview</span></span>](security-in-windows-forms-overview.md)
- [<span data-ttu-id="1ca0e-221">Sicherheit in Windows Forms</span><span class="sxs-lookup"><span data-stu-id="1ca0e-221">Windows Forms Security</span></span>](windows-forms-security.md)
- [<span data-ttu-id="1ca0e-222">Sichern von ClickOnce-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="1ca0e-222">Securing ClickOnce Applications</span></span>](/visualstudio/deployment/securing-clickonce-applications)
