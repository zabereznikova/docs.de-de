---
title: Erstellen von Satellitenassemblys für Desktop-Apps
description: Hier erhalten Sie Informationen für das Erstellen von Satellitenassemblys für Desktop-Apps. Eine Satellitenassembly kann einfach aktualisiert oder ersetzt werden, um lokalisierte Ressourcen bereitzustellen.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- deploying applications [.NET Framework], resources
- resource files, deploying
- hub-and-spoke resource deployment model
- resource files, packaging
- application resources, packaging
- public keys, obtaining
- satellite assemblies
- assemblies [.NET Framework], signing
- application resources, deploying
- Al.exe
- GAC (global assembly cache), satellite assemblies
- Assembly Linker
- directory locations for satellite assemblies
- global assembly cache, satellite assemblies
- packaging application resources
- compiling satellite assemblies
- re-signing assemblies
ms.assetid: 8d5c6044-2919-41d2-8321-274706b295ac
ms.openlocfilehash: be6603f3a593d9756d55204024214660b2220af3
ms.sourcegitcommit: 87cfeb69226fef01acb17c56c86f978f4f4a13db
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 07/24/2020
ms.locfileid: "87166207"
---
# <a name="creating-satellite-assemblies-for-desktop-apps"></a><span data-ttu-id="e3746-104">Erstellen von Satellitenassemblys für Desktop-Apps</span><span class="sxs-lookup"><span data-stu-id="e3746-104">Creating Satellite Assemblies for Desktop Apps</span></span>

<span data-ttu-id="e3746-105">Ressourcendatei spielen eine tragende Rolle in lokalisierten Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="e3746-105">Resource files play a central role in localized applications.</span></span> <span data-ttu-id="e3746-106">Durch sie kann eine Anwendung Zeichenfolgen, Images und andere Daten in der Sprache und Kultur des Benutzers anzeigen und alternative Daten bereitstellen, wenn keine Ressourcen für die Sprache oder Kultur des Benutzers verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="e3746-106">They enable an application to display strings, images, and other data in the user's own language and culture, and to provide alternate data if resources for the user's own language or culture are unavailable.</span></span> <span data-ttu-id="e3746-107">.NET Framework verwendet ein Speichenarchitekturmodell (Hub and Spoke), um lokalisierte Ressourcen zu finden und aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="e3746-107">The .NET Framework uses a hub-and-spoke model to locate and retrieve localized resources.</span></span> <span data-ttu-id="e3746-108">Der Hub ist die Hauptassembly, die den nicht lokalisierbaren, ausführbaren Code und die Ressourcen für eine einzelne Kultur enthält, die als neutrale oder Standardkultur bezeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="e3746-108">The hub is the main assembly that contains the non-localizable executable code and the resources for a single culture, which is called the neutral or default culture.</span></span> <span data-ttu-id="e3746-109">Die Standardkultur ist die Ausweichkultur der Anwendung. Dabei handelt es sich um die Kultur, die verwendet wird, wenn keine lokalisierten Ressourcen verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="e3746-109">The default culture is the fallback culture for the application; it is used when no localized resources are available.</span></span> <span data-ttu-id="e3746-110">Sie verwenden das <xref:System.Resources.NeutralResourcesLanguageAttribute>-Attribut, um die Standardkultur der Anwendung festzulegen.</span><span class="sxs-lookup"><span data-stu-id="e3746-110">You use the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute to designate the culture of the application's default culture.</span></span> <span data-ttu-id="e3746-111">Jede Speiche ist mit einer Satellitenassembly verbunden, die die Ressourcen für eine einzelne lokalisierte Kultur aber keinen Code enthält.</span><span class="sxs-lookup"><span data-stu-id="e3746-111">Each spoke connects to a satellite assembly that contains the resources for a single localized culture but does not contain any code.</span></span> <span data-ttu-id="e3746-112">Da die Satellitenassemblys kein Teil der Hauptassembly sind, können Sie die Ressourcen problemlos entsprechend einer bestimmten Kultur ersetzen oder aktualisieren, ohne die Hauptassembly der App ersetzen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="e3746-112">Because the satellite assemblies are not part of the main assembly, you can easily update or replace resources that correspond to a specific culture without replacing the main assembly for the application.</span></span>

> [!NOTE]
> <span data-ttu-id="e3746-113">Die Ressourcen der Standardkultur einer Anwendung können auch in einer Satellitenassembly gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-113">The resources of an application's default culture can also be stored in a satellite assembly.</span></span> <span data-ttu-id="e3746-114">Dazu weisen Sie dem <xref:System.Resources.NeutralResourcesLanguageAttribute>-Attribut eine Wert von <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType> zu.</span><span class="sxs-lookup"><span data-stu-id="e3746-114">To do this, you assign the <xref:System.Resources.NeutralResourcesLanguageAttribute> attribute a value of <xref:System.Resources.UltimateResourceFallbackLocation.Satellite?displayProperty=nameWithType>.</span></span>

## <a name="satellite-assembly-name-and-location"></a><span data-ttu-id="e3746-115">Name und Speicherort einer Satellitenassembly</span><span class="sxs-lookup"><span data-stu-id="e3746-115">Satellite Assembly Name and Location</span></span>

<span data-ttu-id="e3746-116">Das Speichenarchitekturmodell erfordert, dass Sie Ressourcen an bestimmten Speicherorten speichern, damit Sie leicht gefunden und verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="e3746-116">The hub-and-spoke model requires that you place resources in specific locations so that they can be easily located and used.</span></span> <span data-ttu-id="e3746-117">Wenn Sie Ressourcen nicht wie erwartet kompilieren und benennen, oder wenn Sie sie nicht am richtigen Speicherort speichern, kann die Common Language Runtime diese nicht finden und verwendet stattdessen die Ressourcen der Standardkultur.</span><span class="sxs-lookup"><span data-stu-id="e3746-117">If you do not compile and name resources as expected, or if you do not place them in the correct locations, the common language runtime will not be able to locate them and will use the resources of the default culture instead.</span></span> <span data-ttu-id="e3746-118">Der Ressourcen-Manager von .NET Framework, der vom <xref:System.Resources.ResourceManager>-Objekt dargestellt wird, wird verwendet, um automatisch auf lokalisierte Ressourcen zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="e3746-118">The .NET Framework Resource Manager, represented by a <xref:System.Resources.ResourceManager> object, is used to automatically access localized resources.</span></span> <span data-ttu-id="e3746-119">Der Ressourcen-Manager hat folgende Anforderungen:</span><span class="sxs-lookup"><span data-stu-id="e3746-119">The Resource Manager requires the following:</span></span>

- <span data-ttu-id="e3746-120">Eine einzelne Satellitenassembly muss alle Ressourcen für eine bestimmte Kultur enthalten.</span><span class="sxs-lookup"><span data-stu-id="e3746-120">A single satellite assembly must include all the resources for a particular culture.</span></span> <span data-ttu-id="e3746-121">Dies bedeutet, dass Sie mehrere *TXT-* oder *RESX*-Dateien in eine einzelne *RESOURCES*-Binärdatei kompilieren sollten.</span><span class="sxs-lookup"><span data-stu-id="e3746-121">In other words, you should compile multiple *.txt* or *.resx* files into a single binary *.resources* file.</span></span>

- <span data-ttu-id="e3746-122">Das Anwendungsverzeichnis muss ein separates Unterverzeichnis für jede lokalisierte Kultur haben, in dem die Kulturressourcen gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="e3746-122">There must be a separate subdirectory in the application directory for each localized culture that stores that culture's resources.</span></span> <span data-ttu-id="e3746-123">Der Name des Unterverzeichnisses muss dem Namen der Kultur entsprechen.</span><span class="sxs-lookup"><span data-stu-id="e3746-123">The subdirectory name must be the same as the culture name.</span></span> <span data-ttu-id="e3746-124">Alternativ können Sie Ihre Satellitenassemblys im globalen Assemblycache (GAC) speichern.</span><span class="sxs-lookup"><span data-stu-id="e3746-124">Alternately, you can store your satellite assemblies in the global assembly cache.</span></span> <span data-ttu-id="e3746-125">In diesem Fall muss die Kulturinformationskomponente des starken Namens der Assembly deren Kultur angeben.</span><span class="sxs-lookup"><span data-stu-id="e3746-125">In this case, the culture information component of the assembly's strong name must indicate its culture.</span></span> <span data-ttu-id="e3746-126">(Weitere Informationen finden Sie im Abschnitt [Installieren von Satellitenassemblys im globalen Assemblycache](#SN) weiter unten in diesem Thema.)</span><span class="sxs-lookup"><span data-stu-id="e3746-126">(See the [Installing Satellite Assemblies in the Global Assembly Cache](#SN) section later in this topic.)</span></span>

  > [!NOTE]
  > <span data-ttu-id="e3746-127">Wenn Ihre Anwendung Ressourcen für Subkulturen enthält, platzieren Sie jede Subkultur in separaten Unterverzeichnisse im Anwendungsverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="e3746-127">If your application includes resources for subcultures, place each subculture in a separate subdirectory under the application directory.</span></span> <span data-ttu-id="e3746-128">Platzieren Sie Subkulturen nicht in Unterverzeichnis im Hauptkulturverzeichnis.</span><span class="sxs-lookup"><span data-stu-id="e3746-128">Do not place subcultures in subdirectories under their main culture's directory.</span></span>

- <span data-ttu-id="e3746-129">Die Satellitenassembly muss den gleichen Namen wie die Anwendung haben und muss das Suffix „.resources.dll“ verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3746-129">The satellite assembly must have the same name as the application, and must use the file name extension ".resources.dll".</span></span> <span data-ttu-id="e3746-130">Wenn eine Anwendung z. B. *Example.exe* heißt, sollte der Name jeder Satellitenassembly *Example.resources.dll* sein.</span><span class="sxs-lookup"><span data-stu-id="e3746-130">For example, if an application is named *Example.exe*, the name of each satellite assembly should be *Example.resources.dll*.</span></span> <span data-ttu-id="e3746-131">Beachten Sie, dass der Name der Satellitenassembly nicht die Kultur seiner Ressourcendatei angibt.</span><span class="sxs-lookup"><span data-stu-id="e3746-131">Note that the satellite assembly name does not indicate the culture of its resource files.</span></span> <span data-ttu-id="e3746-132">Die Satellitenassembly wird aber in einem Verzeichnis angezeigt, das die Kultur angibt.</span><span class="sxs-lookup"><span data-stu-id="e3746-132">However, the satellite assembly appears in a directory that does specify the culture.</span></span>

- <span data-ttu-id="e3746-133">Informationen zur Kultur der Satellitenassembly müssen in den Metadaten der Assembly enthalten sein.</span><span class="sxs-lookup"><span data-stu-id="e3746-133">Information about the culture of the satellite assembly must be included in the assembly's metadata.</span></span> <span data-ttu-id="e3746-134">Um den Namen der Kultur in den Assemblymetadaten zu speichern, geben Sie die `/culture`-Option an, wenn Sie den [Assembly Linker](../tools/al-exe-assembly-linker.md) verwenden, um Ressourcen in die Satellitenassembly einzubetten.</span><span class="sxs-lookup"><span data-stu-id="e3746-134">To store the culture name in the satellite assembly's metadata, you specify the `/culture` option when you use [Assembly Linker](../tools/al-exe-assembly-linker.md) to embed resources in the satellite assembly.</span></span>

<span data-ttu-id="e3746-135">Die folgende Abbildung zeigt eine beispielhafte Verzeichnisstruktur und Speicherortanforderungen für Anwendungen, die nicht im [globalen Assemblycache](../app-domains/gac.md) installiert sind.</span><span class="sxs-lookup"><span data-stu-id="e3746-135">The following illustration shows a sample directory structure and location requirements for applications that you are not installing in the [global assembly cache](../app-domains/gac.md).</span></span> <span data-ttu-id="e3746-136">Die Elemente mit TXT- und RESOURCES-Suffixen werden nicht mit der fertigen Anwendung geliefert.</span><span class="sxs-lookup"><span data-stu-id="e3746-136">The items with .txt and .resources extensions will not ship with the final application.</span></span> <span data-ttu-id="e3746-137">Dabei handelt es sich nur um die vorläufigen Ressourcendateien, die dazu verwendet werden, die endgültigen Ressourcensatellitenassemblys zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3746-137">These are the intermediate resource files used to create the final satellite resource assemblies.</span></span> <span data-ttu-id="e3746-138">In diesem Beispiel sollten Sie TXT-Dateien durch RESX-Dateien ersetzen.</span><span class="sxs-lookup"><span data-stu-id="e3746-138">In this example, you could substitute .resx files for the .txt files.</span></span> <span data-ttu-id="e3746-139">Weitere Informationen finden Sie unter [Verpacken und Bereitstellen von Ressourcen](packaging-and-deploying-resources-in-desktop-apps.md).</span><span class="sxs-lookup"><span data-stu-id="e3746-139">For more information, see [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md).</span></span>

<span data-ttu-id="e3746-140">Die folgende Abbildung zeigt die Satellitenassemblyverzeichnis:</span><span class="sxs-lookup"><span data-stu-id="e3746-140">The following image shows the satellite assembly directory:</span></span>

![Eine Satellitenassemblyverzeichnis mit Unterverzeichnissen mit lokalisierten Kulturen.](./media/creating-satellite-assemblies-for-desktop-apps/satellite-assembly-directory.gif)

## <a name="compiling-satellite-assemblies"></a><span data-ttu-id="e3746-142">Kompilieren von Satellitenassemblys</span><span class="sxs-lookup"><span data-stu-id="e3746-142">Compiling Satellite Assemblies</span></span>

<span data-ttu-id="e3746-143">Kompilieren Sie mit dem Tool [Resources File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) Text- oder XML-Dateien (.*resx*), die Ressourcen enthalten, in *RESOURCES*-Binärdateien.</span><span class="sxs-lookup"><span data-stu-id="e3746-143">You use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to compile text files or XML (*.resx*) files that contain resources to binary *.resources* files.</span></span> <span data-ttu-id="e3746-144">Anschließend verwenden Sie das Tool [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md), um *RESOURCES*-Dateien in Satellitenassemblys zu kompilieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-144">You then use [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile *.resources* files into satellite assemblies.</span></span> <span data-ttu-id="e3746-145">*Al.exe* erstellt eine Assembly aus den von Ihnen angegebenen *RESOURCES*-Dateien.</span><span class="sxs-lookup"><span data-stu-id="e3746-145">*Al.exe* creates an assembly from the *.resources* files that you specify.</span></span> <span data-ttu-id="e3746-146">Satellitenassemblys können nur Ressourcen enthalten. Sie können keinen ausführbaren Code enthalten.</span><span class="sxs-lookup"><span data-stu-id="e3746-146">Satellite assemblies can contain only resources; they cannot contain any executable code.</span></span>

<span data-ttu-id="e3746-147">Durch den folgenden Befehl von *Al.exe* wird eine Satellitenassembly für die Anwendung `Example` aus der deutschen Ressourcendatei *strings.de.resources* erstellt.</span><span class="sxs-lookup"><span data-stu-id="e3746-147">The following *Al.exe* command creates a satellite assembly for the application `Example` from the German resources file *strings.de.resources*.</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll
```

<span data-ttu-id="e3746-148">Durch den folgenden Befehl von *Al.exe* wird ebenfalls eine Satellitenassembly für die Anwendung `Example` aus der Datei *strings.de.resources* erstellt.</span><span class="sxs-lookup"><span data-stu-id="e3746-148">The following *Al.exe* command also creates a satellite assembly for the application `Example` from the file *strings.de.resources*.</span></span> <span data-ttu-id="e3746-149">Die Option **/template** führt dazu, dass die Satellitenassembly alle Assemblymetadaten erbt. Davon ausgenommen ist die Kulturinformation der übergeordneten Assembly (*Example.dll*).</span><span class="sxs-lookup"><span data-stu-id="e3746-149">The **/template** option causes the satellite assembly to inherit all assembly metadata except for its culture information from the parent assembly (*Example.dll*).</span></span>

```console
al -target:lib -embed:strings.de.resources -culture:de -out:Example.resources.dll -template:Example.dll
```  
  
<span data-ttu-id="e3746-150">In der folgenden Tabelle werden die Optionen von *Al.exe* ausführlicher beschrieben, die in diesen Befehlen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-150">The following table describes the *Al.exe* options used in these commands in more detail:</span></span>
  
|<span data-ttu-id="e3746-151">Option</span><span class="sxs-lookup"><span data-stu-id="e3746-151">Option</span></span>|<span data-ttu-id="e3746-152">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="e3746-152">Description</span></span>|
|------------|-----------------|
|`-target:lib`|<span data-ttu-id="e3746-153">Gibt an, dass Ihre Satellitenassembly in einer Bibliotheksdatei (.dll) kompiliert ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-153">Specifies that your satellite assembly is compiled to a library (.dll) file.</span></span> <span data-ttu-id="e3746-154">Da eine Satellitenassembly keinen ausführbaren Code enthält und nicht die Hauptassembly einer Anwendung ist, müssen Sie Satellitenassemblys als DLLs speichern.</span><span class="sxs-lookup"><span data-stu-id="e3746-154">Because a satellite assembly does not contain executable code and is not an application's main assembly, you must save satellite assemblies as DLLs.</span></span>|
|`-embed:strings.de.resources`|<span data-ttu-id="e3746-155">Gibt den Namen der einzubettenden Ressourcendatei an, wenn *Al.exe* die Assembly kompiliert.</span><span class="sxs-lookup"><span data-stu-id="e3746-155">Specifies the name of the resource file to embed when *Al.exe* compiles the assembly.</span></span> <span data-ttu-id="e3746-156">Sie können mehrere RESOURCEN-Dateien in einer Satellitenassembly einbetten. Wenn Sie allerdings das Speichenarchitekturmodell einsetzen, müssen Sie eine Satellitenassembly für jede Kultur kompilieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-156">You can embed multiple .resources files in a satellite assembly, but if you are following the hub-and-spoke model, you must compile one satellite assembly for each culture.</span></span> <span data-ttu-id="e3746-157">Sie können allerdings separate RESOURCES-Dateien für Zeichenfolgen und Objekte erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3746-157">However, you can create separate .resources files for strings and objects.</span></span>|
|`-culture:de`|<span data-ttu-id="e3746-158">Gibt die Kultur der zu kompilierenden Datei an.</span><span class="sxs-lookup"><span data-stu-id="e3746-158">Specifies the culture of the resource to compile.</span></span> <span data-ttu-id="e3746-159">Die Common Language Runtime verwendet diese Information beim Suchen nach Ressourcen für eine angegebene Kultur.</span><span class="sxs-lookup"><span data-stu-id="e3746-159">The common language runtime uses this information when it searches for the resources for a specified culture.</span></span> <span data-ttu-id="e3746-160">Wenn Sie diese Option weglassen, kompiliert *Al.exe* die Ressource zwar, die Runtime kann diese jedoch nicht finden, wenn sie von einem Benutzer angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-160">If you omit this option, *Al.exe* will still compile the resource, but the runtime will not be able to find it when a user requests it.</span></span>|
|`-out:Example.resources.dll`|<span data-ttu-id="e3746-161">Gibt den Namen der Ausgabedatei an.</span><span class="sxs-lookup"><span data-stu-id="e3746-161">Specifies the name of the output file.</span></span> <span data-ttu-id="e3746-162">Der Name muss dem Benennungsstandard *basisname*.resources.*dateiendung* entsprechen, wobei *basisname* der Name der Hauptassembly ist und *dateiendung* ein gültiges Suffix (wie z.B. „.dll“).</span><span class="sxs-lookup"><span data-stu-id="e3746-162">The name must follow the naming standard *baseName*.resources.*extension*, where *baseName* is the name of the main assembly and *extension* is a valid file name extension (such as .dll).</span></span> <span data-ttu-id="e3746-163">Beachten Sie, dass die Runtime die Kultur einer Satellitenassembly nicht anhand des Namens der Ausgabedatei der Assembly bestimmen kann. Dazu müssen Sie die Option **/culture** verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3746-163">Note that the runtime is not able to determine the culture of a satellite assembly based on its output file name; you must use the **/culture** option to specify it.</span></span>|
|`-template:Example.dll`|<span data-ttu-id="e3746-164">Legt eine Assembly fest, von der die Satellitenassembly alle Assemblymetadaten erbt, mit Ausnahme des Felds für die Kultur.</span><span class="sxs-lookup"><span data-stu-id="e3746-164">Specifies an assembly from which the satellite assembly will inherit all assembly metadata except the culture field.</span></span> <span data-ttu-id="e3746-165">Diese Option wirkt sich nur auf Satellitenassemblys aus, wenn Sie eine Assembly mit einem [starken Namen](../../standard/assembly/strong-named.md) angeben.</span><span class="sxs-lookup"><span data-stu-id="e3746-165">This option affects satellite assemblies only if you specify an assembly that has a [strong name](../../standard/assembly/strong-named.md).</span></span>|
  
 <span data-ttu-id="e3746-166">Eine vollständige Liste der Optionen von *Al.exe* finden Sie unter [Al.exe (Assembly Linker-Tool)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="e3746-166">For a complete list of options available with *Al.exe*, see [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>
  
## <a name="satellite-assemblies-an-example"></a><span data-ttu-id="e3746-167">Satellitenassemblys: Beispiel</span><span class="sxs-lookup"><span data-stu-id="e3746-167">Satellite Assemblies: An Example</span></span>

<span data-ttu-id="e3746-168">Das folgende ist ein einfaches „Hello world“-Beispiel, in dem ein Meldungsfeld mit einer lokalisierten Begrüßung angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="e3746-168">The following is a simple "Hello world" example that displays a message box containing a localized greeting.</span></span> <span data-ttu-id="e3746-169">Das Beispiel enthält Ressourcen für die Kulturen Englisch (USA), Französisch (Frankreich) und Russisch (Russische Föderation). Die Fallback-Kultur ist Englisch.</span><span class="sxs-lookup"><span data-stu-id="e3746-169">The example includes resources for the English (United States), French (France), and Russian (Russia) cultures, and its fallback culture is English.</span></span> <span data-ttu-id="e3746-170">Gehen Sie folgendermaßen vor, um dieses Beispiel zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="e3746-170">To create the example, do the following:</span></span>
  
1. <span data-ttu-id="e3746-171">Erstellen Sie eine Ressourcendatei namens *Greeting.resx* oder *Greeting.txt*, die die Ressource für die Standardkultur enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="e3746-171">Create a resource file named *Greeting.resx* or *Greeting.txt* to contain the resource for the default culture.</span></span> <span data-ttu-id="e3746-172">Speichern Sie in dieser Datei eine einzelne Zeichenfolge mit dem Namen `HelloString`, die den Wert „Hello world!“</span><span class="sxs-lookup"><span data-stu-id="e3746-172">Store a single string named `HelloString` whose value is "Hello world!"</span></span> <span data-ttu-id="e3746-173">hat.</span><span class="sxs-lookup"><span data-stu-id="e3746-173">in this file.</span></span>

2. <span data-ttu-id="e3746-174">Um anzugeben, dass Englisch (en) die Standardkultur der Anwendung ist, fügen Sie folgendes <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType>-Attribut in die AssemblyInfo-Datei der Anwendung oder in die Hauptquellcodedatei hinzu, die in die Hauptassembly der Anwendung kompiliert werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-174">To indicate that English (en) is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly.</span></span>

    [!code-csharp[Conceptual.Resources.Locating#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/assemblyinfo.cs#2)]
    [!code-vb[Conceptual.Resources.Locating#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/assemblyinfo.vb#2)]  
  
3. <span data-ttu-id="e3746-175">Fügen Sie Unterstützung für weitere Kulturen (en-US, fr-FR und ru-RU) wie folgt in der Anwendung hinzu:</span><span class="sxs-lookup"><span data-stu-id="e3746-175">Add support for additional cultures (en-US, fr-FR, and ru-RU) to the application as follows:</span></span>  
  
    - <span data-ttu-id="e3746-176">Damit die Kultur „en-US“ bzw. „Englisch (USA)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Greeting.en-US.resx* oder *Greeting.en-US.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `HelloString`, deren Wert "Hi world!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-176">To support the en-US or English (United States) culture, create a resource file named *Greeting.en-US.resx* or *Greeting.en-US.txt*, and store in it a single string named `HelloString` whose value is "Hi world!".</span></span>
  
    - <span data-ttu-id="e3746-177">Damit die Kultur „fr-FR“ bzw. „Französisch (Frankreich)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Greeting.fr-FR.resx* oder *Greeting.fr-FR.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `HelloString`, deren Wert "Salut tout le monde!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-177">To support the fr-FR or French (France) culture, create a resource file named *Greeting.fr-FR.resx* or *Greeting.fr-FR.txt*, and store in it a single string named `HelloString` whose value is "Salut tout le monde!".</span></span>
  
    - <span data-ttu-id="e3746-178">Damit die Kultur „ru-RU“ bzw. „Russisch (Russland)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Greeting.ru-RU.resx* oder *Greeting.ru-RU.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `HelloString`, deren Wert "Всем привет!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-178">To support the ru-RU or Russian (Russia) culture, create a resource file named *Greeting.ru-RU.resx* or *Greeting.ru-RU.txt*, and store in it a single string named `HelloString` whose value is "Всем привет!".</span></span>
  
4. <span data-ttu-id="e3746-179">Kompilieren Sie mit [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) jede Text- oder XML-Ressourcendatei in eine *RESOURCES*-Binärdatei.</span><span class="sxs-lookup"><span data-stu-id="e3746-179">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary *.resources* file.</span></span> <span data-ttu-id="e3746-180">Die Ausgabe sind mehrere Dateien, die den gleichen Stammdateinamen wie die *RESX*- oder *TXT*-Dateien, jedoch die Dateiendung *.resources* haben.</span><span class="sxs-lookup"><span data-stu-id="e3746-180">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="e3746-181">Wenn Sie ein Beispiel mit Visual Studio erstellen, wird das Kompilieren automatisch behandelt.</span><span class="sxs-lookup"><span data-stu-id="e3746-181">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="e3746-182">Wenn Sie nicht Visual Studio verwenden, führen Sie die folgenden Befehle aus, um die *RESX*-Dateien in *RESOURCES*-Dateien zu kompilieren:</span><span class="sxs-lookup"><span data-stu-id="e3746-182">If you aren't using Visual Studio, run the following commands to compile the *.resx* files into *.resources* files:</span></span>  
  
    ```console
    resgen Greeting.resx
    resgen Greeting.en-us.resx
    resgen Greeting.fr-FR.resx
    resgen Greeting.ru-RU.resx
    ```

    <span data-ttu-id="e3746-183">Wenn sich Ihre Ressourcen in Textdateien und nicht in XML-Dateien befinden, ersetzen Sie die Dateiendung *.resx* durch *.txt*.</span><span class="sxs-lookup"><span data-stu-id="e3746-183">If your resources are in text files instead of XML files, replace the *.resx* extension with *.txt*.</span></span>

5. <span data-ttu-id="e3746-184">Kompilieren Sie folgenden Quellcode zusammen mit den Ressourcen für die Standardkultur in die Hauptassembly der Anwendung:</span><span class="sxs-lookup"><span data-stu-id="e3746-184">Compile the following source code along with the resources for the default culture into the application's main assembly:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="e3746-185">Wenn Sie die Befehlszeile und nicht Visual Studio zum Erstellen des Beispiels verwenden, sollten Sie den Aufruf des <xref:System.Resources.ResourceManager>-Klassenkonstruktors in das Folgende ändern: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`.</span><span class="sxs-lookup"><span data-stu-id="e3746-185">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to the following: `ResourceManager rm = new ResourceManager("Greetings", typeof(Example).Assembly);`</span></span>

    [!code-csharp[Conceptual.Resources.Locating#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.locating/cs/program.cs#1)]
    [!code-vb[Conceptual.Resources.Locating#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.locating/vb/module1.vb#1)]

    <span data-ttu-id="e3746-186">Wenn die Anwendung „Example“ heißt und Sie über die Befehlszeile kompilieren, lautet der Befehl für den C#-Compiler wie folgt:</span><span class="sxs-lookup"><span data-stu-id="e3746-186">If the application is named Example and you are compiling from the command-line, the command for the C# compiler is:</span></span>

    ```console
    csc Example.cs -res:Greeting.resources
    ```

    <span data-ttu-id="e3746-187">Der entsprechende Befehl für den Visual Basic-Compiler lautet:</span><span class="sxs-lookup"><span data-stu-id="e3746-187">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc Example.vb -res:Greeting.resources
    ```

6. <span data-ttu-id="e3746-188">Erstellen Sie für jede lokalisierte, von der Anwendung unterstützte Kultur ein Unterverzeichnis im Hauptverzeichnis der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e3746-188">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="e3746-189">Sie sollten die Unterverzeichnisse *en-US*, *fr-FR* und *ru-RU* erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3746-189">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="e3746-190">Visual Studio erstellt diese Unterverzeichnisse automatisch während des Kompiliervorgangs.</span><span class="sxs-lookup"><span data-stu-id="e3746-190">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span>

7. <span data-ttu-id="e3746-191">Betten Sie die einzelnen kulturspezifischen *RESOURCES*-Dateien in Satellitenassemblys ein, und speichern Sie diese in die entsprechenden Verzeichnisse.</span><span class="sxs-lookup"><span data-stu-id="e3746-191">Embed the individual culture-specific *.resources* files into satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="e3746-192">Der Befehl, mit dem Sie diesen Vorgang für jede *RESOURCES*-Datei ausführen können, lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="e3746-192">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Greeting.culture.resources -culture:culture -out:culture\Example.resources.dll
    ```

     <span data-ttu-id="e3746-193">Wobei *culture* der Name der Kultur ist, deren Ressourcen die Satellitenassembly enthält.</span><span class="sxs-lookup"><span data-stu-id="e3746-193">where *culture* is the name of the culture whose resources the satellite assembly contains.</span></span> <span data-ttu-id="e3746-194">Dieser Vorgang wird von Visual Studio automatisch behandelt.</span><span class="sxs-lookup"><span data-stu-id="e3746-194">Visual Studio handles this process automatically.</span></span>

<span data-ttu-id="e3746-195">Anschließend können Sie das Beispiel ausführen.</span><span class="sxs-lookup"><span data-stu-id="e3746-195">You can then run the example.</span></span> <span data-ttu-id="e3746-196">Eine der unterstützten Kulturen wird willkürlich als aktuelle Kultur festgelegt. Dann wird eine lokalisierte Begrüßung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="e3746-196">It will randomly make one of the supported cultures the current culture and display a localized greeting.</span></span>

<a name="SN"></a>

## <a name="installing-satellite-assemblies-in-the-global-assembly-cache"></a><span data-ttu-id="e3746-197">Installieren von Satellitenassemblys im globalen Assemblycache</span><span class="sxs-lookup"><span data-stu-id="e3746-197">Installing Satellite Assemblies in the Global Assembly Cache</span></span>

<span data-ttu-id="e3746-198">Statt Assemblys in einem lokalen Unterverzeichnis der Anwendung zu installieren, können Sie diese auch im globalen Assemblycache (GAC) installieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-198">Instead of installing assemblies in a local application subdirectory, you can install them in the global assembly cache.</span></span> <span data-ttu-id="e3746-199">Dies ist besonders dann praktisch, wenn Sie Klassenbibliotheken und Ressourcenassemblys von Klassenbibliotheken haben, die von mehreren Anwendungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-199">This is particularly useful if you have class libraries and class library resource assemblies that are used by multiple applications.</span></span>
  
<span data-ttu-id="e3746-200">Wenn Sie Assemblys im GAC installieren möchten, müssen diese einen starken Namen aufweisen.</span><span class="sxs-lookup"><span data-stu-id="e3746-200">Installing assemblies in the global assembly cache requires that they have strong names.</span></span> <span data-ttu-id="e3746-201">Assemblys mit starkem Namen werden mit einem gültigen Paar aus privatem und öffentlichem Schlüssel signiert.</span><span class="sxs-lookup"><span data-stu-id="e3746-201">Strong-named assemblies are signed with a valid public/private key pair.</span></span> <span data-ttu-id="e3746-202">Sie enthalten Versionsinformationen, die die Runtime verwendet, um zu bestimmen, welche Assembly sie verwenden kann, um eine Bindungsanforderung zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="e3746-202">They contain version information that the runtime uses to determine which assembly to use to satisfy a binding request.</span></span> <span data-ttu-id="e3746-203">Weitere Informationen zu starken Namen und zur Versionskontrolle finden Sie unter [Assembly Versioning (Assemblyversionskontrolle)](../../standard/assembly/versioning.md).</span><span class="sxs-lookup"><span data-stu-id="e3746-203">For more information about strong names and versioning, see [Assembly Versioning](../../standard/assembly/versioning.md).</span></span> <span data-ttu-id="e3746-204">Weitere Informationen zu starken Namen finden Sie unter [Strong-Named Assemblies (Assemblys mit starkem Namen)](../../standard/assembly/strong-named.md).</span><span class="sxs-lookup"><span data-stu-id="e3746-204">For more information about strong names, see [Strong-Named Assemblies](../../standard/assembly/strong-named.md).</span></span>

<span data-ttu-id="e3746-205">Es ist unwahrscheinlich, dass Sie beim Entwickeln einer Anwendung Zugriff auf das endgültige Paar aus privatem und öffentlichem Schlüssel haben.</span><span class="sxs-lookup"><span data-stu-id="e3746-205">When you are developing an application, it is unlikely that you will have access to the final public/private key pair.</span></span> <span data-ttu-id="e3746-206">Um eine Assembly im GAC zu installieren und sicherzustellen, dass sie wie erwartet funktioniert, können Sie das sogenannte verzögerte Signieren verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3746-206">In order to install a satellite assembly in the global assembly cache and ensure that it works as expected, you can use a technique called delayed signing.</span></span> <span data-ttu-id="e3746-207">Wenn Sie eine Assembly zum Zeitpunkt der Erstellung verzögert signieren, reservieren Sie Speicherplatz in der Datei für die starke Namenssignatur.</span><span class="sxs-lookup"><span data-stu-id="e3746-207">When you delay sign an assembly, at build time you reserve space in the file for the strong name signature.</span></span> <span data-ttu-id="e3746-208">Die tatsächliche Signatur wird auf einen späteren Zeitpunkt verschoben, wenn das Paar aus privatem und öffentlichem Schlüssel zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="e3746-208">The actual signing is delayed until later, when the final public/private key pair is available.</span></span> <span data-ttu-id="e3746-209">Weitere Informationen zum verzögerten Signieren finden Sie unter [Delay Signing an Assembly (Verzögertes Signieren einer Assembly)](../../standard/assembly/delay-sign.md).</span><span class="sxs-lookup"><span data-stu-id="e3746-209">For more information about delayed signing, see [Delay Signing an Assembly](../../standard/assembly/delay-sign.md).</span></span>

### <a name="obtaining-the-public-key"></a><span data-ttu-id="e3746-210">Abrufen des öffentlichen Schlüssels</span><span class="sxs-lookup"><span data-stu-id="e3746-210">Obtaining the Public Key</span></span>

<span data-ttu-id="e3746-211">Um eine Assembly verzögert zu signieren, müssen Sie auf den öffentlichen Schlüssel zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="e3746-211">To delay sign an assembly, you must have access to the public key.</span></span> <span data-ttu-id="e3746-212">Sie können entweder den tatsächlichen öffentlichen Schlüssel von der Organisation in Ihrem Unternehmen abrufen, der das Signieren später durchführen wird, oder einen öffentlichen Schlüssel mit dem [Strong Name-Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3746-212">You can either obtain the real public key from the organization in your company that will do the eventual signing, or create a public key by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md).</span></span>

<span data-ttu-id="e3746-213">Der folgende Befehl von *Sn.exe* erstellt zu Testzwecken ein öffentlich-privates Schlüsselpaar.</span><span class="sxs-lookup"><span data-stu-id="e3746-213">The following *Sn.exe* command creates a test public/private key pair.</span></span> <span data-ttu-id="e3746-214">Die Option **-k** gibt an, dass *Sn.exe* ein neues Schlüsselpaar erstellen und dieses in einer Datei namens *TestKeyPair.snk* speichern soll.</span><span class="sxs-lookup"><span data-stu-id="e3746-214">The **–k** option specifies that *Sn.exe* should create a new key pair and save it in a file named *TestKeyPair.snk*.</span></span>
  
```console
sn –k TestKeyPair.snk
```

<span data-ttu-id="e3746-215">Sie können den öffentlichen Schlüssel aus der Datei extrahieren, die das Testschlüsselpaar enthält.</span><span class="sxs-lookup"><span data-stu-id="e3746-215">You can extract the public key from the file that contains the test key pair.</span></span> <span data-ttu-id="e3746-216">Der folgende Befehl extrahiert den öffentlichen Schlüssel aus *TestKeyPair.snk* und speichert ihn in *PublicKey.snk*:</span><span class="sxs-lookup"><span data-stu-id="e3746-216">The following command extracts the public key from *TestKeyPair.snk* and saves it in *PublicKey.snk*:</span></span>

```console
sn –p TestKeyPair.snk PublicKey.snk
```

### <a name="delay-signing-an-assembly"></a><span data-ttu-id="e3746-217">Verzögertes Signieren einer Assembly</span><span class="sxs-lookup"><span data-stu-id="e3746-217">Delay Signing an Assembly</span></span>

<span data-ttu-id="e3746-218">Nachdem Sie einen öffentlichen Schlüssel abgerufen oder erstellt haben, verwenden Sie den [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md), um die Assembly zu kompilieren und das verzögerte Signieren anzugeben.</span><span class="sxs-lookup"><span data-stu-id="e3746-218">After you obtain or create the public key, you use the [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md) to compile the assembly and specify delayed signing.</span></span>

<span data-ttu-id="e3746-219">Durch den folgenden Befehl von *Al.exe* wird eine Satellitenassembly mit starkem Namen für die Anwendung „StringLibrary“ aus der Datei *strings.ja.resources* erstellt:</span><span class="sxs-lookup"><span data-stu-id="e3746-219">The following *Al.exe* command creates a strong-named satellite assembly for the application StringLibrary from the *strings.ja.resources* file:</span></span>

```console
al -target:lib -embed:strings.ja.resources -culture:ja -out:StringLibrary.resources.dll -delay+ -keyfile:PublicKey.snk
```

<span data-ttu-id="e3746-220">Die Option **-delay+** gibt an, dass der Assembly Linker die Assembly verzögert signieren sollte.</span><span class="sxs-lookup"><span data-stu-id="e3746-220">The **-delay+** option specifies that the Assembly Linker should delay sign the assembly.</span></span> <span data-ttu-id="e3746-221">Die Option **-keyfile** gibt den Namen der zu verwendenden Schlüsseldatei an, die den öffentlichen Schlüssel enthält, um die Assembly verzögert zu signieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-221">The **-keyfile** option specifies the name of the key file that contains the public key to use to delay sign the assembly.</span></span>

### <a name="re-signing-an-assembly"></a><span data-ttu-id="e3746-222">Erneutes Signieren einer Assembly</span><span class="sxs-lookup"><span data-stu-id="e3746-222">Re-signing an Assembly</span></span>

<span data-ttu-id="e3746-223">Bevor Sie Ihre Anwendung bereitstellen, müssen Sie die verzögert signierte Satellitenassembly erneut mit dem tatsächlichen Schlüsselpaar signieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-223">Before you deploy your application, you must re-sign the delay signed satellite assembly with the real key pair.</span></span> <span data-ttu-id="e3746-224">Hierzu können Sie *Sn.exe* verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3746-224">You can do this by using *Sn.exe*.</span></span>

<span data-ttu-id="e3746-225">Der folgende Befehl von *Sn.exe* signiert *StringLibrary.resources.dll* mit dem Schlüsselpaar, das in der Datei *RealKeyPair.snk* gespeichert ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-225">The following *Sn.exe* command signs *StringLibrary.resources.dll* with the key pair stored in the file *RealKeyPair.snk*.</span></span> <span data-ttu-id="e3746-226">Die Option **–R** gibt an, dass eine bereits signierte oder verzögert signierte Assembly erneut signiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="e3746-226">The **–R** option specifies that a previously signed or delay signed assembly is to be re-signed.</span></span>

```console
sn –R StringLibrary.resources.dll RealKeyPair.snk
```

### <a name="installing-a-satellite-assembly-in-the-global-assembly-cache"></a><span data-ttu-id="e3746-227">Installieren einer Satellitenassembly im globalen Assemblycache</span><span class="sxs-lookup"><span data-stu-id="e3746-227">Installing a Satellite Assembly in the Global Assembly Cache</span></span>

<span data-ttu-id="e3746-228">Wenn die Runtime nach einer Ressource im Ressourcenfallback-Prozess sucht, durchsucht sie den [GAC](../app-domains/gac.md) als Erstes.</span><span class="sxs-lookup"><span data-stu-id="e3746-228">When the runtime searches for resources in the resource fallback process, it looks in the [global assembly cache](../app-domains/gac.md) first.</span></span> <span data-ttu-id="e3746-229">(Weitere Informationen finden Sie im Abschnitt „Ressourcenfallback-Prozess“ in [Packaging and Deploying Resources (Verpacken und Bereitstellen von Ressourcen)](packaging-and-deploying-resources-in-desktop-apps.md)) Sobald die Satellitenassembly mit einem starken Namen signiert wurde, kann Sie im GAC mit dem [Global Assembly Cache-Tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md) installiert werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-229">(For more information, see the "Resource Fallback Process" section of the [Packaging and Deploying Resources](packaging-and-deploying-resources-in-desktop-apps.md) topic.) As soon as a satellite assembly is signed with a strong name, it can be installed in the global assembly cache by using the [Global Assembly Cache Tool (Gacutil.exe)](../tools/gacutil-exe-gac-tool.md).</span></span>

<span data-ttu-id="e3746-230">Der folgende Befehl von *Gacutil.exe* installiert *StringLibrary.resources.dll*\* im globalen Assemblycache:</span><span class="sxs-lookup"><span data-stu-id="e3746-230">The following *Gacutil.exe* command installs *StringLibrary.resources.dll*\* in the global assembly cache:</span></span>

```console
gacutil -i:StringLibrary.resources.dll
```

<span data-ttu-id="e3746-231">Die Option **/i** gibt an, dass *Gacutil.exe* die angegeben Assembly im globalen Assemblycache installieren soll.</span><span class="sxs-lookup"><span data-stu-id="e3746-231">The **/i** option specifies that *Gacutil.exe* should install the specified assembly into the global assembly cache.</span></span> <span data-ttu-id="e3746-232">Nachdem die Satellitenassembly im Cache installiert wurde, werden die Ressourcen, die sie enthält, für alle Anwendungen verfügbar gemacht, die dafür entwickelt wurden, die Satellitenassembly zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e3746-232">After the satellite assembly is installed in the cache, the resources it contains become available to all applications that are designed to use the satellite assembly.</span></span>

### <a name="resources-in-the-global-assembly-cache-an-example"></a><span data-ttu-id="e3746-233">Ressourcen im globalen Assemblycache: Beispiel</span><span class="sxs-lookup"><span data-stu-id="e3746-233">Resources in the Global Assembly Cache: An Example</span></span>

<span data-ttu-id="e3746-234">In folgendem Beispiel wird eine Methode in der .NET Framework-Klassenbibliothek verwendet, um eine lokalisierte Begrüßung aus einer Ressourcendatei zu extrahieren und zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="e3746-234">The following example uses a method in a .NET Framework class library to extract and return a localized greeting from a resource file.</span></span> <span data-ttu-id="e3746-235">Die Bibliothek und ihre Ressourcen werden im GAC registriert.</span><span class="sxs-lookup"><span data-stu-id="e3746-235">The library and its resources are registered in the global assembly cache.</span></span> <span data-ttu-id="e3746-236">Das Beispiel enthält Ressourcen für die Kulturen Englisch (USA), Französisch (Frankreich), Russisch (Russland) und englische Kulturen.</span><span class="sxs-lookup"><span data-stu-id="e3746-236">The example includes resources for the English (United States), French (France), Russian (Russia), and English cultures.</span></span> <span data-ttu-id="e3746-237">Englisch ist die Standardkultur. Ihre Ressourcen sind in der Hauptassembly gespeichert.</span><span class="sxs-lookup"><span data-stu-id="e3746-237">English is the default culture; its resources are stored in the main assembly.</span></span> <span data-ttu-id="e3746-238">Im Beispiel werden die Bibliothek und ihre Satellitenassemblys zunächst mit einem öffentlichen Schlüssel verzögert signiert. Anschließend werden Sie mit einem Paar aus privatem und öffentlichem Schlüssel erneut signiert.</span><span class="sxs-lookup"><span data-stu-id="e3746-238">The example initially delay signs the library and its satellite assemblies with a public key, then re-signs them with a public/private key pair.</span></span> <span data-ttu-id="e3746-239">Gehen Sie folgendermaßen vor, um dieses Beispiel zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="e3746-239">To create the example, do the following:</span></span>

1. <span data-ttu-id="e3746-240">Wenn Sie nicht Visual Studio verwenden, verwenden Sie den folgenden Befehl des Tools [Strong Name (Sn.exe)](../tools/sn-exe-strong-name-tool.md), um ein öffentlich-privates Schlüsselpaar namens *ResKey.snk* zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="e3746-240">If you are not using Visual Studio, use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public/private key pair named *ResKey.snk*:</span></span>

    ```console
    sn –k ResKey.snk
    ```

    <span data-ttu-id="e3746-241">Wenn Sie Visual Studio verwenden, verwenden Sie die Registerkarte **Signierung** des Projektdialogfelds **Eigenschaften**, um die Schlüsseldatei zu generieren.</span><span class="sxs-lookup"><span data-stu-id="e3746-241">If you are using Visual Studio, use the **Signing** tab of the project **Properties** dialog box to generate the key file.</span></span>

2. <span data-ttu-id="e3746-242">Verwenden Sie den folgenden Befehl des Tools [Strong Name (Sn.exe)](../tools/sn-exe-strong-name-tool.md), um eine öffentliche Schlüsseldatei namens *PublicKey.snk* zu erstellen:</span><span class="sxs-lookup"><span data-stu-id="e3746-242">Use the following [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) command to create a public key file named *PublicKey.snk*:</span></span>

    ```console
    sn –p ResKey.snk PublicKey.snk
    ```

3. <span data-ttu-id="e3746-243">Erstellen Sie eine Ressourcendatei namens *Strings.resx*, die die Ressource für die Standardkultur enthalten soll.</span><span class="sxs-lookup"><span data-stu-id="e3746-243">Create a resource file named *Strings.resx* to contain the resource for the default culture.</span></span> <span data-ttu-id="e3746-244">Speichern Sie in dieser Datei eine einzelne Zeichenfolge mit dem Namen `Greeting`, die den Wert „How do you do?“</span><span class="sxs-lookup"><span data-stu-id="e3746-244">Store a single string named `Greeting` whose value is "How do you do?"</span></span> <span data-ttu-id="e3746-245">hat.</span><span class="sxs-lookup"><span data-stu-id="e3746-245">in that file.</span></span>

4. <span data-ttu-id="e3746-246">Um anzugeben, dass „en“ die Standardkultur der Anwendung ist, fügen Sie folgendes <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType>-Attribut in die AssemblyInfo-Datei der Anwendung oder in die Hauptquellcodedatei hinzu, die in die Hauptassembly der Anwendung kompiliert werden:</span><span class="sxs-lookup"><span data-stu-id="e3746-246">To indicate that "en" is the application's default culture, add the following <xref:System.Resources.NeutralResourcesLanguageAttribute?displayProperty=nameWithType> attribute to the application's AssemblyInfo file or to the main source code file that will be compiled into the application's main assembly:</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#2](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#2)]
    [!code-vb[Conceptual.Resources.Satellites#2](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#2)]

5. <span data-ttu-id="e3746-247">Fügen Sie Unterstützung für weitere Kulturen (en-US, fr-FR und ru-RU) wie folgt in der Anwendung hinzu:</span><span class="sxs-lookup"><span data-stu-id="e3746-247">Add support for additional cultures (the en-US, fr-FR, and ru-RU cultures) to the application as follows:</span></span>

    - <span data-ttu-id="e3746-248">Damit die Kultur „en-US“ bzw. „Englisch (USA)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Strings.en-US.resx* oder *Strings.en-US.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `Greeting`, deren Wert "Hello!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-248">To support the "en-US" or English (United States) culture, create a resource file named *Strings.en-US.resx* or *Strings.en-US.txt*, and store in it a single string named `Greeting` whose value is "Hello!".</span></span>

    - <span data-ttu-id="e3746-249">Damit die Kultur „fr-FR“ bzw. „Französisch (Frankreich)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Strings.fr-FR.resx* oder *Strings.fr-FR.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `Greeting`, deren Wert "Bon jour!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-249">To support the "fr-FR" or French (France) culture, create a resource file named *Strings.fr-FR.resx* or *Strings.fr-FR.txt* and store in it a single string named `Greeting` whose value is "Bon jour!".</span></span>

    - <span data-ttu-id="e3746-250">Damit die Kultur „ru-RU“ bzw. „Russisch (Russland)“ unterstützt wird, erstellen Sie eine Ressourcendatei namens *Strings.ru-RU.resx* oder *Strings.ru-RU.txt*, und speichern Sie darin eine einzelne Zeichenfolge namens `Greeting`, deren Wert "Привет!" ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-250">To support the "ru-RU" or Russian (Russia) culture, create a resource file named *Strings.ru-RU.resx* or *Strings.ru-RU.txt* and store in it a single string named `Greeting` whose value is "Привет!".</span></span>

6. <span data-ttu-id="e3746-251">Kompilieren Sie mit [resgen.exe](../tools/resgen-exe-resource-file-generator.md) jede Text- oder XML-Ressourcendatei in eine RESOURCES-Binärdatei.</span><span class="sxs-lookup"><span data-stu-id="e3746-251">Use [Resgen.exe](../tools/resgen-exe-resource-file-generator.md) to compile each text or XML resource file to a binary .resources file.</span></span> <span data-ttu-id="e3746-252">Die Ausgabe sind mehrere Dateien, die den gleichen Stammdateinamen wie die *RESX*- oder *TXT*-Dateien, jedoch die Dateiendung *.resources* haben.</span><span class="sxs-lookup"><span data-stu-id="e3746-252">The output is a set of files that have the same root file name as the *.resx* or *.txt* files, but a *.resources* extension.</span></span> <span data-ttu-id="e3746-253">Wenn Sie ein Beispiel mit Visual Studio erstellen, wird das Kompilieren automatisch behandelt.</span><span class="sxs-lookup"><span data-stu-id="e3746-253">If you create the example with Visual Studio, the compilation process is handled automatically.</span></span> <span data-ttu-id="e3746-254">Wenn Sie nicht Visual Studio verwenden, führen Sie den folgenden Befehl aus, um die *RESX*-Dateien in *RESOURCES*-Dateien zu kompilieren:</span><span class="sxs-lookup"><span data-stu-id="e3746-254">If you aren't using Visual Studio, run the following command to compile the *.resx* files into *.resources* files:</span></span>

    ```console
    resgen filename
    ```

    <span data-ttu-id="e3746-255">Wobei es sich bei *filename* um den optionalen Pfad, den optionalen Dateinamen und die optionale Dateiendung der *RESX*- oder TXT-Datei handelt.</span><span class="sxs-lookup"><span data-stu-id="e3746-255">Where *filename* is the optional path, file name, and extension of the *.resx* or text file.</span></span>

7. <span data-ttu-id="e3746-256">Kompilieren Sie den folgenden Quellcode für *StringLibrary.vb* oder *StringLibrary.cs* zusammen mit den Ressourcen der Standardkultur in eine verzögert signierte Bibliotheksassembly namens *StringLibrary.dll*:</span><span class="sxs-lookup"><span data-stu-id="e3746-256">Compile the following source code for *StringLibrary.vb* or *StringLibrary.cs* along with the resources for the default culture into a delay signed library assembly named *StringLibrary.dll*:</span></span>

    > [!IMPORTANT]
    > <span data-ttu-id="e3746-257">Wenn Sie die Befehlszeile statt Visual Studio zum Erstellen des Beispiels verwenden, sollten Sie den Aufruf des <xref:System.Resources.ResourceManager>-Klassenkonstruktors in `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);` ändern.</span><span class="sxs-lookup"><span data-stu-id="e3746-257">If you are using the command line rather than Visual Studio to create the example, you should modify the call to the <xref:System.Resources.ResourceManager> class constructor to `ResourceManager rm = new ResourceManager("Strings",` `typeof(Example).Assembly);`.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#1](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/stringlibrary.cs#1)]
    [!code-vb[Conceptual.Resources.Satellites#1](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/stringlibrary.vb#1)]

    <span data-ttu-id="e3746-258">Der Befehl für den C#-Compiler lautet:</span><span class="sxs-lookup"><span data-stu-id="e3746-258">The command for the C# compiler is:</span></span>

    ```console
    csc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.cs
    ```

    <span data-ttu-id="e3746-259">Der entsprechende Befehl für den Visual Basic-Compiler lautet:</span><span class="sxs-lookup"><span data-stu-id="e3746-259">The corresponding Visual Basic compiler command is:</span></span>

    ```console
    vbc -t:library -resource:Strings.resources -delaysign+ -keyfile:publickey.snk StringLibrary.vb
    ```

8. <span data-ttu-id="e3746-260">Erstellen Sie für jede lokalisierte, von der Anwendung unterstützte Kultur ein Unterverzeichnis im Hauptverzeichnis der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e3746-260">Create a subdirectory in the main application directory for each localized culture supported by the application.</span></span> <span data-ttu-id="e3746-261">Sie sollten die Unterverzeichnisse *en-US*, *fr-FR* und *ru-RU* erstellen.</span><span class="sxs-lookup"><span data-stu-id="e3746-261">You should create an *en-US*, an *fr-FR*, and an *ru-RU* subdirectory.</span></span> <span data-ttu-id="e3746-262">Visual Studio erstellt diese Unterverzeichnisse automatisch während des Kompiliervorgangs.</span><span class="sxs-lookup"><span data-stu-id="e3746-262">Visual Studio creates these subdirectories automatically as part of the compilation process.</span></span> <span data-ttu-id="e3746-263">Da alle Satellitenassemblys den gleichen Dateinamen haben, werden die Unterverzeichnisse verwendet, um einzelne kulturspezifische Satellitenassemblys zu speichern, bis sie mit einem Paar aus privatem und öffentlichem Schlüssel signiert werden.</span><span class="sxs-lookup"><span data-stu-id="e3746-263">Because all satellite assemblies have the same file name, the subdirectories are used to store individual culture-specific satellite assemblies until they are signed with a public/private key pair.</span></span>

9. <span data-ttu-id="e3746-264">Betten Sie die einzelnen kulturspezifischen *RESOURCES*-Dateien in verzögert signierte Satellitenassemblys ein, und speichern Sie diese in die entsprechenden Verzeichnisse.</span><span class="sxs-lookup"><span data-stu-id="e3746-264">Embed the individual culture-specific *.resources* files into delay signed satellite assemblies and save them to the appropriate directory.</span></span> <span data-ttu-id="e3746-265">Der Befehl, mit dem Sie diesen Vorgang für jede *RESOURCES*-Datei ausführen können, lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="e3746-265">The command to do this for each *.resources* file is:</span></span>

    ```console
    al -target:lib -embed:Strings.culture.resources -culture:culture -out:culture\StringLibrary.resources.dll -delay+ -keyfile:publickey.snk
    ```

    <span data-ttu-id="e3746-266">Wobei *culture* der Name der Kultur ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-266">where *culture* is the name of a culture.</span></span> <span data-ttu-id="e3746-267">In diesem Beispiel sind die Kulturnamen „en-US“, „fr-FR“ und „ru-RU“.</span><span class="sxs-lookup"><span data-stu-id="e3746-267">In this example, the culture names are en-US, fr-FR, and ru-RU.</span></span>

10. <span data-ttu-id="e3746-268">Signieren Sie *StringLibrary.dll* noch einmal, indem Sie das Tool [Strong Name (Sn.exe)](../tools/sn-exe-strong-name-tool.md) wie folgt verwenden:</span><span class="sxs-lookup"><span data-stu-id="e3746-268">Re-sign *StringLibrary.dll* by using the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows:</span></span>

    ```console
    sn –R StringLibrary.dll RealKeyPair.snk
    ```

11. <span data-ttu-id="e3746-269">Signieren Sie die einzelnen Satellitenassemblys erneut.</span><span class="sxs-lookup"><span data-stu-id="e3746-269">Re-sign the individual satellite assemblies.</span></span> <span data-ttu-id="e3746-270">Verwenden Sie dafür das [Strong Name-Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) für jede Satellitenassembly wie folgt:</span><span class="sxs-lookup"><span data-stu-id="e3746-270">To do this, use the [Strong Name Tool (Sn.exe)](../tools/sn-exe-strong-name-tool.md) as follows for each satellite assembly:</span></span>

    ```console
    sn –R StringLibrary.resources.dll RealKeyPair.snk
    ```

12. <span data-ttu-id="e3746-271">Registrieren Sie *StringLibrary.dll* und jede der dazugehörigen Satellitenassemblys mit dem folgenden Befehl im globalen Assemblycache:</span><span class="sxs-lookup"><span data-stu-id="e3746-271">Register *StringLibrary.dll* and each of its satellite assemblies in the global assembly cache by using the following command:</span></span>

    ```console
    gacutil -i filename
    ```

    <span data-ttu-id="e3746-272">Wobei *filename* der Name der zu registrierenden Datei ist.</span><span class="sxs-lookup"><span data-stu-id="e3746-272">where *filename* is the name of the file to register.</span></span>

13. <span data-ttu-id="e3746-273">Wenn Sie Visual Studio verwenden, erstellen Sie ein neues **Konsolenanwendungsprojekt** namens `Example`, fügen Sie einen Verweis auf *StringLibrary.dll* und folgenden Quellcode hinzu, und kompilieren Sie das Projekt.</span><span class="sxs-lookup"><span data-stu-id="e3746-273">If you are using Visual Studio, create a new **Console Application** project named `Example`, add a reference to *StringLibrary.dll* and the following source code to it, and compile.</span></span>

    [!code-csharp[Conceptual.Resources.Satellites#3](~/samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.satellites/cs/example.cs#3)]
    [!code-vb[Conceptual.Resources.Satellites#3](~/samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.satellites/vb/example.vb#3)]

    <span data-ttu-id="e3746-274">Um aus der Befehlszeile zu kompilieren, verwenden Sie folgenden Befehl für den C#-Compiler:</span><span class="sxs-lookup"><span data-stu-id="e3746-274">To compile from the command line, use the following command for the C# compiler:</span></span>

    ```console
    csc Example.cs -r:StringLibrary.dll
    ```

    <span data-ttu-id="e3746-275">Die Befehlszeile für den Visual Basic-Compiler lautet:</span><span class="sxs-lookup"><span data-stu-id="e3746-275">The command line for the Visual Basic compiler is:</span></span>

    ```console
    vbc Example.vb -r:StringLibrary.dll
    ```

14. <span data-ttu-id="e3746-276">Führen Sie *Example.exe* aus.</span><span class="sxs-lookup"><span data-stu-id="e3746-276">Run *Example.exe*.</span></span>

## <a name="see-also"></a><span data-ttu-id="e3746-277">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e3746-277">See also</span></span>

- [<span data-ttu-id="e3746-278">Verpacken und Bereitstellen von Ressourcen</span><span class="sxs-lookup"><span data-stu-id="e3746-278">Packaging and Deploying Resources</span></span>](packaging-and-deploying-resources-in-desktop-apps.md)
- [<span data-ttu-id="e3746-279">Verzögertes Signieren einer Assembly</span><span class="sxs-lookup"><span data-stu-id="e3746-279">Delay Signing an Assembly</span></span>](../../standard/assembly/delay-sign.md)
- [<span data-ttu-id="e3746-280">Al.exe (Assembly Linker-Tool)</span><span class="sxs-lookup"><span data-stu-id="e3746-280">Al.exe (Assembly Linker)</span></span>](../tools/al-exe-assembly-linker.md)
- [<span data-ttu-id="e3746-281">Sn.exe (Strong Name-Tool)</span><span class="sxs-lookup"><span data-stu-id="e3746-281">Sn.exe (Strong Name Tool)</span></span>](../tools/sn-exe-strong-name-tool.md)
- [<span data-ttu-id="e3746-282">Gacutil.exe (Global Assembly Cache-Tool)</span><span class="sxs-lookup"><span data-stu-id="e3746-282">Gacutil.exe (Global Assembly Cache Tool)</span></span>](../tools/gacutil-exe-gac-tool.md)
- [<span data-ttu-id="e3746-283">Ressourcen in Desktop-Apps</span><span class="sxs-lookup"><span data-stu-id="e3746-283">Resources in Desktop Apps</span></span>](index.md)
