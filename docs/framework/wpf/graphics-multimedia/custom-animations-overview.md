---
title: Übersicht über benutzerdefinierte Animationen
ms.date: 03/30/2017
helpviewer_keywords:
- custom classes [WPF], animation
- key frames [WPF], custom
- custom key frames [WPF]
- animation [WPF], custom classes
- custom animation classes [WPF]
ms.assetid: 9be69d50-3384-4938-886f-08ce00e4a7a6
ms.openlocfilehash: 5a9ca51b87f73a24b90d0bd843ee306f8a1b970a
ms.sourcegitcommit: 700ea803fb06c5ce98de017c7f76463ba33ff4a9
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 02/19/2020
ms.locfileid: "77453090"
---
# <a name="custom-animations-overview"></a><span data-ttu-id="bf4d8-102">Übersicht über benutzerdefinierte Animationen</span><span class="sxs-lookup"><span data-stu-id="bf4d8-102">Custom Animations Overview</span></span>
<span data-ttu-id="bf4d8-103">In diesem Thema wird beschrieben, wie und wann das [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animationssystem durch Erstellen benutzerdefinierter Keyframes oder Animationsklassen erweitert oder durch Pro-Frame-Rückrufe umgangen wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-103">This topic describes how and when to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system by creating custom key frames, animation classes, or by using per-frame callback to bypass it.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="bf4d8-104">Erforderliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="bf4d8-104">Prerequisites</span></span>  
 <span data-ttu-id="bf4d8-105">Um dieses Thema zu verstehen, sollten Sie mit den verschiedenen Arten von Animationen vertraut sein, die von [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-105">To understand this topic, you should be familiar with the different types of animations provided by the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="bf4d8-106">Weitere Informationen finden Sie unter Übersicht über die From/To/By-Animationen, [Übersicht über Keyframe-Animationen](key-frame-animations-overview.md) und [Übersicht über Pfadanimationen](path-animations-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-106">For more information, see the From/To/By Animations Overview, the [Key-Frame Animations Overview](key-frame-animations-overview.md), and the [Path Animations Overview](path-animations-overview.md).</span></span>  
  
 <span data-ttu-id="bf4d8-107">Da die Animations Klassen von der <xref:System.Windows.Freezable>-Klasse erben, sollten Sie mit <xref:System.Windows.Freezable> Objekten und der Vererbung von <xref:System.Windows.Freezable>vertraut sein.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-107">Because the animation classes inherit from the <xref:System.Windows.Freezable> class, you should be familiar with <xref:System.Windows.Freezable> objects and how to inherit from <xref:System.Windows.Freezable>.</span></span> <span data-ttu-id="bf4d8-108">Weitere Informationen finden Sie unter der [Übersicht über Freezable-Objekte](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-108">For more information, see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md).</span></span>  
  
<a name="extendingtheanimationsystem"></a>   
## <a name="extending-the-animation-system"></a><span data-ttu-id="bf4d8-109">Erweitern des Animationssystems</span><span class="sxs-lookup"><span data-stu-id="bf4d8-109">Extending the Animation System</span></span>  
 <span data-ttu-id="bf4d8-110">Es gibt zahlreiche Methoden zum Erweitern des [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animationssystems, abhängig von der Ebene der integrierten Funktionen, die Sie verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-110">There are a number of ways to extend the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system, depending on the level of built-in functionality you want to use.</span></span>  <span data-ttu-id="bf4d8-111">Es gibt drei primäre Erweiterungspunkte in der [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animations-Engine:</span><span class="sxs-lookup"><span data-stu-id="bf4d8-111">There are three primary extensibility points in the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine:</span></span>  
  
- <span data-ttu-id="bf4d8-112">Erstellen Sie ein benutzerdefiniertes Keyframe-Objekt, indem Sie von einem der *\<Typen >* Keyframe-Klassen erben, z. b. <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-112">Create a custom key frame object by inheriting from one of the *\<Type>* KeyFrame classes, such as <xref:System.Windows.Media.Animation.DoubleKeyFrame>.</span></span> <span data-ttu-id="bf4d8-113">Dieser Ansatz verwendet die meisten der integrierten Funktionen der [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animations-Engine.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-113">This approach uses most of the built-in functionality of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation engine.</span></span>  
  
- <span data-ttu-id="bf4d8-114">Erstellen Sie eine eigene Animations Klasse, indem Sie von <xref:System.Windows.Media.Animation.AnimationTimeline> oder einer der *\<Type >* AnimationBase-Klassen erben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-114">Create your own animation class by inheriting from <xref:System.Windows.Media.Animation.AnimationTimeline> or one of the *\<Type>* AnimationBase classes.</span></span>  
  
- <span data-ttu-id="bf4d8-115">Verwenden Sie Pro-Frame-Rückruf, um Animationen auf einer Pro-Frame-Basis zu generieren.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-115">Use per-frame callback to generate animations on a per-frame basis.</span></span> <span data-ttu-id="bf4d8-116">Bei diesem Ansatz werden die Animations- und Zeitsteuerungssysteme vollständig umgangen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-116">This approach completely bypasses the animation and timing system.</span></span>  
  
 <span data-ttu-id="bf4d8-117">In der folgenden Tabelle werden einige die Szenarios zur Erweiterung des Animationssystems beschrieben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-117">The following table describes some the scenarios for extending the animation system.</span></span>  
  
|<span data-ttu-id="bf4d8-118">Aktion</span><span class="sxs-lookup"><span data-stu-id="bf4d8-118">When you want to...</span></span>|<span data-ttu-id="bf4d8-119">Vorgehensweise</span><span class="sxs-lookup"><span data-stu-id="bf4d8-119">Use this approach</span></span>|  
|-------------------------|-----------------------|  
|<span data-ttu-id="bf4d8-120">Anpassen der Interpolation zwischen Werten eines Typs mit einer entsprechenden *\<Typ>* AnimationUsingKeyFrames</span><span class="sxs-lookup"><span data-stu-id="bf4d8-120">Customize the interpolation between values of a type that has a corresponding *\<Type>* AnimationUsingKeyFrames</span></span>|<span data-ttu-id="bf4d8-121">Erstellen Sie ein benutzerdefiniertes Keyframe.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-121">Create a custom key frame.</span></span> <span data-ttu-id="bf4d8-122">Weitere Informationen finden Sie im Abschnitt [Erstellen eines benutzerdefinierten Keyframe](#createacustomkeyframe).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-122">For more information, see the [Create a Custom Key Frame](#createacustomkeyframe) section.</span></span>|  
|<span data-ttu-id="bf4d8-123">Anpassen von mehr als einer Interpolation zwischen Werten eines Typs mit einer entsprechenden *\<Typ>* Animation</span><span class="sxs-lookup"><span data-stu-id="bf4d8-123">Customize more than just the interpolation between values of a type that has a corresponding *\<Type>* Animation.</span></span>|<span data-ttu-id="bf4d8-124">Erstellen Sie eine benutzerdefinierte Animationsklasse, die von der *\<Typ>* AnimationBase-Klasse erbt, die dem Typ entspricht, den Sie animieren möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-124">Create a custom animation class that inherits from the *\<Type>* AnimationBase class that corresponds to the type you want to animate.</span></span> <span data-ttu-id="bf4d8-125">Weitere Informationen finden Sie im Abschnitt [Erstellen einer benutzerdefinierten Animationsklasse](#createacustomanimationtype).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-125">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="bf4d8-126">Animieren eines Typs, der keine entsprechende [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animation besitzt</span><span class="sxs-lookup"><span data-stu-id="bf4d8-126">Animate a type that has no corresponding [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation</span></span>|<span data-ttu-id="bf4d8-127">Verwenden Sie einen <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>, oder erstellen Sie eine Klasse, die von <xref:System.Windows.Media.Animation.AnimationTimeline>erbt.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-127">Use an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> or create a class that inherits from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="bf4d8-128">Weitere Informationen finden Sie im Abschnitt [Erstellen einer benutzerdefinierten Animationsklasse](#createacustomanimationtype).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-128">For more information, see the [Create a Custom Animation Class](#createacustomanimationtype) section.</span></span>|  
|<span data-ttu-id="bf4d8-129">Animieren mehrerer Objekte mit Werten, die pro Frame berechnet werden und auf dem letzten Satz von Objektinteraktionen basieren</span><span class="sxs-lookup"><span data-stu-id="bf4d8-129">Animate multiple objects with values that are computed each frame and are based on the last set of object interactions</span></span>|<span data-ttu-id="bf4d8-130">Verwenden Sie einen Pro-Frame-Rückruf.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-130">Use per-frame callback.</span></span> <span data-ttu-id="bf4d8-131">Weitere Informationen finden Sie im Abschnitt [Verwenden eines Pro-Frame-Rückrufs](#useperframecallback).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-131">For more information, see the [Create a Use Per-Frame Callback](#useperframecallback) section.</span></span>|  
  
<a name="createacustomkeyframe"></a>   
## <a name="create-a-custom-key-frame"></a><span data-ttu-id="bf4d8-132">Erstellen eines benutzerdefinierten Keyframes</span><span class="sxs-lookup"><span data-stu-id="bf4d8-132">Create a Custom Key Frame</span></span>  
 <span data-ttu-id="bf4d8-133">Die einfachste Möglichkeit zum Erweitern des Animationssystems ist das Erstellen einer benutzerdefinierten Keyframe-Klasse.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-133">Creating a custom key frame class is the simplest way to extend the animation system.</span></span> <span data-ttu-id="bf4d8-134">Verwenden Sie diesen Ansatz, wenn Sie eine andere Interpolationsmethode für eine Keyframe-Animation möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-134">Use this approach when you want to a different interpolation method for a key-frame animation.</span></span>  <span data-ttu-id="bf4d8-135">Wie in [Übersicht über Keyframe-Animationen](key-frame-animations-overview.md) beschrieben ist, verwendet eine Keyframe-Animation Keyframe-Objekte, um die Ausgabewerte zu generieren.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-135">As described in the [Key-Frame Animations Overview](key-frame-animations-overview.md), a key-frame animation uses key frame objects to generate its output values.</span></span> <span data-ttu-id="bf4d8-136">Jedes Keyframe-Objekt hat drei Funktionen:</span><span class="sxs-lookup"><span data-stu-id="bf4d8-136">Each key frame object performs three functions:</span></span>  
  
- <span data-ttu-id="bf4d8-137">Gibt einen Zielwert mit der <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>-Eigenschaft an.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-137">Specifies a target value using its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
- <span data-ttu-id="bf4d8-138">Gibt die Uhrzeit an, zu der dieser Wert mit der <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A>-Eigenschaft erreicht werden soll.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-138">Specifies the time at which that value should be reached using its <xref:System.Windows.Media.Animation.IKeyFrame.KeyTime%2A> property.</span></span>  
  
- <span data-ttu-id="bf4d8-139">Interpoliert zwischen dem Wert des vorherigen Keyframes und dem eigenen Wert durch Implementieren der InterpolateValueCore-Methode.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-139">Interpolates between the value of the previous key frame and its own value by implementing the InterpolateValueCore method.</span></span>  
  
 <span data-ttu-id="bf4d8-140">**Implementierungsanweisungen**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-140">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="bf4d8-141">Leiten Sie von der abstrakten *\<Typ>* KeyFrame-Klasse ab, und implementieren Sie die InterpolateValueCore-Methode.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-141">Derive from the *\<Type>* KeyFrame abstract class and implement the InterpolateValueCore method.</span></span> <span data-ttu-id="bf4d8-142">Die InterpolateValueCore-Methode gibt den aktuellen Wert des Keyframes zurück.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-142">The InterpolateValueCore method returns the current value of the key frame.</span></span> <span data-ttu-id="bf4d8-143">Es werden zwei Parameter übernommen: der Wert des vorherigen Keyframes und ein Fortschrittswert, der zwischen 0 und 1 liegt.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-143">It takes two parameters: the value of the previous key frame and a progress value that ranges from 0 to 1.</span></span> <span data-ttu-id="bf4d8-144">Der Fortschritt 0 gibt an, dass der Keyframe gerade gestartet wurde, und der Wert 1 gibt an, dass der Keyframe gerade abgeschlossen wurde, und sollte den Wert zurückgeben, der durch die <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A>-Eigenschaft angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-144">A progress of 0 indicates the key frame has just started, and a value of 1 indicates that the key frame has just completed and should return the value specified by its <xref:System.Windows.Media.Animation.IKeyFrame.Value%2A> property.</span></span>  
  
 <span data-ttu-id="bf4d8-145">Da der *\<-Typ >* Keyframe-Klassen von der <xref:System.Windows.Freezable>-Klasse erben, müssen Sie auch <xref:System.Windows.Freezable.CreateInstanceCore%2A> Core überschreiben, um eine neue Instanz der Klasse zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-145">Because the *\<Type>* KeyFrame classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="bf4d8-146">Wenn die Klasse keine Abhängigkeitseigenschaften zum Speichern von Daten nutzt oder nach der Erstellung eine zusätzliche Initialisierung erfordert, müssen Sie möglicherweise zusätzliche Methoden überschreiben. Weitere Informationen finden Sie unter [Übersicht über Freezable-Objekte](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-146">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="bf4d8-147">Nach der Erstellung von benutzerdefinierten *\<Typ>* KeyFrame-Animationen können Sie sie mit den *\<Typ>* AnimationUsingKeyFrames für diesen Typ verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-147">After you've created your custom *\<Type>* KeyFrame animation, you can use it with the *\<Type>* AnimationUsingKeyFrames for that type.</span></span>  
  
<a name="createacustomanimationtype"></a>   
## <a name="create-a-custom-animation-class"></a><span data-ttu-id="bf4d8-148">Erstellen einer benutzerdefinierten Animationsklasse</span><span class="sxs-lookup"><span data-stu-id="bf4d8-148">Create a Custom Animation Class</span></span>  
 <span data-ttu-id="bf4d8-149">Beim Erstellen Ihres eigenen Animationstyps können Sie besser steuern, wie ein Objekt animiert wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-149">Creating your own animation type gives you more control over how an object in animated.</span></span> <span data-ttu-id="bf4d8-150">Es gibt zwei empfohlene Methoden zum Erstellen eines eigenen Animations Typs: Sie können eine Ableitung von der <xref:System.Windows.Media.Animation.AnimationTimeline>-Klasse oder vom *\<-Typ >* AnimationBase-Klasse durchführen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-150">There are two recommended ways to create your own animation type: you can derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class or the *\<Type>* AnimationBase class.</span></span> <span data-ttu-id="bf4d8-151">Das Ableiten von der *\<Typ>* Animation- oder der *\<Typ>* AnimationUsingKeyFrames-Klasse wird nicht empfohlen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-151">Deriving from the *\<Type>* Animation or *\<Type>* AnimationUsingKeyFrames classes is not recommended.</span></span>  
  
### <a name="derive-from-typeanimationbase"></a><span data-ttu-id="bf4d8-152">Ableiten von \<Typ>AnimationBase</span><span class="sxs-lookup"><span data-stu-id="bf4d8-152">Derive from \<Type>AnimationBase</span></span>  
 <span data-ttu-id="bf4d8-153">Das Ableiten von einer *\<Typ>* AnimationBase-Klasse ist die einfachste Möglichkeit zum Erstellen eines neuen Animationstyps.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-153">Deriving from a *\<Type>* AnimationBase class is the simplest way to create a new animation type.</span></span> <span data-ttu-id="bf4d8-154">Verwenden Sie diesen Ansatz, wenn Sie eine neue Animation für einen Typ erstellen, der bereits über eine entsprechende *\<Typ>* AnimationBase-Klasse verfügt.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-154">Use this approach when you want to create a new animation for type that already has a corresponding *\<Type>* AnimationBase class.</span></span>  
  
 <span data-ttu-id="bf4d8-155">**Implementierungsanweisungen**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-155">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="bf4d8-156">Leiten Sie von einer *\<Typ>* Animation-Klasse ab und implementieren Sie die GetCurrentValueCore-Methode.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-156">Derive from a *\<Type>* Animation class and implement the GetCurrentValueCore method.</span></span> <span data-ttu-id="bf4d8-157">Die GetCurrentValueCore-Methode gibt den aktuellen Wert der Animation zurück.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-157">The GetCurrentValueCore method returns the current value of the animation.</span></span> <span data-ttu-id="bf4d8-158">Es werden drei Parameter benötigt: ein empfohlener Startwert, ein empfohlener Endwert und ein <xref:System.Windows.Media.Animation.AnimationClock>, mit dem der Fortschritt der Animation bestimmt wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-158">It takes three parameters: a suggested starting value, a suggested ending value, and an <xref:System.Windows.Media.Animation.AnimationClock>, which you use to determine the progress of the animation.</span></span>  
  
 <span data-ttu-id="bf4d8-159">Da der *\<-Typ >* AnimationBase-Klassen von der <xref:System.Windows.Freezable>-Klasse erben, müssen Sie auch <xref:System.Windows.Freezable.CreateInstanceCore%2A> Core überschreiben, um eine neue Instanz der Klasse zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-159">Because the *\<Type>* AnimationBase classes inherit from the <xref:System.Windows.Freezable> class, you must also override <xref:System.Windows.Freezable.CreateInstanceCore%2A> core to return a new instance of your class.</span></span> <span data-ttu-id="bf4d8-160">Wenn die Klasse keine Abhängigkeitseigenschaften zum Speichern von Daten nutzt oder nach der Erstellung eine zusätzliche Initialisierung erfordert, müssen Sie möglicherweise zusätzliche Methoden überschreiben. Weitere Informationen finden Sie unter [Übersicht über Freezable-Objekte](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-160">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="bf4d8-161">Weitere Informationen finden Sie in der Dokumentation zur GetCurrentValueCore-Methode für die *\<Typ>* AnimationBase-Klasse für den Typ, die Sie animieren möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-161">For more information, see the GetCurrentValueCore method documentation for the *\<Type>* AnimationBase class for the type that you want to animate.</span></span> <span data-ttu-id="bf4d8-162">Ein Beispiel hierfür finden Sie unter [Beispiel für benutzerdefinierte Animation](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)</span><span class="sxs-lookup"><span data-stu-id="bf4d8-162">For an example, see the [Custom Animation Sample](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)</span></span>  
  
 <span data-ttu-id="bf4d8-163">**Alternative Ansätze**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-163">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="bf4d8-164">Wenn Sie lediglich die Art der Interpolation von Animationswerten ändern möchten, kommt eine Ableitung von einer der *\<Typ>* KeyFrame-Klassen infrage.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-164">If you simply want to change how animation values are interpolated, considering deriving from one of the *\<Type>* KeyFrame classes.</span></span> <span data-ttu-id="bf4d8-165">Der von Ihnen erstellte Keyframe kann mit den entsprechenden *\<Typ>* AnimationUsingKeyFrames verwendet werden, die von [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-165">The key frame you create can be used with the corresponding *\<Type>* AnimationUsingKeyFrames provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
### <a name="derive-from-animationtimeline"></a><span data-ttu-id="bf4d8-166">Ableiten von AnimationTimeline</span><span class="sxs-lookup"><span data-stu-id="bf4d8-166">Derive from AnimationTimeline</span></span>  
 <span data-ttu-id="bf4d8-167">Leiten Sie von der <xref:System.Windows.Media.Animation.AnimationTimeline>-Klasse ab, wenn Sie eine Animation für einen Typ erstellen möchten, der nicht bereits über eine passende [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Animation verfügt, oder wenn Sie eine Animation erstellen möchten, die nicht stark typisiert ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-167">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class when you want to create an animation for a type that doesn't already have a matching [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation, or you want to create an animation that is not strongly typed.</span></span>  
  
 <span data-ttu-id="bf4d8-168">**Implementierungsanweisungen**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-168">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="bf4d8-169">Leiten Sie von der <xref:System.Windows.Media.Animation.AnimationTimeline> Klasse ab, und überschreiben Sie die folgenden Member:</span><span class="sxs-lookup"><span data-stu-id="bf4d8-169">Derive from the <xref:System.Windows.Media.Animation.AnimationTimeline> class and override the following members:</span></span>  
  
- <span data-ttu-id="bf4d8-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – wenn die neue Klasse konkret ist, müssen Sie <xref:System.Windows.Freezable.CreateInstanceCore%2A> überschreiben, um eine neue Instanz der Klasse zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-170"><xref:System.Windows.Freezable.CreateInstanceCore%2A> – If your new class is concrete, you must override <xref:System.Windows.Freezable.CreateInstanceCore%2A> to return a new instance of your class.</span></span>  
  
- <span data-ttu-id="bf4d8-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – überschreiben Sie diese Methode, um den aktuellen Wert der Animation zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-171"><xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> – Override this method to return the current value of your animation.</span></span> <span data-ttu-id="bf4d8-172">Es werden drei Parameter benötigt: ein Standardwert für den Ursprung, ein Standardzielwert und ein <xref:System.Windows.Media.Animation.AnimationClock>.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-172">It takes three parameters: a default origin value, a default destination value, and an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span> <span data-ttu-id="bf4d8-173">Verwenden Sie die <xref:System.Windows.Media.Animation.AnimationClock>, um die aktuelle Uhrzeit oder den Fortschritt der Animation abzurufen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-173">Use the <xref:System.Windows.Media.Animation.AnimationClock> to obtain the current time or progress for the animation.</span></span> <span data-ttu-id="bf4d8-174">Sie können auswählen, ob die Standardursprungs- oder zielwerte verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-174">You can choose whether to use the default origin and destination values.</span></span>  
  
- <span data-ttu-id="bf4d8-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – überschreiben Sie diese Eigenschaft, um anzugeben, ob die Animation den von der <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A>-Methode angegebenen Standard Zielwert verwendet.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-175"><xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> – Override this property to indicate whether your animation uses the default destination value specified by the <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> method.</span></span>  
  
- <span data-ttu-id="bf4d8-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – überschreiben Sie diese Eigenschaft, um die <xref:System.Type> der Ausgabe anzugeben, die Ihre Animation erzeugt.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-176"><xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> – Override this property to indicate the <xref:System.Type> of output your animation produces.</span></span>  
  
 <span data-ttu-id="bf4d8-177">Wenn die Klasse keine Abhängigkeitseigenschaften zum Speichern von Daten nutzt oder nach der Erstellung eine zusätzliche Initialisierung erfordert, müssen Sie möglicherweise zusätzliche Methoden überschreiben. Weitere Informationen finden Sie unter [Übersicht über Freezable-Objekte](../advanced/freezable-objects-overview.md).</span><span class="sxs-lookup"><span data-stu-id="bf4d8-177">If the class does not use dependency properties to store its data or it requires extra initialization after creation, you might need to override additional methods; see the [Freezable Objects Overview](../advanced/freezable-objects-overview.md) for more information.</span></span>  
  
 <span data-ttu-id="bf4d8-178">Das empfohlene Paradigma (verwendet von [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animationen) besteht in der Verwendung von zwei Vererbungsebenen:</span><span class="sxs-lookup"><span data-stu-id="bf4d8-178">The recommended paradigm (used by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animations) is to use two inheritance levels:</span></span>  
  
1. <span data-ttu-id="bf4d8-179">Erstellen Sie einen abstrakten *\<Typ >* AnimationBase-Klasse, die von <xref:System.Windows.Media.Animation.AnimationTimeline>abgeleitet ist.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-179">Create an abstract *\<Type>* AnimationBase class that derives from <xref:System.Windows.Media.Animation.AnimationTimeline>.</span></span> <span data-ttu-id="bf4d8-180">Diese Klasse sollte die <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A>-Methode überschreiben.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-180">This class should override the <xref:System.Windows.Media.Animation.AnimationTimeline.TargetPropertyType%2A> method.</span></span> <span data-ttu-id="bf4d8-181">Außerdem sollte eine neue abstrakte Methode, GetCurrentValueCore, eingeführt und <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> überschrieben werden, damit die Typen der Standard Ursprungs Werte und Standardzielwert-Parameter überprüft werden und dann GetCurrentValueCore aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-181">It should also introduce a new abstract method, GetCurrentValueCore, and override <xref:System.Windows.Media.Animation.AnimationTimeline.GetCurrentValue%2A> so that it validates the types of the default origin value and default destination value parameters, then calls GetCurrentValueCore.</span></span>  
  
2. <span data-ttu-id="bf4d8-182">Erstellen Sie eine weitere Klasse, die von Ihrem neuen *\<Typ >* AnimationBase-Klasse erbt, und überschreibt die <xref:System.Windows.Freezable.CreateInstanceCore%2A>-Methode, die von Ihnen eingeführte GetCurrentValueCore-Methode und die <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-182">Create another class that inherits from your new *\<Type>* AnimationBase class and overrides the <xref:System.Windows.Freezable.CreateInstanceCore%2A> method, the GetCurrentValueCore method that you introduced, and the <xref:System.Windows.Media.Animation.AnimationTimeline.IsDestinationDefault%2A> property.</span></span>  
  
 <span data-ttu-id="bf4d8-183">**Alternative Ansätze**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-183">**Alternative Approaches**</span></span>  
  
 <span data-ttu-id="bf4d8-184">Wenn Sie einen Typ animieren möchten, der keine entsprechende from/to/by-Animation oder Keyframe-Animation aufweist, sollten Sie eine <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>verwenden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-184">If you want to animate a type that has no corresponding From/To/By animation or key-frame animation, consider using an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames>.</span></span> <span data-ttu-id="bf4d8-185">Da es schwach typisiert ist, kann ein <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> jeden Werttyp animieren.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-185">Because it is weakly typed, an <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> can animate any type of value.</span></span> <span data-ttu-id="bf4d8-186">Der Nachteil dieses Ansatzes besteht darin, dass <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> nur diskrete Interpolationen unterstützt.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-186">The drawback to this approach is that <xref:System.Windows.Media.Animation.ObjectAnimationUsingKeyFrames> only supports discrete interpolation.</span></span>  
  
<a name="useperframecallback"></a>   
## <a name="use-per-frame-callback"></a><span data-ttu-id="bf4d8-187">Verwenden eines Pro-Frame-Rückrufs</span><span class="sxs-lookup"><span data-stu-id="bf4d8-187">Use Per-Frame Callback</span></span>  
 <span data-ttu-id="bf4d8-188">Verwenden Sie diesen Ansatz, wenn Sie das [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Animationssystem vollständig umgehen müssen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-188">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="bf4d8-189">Ein Szenario für diesen Ansatz sind Animationen in der Physik. Hier muss bei jedem Animationsschritt basierend auf dem letzten Satz von Objektinteraktionen eine neue Richtung oder Position des animierten Objekts berechnet werden.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-189">One scenario for this approach is physics animations, where at each animation step a new direction or position of animated objects needs to be recomputed based on the  last set of object interactions.</span></span>  
  
 <span data-ttu-id="bf4d8-190">**Implementierungsanweisungen**</span><span class="sxs-lookup"><span data-stu-id="bf4d8-190">**Implementation Instructions**</span></span>  
  
 <span data-ttu-id="bf4d8-191">Im Gegensatz zu den anderen in dieser Übersicht beschriebenen Methoden müssen Sie bei der Verwendung von Pro-Frame-Rückrufen keine benutzerdefinierte Animation oder Keyframe-Klasse erstellen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-191">Unlike the other approaches described in this overview, to use per-frame callback you don't need to create a custom animation or key frame class.</span></span>  
  
 <span data-ttu-id="bf4d8-192">Stattdessen registrieren Sie sich für das <xref:System.Windows.Media.CompositionTarget.Rendering>-Ereignis des Objekts, das die Objekte enthält, die Sie animieren möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-192">Instead, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="bf4d8-193">Diese Ereignishandlermethode wird einmal pro Frame aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-193">This event handler method gets called once per frame.</span></span> <span data-ttu-id="bf4d8-194">Immer wenn [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] die beibehaltenen Renderingdaten in der visuellen Struktur für die Kompositionsstruktur marshallt, wird die Ereignishandlermethode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-194">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="bf4d8-195">Führen Sie im Ereignishandler alle für den Animationseffekt erforderlichen Berechnungen durch, und legen Sie die Eigenschaften der Objekte fest, die Sie mit diesen Werten animieren möchten.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-195">In your event handler, perform your whatever calculations necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="bf4d8-196">Um die Präsentationszeit des aktuellen Frames zu erhalten, können die diesem Ereignis zugeordneten <xref:System.EventArgs> in <xref:System.Windows.Media.RenderingEventArgs>umgewandelt werden, die eine <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> Eigenschaft bereitstellen, mit der Sie die Renderingzeit des aktuellen Frames abrufen können.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-196">To obtain the presentation time of the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="bf4d8-197">Weitere Informationen finden Sie auf der Seite <xref:System.Windows.Media.CompositionTarget.Rendering>.</span><span class="sxs-lookup"><span data-stu-id="bf4d8-197">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="bf4d8-198">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="bf4d8-198">See also</span></span>

- <xref:System.Windows.Media.Animation.AnimationTimeline>
- <xref:System.Windows.Media.Animation.IKeyFrame>
- [<span data-ttu-id="bf4d8-199">Übersicht über die Verfahren zur Animation von Eigenschaften</span><span class="sxs-lookup"><span data-stu-id="bf4d8-199">Property Animation Techniques Overview</span></span>](property-animation-techniques-overview.md)
- [<span data-ttu-id="bf4d8-200">Übersicht über Freezable-Objekte</span><span class="sxs-lookup"><span data-stu-id="bf4d8-200">Freezable Objects Overview</span></span>](../advanced/freezable-objects-overview.md)
- [<span data-ttu-id="bf4d8-201">Übersicht über Keyframe-Animationen</span><span class="sxs-lookup"><span data-stu-id="bf4d8-201">Key-Frame Animations Overview</span></span>](key-frame-animations-overview.md)
- [<span data-ttu-id="bf4d8-202">Übersicht über Pfadanimationen</span><span class="sxs-lookup"><span data-stu-id="bf4d8-202">Path Animations Overview</span></span>](path-animations-overview.md)
- [<span data-ttu-id="bf4d8-203">Übersicht über Animationen</span><span class="sxs-lookup"><span data-stu-id="bf4d8-203">Animation Overview</span></span>](animation-overview.md)
- [<span data-ttu-id="bf4d8-204">Übersicht über das Animations- und Zeitsteuerungssystem</span><span class="sxs-lookup"><span data-stu-id="bf4d8-204">Animation and Timing System Overview</span></span>](animation-and-timing-system-overview.md)
- [<span data-ttu-id="bf4d8-205">Benutzerdefiniertes Animationsbeispiel</span><span class="sxs-lookup"><span data-stu-id="bf4d8-205">Custom Animation Sample</span></span>](https://github.com/Microsoft/WPF-Samples/tree/master/Animation/CustomAnimation)
