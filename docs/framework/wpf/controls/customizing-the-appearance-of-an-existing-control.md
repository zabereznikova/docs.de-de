---
title: Anpassen der Darstellung eines vorhandenen Steuerelements durch Erstellen einer ControlTemplate
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- control contract [WPF]
- controls [WPF], visual structure changes
- ControlTemplate [WPF], customizing for existing controls
- skinning controls [WPF]
- controls [WPF], appearance specified by state
- templates [WPF], custom for existing controls
ms.assetid: 678dd116-43a2-4b8c-82b5-6b826f126e31
ms.openlocfilehash: 5d4b16721dd8cabc5d662538274dcb82ab734cca
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/05/2019
ms.locfileid: "57375102"
---
# <a name="customizing-the-appearance-of-an-existing-control-by-creating-a-controltemplate"></a><span data-ttu-id="eed30-102">Anpassen der Darstellung eines vorhandenen Steuerelements durch Erstellen einer ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="eed30-102">Customizing the Appearance of an Existing Control by Creating a ControlTemplate</span></span>
<a name="introduction"></a> <span data-ttu-id="eed30-103">Ein <xref:System.Windows.Controls.ControlTemplate> gibt an, die visuelle Struktur und das visuelle Verhalten eines Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="eed30-103">A <xref:System.Windows.Controls.ControlTemplate> specifies the visual structure and visual behavior of a control.</span></span> <span data-ttu-id="eed30-104">Sie können die Darstellung eines Steuerelements anpassen, indem Sie erhalten ein neues <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-104">You can customize the appearance of a control by giving it a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-105">Bei der Erstellung einer <xref:System.Windows.Controls.ControlTemplate>, ersetzen Sie die Darstellung eines vorhandenen Steuerelements, ohne seine Funktionalität zu ändern.</span><span class="sxs-lookup"><span data-stu-id="eed30-105">When you create a <xref:System.Windows.Controls.ControlTemplate>, you replace the appearance of an existing control without changing its functionality.</span></span> <span data-ttu-id="eed30-106">Angenommen, Sie können festlegen, dass die Schaltflächen in Ihrer Anwendung rund und nicht standardmäßig quadratisch, die Schaltfläche wird jedoch trotzdem ausgelöst der <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis.</span><span class="sxs-lookup"><span data-stu-id="eed30-106">For example, you can make the buttons in your application round instead of the default square shape, but the button will still raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event.</span></span>  
  
 <span data-ttu-id="eed30-107">In diesem Thema wird erläutert, die verschiedenen Teile einer <xref:System.Windows.Controls.ControlTemplate>, veranschaulicht das Erstellen einer einfaches <xref:System.Windows.Controls.ControlTemplate> für eine <xref:System.Windows.Controls.Button>, und erläutert, wie Sie den Steuerelementvertrag eines Steuerelements zu verstehen, sodass Sie dessen Darstellung anpassen können.</span><span class="sxs-lookup"><span data-stu-id="eed30-107">This topic explains the various parts of a <xref:System.Windows.Controls.ControlTemplate>, demonstrates creating a simple <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>, and explains how to understand the control contract of a control so that you can customize its appearance.</span></span> <span data-ttu-id="eed30-108">Da Sie erstellen eine <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], Sie können die Darstellung eines Steuerelements ändern, ohne Code schreiben zu müssen.</span><span class="sxs-lookup"><span data-stu-id="eed30-108">Because you create a <xref:System.Windows.Controls.ControlTemplate> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], you can change a control's appearance without writing any code.</span></span> <span data-ttu-id="eed30-109">Benutzerdefinierte Steuerelementvorlagen können Sie auch mit Designern erstellen, z.B. mit dem Microsoft Expression Blend.</span><span class="sxs-lookup"><span data-stu-id="eed30-109">You can also use a designer, such as Microsoft Expression Blend, to create custom control templates.</span></span> <span data-ttu-id="eed30-110">In diesem Thema sind die Beispiele in den [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] zum Anpassen der Darstellung von einer <xref:System.Windows.Controls.Button> und im vollständige Beispiel am Ende des Themas aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="eed30-110">This topic shows examples in the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that customize the appearance of a <xref:System.Windows.Controls.Button> and lists the complete example at the end of the topic.</span></span> <span data-ttu-id="eed30-111">Weitere Informationen zum Verwenden von Expression Blend finden Sie unter [Formatieren eines Steuerelements, das Vorlagen unterstützt](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="eed30-111">For more information about using Expression Blend, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
 <span data-ttu-id="eed30-112">Die folgenden Abbildungen zeigen ein <xref:System.Windows.Controls.Button> , verwendet der <xref:System.Windows.Controls.ControlTemplate> , die in diesem Thema erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-112">The following illustrations show a <xref:System.Windows.Controls.Button> that uses the <xref:System.Windows.Controls.ControlTemplate> that is created in this topic.</span></span>  
  
 <span data-ttu-id="eed30-113">![Schaltfläche mit einer benutzerdefinierten Steuerelementvorlage. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="eed30-113">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="eed30-114">Eine Schaltfläche, die eine benutzerdefinierte Steuerelementvorlage verwendet</span><span class="sxs-lookup"><span data-stu-id="eed30-114">A button that uses a custom control template</span></span>  
  
 <span data-ttu-id="eed30-115">![Eine Schaltfläche mit einem roten Rahmen. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="eed30-115">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="eed30-116">Eine Schaltfläche, die eine benutzerdefinierte Steuerelementvorlage verwendet, und über der sich ein Mauszeiger befindet.</span><span class="sxs-lookup"><span data-stu-id="eed30-116">A button that uses a custom control template and has the mouse pointer over it</span></span>  
  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="eed30-117">Erforderliche Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="eed30-117">Prerequisites</span></span>  
 <span data-ttu-id="eed30-118">Es wird vorausgesetzt, dass Sie sich mit dem Erstellen und mit der Verwendung von Steuerelementen und Formaten auskennen. Anweisungen dazu finden Sie unter [Steuerelemente](index.md).</span><span class="sxs-lookup"><span data-stu-id="eed30-118">This topic assumes that you understand how to create and use controls and styles as discussed in [Controls](index.md).</span></span> <span data-ttu-id="eed30-119">Die in diesem Thema erläuterten Konzepte für Elemente, die von erben die <xref:System.Windows.Controls.Control> -Klasse, mit Ausnahme der <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="eed30-119">The concepts discussed in this topic apply to elements that inherit from the <xref:System.Windows.Controls.Control> class, except for the <xref:System.Windows.Controls.UserControl>.</span></span> <span data-ttu-id="eed30-120">Sie können nicht angewendet werden eine <xref:System.Windows.Controls.ControlTemplate> auf eine <xref:System.Windows.Controls.UserControl>.</span><span class="sxs-lookup"><span data-stu-id="eed30-120">You cannot apply a <xref:System.Windows.Controls.ControlTemplate> to a <xref:System.Windows.Controls.UserControl>.</span></span>  
  
<a name="when_you_should_create_a_controltemplate"></a>   
## <a name="when-you-should-create-a-controltemplate"></a><span data-ttu-id="eed30-121">Der richtige Zeitpunkt für das Erstellen einer ControlTemplate</span><span class="sxs-lookup"><span data-stu-id="eed30-121">When You Should Create a ControlTemplate</span></span>  
 <span data-ttu-id="eed30-122">Steuerelemente besitzen zahlreiche Eigenschaften, z. B. <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, und <xref:System.Windows.Controls.Control.FontFamily%2A>, die Sie können festlegen, um verschiedene Aspekte der Darstellung des Steuerelements anzugeben, die Änderungen, die Sie vornehmen können, durch Festlegen dieser Eigenschaften sind jedoch begrenzt.</span><span class="sxs-lookup"><span data-stu-id="eed30-122">Controls have many properties, such as <xref:System.Windows.Controls.Border.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontFamily%2A>, that you can set to specify different aspects of the control's appearance, but the changes that you can make by setting these properties are limited.</span></span> <span data-ttu-id="eed30-123">Sie können z. B. Festlegen der <xref:System.Windows.Controls.Control.Foreground%2A> Eigenschaft in Blau und <xref:System.Windows.Controls.Control.FontStyle%2A> auf kursiv auf eine <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="eed30-123">For example, you can set the <xref:System.Windows.Controls.Control.Foreground%2A> property to blue and <xref:System.Windows.Controls.Control.FontStyle%2A> to italic on a <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="eed30-124">Ohne die Möglichkeit zum Erstellen eines neuen <xref:System.Windows.Controls.ControlTemplate> für Steuerelemente, alle Steuerelemente jeder [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]--basierten Anwendung die gleiche Grundstruktur, die die Möglichkeit zum Erstellen einer Anwendung mit einem benutzerdefinierten Aussehen und Verhalten einschränken würden aufweisen.</span><span class="sxs-lookup"><span data-stu-id="eed30-124">Without the ability to create a new <xref:System.Windows.Controls.ControlTemplate> for controls, all controls in every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-based application would have the same general appearance, which would limit the ability to create an application with a custom look and feel.</span></span> <span data-ttu-id="eed30-125">In der Standardeinstellung alle <xref:System.Windows.Controls.CheckBox> verfügt über ähnliche Merkmale aufweisen.</span><span class="sxs-lookup"><span data-stu-id="eed30-125">By default, every <xref:System.Windows.Controls.CheckBox> has similar characteristics.</span></span> <span data-ttu-id="eed30-126">Z. B. den Inhalt der <xref:System.Windows.Controls.CheckBox> ist immer rechts vom Auswahlindikator, und das Häkchen wird immer verwendet, um anzugeben, dass die <xref:System.Windows.Controls.CheckBox> ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="eed30-126">For example, the content of the <xref:System.Windows.Controls.CheckBox> is always to the right of the selection indicator, and the check mark is always used to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="eed30-127">Sie erstellen eine <xref:System.Windows.Controls.ControlTemplate> beim Anpassen der Darstellung des Steuerelements, über welche Einstellung die anderen Eigenschaften des Steuerelements ausgeführt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="eed30-127">You create a <xref:System.Windows.Controls.ControlTemplate> when you want to customize the control's appearance beyond what setting the other properties on the control will do.</span></span> <span data-ttu-id="eed30-128">Im Beispiel für die <xref:System.Windows.Controls.CheckBox>, nehmen wir an, dass der Inhalt des Kontrollkästchens über dem Auswahlindikator sein soll, und Sie möchten ein "X" an, dass die <xref:System.Windows.Controls.CheckBox> ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="eed30-128">In the example of the <xref:System.Windows.Controls.CheckBox>, suppose that you want the content of the check box to be above the selection indicator and you want an X to indicate that the <xref:System.Windows.Controls.CheckBox> is selected.</span></span> <span data-ttu-id="eed30-129">Sie geben diese Änderungen in der <xref:System.Windows.Controls.ControlTemplate> von der <xref:System.Windows.Controls.CheckBox>.</span><span class="sxs-lookup"><span data-stu-id="eed30-129">You specify these changes in the <xref:System.Windows.Controls.ControlTemplate> of the <xref:System.Windows.Controls.CheckBox>.</span></span>  
  
 <span data-ttu-id="eed30-130">Die folgende Abbildung zeigt eine <xref:System.Windows.Controls.CheckBox> , verwendet den Standardwert <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-130">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a default <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 <span data-ttu-id="eed30-131">![Kontrollkästchen mit der Standardsteuerelementvorlage. ](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span><span class="sxs-lookup"><span data-stu-id="eed30-131">![A checkbox with the default control template.](./media/ndp-checkboxdefault.png "NDP_CheckBoxDefault")</span></span>  
<span data-ttu-id="eed30-132">Ein Kontrollkästchen, das die Standardsteuerelementvorlage verwendet</span><span class="sxs-lookup"><span data-stu-id="eed30-132">A CheckBox that uses the default control template</span></span>  
  
 <span data-ttu-id="eed30-133">Die folgende Abbildung zeigt eine <xref:System.Windows.Controls.CheckBox> , verwendet eine benutzerdefinierte <xref:System.Windows.Controls.ControlTemplate> , platzieren den Inhalt des der <xref:System.Windows.Controls.CheckBox> oberhalb der Auswahlindikator, und zeigt ein "X" bei der <xref:System.Windows.Controls.CheckBox> ausgewählt ist.</span><span class="sxs-lookup"><span data-stu-id="eed30-133">The following illustration shows a <xref:System.Windows.Controls.CheckBox> that uses a custom <xref:System.Windows.Controls.ControlTemplate> to place the content of the <xref:System.Windows.Controls.CheckBox> above the selection indicator and displays an X when the <xref:System.Windows.Controls.CheckBox> is selected.</span></span>  
  
 <span data-ttu-id="eed30-134">![Kontrollkästchen mit einer benutzerdefinierten Steuerelementvorlage. ](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span><span class="sxs-lookup"><span data-stu-id="eed30-134">![A checkbox with a custom control template.](./media/ndp-checkboxcustom.png "NDP_CheckBoxCustom")</span></span>  
<span data-ttu-id="eed30-135">Ein Kontrollkästchen, das eine benutzerdefinierte Steuerelementvorlage verwendet</span><span class="sxs-lookup"><span data-stu-id="eed30-135">A CheckBox that uses a custom control template</span></span>  
  
 <span data-ttu-id="eed30-136">Die <xref:System.Windows.Controls.ControlTemplate> für die <xref:System.Windows.Controls.CheckBox> in diesem Beispiel ist relativ komplex, daher wird verwendet, in diesem Thema ein einfacheres Beispiel zum Erstellen einer <xref:System.Windows.Controls.ControlTemplate> für eine <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="eed30-136">The <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.CheckBox> in this sample is relatively complex, so this topic uses a simpler example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button>.</span></span>  
  
<a name="changing_the_visual_structure_of_a_control"></a>   
## <a name="changing-the-visual-structure-of-a-control"></a><span data-ttu-id="eed30-137">Ändern der visuellen Struktur eines Steuerelements</span><span class="sxs-lookup"><span data-stu-id="eed30-137">Changing the Visual Structure of a Control</span></span>  
 <span data-ttu-id="eed30-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], ein Steuerelement ist häufig ein zusammengesetzter <xref:System.Windows.FrameworkElement> Objekte.</span><span class="sxs-lookup"><span data-stu-id="eed30-138">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], a control is often a composite <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="eed30-139">Bei der Erstellung einer <xref:System.Windows.Controls.ControlTemplate>, kombinieren Sie <xref:System.Windows.FrameworkElement> Objekte ein einzelnes Steuerelement zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="eed30-139">When you create a <xref:System.Windows.Controls.ControlTemplate>, you combine <xref:System.Windows.FrameworkElement> objects to build a single control.</span></span> <span data-ttu-id="eed30-140">Ein <xref:System.Windows.Controls.ControlTemplate> kann nur ein <xref:System.Windows.FrameworkElement> als Stammelement.</span><span class="sxs-lookup"><span data-stu-id="eed30-140">A <xref:System.Windows.Controls.ControlTemplate> must have only one <xref:System.Windows.FrameworkElement> as its root element.</span></span> <span data-ttu-id="eed30-141">Das Stammelement enthält in der Regel andere <xref:System.Windows.FrameworkElement> Objekte.</span><span class="sxs-lookup"><span data-stu-id="eed30-141">The root element usually contains other <xref:System.Windows.FrameworkElement> objects.</span></span> <span data-ttu-id="eed30-142">Die visuelle Struktur wird durch die Kombination dieser Objekte bestimmt.</span><span class="sxs-lookup"><span data-stu-id="eed30-142">The combination of objects makes up the control's visual structure.</span></span>  
  
 <span data-ttu-id="eed30-143">Das folgende Beispiel erstellt eine benutzerdefinierte <xref:System.Windows.Controls.ControlTemplate> für die <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="eed30-143">The following example creates a custom <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="eed30-144">Die <xref:System.Windows.Controls.ControlTemplate> erstellt die visuelle Struktur des der <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="eed30-144">The <xref:System.Windows.Controls.ControlTemplate> creates the visual structure of the <xref:System.Windows.Controls.Button>.</span></span> <span data-ttu-id="eed30-145">In diesem Beispiel wird die Darstellung der Schaltfläche nicht geändert, wenn Sie den Mauszeiger darüber bewegen oder sie anklicken.</span><span class="sxs-lookup"><span data-stu-id="eed30-145">This example does not change the button's appearance when you move the mouse pointer over it or click it.</span></span> <span data-ttu-id="eed30-146">Das Ändern der Darstellung einer Schaltfläche, die sich in einem anderen Zustand befindet, wird weiter unten in diesem Thema erläutert.</span><span class="sxs-lookup"><span data-stu-id="eed30-146">Changing the button's appearance when it is in a different state is discussed later in this topic.</span></span>  
  
 <span data-ttu-id="eed30-147">In diesem Beispiel besteht die visuelle Struktur aus den folgenden Bausteinen:</span><span class="sxs-lookup"><span data-stu-id="eed30-147">In this example, the visual structure consists of the following parts:</span></span>  
  
-   <span data-ttu-id="eed30-148">Ein <xref:System.Windows.Controls.Border> mit dem Namen `RootElement` , dient als Grundlage für die Vorlage Stamm <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="eed30-148">A <xref:System.Windows.Controls.Border> named `RootElement` that serves as the template's root <xref:System.Windows.FrameworkElement>.</span></span>  
  
-   <span data-ttu-id="eed30-149">Ein <xref:System.Windows.Controls.Grid> d. h. ein untergeordnetes Element des `RootElement`.</span><span class="sxs-lookup"><span data-stu-id="eed30-149">A <xref:System.Windows.Controls.Grid> that is a child of `RootElement`.</span></span>  
  
-   <span data-ttu-id="eed30-150">Ein <xref:System.Windows.Controls.ContentPresenter> , die den Inhalt der Schaltfläche anzeigt.</span><span class="sxs-lookup"><span data-stu-id="eed30-150">A <xref:System.Windows.Controls.ContentPresenter> that displays the button's content.</span></span> <span data-ttu-id="eed30-151">Die <xref:System.Windows.Controls.ContentPresenter> können beliebige Objekte angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-151">The <xref:System.Windows.Controls.ContentPresenter> enables any type of object to be displayed.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#BasicTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#basictemplate)]  
  
### <a name="preserving-the-functionality-of-a-controls-properties-by-using-templatebinding"></a><span data-ttu-id="eed30-152">Beibehalten der Funktionalität von Steuerelementeigenschaften durch die Verwendung von TemplateBinding</span><span class="sxs-lookup"><span data-stu-id="eed30-152">Preserving the Functionality of a Control's Properties by Using TemplateBinding</span></span>  
 <span data-ttu-id="eed30-153">Beim Erstellen einer neuen <xref:System.Windows.Controls.ControlTemplate>, trotzdem möchten die öffentlichen Eigenschaften verwenden, um die Darstellung des Steuerelements zu ändern.</span><span class="sxs-lookup"><span data-stu-id="eed30-153">When you create a new <xref:System.Windows.Controls.ControlTemplate>, you still might want to use the public properties to change the control's appearance.</span></span> <span data-ttu-id="eed30-154">Die [TemplateBinding](../advanced/templatebinding-markup-extension.md) Markuperweiterung bindet eine Eigenschaft eines Elements, das in der <xref:System.Windows.Controls.ControlTemplate> eine öffentliche Eigenschaft, die vom Steuerelement definiert ist.</span><span class="sxs-lookup"><span data-stu-id="eed30-154">The [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension binds a property of an element that is in the <xref:System.Windows.Controls.ControlTemplate> to a public property that is defined by the control.</span></span> <span data-ttu-id="eed30-155">Bei der Verwendung von [TemplateBinding](../advanced/templatebinding-markup-extension.md) können Steuerelementeigenschaften als Parameter der Vorlage fungieren.</span><span class="sxs-lookup"><span data-stu-id="eed30-155">When you use [TemplateBinding](../advanced/templatebinding-markup-extension.md), you enable properties on the control to act as parameters to the template.</span></span> <span data-ttu-id="eed30-156">D.h., beim Festlegen einer Steuerelementeigenschaft wird dieser Wert an das Element mit [TemplateBinding](../advanced/templatebinding-markup-extension.md) übergeben.</span><span class="sxs-lookup"><span data-stu-id="eed30-156">That is, when a property on a control is set, that value is passed on to the element that has the [TemplateBinding](../advanced/templatebinding-markup-extension.md) on it.</span></span>  
  
 <span data-ttu-id="eed30-157">Im folgende Beispiel wird der Teil des vorherigen Beispiels, das verwendet wiederholt die [TemplateBinding](../advanced/templatebinding-markup-extension.md) Markup Extension, um die Eigenschaften von Elementen zu binden, die in der <xref:System.Windows.Controls.ControlTemplate> an öffentliche Eigenschaften, die von der Schaltfläche definiert sind.</span><span class="sxs-lookup"><span data-stu-id="eed30-157">The following example repeats the part of the preceding example that uses the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the button.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#TemplateBinding](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#templatebinding)]  
  
 <span data-ttu-id="eed30-158">In diesem Beispiel die <xref:System.Windows.Controls.Grid> hat seine <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> eigenschaftsvorlage gebunden <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eed30-158">In this example, the <xref:System.Windows.Controls.Grid> has its <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> property template bound to <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="eed30-159">Da <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> ist vorlagengebunden ist, können Sie mehrere Schaltflächen, die die gleiche erstellen <xref:System.Windows.Controls.ControlTemplate> und legen Sie die <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> auf jede Schaltfläche unterschiedliche Werte.</span><span class="sxs-lookup"><span data-stu-id="eed30-159">Because <xref:System.Windows.Controls.Panel.Background%2A?displayProperty=nameWithType> is template bound, you can create multiple buttons that use the same <xref:System.Windows.Controls.ControlTemplate> and set the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> to different values on each button.</span></span> <span data-ttu-id="eed30-160">Wenn <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> wurde keine Vorlage gebunden an eine Eigenschaft eines Elements in der <xref:System.Windows.Controls.ControlTemplate>wird durch das Festlegen der <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> einer Schaltfläche würde haben keine Auswirkung auf die Darstellung der Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="eed30-160">If <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> was not template bound to a property of an element in the <xref:System.Windows.Controls.ControlTemplate>, setting the <xref:System.Windows.Controls.Control.Background%2A?displayProperty=nameWithType> of a button would have no impact on the button's appearance.</span></span>  
  
 <span data-ttu-id="eed30-161">Beachten Sie, dass die Namen der beiden Eigenschaften nicht identisch sein müssen.</span><span class="sxs-lookup"><span data-stu-id="eed30-161">Note that the names of the two properties do not need to be identical.</span></span> <span data-ttu-id="eed30-162">Im vorherigen Beispiel die <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> Eigenschaft der <xref:System.Windows.Controls.Button> Vorlage gebunden ist die <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> Eigenschaft der <xref:System.Windows.Controls.ContentPresenter>.</span><span class="sxs-lookup"><span data-stu-id="eed30-162">In the preceding example, the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.Button> is template bound to the <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType> property of the <xref:System.Windows.Controls.ContentPresenter>.</span></span> <span data-ttu-id="eed30-163">Dadurch kann der Inhalt der Schaltfläche horizontal positioniert werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-163">This enables the content of the button to be positioned horizontally.</span></span> <span data-ttu-id="eed30-164"><xref:System.Windows.Controls.ContentPresenter> verfügt nicht über eine Eigenschaft mit dem Namen `HorizontalContentAlignment`, aber <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> gebunden werden kann, um <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="eed30-164"><xref:System.Windows.Controls.ContentPresenter> does not have a property named `HorizontalContentAlignment`, but <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A?displayProperty=nameWithType> can be bound to <xref:System.Windows.FrameworkElement.HorizontalAlignment%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="eed30-165">Stellen Sie sicher, dass die Ziel und Quelleigenschaften dem selben Typ entsprechen, wenn Sie eine Eigenschaft an eine Vorlage binden.</span><span class="sxs-lookup"><span data-stu-id="eed30-165">When you template bind a property, be sure that the target and source properties are the same type.</span></span>  
  
 <span data-ttu-id="eed30-166">Die <xref:System.Windows.Controls.Control> -Klasse definiert mehrere Eigenschaften, die von der Steuerelementvorlage verwendet werden müssen, damit einen Effekt auf das Steuerelement aus, wenn sie festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-166">The <xref:System.Windows.Controls.Control> class defines several properties that must be used by the control template to have an effect on the control when they are set.</span></span> <span data-ttu-id="eed30-167">Wie die <xref:System.Windows.Controls.ControlTemplate> verwendet, die die Eigenschaft hängt von der Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="eed30-167">How the <xref:System.Windows.Controls.ControlTemplate> uses the property depends on the property.</span></span> <span data-ttu-id="eed30-168">Die <xref:System.Windows.Controls.ControlTemplate> müssen die Eigenschaft in einem der folgenden Methoden verwenden:</span><span class="sxs-lookup"><span data-stu-id="eed30-168">The <xref:System.Windows.Controls.ControlTemplate> must use the property in one of the following ways:</span></span>  
  
-   <span data-ttu-id="eed30-169">Ein Element in der <xref:System.Windows.Controls.ControlTemplate> Vorlage an die Eigenschaft gebunden.</span><span class="sxs-lookup"><span data-stu-id="eed30-169">An element in the <xref:System.Windows.Controls.ControlTemplate> template binds to the property.</span></span>  
  
-   <span data-ttu-id="eed30-170">Ein Element in der <xref:System.Windows.Controls.ControlTemplate> erbt die Eigenschaft von einem übergeordneten Element <xref:System.Windows.FrameworkElement>.</span><span class="sxs-lookup"><span data-stu-id="eed30-170">An element in the <xref:System.Windows.Controls.ControlTemplate> inherits the property from a parent <xref:System.Windows.FrameworkElement>.</span></span>  
  
 <span data-ttu-id="eed30-171">Die folgende Tabelle enthält die von einem Steuerelement geerbten visuellen Eigenschaften der <xref:System.Windows.Controls.Control> Klasse.</span><span class="sxs-lookup"><span data-stu-id="eed30-171">The following table lists the visual properties inherited by a control from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="eed30-172">In der Tabelle wird außerdem angegeben, ob die standardmäßige Steuerelementvorlage eines Steuerelements den geerbten Eigenschaftswert verwendet, oder ob er vorlagengebunden sein muss.</span><span class="sxs-lookup"><span data-stu-id="eed30-172">It also indicates whether the default control template of a control uses the inherited property value or if it must be template bound.</span></span>  
  
|<span data-ttu-id="eed30-173">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="eed30-173">Property</span></span>|<span data-ttu-id="eed30-174">Verwendete Methode</span><span class="sxs-lookup"><span data-stu-id="eed30-174">Usage method</span></span>|  
|--------------|------------------|  
|<xref:System.Windows.Controls.Control.Background%2A>|<span data-ttu-id="eed30-175">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-175">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderThickness%2A>|<span data-ttu-id="eed30-176">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-176">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.BorderBrush%2A>|<span data-ttu-id="eed30-177">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-177">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontFamily%2A>|<span data-ttu-id="eed30-178">Eigenschaftenvererbung oder Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-178">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontSize%2A>|<span data-ttu-id="eed30-179">Eigenschaftenvererbung oder Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-179">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontStretch%2A>|<span data-ttu-id="eed30-180">Eigenschaftenvererbung oder Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-180">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.FontWeight%2A>|<span data-ttu-id="eed30-181">Eigenschaftenvererbung oder Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-181">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Foreground%2A>|<span data-ttu-id="eed30-182">Eigenschaftenvererbung oder Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-182">Property inheritance or template binding</span></span>|  
|<xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A>|<span data-ttu-id="eed30-183">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-183">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.Padding%2A>|<span data-ttu-id="eed30-184">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-184">Template binding</span></span>|  
|<xref:System.Windows.Controls.Control.VerticalContentAlignment%2A>|<span data-ttu-id="eed30-185">Vorlagenbindung</span><span class="sxs-lookup"><span data-stu-id="eed30-185">Template binding</span></span>|  
  
 <span data-ttu-id="eed30-186">Die Tabelle enthält nur die visuellen Eigenschaften geerbt von der <xref:System.Windows.Controls.Control> Klasse.</span><span class="sxs-lookup"><span data-stu-id="eed30-186">The table lists only the visual properties inherited from the <xref:System.Windows.Controls.Control> class.</span></span> <span data-ttu-id="eed30-187">Abgesehen von den in der Tabelle aufgeführten Eigenschaften ein Steuerelements kann auch erben die <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, und <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> Eigenschaften vom übergeordneten FrameworkElement.</span><span class="sxs-lookup"><span data-stu-id="eed30-187">Apart from the properties listed in the table, a control may also inherit the <xref:System.Windows.FrameworkElement.DataContext%2A>, <xref:System.Windows.FrameworkElement.Language%2A>, and <xref:System.Windows.Controls.TextBlock.TextDecorations%2A> properties from the parent framework element.</span></span>  
  
 <span data-ttu-id="eed30-188">Auch wenn die <xref:System.Windows.Controls.ContentPresenter> befindet sich in der <xref:System.Windows.Controls.ControlTemplate> von eine <xref:System.Windows.Controls.ContentControl>, wird die <xref:System.Windows.Controls.ContentPresenter> bindet automatisch an die <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> und <xref:System.Windows.Controls.ContentControl.Content%2A> Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="eed30-188">Also, if the <xref:System.Windows.Controls.ContentPresenter> is in the <xref:System.Windows.Controls.ControlTemplate> of a <xref:System.Windows.Controls.ContentControl>, the <xref:System.Windows.Controls.ContentPresenter> will automatically bind to the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> and <xref:System.Windows.Controls.ContentControl.Content%2A> properties.</span></span> <span data-ttu-id="eed30-189">Ebenso ein <xref:System.Windows.Controls.ItemsPresenter> , die sich in der <xref:System.Windows.Controls.ControlTemplate> von einer <xref:System.Windows.Controls.ItemsControl> bindet automatisch an die <xref:System.Windows.Controls.ItemsControl.Items%2A> und <xref:System.Windows.Controls.ItemsPresenter> Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="eed30-189">Likewise, an <xref:System.Windows.Controls.ItemsPresenter> that is in the <xref:System.Windows.Controls.ControlTemplate> of an <xref:System.Windows.Controls.ItemsControl> will automatically bind to the <xref:System.Windows.Controls.ItemsControl.Items%2A> and <xref:System.Windows.Controls.ItemsPresenter> properties.</span></span>  
  
 <span data-ttu-id="eed30-190">Das folgende Beispiel erstellt zwei Schaltflächen, mit denen die <xref:System.Windows.Controls.ControlTemplate> im vorherigen Beispiel definiert.</span><span class="sxs-lookup"><span data-stu-id="eed30-190">The following example creates two buttons that use the <xref:System.Windows.Controls.ControlTemplate> defined in the preceding example.</span></span> <span data-ttu-id="eed30-191">Im Beispiel wird die <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, und <xref:System.Windows.Controls.Control.FontSize%2A> Eigenschaften für jede Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="eed30-191">The example sets the <xref:System.Windows.Controls.Control.Background%2A>, <xref:System.Windows.Controls.Control.Foreground%2A>, and <xref:System.Windows.Controls.Control.FontSize%2A> properties on each button.</span></span> <span data-ttu-id="eed30-192">Festlegen der <xref:System.Windows.Controls.Control.Background%2A> Eigenschaft hat Auswirkungen, da er vorlagengebunden ist die <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-192">Setting the <xref:System.Windows.Controls.Control.Background%2A> property has an effect because it is template bound in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-193">Obwohl die <xref:System.Windows.Controls.Control.Foreground%2A> und <xref:System.Windows.Controls.Control.FontSize%2A> Eigenschaften nicht vorlagengebunden sind, diese Einstellung hat Auswirkungen, da ihre Werte geerbt werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-193">Even though the <xref:System.Windows.Controls.Control.Foreground%2A> and <xref:System.Windows.Controls.Control.FontSize%2A> properties are not template bound, setting them has an effect because their values are inherited.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ButtonDeclaration](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#buttondeclaration)]  
  
 <span data-ttu-id="eed30-194">Das Ergebnis des vorhergehenden Beispiels ähnelt der folgenden Abbildung.</span><span class="sxs-lookup"><span data-stu-id="eed30-194">The preceding example produces output that is similar to the following illustration.</span></span>  
  
 <span data-ttu-id="eed30-195">![Zwei Schaltflächen, eine blaue und eine violette. ](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span><span class="sxs-lookup"><span data-stu-id="eed30-195">![Two buttons, one blue and one purple.](./media/ndp-buttontwo.png "NDP_ButtonTwo")</span></span>  
<span data-ttu-id="eed30-196">Zwei Schaltflächen mit unterschiedlichen Hintergrundfarben</span><span class="sxs-lookup"><span data-stu-id="eed30-196">Two buttons with different background colors</span></span>  
  
<a name="changing_the_appearance_of_a_control_depending_on_its_state"></a>   
## <a name="changing-the-appearance-of-a-control-depending-on-its-state"></a><span data-ttu-id="eed30-197">Ändern der Darstellung eines Steuerelements in Abhängigkeit von dessen Zustand</span><span class="sxs-lookup"><span data-stu-id="eed30-197">Changing the Appearance of a Control Depending on Its State</span></span>  
 <span data-ttu-id="eed30-198">Der Unterschied zwischen einer Schaltfläche in der Standarddarstellung und der Schaltfläche aus dem vorhergehenden Beispiel besteht darin, dass die Darstellung der Standardschaltfläche je nach Zustand leicht geändert wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-198">The difference between a button with its default appearance and the button in the preceding example is that the default button subtly changes when it is in different states.</span></span> <span data-ttu-id="eed30-199">So wird zum Beispiel die Standarddarstellung der Schaltfläche geändert, wenn sie angeklickt wird, oder wenn sich der Mauszeiger über der Schaltfläche befindet.</span><span class="sxs-lookup"><span data-stu-id="eed30-199">For example, the default button's appearance changes when the button is pressed, or when the mouse pointer is over the button.</span></span> <span data-ttu-id="eed30-200">Obwohl die <xref:System.Windows.Controls.ControlTemplate> ändert sich nicht auf die Funktionalität eines Steuerelements, ändert sich das Verhalten des Steuerelements visual.</span><span class="sxs-lookup"><span data-stu-id="eed30-200">Although the <xref:System.Windows.Controls.ControlTemplate> does not change the functionality of a control, it does change the control's visual behavior.</span></span> <span data-ttu-id="eed30-201">Das visuelle Verhalten beschreibt die Darstellung des Steuerelements in bestimmten Zuständen.</span><span class="sxs-lookup"><span data-stu-id="eed30-201">A visual behavior describes the control appearance when it is in a certain state.</span></span> <span data-ttu-id="eed30-202">Betrachten Sie das Schaltflächenbeispiel, um den Unterschied zwischen der Funktionalität und dem visuellen Verhalten besser zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="eed30-202">To understand the difference between the functionality and visual behavior of a control, consider the button example.</span></span> <span data-ttu-id="eed30-203">Die Funktionalität der Schaltfläche wird zum Auslösen der <xref:System.Windows.Controls.Primitives.ButtonBase.Click> Ereignis aus, wenn sie angeklickt wird, aber visuelles Verhalten der Schaltfläche ist, dessen Darstellung geändert wird, wenn sie auf den verwiesen wird oder gedrückt wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-203">The button's functionality is to raise the <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event when it is clicked, but the button's visual behavior is to change its appearance when it is pointed to or pressed.</span></span>  
  
 <span data-ttu-id="eed30-204">Verwenden Sie <xref:System.Windows.VisualState> Objekte, die die Darstellung eines Steuerelements anzugeben, wenn es in einem bestimmten Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="eed30-204">You use <xref:System.Windows.VisualState> objects to specify the appearance of a control when it is in a certain state.</span></span> <span data-ttu-id="eed30-205">Ein <xref:System.Windows.VisualState> enthält eine <xref:System.Windows.Media.Animation.Storyboard> , ändert es sich um die Darstellung der Elemente, die in der <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-205">A <xref:System.Windows.VisualState> contains a <xref:System.Windows.Media.Animation.Storyboard> that changes the appearance of the elements that are in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-206">Sie müssen nicht da aufgrund der Logik des Steuerelements mithilfe von Zustandsänderungen Code schreiben, die <xref:System.Windows.VisualStateManager>.</span><span class="sxs-lookup"><span data-stu-id="eed30-206">You do not have to write any code to make this occur because the control's logic changes state by using the <xref:System.Windows.VisualStateManager>.</span></span> <span data-ttu-id="eed30-207">Wenn das Steuerelement den Zustand, der angegebenen eingibt der <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> -Eigenschaft, die <xref:System.Windows.Media.Animation.Storyboard> beginnt.</span><span class="sxs-lookup"><span data-stu-id="eed30-207">When the control enters the state that is specified by the <xref:System.Windows.VisualState.Name%2A?displayProperty=nameWithType> property, the <xref:System.Windows.Media.Animation.Storyboard> begins.</span></span> <span data-ttu-id="eed30-208">Wenn das Steuerelement den Zustand verlässt die <xref:System.Windows.Media.Animation.Storyboard> beendet.</span><span class="sxs-lookup"><span data-stu-id="eed30-208">When the control exits the state, the <xref:System.Windows.Media.Animation.Storyboard> stops.</span></span>  
  
 <span data-ttu-id="eed30-209">Das folgende Beispiel zeigt die <xref:System.Windows.VisualState> , ändert es sich um die Darstellung einer <xref:System.Windows.Controls.Button> Wenn der Mauszeiger darüber befindet.</span><span class="sxs-lookup"><span data-stu-id="eed30-209">The following example shows the <xref:System.Windows.VisualState> that changes the appearance of a <xref:System.Windows.Controls.Button> when the mouse pointer is over it.</span></span> <span data-ttu-id="eed30-210">Die <xref:System.Windows.Media.Animation.Storyboard> ändert die Rahmenfarbe der Schaltfläche durch Ändern der Farbe der `BorderBrush`.</span><span class="sxs-lookup"><span data-stu-id="eed30-210">The <xref:System.Windows.Media.Animation.Storyboard> changes the button's border color by changing the color of the `BorderBrush`.</span></span> <span data-ttu-id="eed30-211">Wenn Sie in finden der <xref:System.Windows.Controls.ControlTemplate> Beispiel am Anfang dieses Themas, erinnern Sie sich `BorderBrush` ist der Name des der <xref:System.Windows.Media.SolidColorBrush> , zugewiesen ist die <xref:System.Windows.Controls.Border.Background%2A> von der <xref:System.Windows.Controls.Border>.</span><span class="sxs-lookup"><span data-stu-id="eed30-211">If you refer to the <xref:System.Windows.Controls.ControlTemplate> example at the beginning of this topic, you will recall that `BorderBrush` is the name of the <xref:System.Windows.Media.SolidColorBrush> that is assigned to the <xref:System.Windows.Controls.Border.Background%2A> of the <xref:System.Windows.Controls.Border>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#4](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#4)]  
  
 <span data-ttu-id="eed30-212">Die Zustände werden für ein Steuerelement innerhalb des Steuerelementvertrags definiert. Weitere Informationen diesbezüglich finden Sie im weiteren Verlauf dieses Themas unter [Anpassen von anderen Steuerelementen mit Steuerelementverträgen](#customizing_other_controls_by_understanding_the_control_contract).</span><span class="sxs-lookup"><span data-stu-id="eed30-212">The control is responsible for defining the states as part of its control contract, which is discussed in detail in [Customizing Other Controls by Understanding the Control Contract](#customizing_other_controls_by_understanding_the_control_contract) later in this topic.</span></span> <span data-ttu-id="eed30-213">Die folgende Tabelle enthält die Zustände, die für die angegeben sind die <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="eed30-213">The following table lists the states that are specified for the <xref:System.Windows.Controls.Button>.</span></span>  
  
|<span data-ttu-id="eed30-214">VisualState-Name</span><span class="sxs-lookup"><span data-stu-id="eed30-214">VisualState Name</span></span>|<span data-ttu-id="eed30-215">VisualStateGroup-Name</span><span class="sxs-lookup"><span data-stu-id="eed30-215">VisualStateGroup Name</span></span>|<span data-ttu-id="eed30-216">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="eed30-216">Description</span></span>|  
|----------------------|---------------------------|-----------------|  
|<span data-ttu-id="eed30-217">Normal</span><span class="sxs-lookup"><span data-stu-id="eed30-217">Normal</span></span>|<span data-ttu-id="eed30-218">CommonStates</span><span class="sxs-lookup"><span data-stu-id="eed30-218">CommonStates</span></span>|<span data-ttu-id="eed30-219">Der Standardzustand</span><span class="sxs-lookup"><span data-stu-id="eed30-219">The default state.</span></span>|  
|<span data-ttu-id="eed30-220">MouseOver</span><span class="sxs-lookup"><span data-stu-id="eed30-220">MouseOver</span></span>|<span data-ttu-id="eed30-221">CommonStates</span><span class="sxs-lookup"><span data-stu-id="eed30-221">CommonStates</span></span>|<span data-ttu-id="eed30-222">Der Mauszeiger ist über dem Steuerelement positioniert.</span><span class="sxs-lookup"><span data-stu-id="eed30-222">The mouse pointer is positioned over the control.</span></span>|  
|<span data-ttu-id="eed30-223">Gedrückt</span><span class="sxs-lookup"><span data-stu-id="eed30-223">Pressed</span></span>|<span data-ttu-id="eed30-224">CommonStates</span><span class="sxs-lookup"><span data-stu-id="eed30-224">CommonStates</span></span>|<span data-ttu-id="eed30-225">Das Steuerelement wird gedrückt.</span><span class="sxs-lookup"><span data-stu-id="eed30-225">The control is pressed.</span></span>|  
|<span data-ttu-id="eed30-226">Deaktiviert</span><span class="sxs-lookup"><span data-stu-id="eed30-226">Disabled</span></span>|<span data-ttu-id="eed30-227">CommonStates</span><span class="sxs-lookup"><span data-stu-id="eed30-227">CommonStates</span></span>|<span data-ttu-id="eed30-228">Das Steuerelement ist deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="eed30-228">The control is disabled.</span></span>|  
|<span data-ttu-id="eed30-229">Focused</span><span class="sxs-lookup"><span data-stu-id="eed30-229">Focused</span></span>|<span data-ttu-id="eed30-230">FocusStates</span><span class="sxs-lookup"><span data-stu-id="eed30-230">FocusStates</span></span>|<span data-ttu-id="eed30-231">Der Fokus liegt auf dem Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="eed30-231">The control has focus.</span></span>|  
|<span data-ttu-id="eed30-232">Ohne Fokus</span><span class="sxs-lookup"><span data-stu-id="eed30-232">Unfocused</span></span>|<span data-ttu-id="eed30-233">FocusStates</span><span class="sxs-lookup"><span data-stu-id="eed30-233">FocusStates</span></span>|<span data-ttu-id="eed30-234">Der Fokus liegt nicht auf dem Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="eed30-234">The control does not have focus.</span></span>|  
  
 <span data-ttu-id="eed30-235">Die <xref:System.Windows.Controls.Button> definiert zwei Zustandsgruppen: die `CommonStates` Gruppe enthält die `Normal`, `MouseOver`, `Pressed`, und `Disabled` Zustände.</span><span class="sxs-lookup"><span data-stu-id="eed30-235">The <xref:System.Windows.Controls.Button> defines two state groups: the `CommonStates` group contains the `Normal`, `MouseOver`, `Pressed`, and `Disabled` states.</span></span> <span data-ttu-id="eed30-236">Die Gruppe `FocusStates` enthält die Zustände `Focused` und `Unfocused`.</span><span class="sxs-lookup"><span data-stu-id="eed30-236">The `FocusStates` group contains the `Focused` and `Unfocused` states.</span></span> <span data-ttu-id="eed30-237">Zustände innerhalb einer Zustandsgruppe schließen sich gegenseitig aus.</span><span class="sxs-lookup"><span data-stu-id="eed30-237">States in the same state group are mutually exclusive.</span></span> <span data-ttu-id="eed30-238">Das Steuerelement befindet sich immer in genau einem Zustand aus jeder Gruppe.</span><span class="sxs-lookup"><span data-stu-id="eed30-238">The control is always in exactly one state per group.</span></span> <span data-ttu-id="eed30-239">Z. B. eine <xref:System.Windows.Controls.Button> kann den Fokus haben, selbst wenn der Mauszeiger nicht, also eine <xref:System.Windows.Controls.Button> in die `Focused` Zustand kann sein, der `MouseOver`, `Pressed`, oder `Normal` Zustand.</span><span class="sxs-lookup"><span data-stu-id="eed30-239">For example, a <xref:System.Windows.Controls.Button> can have focus even when the mouse pointer is not over it, so a <xref:System.Windows.Controls.Button> in the `Focused` state can be in the `MouseOver`, `Pressed`, or `Normal` state.</span></span>  
  
 <span data-ttu-id="eed30-240">Sie fügen <xref:System.Windows.VisualState> Objekte <xref:System.Windows.VisualStateGroup> Objekte.</span><span class="sxs-lookup"><span data-stu-id="eed30-240">You add <xref:System.Windows.VisualState> objects to <xref:System.Windows.VisualStateGroup> objects.</span></span> <span data-ttu-id="eed30-241">Sie fügen <xref:System.Windows.VisualStateGroup> Objekte die <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> angefügte Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="eed30-241">You add <xref:System.Windows.VisualStateGroup> objects to the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property.</span></span> <span data-ttu-id="eed30-242">Das folgende Beispiel definiert die <xref:System.Windows.VisualState> von Objekten für die `Normal`, `MouseOver`, und `Pressed` Zustände, die sich alle in der `CommonStates` Gruppe.</span><span class="sxs-lookup"><span data-stu-id="eed30-242">The following example defines the <xref:System.Windows.VisualState> objects for the `Normal`, `MouseOver`, and `Pressed` states, which are all in the `CommonStates` group.</span></span> <span data-ttu-id="eed30-243">Die <xref:System.Windows.VisualState.Name%2A> aller <xref:System.Windows.VisualState> entspricht dem Namen in der obigen Tabelle.</span><span class="sxs-lookup"><span data-stu-id="eed30-243">The <xref:System.Windows.VisualState.Name%2A> of each <xref:System.Windows.VisualState> matches the name in the preceding table.</span></span> <span data-ttu-id="eed30-244">Der Zustand `Disabled` sowie die Zustände der `FocusStates`-Gruppe wurden ausgelassen, um das Beispiel kurz zu halten. Sie werden jedoch vom vollständigen Beispiel am Ende dieses Themas umfasst.</span><span class="sxs-lookup"><span data-stu-id="eed30-244">The `Disabled` state and the states in the `FocusStates` group are omitted to keep the example short, but they are included in the entire example at the end of this topic.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="eed30-245">Werden Sie sicher, dass die <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> angefügte Eigenschaft im Stammelement <xref:System.Windows.FrameworkElement> von der <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-245">Be sure to set the <xref:System.Windows.VisualStateManager.VisualStateGroups%2A?displayProperty=nameWithType> attached property on the root <xref:System.Windows.FrameworkElement> of the <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualStates](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualstates)]  
  
 <span data-ttu-id="eed30-246">Das Ergebnis des vorhergehenden Beispiels ähnelt den folgenden Abbildungen.</span><span class="sxs-lookup"><span data-stu-id="eed30-246">The preceding example produces output that is similar to the following illustrations.</span></span>  
  
 <span data-ttu-id="eed30-247">![Schaltfläche mit einer benutzerdefinierten Steuerelementvorlage. ](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span><span class="sxs-lookup"><span data-stu-id="eed30-247">![A button with a custom control template.](./media/ndp-buttonnormal.png "NDP_ButtonNormal")</span></span>  
<span data-ttu-id="eed30-248">Eine Schaltfläche, die eine benutzerdefinierte Steuerelementvorlage verwendet</span><span class="sxs-lookup"><span data-stu-id="eed30-248">A button that uses a custom control template in the normal state</span></span>  
  
 <span data-ttu-id="eed30-249">![Eine Schaltfläche mit einem roten Rahmen. ](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span><span class="sxs-lookup"><span data-stu-id="eed30-249">![A button with a red border.](./media/ndp-buttonmouseover.png "NDP_ButtonMouseOver")</span></span>  
<span data-ttu-id="eed30-250">Eine Schaltfläche, die eine benutzerdefinierte Steuerelementvorlage verwendet, wenn darüber sich der Mauszeiger befindet</span><span class="sxs-lookup"><span data-stu-id="eed30-250">A button that uses a custom control template in the mouse over state</span></span>  
  
 <span data-ttu-id="eed30-251">![Der Rahmen ist auf die Schaltfläche transparent. ](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span><span class="sxs-lookup"><span data-stu-id="eed30-251">![The border is transparent on a pressed button.](./media/ndp-buttonpressed.png "NDP_ButtonPressed")</span></span>  
<span data-ttu-id="eed30-252">Eine Schaltfläche, die eine benutzerdefinierte Steuerelementvorlage verwendet, wenn sie gedrückt wird</span><span class="sxs-lookup"><span data-stu-id="eed30-252">A button that uses a custom control template in the pressed state</span></span>  
  
 <span data-ttu-id="eed30-253">Die visuellen Zustände für [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Steuerelemente finden Sie unter [Steuerelementformate und -vorlagen](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="eed30-253">To find the visual states for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
<a name="specifying_the_behavior_of_a_control_when_it_transitions_between_states"></a>   
## <a name="specifying-the-behavior-of-a-control-when-it-transitions-between-states"></a><span data-ttu-id="eed30-254">Festlegen des Steuerelementverhaltens beim Wechsel zwischen Zuständen</span><span class="sxs-lookup"><span data-stu-id="eed30-254">Specifying the Behavior of a Control When It Transitions Between States</span></span>  
 <span data-ttu-id="eed30-255">Im vorhergehenden Beispiel wird die Darstellung der Schaltfläche auch beim Anklicken der Schaltfläche geändert. Diesen Effekt sieht der Nutzer allerdings nicht, falls die Schaltfläche kürzer als eine ganze Sekunde lang gedrückt wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-255">In the preceding example, the appearance of the button also changes when the user clicks it, but unless the button is pressed for a full second, the user does not see the effect.</span></span> <span data-ttu-id="eed30-256">Standardmäßig wird die Animation nach einer Sekunde sichtbar.</span><span class="sxs-lookup"><span data-stu-id="eed30-256">By default, the animation takes one second to occur.</span></span> <span data-ttu-id="eed30-257">Da Benutzer wahrscheinlich anklicken und eine Schaltfläche in viel geringerer Zeit, das visuelle Feedback nicht werden wirksam, wenn Sie lassen die <xref:System.Windows.Controls.ControlTemplate> im Standardzustand.</span><span class="sxs-lookup"><span data-stu-id="eed30-257">Because users are likely to click and release a button in much less time, the visual feedback will not be effective if you leave the <xref:System.Windows.Controls.ControlTemplate> in its default state.</span></span>  
  
 <span data-ttu-id="eed30-258">Sie können angeben, die Menge an Zeit, die eine Animation, um ein Steuerelement von einem Zustand in einen anderen reibungslos durch Hinzufügen von Übergang <xref:System.Windows.VisualTransition> Objekte die <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-258">You can specify the amount of time that it takes an animation to occur to smoothly transition a control from one state to another by adding <xref:System.Windows.VisualTransition> objects to the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-259">Bei der Erstellung einer <xref:System.Windows.VisualTransition>, Sie einen oder mehrere der folgenden angeben:</span><span class="sxs-lookup"><span data-stu-id="eed30-259">When you create a <xref:System.Windows.VisualTransition>, you specify one or more of the following:</span></span>  
  
-   <span data-ttu-id="eed30-260">Die Zeitspanne für einen Wechsel zwischen Zuständen.</span><span class="sxs-lookup"><span data-stu-id="eed30-260">The time it takes for a transition between states to occur.</span></span>  
  
-   <span data-ttu-id="eed30-261">Zusätzliche Änderungen der Darstellung des Steuerelements im Moment des Übergangs.</span><span class="sxs-lookup"><span data-stu-id="eed30-261">Additional changes in the control's appearance that occur at the time of the transition.</span></span>  
  
-   <span data-ttu-id="eed30-262">Welche Status die <xref:System.Windows.VisualTransition> auf angewendet wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-262">Which states the <xref:System.Windows.VisualTransition> is applied to.</span></span>  
  
### <a name="specifying-the-duration-of-a-transition"></a><span data-ttu-id="eed30-263">Festlegen der Dauer eines Übergangs</span><span class="sxs-lookup"><span data-stu-id="eed30-263">Specifying the Duration of a Transition</span></span>  
 <span data-ttu-id="eed30-264">Sie können angeben, wie lange dauert ein Übergang durch Festlegen der <xref:System.Windows.VisualTransition.GeneratedDuration%2A> Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="eed30-264">You can specify how long a transition takes by setting the <xref:System.Windows.VisualTransition.GeneratedDuration%2A> property.</span></span> <span data-ttu-id="eed30-265">Im vorherige Beispiel wurde eine <xref:System.Windows.VisualState> , der angibt, dass der Rahmen der Schaltfläche wird transparent, wenn die Schaltfläche gedrückt wird, aber die Animation erfordert zu viel Zeit erkennbar, wenn die schnell gedrückt und losgelassen wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-265">The preceding example has a <xref:System.Windows.VisualState> that specifies that the button's border becomes transparent when the button is pressed, but the animation takes too long to be noticeable if the button is quickly pressed and released.</span></span> <span data-ttu-id="eed30-266">Sie können eine <xref:System.Windows.VisualTransition> an die Zeitspanne, während das Steuerelement für den Übergang in den gedrückten Zustand dauert.</span><span class="sxs-lookup"><span data-stu-id="eed30-266">You can use a <xref:System.Windows.VisualTransition> to specify the amount of time it takes the control to transition into the pressed state.</span></span> <span data-ttu-id="eed30-267">Im folgenden Beispiel wird die Zeitspanne für den Übergang in den gedrückten Zustand auf eine Hundertstelsekunde festgelegt.</span><span class="sxs-lookup"><span data-stu-id="eed30-267">The following example specifies that the control takes one hundredth of a second to go into the pressed state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#PressedTransition](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#pressedtransition)]  
  
### <a name="specifying-changes-to-the-controls-appearance-during-a-transition"></a><span data-ttu-id="eed30-268">Festlegen von Änderungen an der Darstellung der Steuerelemente während eines Übergangs</span><span class="sxs-lookup"><span data-stu-id="eed30-268">Specifying Changes to the Control's Appearance During a Transition</span></span>  
 <span data-ttu-id="eed30-269">Die <xref:System.Windows.VisualTransition> enthält eine <xref:System.Windows.Media.Animation.Storyboard> , beginnt, wenn das Steuerelement den Zustand wechselt.</span><span class="sxs-lookup"><span data-stu-id="eed30-269">The <xref:System.Windows.VisualTransition> contains a <xref:System.Windows.Media.Animation.Storyboard> that begins when the control transitions between states.</span></span> <span data-ttu-id="eed30-270">Sie können beispielsweise eine bestimmte Animation festlegen, die bei einem Übergang aus dem Zustand `MouseOver` in den Zustand `Normal` angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-270">For example, you can specify that a certain animation occurs when the control transitions from the `MouseOver` state to the `Normal` State.</span></span> <span data-ttu-id="eed30-271">Das folgende Beispiel erstellt eine <xref:System.Windows.VisualTransition> , der angibt, dass wenn der Benutzer den Mauszeiger von der Schaltfläche weg bewegt, der Rahmen der Schaltfläche blau über Gelb und dann auf Schwarz festgelegt, in 1,5 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="eed30-271">The following example creates a <xref:System.Windows.VisualTransition> that specifies that when the user moves the mouse pointer away from the button, the button's border changes to blue, then to yellow, then to black in 1.5 seconds.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#8](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#8)]  
  
### <a name="specifying-when-a-visualtransition-is-applied"></a><span data-ttu-id="eed30-272">Festlegen der Bedingungen für einen visuellen Übergang</span><span class="sxs-lookup"><span data-stu-id="eed30-272">Specifying When a VisualTransition Is Applied</span></span>  
 <span data-ttu-id="eed30-273">Ein <xref:System.Windows.VisualTransition> beschränkt auf bestimmte Zustände angewendet werden, oder auch jedes Mal, wenn Übergänge zwischen Zuständen.</span><span class="sxs-lookup"><span data-stu-id="eed30-273">A <xref:System.Windows.VisualTransition> can be restricted to apply to only certain states, or it can be applied any time the control transitions between states.</span></span> <span data-ttu-id="eed30-274">Im vorherigen Beispiel der <xref:System.Windows.VisualTransition> wird angewendet, wenn das Steuerelement von wird die `MouseOver` Zustand der `Normal` Zustand im Beispiel müssen Sie zuerst die <xref:System.Windows.VisualTransition> wird angewendet, wenn das Steuerelement in den die `Pressed` Zustand.</span><span class="sxs-lookup"><span data-stu-id="eed30-274">In the preceding example, the <xref:System.Windows.VisualTransition> is applied when the control goes from the `MouseOver` state to the `Normal` state; in the example before that, the <xref:System.Windows.VisualTransition> is applied when the control goes into the `Pressed` state.</span></span> <span data-ttu-id="eed30-275">Schränken Sie ein <xref:System.Windows.VisualTransition> angewendet wird, durch Festlegen der <xref:System.Windows.VisualTransition.To%2A> und <xref:System.Windows.VisualTransition.From%2A> Eigenschaften.</span><span class="sxs-lookup"><span data-stu-id="eed30-275">You restrict when a <xref:System.Windows.VisualTransition> is applied by setting the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties.</span></span> <span data-ttu-id="eed30-276">In der folgenden Tabelle sind die Beschränkungsebenen aufgelistet, von der restriktivsten bis zu der am wenigsten restriktiven.</span><span class="sxs-lookup"><span data-stu-id="eed30-276">The following table describes the levels of restriction from most restrictive to least restrictive.</span></span>  
  
|<span data-ttu-id="eed30-277">Art der Einschränkung</span><span class="sxs-lookup"><span data-stu-id="eed30-277">Type of restriction</span></span>|<span data-ttu-id="eed30-278">From-Wert</span><span class="sxs-lookup"><span data-stu-id="eed30-278">Value of From</span></span>|<span data-ttu-id="eed30-279">To-Wert</span><span class="sxs-lookup"><span data-stu-id="eed30-279">Value of To</span></span>|  
|-------------------------|-------------------|-----------------|  
|<span data-ttu-id="eed30-280">Aus einem angegebenen Zustand in einen anderen angegebenen Zustand</span><span class="sxs-lookup"><span data-stu-id="eed30-280">From a specified state to another specified state</span></span>|<span data-ttu-id="eed30-281">Der Name des ein <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="eed30-281">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="eed30-282">Der Name des ein <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="eed30-282">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="eed30-283">Aus einem beliebigen Zustand in einen angegebenen Zustand</span><span class="sxs-lookup"><span data-stu-id="eed30-283">From any state to a specified state</span></span>|<span data-ttu-id="eed30-284">Nicht festgelegt</span><span class="sxs-lookup"><span data-stu-id="eed30-284">Not set</span></span>|<span data-ttu-id="eed30-285">Der Name des ein <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="eed30-285">The name of a <xref:System.Windows.VisualState></span></span>|  
|<span data-ttu-id="eed30-286">Aus einem angegebenen Zustand in einen beliebigen Zustand</span><span class="sxs-lookup"><span data-stu-id="eed30-286">From a specified state to any state</span></span>|<span data-ttu-id="eed30-287">Der Name des ein <xref:System.Windows.VisualState></span><span class="sxs-lookup"><span data-stu-id="eed30-287">The name of a <xref:System.Windows.VisualState></span></span>|<span data-ttu-id="eed30-288">Nicht festgelegt</span><span class="sxs-lookup"><span data-stu-id="eed30-288">Not set</span></span>|  
|<span data-ttu-id="eed30-289">Aus einem beliebigen Zustand in einen beliebigen Zustand</span><span class="sxs-lookup"><span data-stu-id="eed30-289">From any state to any other state</span></span>|<span data-ttu-id="eed30-290">Nicht festgelegt</span><span class="sxs-lookup"><span data-stu-id="eed30-290">Not set</span></span>|<span data-ttu-id="eed30-291">Nicht festgelegt</span><span class="sxs-lookup"><span data-stu-id="eed30-291">Not set</span></span>|  
  
 <span data-ttu-id="eed30-292">Sie haben mehrere <xref:System.Windows.VisualTransition> Objekte in einer <xref:System.Windows.VisualStateGroup> , die in denselben Zustand verweisen, aber sie in der Reihenfolge, der angibt, die vorherige Tabelle verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-292">You can have multiple <xref:System.Windows.VisualTransition> objects in a <xref:System.Windows.VisualStateGroup> that refer to the same state, but they will be used in the order that the previous table specifies.</span></span> <span data-ttu-id="eed30-293">Im folgenden Beispiel werden zwei <xref:System.Windows.VisualTransition> Objekte.</span><span class="sxs-lookup"><span data-stu-id="eed30-293">In the following example, there are two <xref:System.Windows.VisualTransition> objects.</span></span> <span data-ttu-id="eed30-294">Wenn das Steuerelement wechselt von der `Pressed` Zustand der `MouseOver` Zustand der <xref:System.Windows.VisualTransition> , bei dem beide <xref:System.Windows.VisualTransition.From%2A> und <xref:System.Windows.VisualTransition.To%2A> Satz wird verwendet.</span><span class="sxs-lookup"><span data-stu-id="eed30-294">When the control transitions from the `Pressed` state to the `MouseOver` state, the <xref:System.Windows.VisualTransition> that has both <xref:System.Windows.VisualTransition.From%2A> and <xref:System.Windows.VisualTransition.To%2A> set is used.</span></span> <span data-ttu-id="eed30-295">Wenn das Steuerelement von einem anderen Zustand als `Pressed` in den Zustand `MouseOver` wechselt, wird der andere Zustand verwendet.</span><span class="sxs-lookup"><span data-stu-id="eed30-295">When the control transitions from a state that is not `Pressed` to the `MouseOver` state, the other state is used.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#7](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#7)]  
  
 <span data-ttu-id="eed30-296">Die <xref:System.Windows.VisualStateGroup> verfügt über eine <xref:System.Windows.VisualStateGroup.Transitions%2A> -Eigenschaft, enthält die <xref:System.Windows.VisualTransition> Objekte, die zum Anwenden der <xref:System.Windows.VisualState> Objekte in der <xref:System.Windows.VisualStateGroup>.</span><span class="sxs-lookup"><span data-stu-id="eed30-296">The <xref:System.Windows.VisualStateGroup> has a <xref:System.Windows.VisualStateGroup.Transitions%2A> property that contains the <xref:System.Windows.VisualTransition> objects that apply to the <xref:System.Windows.VisualState> objects in the <xref:System.Windows.VisualStateGroup>.</span></span> <span data-ttu-id="eed30-297">Als die <xref:System.Windows.Controls.ControlTemplate> Autor, Sie sind frei, um Sie einzubeziehen <xref:System.Windows.VisualTransition> werden sollen.</span><span class="sxs-lookup"><span data-stu-id="eed30-297">As the <xref:System.Windows.Controls.ControlTemplate> author, you are free to include any <xref:System.Windows.VisualTransition> you want.</span></span> <span data-ttu-id="eed30-298">Jedoch, wenn die <xref:System.Windows.VisualTransition.To%2A> und <xref:System.Windows.VisualTransition.From%2A> Eigenschaften festgelegt werden, um Namen, die nicht in der <xref:System.Windows.VisualStateGroup>, die <xref:System.Windows.VisualTransition> wird ignoriert.</span><span class="sxs-lookup"><span data-stu-id="eed30-298">However, if the <xref:System.Windows.VisualTransition.To%2A> and <xref:System.Windows.VisualTransition.From%2A> properties are set to state names that are not in the <xref:System.Windows.VisualStateGroup>, the <xref:System.Windows.VisualTransition> is ignored.</span></span>  
  
 <span data-ttu-id="eed30-299">Das folgende Beispiel zeigt die <xref:System.Windows.VisualStateGroup> für die `CommonStates`.</span><span class="sxs-lookup"><span data-stu-id="eed30-299">The following example shows the <xref:System.Windows.VisualStateGroup> for the `CommonStates`.</span></span> <span data-ttu-id="eed30-300">Das Beispiel definiert eine <xref:System.Windows.VisualTransition> für die Schaltfläche mit den folgenden geht.</span><span class="sxs-lookup"><span data-stu-id="eed30-300">The example defines a <xref:System.Windows.VisualTransition> for each of the button's following transitions.</span></span>  
  
-   <span data-ttu-id="eed30-301">In den Zustand `Pressed`.</span><span class="sxs-lookup"><span data-stu-id="eed30-301">To the `Pressed` state.</span></span>  
  
-   <span data-ttu-id="eed30-302">In den Zustand `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="eed30-302">To the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="eed30-303">Aus dem Zustand `Pressed` in den Zustand `MouseOver`.</span><span class="sxs-lookup"><span data-stu-id="eed30-303">From the `Pressed` state to the `MouseOver` state.</span></span>  
  
-   <span data-ttu-id="eed30-304">Aus dem Zustand `MouseOver` in den Zustand `Normal`.</span><span class="sxs-lookup"><span data-stu-id="eed30-304">From the `MouseOver` state to the `Normal` state.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#VisualTransitions](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/buttonstages.xaml#visualtransitions)]  
  
<a name="customizing_other_controls_by_understanding_the_control_contract"></a>   
## <a name="customizing-other-controls-by-understanding-the-control-contract"></a><span data-ttu-id="eed30-305">Anpassen von anderen Steuerelementen mit Steuerelementverträgen</span><span class="sxs-lookup"><span data-stu-id="eed30-305">Customizing Other Controls by Understanding the Control Contract</span></span>  
 <span data-ttu-id="eed30-306">Ein Steuerelement, das verwendet eine <xref:System.Windows.Controls.ControlTemplate> die visuelle Struktur angeben (mithilfe von <xref:System.Windows.FrameworkElement> Objekte) und dessen visuelles Verhalten (mithilfe von <xref:System.Windows.VisualState> Objekte) verwendet das Teilsteuerelementen-Modell.</span><span class="sxs-lookup"><span data-stu-id="eed30-306">A control that uses a <xref:System.Windows.Controls.ControlTemplate> to specify its visual structure (by using <xref:System.Windows.FrameworkElement> objects) and visual behavior (by using <xref:System.Windows.VisualState> objects) uses the parts control model.</span></span> <span data-ttu-id="eed30-307">Viele Steuerelemente des [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 verwenden dieses Modell.</span><span class="sxs-lookup"><span data-stu-id="eed30-307">Many of the controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] 4 use this model.</span></span> <span data-ttu-id="eed30-308">Die Teile, die eine <xref:System.Windows.Controls.ControlTemplate> Autor muss bekannt sein, über den Steuerelementvertrag übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="eed30-308">The parts that a <xref:System.Windows.Controls.ControlTemplate> author needs to be aware of are communicated through the control contract.</span></span> <span data-ttu-id="eed30-309">Sobald Sie sich mit den Bausteinen des Steuerelementvertrags auskennen, können Sie die Darstellung beliebiger Steuerelemente anpassen, die das Teilsteuerelementen-Modell verwenden.</span><span class="sxs-lookup"><span data-stu-id="eed30-309">When you understand the parts of a control contract, you can customize the appearance of any control that uses the parts control model.</span></span>  
  
 <span data-ttu-id="eed30-310">Ein Steuerelementvertrag besteht aus drei Elementen:</span><span class="sxs-lookup"><span data-stu-id="eed30-310">A control contract has three elements:</span></span>  
  
-   <span data-ttu-id="eed30-311">Den visuellen Elementen, die die Logik des Steuerelements verwenden.</span><span class="sxs-lookup"><span data-stu-id="eed30-311">The visual elements that the control's logic uses.</span></span>  
  
-   <span data-ttu-id="eed30-312">Den Zuständen des Steuerelements und den Gruppen, zu denen die einzelnen Zustände gehören.</span><span class="sxs-lookup"><span data-stu-id="eed30-312">The states of the control and the group each state belongs to.</span></span>  
  
-   <span data-ttu-id="eed30-313">Den öffentlichen Eigenschaften, die die visuelle Darstellung des Steuerelements beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="eed30-313">The public properties that visually affect the control.</span></span>  
  
### <a name="visual-elements-in-the-control-contract"></a><span data-ttu-id="eed30-314">Visuelle Elemente im Steuerelementvertrag</span><span class="sxs-lookup"><span data-stu-id="eed30-314">Visual Elements in the Control Contract</span></span>  
 <span data-ttu-id="eed30-315">In manchen Fällen interagiert die Logik eines Steuerelements mit einem <xref:System.Windows.FrameworkElement> , die sich in der <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-315">Sometimes a control's logic interacts with a <xref:System.Windows.FrameworkElement> that is in the <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-316">Das Steuerelement kann z.B. ein Ereignis für ein zugehöriges Element behandeln.</span><span class="sxs-lookup"><span data-stu-id="eed30-316">For example, the control might handle an event of one of its elements.</span></span> <span data-ttu-id="eed30-317">Wenn ein Steuerelement davon ausgeht, einen bestimmten <xref:System.Windows.FrameworkElement> in der <xref:System.Windows.Controls.ControlTemplate>, müssen sie diese Informationen zum Vermitteln der <xref:System.Windows.Controls.ControlTemplate> erstellen.</span><span class="sxs-lookup"><span data-stu-id="eed30-317">When a control expects to find a particular <xref:System.Windows.FrameworkElement> in the <xref:System.Windows.Controls.ControlTemplate>, it must convey that information to the <xref:System.Windows.Controls.ControlTemplate> author.</span></span> <span data-ttu-id="eed30-318">Das Steuerelement verwendet die <xref:System.Windows.TemplatePartAttribute> zur Übermittlung des erwarteten Elementtyps und was der Name des Elements sein sollte.</span><span class="sxs-lookup"><span data-stu-id="eed30-318">The control uses the <xref:System.Windows.TemplatePartAttribute> to convey the type of element that is expected, and what the name of the element should be.</span></span> <span data-ttu-id="eed30-319">Die <xref:System.Windows.Controls.Button> verfügt nicht über <xref:System.Windows.FrameworkElement> Teile im Steuerelementvertrag, aber andere Steuerelemente, z. B. die <xref:System.Windows.Controls.ComboBox>, führen.</span><span class="sxs-lookup"><span data-stu-id="eed30-319">The <xref:System.Windows.Controls.Button> does not have <xref:System.Windows.FrameworkElement> parts in its control contract, but other controls, such as the <xref:System.Windows.Controls.ComboBox>, do.</span></span>  
  
 <span data-ttu-id="eed30-320">Das folgende Beispiel zeigt die <xref:System.Windows.TemplatePartAttribute> Objekte, die auf angegeben sind die <xref:System.Windows.Controls.ComboBox> Klasse.</span><span class="sxs-lookup"><span data-stu-id="eed30-320">The following example shows the <xref:System.Windows.TemplatePartAttribute> objects that are specified on the <xref:System.Windows.Controls.ComboBox> class.</span></span> <span data-ttu-id="eed30-321">Die Logik der <xref:System.Windows.Controls.ComboBox> davon ausgeht, eine <xref:System.Windows.Controls.TextBox> mit dem Namen `PART_EditableTextBox` und <xref:System.Windows.Controls.Primitives.Popup> mit dem Namen `PART_Popup` in seine <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-321">The logic of <xref:System.Windows.Controls.ComboBox> expects to find a <xref:System.Windows.Controls.TextBox> named `PART_EditableTextBox` and a <xref:System.Windows.Controls.Primitives.Popup> named `PART_Popup` in its <xref:System.Windows.Controls.ControlTemplate>.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#comboboxcontract)]
 [!code-vb[VSMButtonTemplate#ComboBoxContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#comboboxcontract)]  
  
 <span data-ttu-id="eed30-322">Das folgende Beispiel zeigt eine vereinfachte <xref:System.Windows.Controls.ControlTemplate> für die <xref:System.Windows.Controls.ComboBox> , enthält die Elemente, die vom angegebenen die <xref:System.Windows.TemplatePartAttribute> Objekte auf der <xref:System.Windows.Controls.ComboBox> Klasse.</span><span class="sxs-lookup"><span data-stu-id="eed30-322">The following example shows a simplified <xref:System.Windows.Controls.ControlTemplate> for the <xref:System.Windows.Controls.ComboBox> that includes the elements that are specified by the <xref:System.Windows.TemplatePartAttribute> objects on the <xref:System.Windows.Controls.ComboBox> class.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#ComboBoxTemplate](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/window1.xaml#comboboxtemplate)]  
  
### <a name="states-in-the-control-contract"></a><span data-ttu-id="eed30-323">Zustände im Steuerelementvertrag</span><span class="sxs-lookup"><span data-stu-id="eed30-323">States in the Control Contract</span></span>  
 <span data-ttu-id="eed30-324">Die Zustände eines Steuerelements sind ebenfalls Teil des Steuerelementvertrags.</span><span class="sxs-lookup"><span data-stu-id="eed30-324">The states of a control are also a part of the control contract.</span></span> <span data-ttu-id="eed30-325">Das Beispiel zum Erstellen einer <xref:System.Windows.Controls.ControlTemplate> für eine <xref:System.Windows.Controls.Button> wird gezeigt, wie die Darstellung der an eine <xref:System.Windows.Controls.Button> Abhängigkeit von seinen Zuständen.</span><span class="sxs-lookup"><span data-stu-id="eed30-325">The example of creating a <xref:System.Windows.Controls.ControlTemplate> for a <xref:System.Windows.Controls.Button> shows how to specify the appearance of a <xref:System.Windows.Controls.Button> depending on its states.</span></span> <span data-ttu-id="eed30-326">Sie erstellen eine <xref:System.Windows.VisualState> für jeden Zustand angegebenen und versetzen Sie alle <xref:System.Windows.VisualState> Objekte von dieser Freigabe eine <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in einer <xref:System.Windows.VisualStateGroup>, wie in beschrieben [Ändern der Darstellung des Steuerelements in Abhängigkeit von dessen Zustand](#changing_the_appearance_of_a_control_depending_on_its_state) weiter oben in diesem In diesem Thema.</span><span class="sxs-lookup"><span data-stu-id="eed30-326">You create a <xref:System.Windows.VisualState> for each specified state and put all <xref:System.Windows.VisualState> objects that share a <xref:System.Windows.TemplateVisualStateAttribute.GroupName%2A> in a <xref:System.Windows.VisualStateGroup>, as described in [Changing the Appearance of a Control Depending on Its State](#changing_the_appearance_of_a_control_depending_on_its_state) earlier in this topic.</span></span> <span data-ttu-id="eed30-327">Steuerelemente von Drittanbietern sollten Zustände angeben, indem die <xref:System.Windows.TemplateVisualStateAttribute>, wodurch Designertools, z.B. Expression Blend, um die Zustände des Steuerelements für das Erstellen von Steuerelementvorlagen verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="eed30-327">Third-party controls should specify states by using the <xref:System.Windows.TemplateVisualStateAttribute>, which enables designer tools, such as Expression Blend, to expose the control's states for authoring control templates.</span></span>  
  
 <span data-ttu-id="eed30-328">Den Steuerelementvertrag für Steuerelemente in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] finden Sie unter [Steuerelementformate und -vorlagen](control-styles-and-templates.md).</span><span class="sxs-lookup"><span data-stu-id="eed30-328">To find the control contract for controls that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Control Styles and Templates](control-styles-and-templates.md).</span></span>  
  
### <a name="properties-in-the-control-contract"></a><span data-ttu-id="eed30-329">Eigenschaften im Steuerelementvertrag</span><span class="sxs-lookup"><span data-stu-id="eed30-329">Properties in the Control Contract</span></span>  
 <span data-ttu-id="eed30-330">Die öffentlichen Eigenschaften, die sich auf das Steuerelement visuell auswirken, sind ebenfalls im Steuerelementvertrag enthalten.</span><span class="sxs-lookup"><span data-stu-id="eed30-330">The public properties that visually affect the control are also included in the control contract.</span></span> <span data-ttu-id="eed30-331">Sie können diese Eigenschaften, die Darstellung des Steuerelements zu ändern, ohne das Erstellen eines neuen festlegen <xref:System.Windows.Controls.ControlTemplate>.</span><span class="sxs-lookup"><span data-stu-id="eed30-331">You can set these properties to change the appearance of the control without creating a new <xref:System.Windows.Controls.ControlTemplate>.</span></span> <span data-ttu-id="eed30-332">Können Sie auch die [TemplateBinding](../advanced/templatebinding-markup-extension.md) Markup Extension, um die Eigenschaften von Elementen zu binden, die in der <xref:System.Windows.Controls.ControlTemplate> an öffentliche Eigenschaften, die von definiert sind die <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="eed30-332">You can also use the [TemplateBinding](../advanced/templatebinding-markup-extension.md) markup extension to bind properties of elements that are in the <xref:System.Windows.Controls.ControlTemplate> to public properties that are defined by the <xref:System.Windows.Controls.Button>.</span></span>  
  
 <span data-ttu-id="eed30-333">Das folgende Beispiel zeigt den Steuerelementvertrag für die Schaltfläche.</span><span class="sxs-lookup"><span data-stu-id="eed30-333">The following example shows the control contract for the button.</span></span>  
  
 [!code-csharp[VSMButtonTemplate#ButtonContract](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/controlcontracts.cs#buttoncontract)]
 [!code-vb[VSMButtonTemplate#ButtonContract](~/samples/snippets/visualbasic/VS_Snippets_Wpf/vsmbuttontemplate/visualbasic/window1.xaml.vb#buttoncontract)]  
  
 <span data-ttu-id="eed30-334">Beim Erstellen einer <xref:System.Windows.Controls.ControlTemplate>, es ist häufig am einfachsten, beginnen mit einem vorhandenen <xref:System.Windows.Controls.ControlTemplate> und Änderungen vornehmen.</span><span class="sxs-lookup"><span data-stu-id="eed30-334">When creating a <xref:System.Windows.Controls.ControlTemplate>, it is often easiest to begin with an existing <xref:System.Windows.Controls.ControlTemplate> and make changes to it.</span></span> <span data-ttu-id="eed30-335">Führen Sie eine der folgenden zum Ändern einer vorhandenen <xref:System.Windows.Controls.ControlTemplate>:</span><span class="sxs-lookup"><span data-stu-id="eed30-335">You can do one of the following to change an existing <xref:System.Windows.Controls.ControlTemplate>:</span></span>  
  
-   <span data-ttu-id="eed30-336">Verwenden Sie einen Designer, z.B. Expression Blend, der eine grafische Benutzeroberfläche zum Erstellen von Steuerelementvorlagen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="eed30-336">Use a designer, such as Expression Blend, which provides a graphical user interface for creating control templates.</span></span> <span data-ttu-id="eed30-337">Weitere Informationen finden Sie unter [Formatieren eines Steuerelements, das Vorlagen unterstützt](https://go.microsoft.com/fwlink/?LinkId=161153).</span><span class="sxs-lookup"><span data-stu-id="eed30-337">For more information, see [Styling a control that supports templates](https://go.microsoft.com/fwlink/?LinkId=161153).</span></span>  
  
-   <span data-ttu-id="eed30-338">Rufen Sie die Standard- <xref:System.Windows.Controls.ControlTemplate> und bearbeiten Sie sie.</span><span class="sxs-lookup"><span data-stu-id="eed30-338">Get the default <xref:System.Windows.Controls.ControlTemplate> and edit it.</span></span> <span data-ttu-id="eed30-339">Standard-Steuerelementvorlagen in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], finden Sie unter [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252) (Standard-WPF-Designs).</span><span class="sxs-lookup"><span data-stu-id="eed30-339">To find the default control templates that are included with [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], see [Default WPF Themes](https://go.microsoft.com/fwlink/?LinkID=158252).</span></span>  
  
<a name="complete_example"></a>   
## <a name="complete-example"></a><span data-ttu-id="eed30-340">Vollständiges Beispiel</span><span class="sxs-lookup"><span data-stu-id="eed30-340">Complete Example</span></span>  
 <span data-ttu-id="eed30-341">Das folgende Beispiel zeigt die vollständige <xref:System.Windows.Controls.Button> <xref:System.Windows.Controls.ControlTemplate> , die in diesem Thema erläutert wird.</span><span class="sxs-lookup"><span data-stu-id="eed30-341">The following example shows the complete <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.ControlTemplate> that is discussed in this topic.</span></span>  
  
 [!code-xaml[VSMButtonTemplate#3](~/samples/snippets/csharp/VS_Snippets_Wpf/vsmbuttontemplate/csharp/skinnedbutton.xaml#3)]  
  
## <a name="see-also"></a><span data-ttu-id="eed30-342">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="eed30-342">See also</span></span>
- [<span data-ttu-id="eed30-343">Erstellen von Formaten und Vorlagen</span><span class="sxs-lookup"><span data-stu-id="eed30-343">Styling and Templating</span></span>](styling-and-templating.md)
