---
title: Richtlinien zum Entwerfen formatierbarer Steuerelemente
ms.date: 03/30/2017
helpviewer_keywords:
- style design for controls [WPF]
- controls [WPF], style design
ms.assetid: c52dde45-a311-4531-af4c-853371c4d5f4
ms.openlocfilehash: 0fbb515afbeac05168ced6f0a99f50eb29a5c848
ms.sourcegitcommit: 944ddc52b7f2632f30c668815f92b378efd38eea
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/03/2019
ms.locfileid: "73459658"
---
# <a name="guidelines-for-designing-stylable-controls"></a><span data-ttu-id="ad338-102">Richtlinien zum Entwerfen formatierbarer Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="ad338-102">Guidelines for Designing Stylable Controls</span></span>

<span data-ttu-id="ad338-103">Dieses Dokument fasst eine Reihe bewährter Methoden zusammen, die zu berücksichtigen sind, wenn Sie ein Steuerelement erstellen, das einfach zu formatieren ist und damit bequem Vorlagen damit erstellt werden können.</span><span class="sxs-lookup"><span data-stu-id="ad338-103">This document summarizes a set of best practices to consider when designing a control which you intend to be easily stylable and templatable.</span></span> <span data-ttu-id="ad338-104">Wir kamen durch Experimentieren zu dieser Reihe bewährter Methoden, während wir an Steuerelementstilen für Designs für die integrierten [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]-Steuerelemente gearbeitet haben.</span><span class="sxs-lookup"><span data-stu-id="ad338-104">We came to this set of best practices through a lot of trial and error while working on the theme control styles for the built-in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] control set.</span></span> <span data-ttu-id="ad338-105">Wir haben gelernt, dass die erfolgreiche Formatierung genau so eine Funktion eines gut strukturierten Objektmodells ist wie für den Stil selbst.</span><span class="sxs-lookup"><span data-stu-id="ad338-105">We learned that successful styling is as much a function of a well-designed object model as it is of the style itself.</span></span> <span data-ttu-id="ad338-106">Die Zielgruppe für dieses Dokument sind die Autoren des Steuerelements und nicht der Autoren der Stile.</span><span class="sxs-lookup"><span data-stu-id="ad338-106">The intended audience for this document is the control author, not the style author.</span></span>

<a name="Terminology"></a>

## <a name="terminology"></a><span data-ttu-id="ad338-107">Terminologie</span><span class="sxs-lookup"><span data-stu-id="ad338-107">Terminology</span></span>

<span data-ttu-id="ad338-108">„Erstellen von Formaten und Vorlagen“ bezieht sich auf die Technologiesuite, mit der Steuerelementautor die visuellen Aspekte des Steuerelements bis zum Stil und der Vorlage des Steuerelements verzögern kann.</span><span class="sxs-lookup"><span data-stu-id="ad338-108">"Styling and templating" refer to the suite of technologies that enable a control author to defer the visual aspects of the control to the style and template of the control.</span></span> <span data-ttu-id="ad338-109">Diese Technologiesuite enthält:</span><span class="sxs-lookup"><span data-stu-id="ad338-109">This suite of technologies includes:</span></span>

- <span data-ttu-id="ad338-110">Stile (einschließlich Eigenschaftssetter, Trigger und Storyboards).</span><span class="sxs-lookup"><span data-stu-id="ad338-110">Styles (including property setters, triggers, and storyboards).</span></span>

- <span data-ttu-id="ad338-111">Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="ad338-111">Resources.</span></span>

- <span data-ttu-id="ad338-112">Steuerelementvorlagen.</span><span class="sxs-lookup"><span data-stu-id="ad338-112">Control templates.</span></span>

- <span data-ttu-id="ad338-113">Datenvorlagen.</span><span class="sxs-lookup"><span data-stu-id="ad338-113">Data templates.</span></span>

<span data-ttu-id="ad338-114">Eine Einführung zum Beispiel zu Stilen und Vorlagen finden Sie unter [Erstellen von Formaten und Vorlagen](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ad338-114">For an introduction to styling and templating, see [Styling and Templating](../../../desktop-wpf/fundamentals/styles-templates-overview.md).</span></span>

<a name="Before_You_Start__Understanding_Your_Control"></a>

## <a name="before-you-start-understanding-your-control"></a><span data-ttu-id="ad338-115">Vor dem Start: Verstehen des Steuerelements</span><span class="sxs-lookup"><span data-stu-id="ad338-115">Before You Start: Understanding Your Control</span></span>

<span data-ttu-id="ad338-116">Bevor Sie zu diesen Richtlinien springen, ist es wichtig, dass Sie die häufigste Verwendung Ihres Steuerelements verstehen und definiert haben.</span><span class="sxs-lookup"><span data-stu-id="ad338-116">Before you jump into these guidelines, it is important to understand and have defined the common usage of your control.</span></span> <span data-ttu-id="ad338-117">Stil stellt eine häufig unübersichtliche Palette von Möglichkeiten dar.</span><span class="sxs-lookup"><span data-stu-id="ad338-117">Styling exposes an often unruly set of possibilities.</span></span> <span data-ttu-id="ad338-118">Steuerelemente, die geschrieben werden, um in großen Umfang verwendet zu werden (in vielen Anwendungen von vielen Entwicklern), stehen vor der Herausforderung, dass Stil verwendet werden kann, um umfangreiche Änderungen an der visuellen Darstellung des Steuerelements vorzunehmen.</span><span class="sxs-lookup"><span data-stu-id="ad338-118">Controls that are written to be used broadly (in many applications, by many developers) face the challenge that styling can be used to make far-reaching changes to the visual appearance of the control.</span></span> <span data-ttu-id="ad338-119">Tatsächlich sieht das formatierte Steuerelement möglicherweise den Absichten des Autors des Steuerelements nicht ähnlich.</span><span class="sxs-lookup"><span data-stu-id="ad338-119">In fact, the styled control may not even resemble the control author's intentions.</span></span> <span data-ttu-id="ad338-120">Da die Flexibilität von Stilen grenzenlosen ist, können Sie das Konzept der häufigen Verwendung nutzen, um Ihren Entscheidungsspielraum zu vergrößern.</span><span class="sxs-lookup"><span data-stu-id="ad338-120">Since the flexibility offered by styling is essentially boundless, you can use the idea of common usage to help you scope your decisions.</span></span>

<span data-ttu-id="ad338-121">Um die häufige Verwendung des Steuerelements zu verstehen, denken Sie am besten an den Wertbeitrag des Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="ad338-121">To understand your control's common usage, it's good to think about the value proposition of the control.</span></span> <span data-ttu-id="ad338-122">Was bringt das Steuerelement der Tabelle, was kein anderes Steuerelement sonst bieten kann?</span><span class="sxs-lookup"><span data-stu-id="ad338-122">What does your control bring to the table that no other control can offer?</span></span> <span data-ttu-id="ad338-123">Die häufige Verwendung impliziert eine bestimme visuelle Darstellen, sondern eher die Philosophie des Steuerelements und eine beachtliche Reihe von Erwartungen gegenüber seinem Gebrauch.</span><span class="sxs-lookup"><span data-stu-id="ad338-123">Common usage does not imply any specific visual appearance, but rather the philosophy of the control and a reasonable set of expectations about its usage.</span></span> <span data-ttu-id="ad338-124">Mit diesem Verständnis können Sie einige Annahmen über das Kompositionsmodell und die durch den Stil definierten häufigen Verhalten des Steuerelements durchführen.</span><span class="sxs-lookup"><span data-stu-id="ad338-124">This understanding allows you to make some assumptions about the composition model and the style-defined behaviors of the control in the common case.</span></span> <span data-ttu-id="ad338-125">Wenn <xref:System.Windows.Controls.ComboBox>beispielsweise die allgemeine Verwendung verstehen, erhalten Sie keine Einblicke, ob eine bestimmte <xref:System.Windows.Controls.ComboBox> über abgerundete Ecken verfügt. Sie erhalten jedoch Einblicke in die Tatsache, dass die <xref:System.Windows.Controls.ComboBox> wahrscheinlich ein Popup Fenster benötigt und eine bestimmte Art von Schaltet ein, ob es geöffnet ist.</span><span class="sxs-lookup"><span data-stu-id="ad338-125">In the case of <xref:System.Windows.Controls.ComboBox>, for example, understanding the common usage won't give you any insight about whether a particular <xref:System.Windows.Controls.ComboBox> has rounded corners, but it will give you insight into the fact that the <xref:System.Windows.Controls.ComboBox> probably needs a pop-up window and some way of toggling whether it is open.</span></span>

<a name="General_Guidelines"></a>

## <a name="general-guidelines"></a><span data-ttu-id="ad338-126">Allgemeine Richtlinien</span><span class="sxs-lookup"><span data-stu-id="ad338-126">General Guidelines</span></span>

- <span data-ttu-id="ad338-127">**Erzwingen Sie die Vorlagenverträge nicht unbedingt.**</span><span class="sxs-lookup"><span data-stu-id="ad338-127">**Do not strictly enforce template contracts.**</span></span> <span data-ttu-id="ad338-128">Der Vorlagenvertrag eines Steuerelements besteht womöglich aus Elementen, Befehlen, Bindungen, Trigger oder sogar aus Eigenschafteneinstellungen, die erforderlich sind, dass ein Steuerelement ordnungsgemäß funktioniert, bzw. dass das von ihnen erwartet wird.</span><span class="sxs-lookup"><span data-stu-id="ad338-128">The template contract of a control might consist of elements, commands, bindings, triggers, or even property settings that are required or expected for a control to function properly.</span></span>

  - <span data-ttu-id="ad338-129">Minimieren Sie Verträge so weit wie möglich.</span><span class="sxs-lookup"><span data-stu-id="ad338-129">Minimize contracts as much as possible.</span></span>

  - <span data-ttu-id="ad338-130">Entfernen Sie sich beim Entwerfen von der Anforderung, das es während der Entwurfszeit (wenn ein Entwurfstool verwendet wird) für eine Steuerelementvorlage gang und gäbe ist, sich in einem unvollständigen Zustand zu befinden.</span><span class="sxs-lookup"><span data-stu-id="ad338-130">Design around the expectation that during design time (that is, when using a design tool) it is common for a control template to be in an incomplete state.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="ad338-131">bietet keine „zusammengesetzte“ Statusinfrastruktur, deshalb müssen Steuerelemente mit der Anforderung erstellt werden, dass ein solcher Status womöglich gültig sein kann.</span><span class="sxs-lookup"><span data-stu-id="ad338-131">does not offer a "composing" state infrastructure, so controls have to be built with the expectation that such a state might be valid.</span></span>

  - <span data-ttu-id="ad338-132">Lösen Sie keine Ausnahme aus, wenn auch nur ein Punkt eines Vorlagenvertrags nicht befolgt wird.</span><span class="sxs-lookup"><span data-stu-id="ad338-132">Do not throw exceptions when any aspect of a template contract is not followed.</span></span> <span data-ttu-id="ad338-133">Laut den Anforderungen dürfen Bereiche keine Ausnahme auslösen, wenn Sie zu viele oder zu wenige untergeordnete Elemente besitzen.</span><span class="sxs-lookup"><span data-stu-id="ad338-133">Along these lines, panels should not throw exceptions if they have too many or too few children.</span></span>

- <span data-ttu-id="ad338-134">**Faktor peripherer Funktionalität in Vorlagenhilfselementen.**</span><span class="sxs-lookup"><span data-stu-id="ad338-134">**Factor peripheral functionality into template helper elements.**</span></span> <span data-ttu-id="ad338-135">Jedes Steuerelement sollte auf seine Kernfunktionalität und seinen wahren Wertbeitrag fokussiert sein und durch die häufige Verwendung des Steuerelements definiert sein.</span><span class="sxs-lookup"><span data-stu-id="ad338-135">Each control should be focused on its core functionality and true value proposition and defined by the control's common usage.</span></span> <span data-ttu-id="ad338-136">Verwenden Sie schlussendlich zusammengesetzte Elemente und Hilfselemente innerhalb der Vorlage, um Peripherieverhalten und -visualisierungen zu aktivieren. Dies sind jedoch die Verhalten und Visualisierungen, die nicht zur Kernfunktionalität des Steuerelements beitragen.</span><span class="sxs-lookup"><span data-stu-id="ad338-136">To that end, use composition and helper elements within the template to enable peripheral behaviors and visualizations, that is, those behaviors and visualizations that do not contribute to the core functionality of the control.</span></span> <span data-ttu-id="ad338-137">Hilfselemente lassen sich in drei Kategorien unterteilen:</span><span class="sxs-lookup"><span data-stu-id="ad338-137">Helper elements fall into three categories:</span></span>

  - <span data-ttu-id="ad338-138">**Eigenständige** Hilfstypen sind öffentliche und wieder verwendbaren Steuerelemente oder Primitive, die „anonym“ in einer Vorlage verwendet werden, was bedeutet, dass weder das Hilfselement noch das formatierte Steuerelement vom jeweils anderen weiß.</span><span class="sxs-lookup"><span data-stu-id="ad338-138">**Standalone** helper types are public and reusable controls or primitives that are used "anonymously" in a template, meaning that neither the helper element nor the styled control is aware of the other.</span></span> <span data-ttu-id="ad338-139">Technisch gesehen kann jedes Element ein anonymer Typ sein. In diesem Kontext beschreibt jedoch der Begriff diese Typen, die bestimmte Funktionen kapseln, um Zielszenarios zuzulassen.</span><span class="sxs-lookup"><span data-stu-id="ad338-139">Technically, any element can be an anonymous type, but in this context the term describes those types that encapsulate specialized functionality to enable targeted scenarios.</span></span>

  - <span data-ttu-id="ad338-140">**Typbasierte** Hilfselemente sind neue Typen, die speziellen Funktionen kapseln.</span><span class="sxs-lookup"><span data-stu-id="ad338-140">**Type-based** helper elements are new types that encapsulate specialized functionality.</span></span> <span data-ttu-id="ad338-141">Diese Elemente werden in der Regel mit einem geringeren Spektrum an Funktionalität als allgemeine Steuerelemente oder Primitive entworfen.</span><span class="sxs-lookup"><span data-stu-id="ad338-141">These elements are typically designed with a narrower range of functionality than common controls or primitives.</span></span> <span data-ttu-id="ad338-142">Im Gegensatz zu eigenständigen Hilfselementen kennen typbasierte Hilfselemente den Kontext, in dem sie verwendet werden, und in dem sie in der Regel Daten müssen mit dem Steuerelement gemeinsam nutzen müssen, zu dessen Vorlage sie gehören.</span><span class="sxs-lookup"><span data-stu-id="ad338-142">Unlike standalone helper elements, type-based helper elements are aware of the context in which they are used and typically must share data with the control to whose template they belong.</span></span>

  - <span data-ttu-id="ad338-143">**Benannte** Hilfselemente sind allgemeine Steuerelemente oder Primitive, die ein Steuerelement in seiner Vorlage nach Namen suchen kann.</span><span class="sxs-lookup"><span data-stu-id="ad338-143">**Named** helper elements are common controls or primitives that a control expects to find within its template by name.</span></span> <span data-ttu-id="ad338-144">Diese Elemente erhalten einen bekannten Namen innerhalb der Vorlage, was es einem Steuerelement ermöglicht, das Element zu finden und programmgesteuert mit ihm zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="ad338-144">These elements are given a well-known name within the template, making it possible for a control to find the element and interact with it programmatically.</span></span> <span data-ttu-id="ad338-145">Es kann nur ein Element mit einem bestimmten Namen in jeder Vorlage vorhanden sein.</span><span class="sxs-lookup"><span data-stu-id="ad338-145">There can only be one element with a given name in any template.</span></span>

  <span data-ttu-id="ad338-146">In der folgenden Tabelle werden die Hilfselemente aufgeführt, die heute von Steuerelementstilen genutzt werden (diese Liste ist nicht vollständig):</span><span class="sxs-lookup"><span data-stu-id="ad338-146">The following table shows helper elements employed by control styles today (this list is not exhaustive):</span></span>

  |<span data-ttu-id="ad338-147">Element</span><span class="sxs-lookup"><span data-stu-id="ad338-147">Element</span></span>|<span data-ttu-id="ad338-148">Geben Sie Folgendes ein:</span><span class="sxs-lookup"><span data-stu-id="ad338-148">Type</span></span>|<span data-ttu-id="ad338-149">Verwendung</span><span class="sxs-lookup"><span data-stu-id="ad338-149">Used by</span></span>|
  |-------------|----------|-------------|
  |<xref:System.Windows.Controls.ContentPresenter>|<span data-ttu-id="ad338-150">Typbasiert</span><span class="sxs-lookup"><span data-stu-id="ad338-150">Type-based</span></span>|<span data-ttu-id="ad338-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>usw. (alle <xref:System.Windows.Controls.ContentControl> Typen)</span><span class="sxs-lookup"><span data-stu-id="ad338-151"><xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.CheckBox>, <xref:System.Windows.Controls.RadioButton>, <xref:System.Windows.Controls.Frame>, and so on (all <xref:System.Windows.Controls.ContentControl> types)</span></span>|
  |<xref:System.Windows.Controls.ItemsPresenter>|<span data-ttu-id="ad338-152">Typbasiert</span><span class="sxs-lookup"><span data-stu-id="ad338-152">Type-based</span></span>|<span data-ttu-id="ad338-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>usw. (alle <xref:System.Windows.Controls.ItemsControl> Typen)</span><span class="sxs-lookup"><span data-stu-id="ad338-153"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, and so on (all <xref:System.Windows.Controls.ItemsControl> types)</span></span>|
  |<xref:System.Windows.Controls.Primitives.ToolBarOverflowPanel>|<span data-ttu-id="ad338-154">Benannt</span><span class="sxs-lookup"><span data-stu-id="ad338-154">Named</span></span>|<xref:System.Windows.Controls.ToolBar>|
  |<xref:System.Windows.Controls.Primitives.Popup>|<span data-ttu-id="ad338-155">Eigenständig</span><span class="sxs-lookup"><span data-stu-id="ad338-155">Standalone</span></span>|<span data-ttu-id="ad338-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>usw.</span><span class="sxs-lookup"><span data-stu-id="ad338-156"><xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.ToolBar>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.ToolTip>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.RepeatButton>|<span data-ttu-id="ad338-157">Benannt</span><span class="sxs-lookup"><span data-stu-id="ad338-157">Named</span></span>|<span data-ttu-id="ad338-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>usw.</span><span class="sxs-lookup"><span data-stu-id="ad338-158"><xref:System.Windows.Controls.Slider>, <xref:System.Windows.Controls.Primitives.ScrollBar>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.ScrollBar>|<span data-ttu-id="ad338-159">Benannt</span><span class="sxs-lookup"><span data-stu-id="ad338-159">Named</span></span>|<xref:System.Windows.Controls.ScrollViewer>|
  |<xref:System.Windows.Controls.ScrollViewer>|<span data-ttu-id="ad338-160">Eigenständig</span><span class="sxs-lookup"><span data-stu-id="ad338-160">Standalone</span></span>|<span data-ttu-id="ad338-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>usw.</span><span class="sxs-lookup"><span data-stu-id="ad338-161"><xref:System.Windows.Controls.ListBox>, <xref:System.Windows.Controls.ComboBox>, <xref:System.Windows.Controls.Menu>, <xref:System.Windows.Controls.Frame>, and so on</span></span>|
  |<xref:System.Windows.Controls.Primitives.TabPanel>|<span data-ttu-id="ad338-162">Eigenständig</span><span class="sxs-lookup"><span data-stu-id="ad338-162">Standalone</span></span>|<xref:System.Windows.Controls.TabControl>|
  |<xref:System.Windows.Controls.TextBox>|<span data-ttu-id="ad338-163">Benannt</span><span class="sxs-lookup"><span data-stu-id="ad338-163">Named</span></span>|<xref:System.Windows.Controls.ComboBox>|
  |<xref:System.Windows.Controls.Primitives.TickBar>|<span data-ttu-id="ad338-164">Typbasiert</span><span class="sxs-lookup"><span data-stu-id="ad338-164">Type-based</span></span>|<xref:System.Windows.Controls.Slider>|

- <span data-ttu-id="ad338-165">**Minimieren der erforderlichen benutzerdefinierten Bindungen oder Eigenschaften auf Hilfselementen**.</span><span class="sxs-lookup"><span data-stu-id="ad338-165">**Minimize required user-specified bindings or property settings on helper elements**.</span></span> <span data-ttu-id="ad338-166">Es ist üblich für ein Hilfselement, dass es bestimmte Bindungen oder Eigenschafteneinstellungen benötigt, um ordnungsgemäß innerhalb der Steuerelementvorlage zu funktionieren.</span><span class="sxs-lookup"><span data-stu-id="ad338-166">It is common for a helper element to require certain bindings or property settings in order to function properly within the control template.</span></span> <span data-ttu-id="ad338-167">Das Hilfselement und das Steuerelement mit Vorlagen sollten – so weit wie möglich – diese Einstellungen einrichten.</span><span class="sxs-lookup"><span data-stu-id="ad338-167">The helper element and templated control should, as much as possible, establish these settings.</span></span> <span data-ttu-id="ad338-168">Beim Festlegen von Eigenschaften oder beim Einrichten von Bindungen sollte darauf geachtet werden, keine vom Benutzer festgelegten Werte außer Kraft zu setzen.</span><span class="sxs-lookup"><span data-stu-id="ad338-168">When setting properties or establishing bindings, care should be taken to not override values set by the user.</span></span> <span data-ttu-id="ad338-169">Bestimmte bewährte Methoden lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="ad338-169">Specific best practices are as follows:</span></span>

  - <span data-ttu-id="ad338-170">Benannte Hilfselemente sollten vom übergeordneten Element angegeben werden, und das übergeordnete Element sollte alle erforderlichen Einstellungen für das Hilfselement herstellen.</span><span class="sxs-lookup"><span data-stu-id="ad338-170">Named helper elements should be identified by the parent and the parent should establish any required settings on the helper element.</span></span>

  - <span data-ttu-id="ad338-171">Typbasierte Hilfselemente sollten alle erforderlichen Einstellungen für sich selbst festlegen.</span><span class="sxs-lookup"><span data-stu-id="ad338-171">Type-based helper elements should establish any required settings directly on themselves.</span></span> <span data-ttu-id="ad338-172">Dazu muss das Hilfselement möglicherweise eine Abfrage durchführen, um Informationen über den Kontext zu erhalten, in dem es verwendet wird, einschließlich dessen `TemplatedParent` (der Steuerelementtyp der Vorlage, indem es verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="ad338-172">Doing this may require the helper element to query for information context in which it is being used, including its `TemplatedParent` (the control type of the template in which it is being used).</span></span> <span data-ttu-id="ad338-173"><xref:System.Windows.Controls.ContentPresenter> bindet z. b. die `Content`-Eigenschaft des `TemplatedParent` automatisch an die <xref:System.Windows.Controls.ContentPresenter.Content%2A>-Eigenschaft, wenn Sie in einem <xref:System.Windows.Controls.ContentControl> abgeleiteten Typ verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ad338-173">For example, <xref:System.Windows.Controls.ContentPresenter> automatically binds the `Content` property of its `TemplatedParent` to its <xref:System.Windows.Controls.ContentPresenter.Content%2A> property when used in a <xref:System.Windows.Controls.ContentControl> derived type.</span></span>

  - <span data-ttu-id="ad338-174">Eigenständige Hilfselemente können nicht auf diese Weise optimiert werden, da per Definition weder das Hilfselement noch das übergeordnete Element der anderen kennt.</span><span class="sxs-lookup"><span data-stu-id="ad338-174">Standalone helper elements cannot be optimized in this way because, by definition, neither the helper element nor the parent knows about the other.</span></span>

- <span data-ttu-id="ad338-175">**Verwenden Sie die Name-Eigenschaft, um Elemente innerhalb einer Vorlage zu kennzeichnen**.</span><span class="sxs-lookup"><span data-stu-id="ad338-175">**Use the Name property to flag elements within a template**.</span></span> <span data-ttu-id="ad338-176">Ein Steuerelement, das ein Element in seinem Stil finden muss, um programmgesteuert darauf zugreifen, sollte dazu die `Name`-Eigenschaft und das `FindName`-Paradigma verwenden.</span><span class="sxs-lookup"><span data-stu-id="ad338-176">A control that needs to find an element in its style in order to access it programmatically should do so using the `Name` property and the `FindName` paradigm.</span></span> <span data-ttu-id="ad338-177">Ein Steuerelement sollte keine Ausnahme auslösen, wenn ein Element nicht gefunden wird, jedoch im Hintergrund und diskret die Funktionalität deaktivieren, die dieses Element benötigt hat.</span><span class="sxs-lookup"><span data-stu-id="ad338-177">A control should not throw an exception when an element is not found, but silently and gracefully disable the functionality which required that element.</span></span>

- <span data-ttu-id="ad338-178">**Verwenden Sie bewährte Methoden zum Ausdrücken des Steuerelementzustands und des Verhaltens in einem Stil.**</span><span class="sxs-lookup"><span data-stu-id="ad338-178">**Use best practices for expressing control state and behavior in a style.**</span></span> <span data-ttu-id="ad338-179">Im Folgenden finden Sie eine geordnete Liste der bewährten Methoden zum Ausdrücken von Änderungen des Steuerelementzustands und von Verhalten in einem Stil.</span><span class="sxs-lookup"><span data-stu-id="ad338-179">The following is an ordered list of best practices for expressing control state changes and behavior in a style.</span></span> <span data-ttu-id="ad338-180">Verwenden Sie das erste Element in der Liste, die das Szenario aktiviert.</span><span class="sxs-lookup"><span data-stu-id="ad338-180">You should use the first item on the list that enables your scenario.</span></span>

  1. <span data-ttu-id="ad338-181">Eigenschaftenbindung</span><span class="sxs-lookup"><span data-stu-id="ad338-181">Property binding.</span></span> <span data-ttu-id="ad338-182">Beispiel: Bindung zwischen <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> und <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ad338-182">Example: binding between <xref:System.Windows.Controls.ComboBox.IsDropDownOpen%2A?displayProperty=nameWithType> and <xref:System.Windows.Controls.Primitives.ToggleButton.IsChecked%2A?displayProperty=nameWithType>.</span></span>

  2. <span data-ttu-id="ad338-183">Hat Eigenschaftsänderungen oder -animationen ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ad338-183">Triggered property changes or property animations.</span></span> <span data-ttu-id="ad338-184">Beispiel: der Hover-Zustand einer <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="ad338-184">Example: the hover state of a <xref:System.Windows.Controls.Button>.</span></span>

  3. <span data-ttu-id="ad338-185">Befehl.</span><span class="sxs-lookup"><span data-stu-id="ad338-185">Command.</span></span> <span data-ttu-id="ad338-186">Beispiel: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span><span class="sxs-lookup"><span data-stu-id="ad338-186">Example: <xref:System.Windows.Controls.Primitives.ScrollBar.LineUpCommand> / <xref:System.Windows.Controls.Primitives.ScrollBar.LineDownCommand> in <xref:System.Windows.Controls.Primitives.ScrollBar>.</span></span>

  4. <span data-ttu-id="ad338-187">Eigenständige Hilfselemente.</span><span class="sxs-lookup"><span data-stu-id="ad338-187">Standalone helper elements.</span></span> <span data-ttu-id="ad338-188">Beispiel: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span><span class="sxs-lookup"><span data-stu-id="ad338-188">Example: <xref:System.Windows.Controls.Primitives.TabPanel> in <xref:System.Windows.Controls.TabControl>.</span></span>

  5. <span data-ttu-id="ad338-189">Typbasierte Hilfstypen.</span><span class="sxs-lookup"><span data-stu-id="ad338-189">Type-based helper types.</span></span> <span data-ttu-id="ad338-190">Beispiel: <xref:System.Windows.Controls.ContentPresenter> in <xref:System.Windows.Controls.Button><xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span><span class="sxs-lookup"><span data-stu-id="ad338-190">Example: <xref:System.Windows.Controls.ContentPresenter> in <xref:System.Windows.Controls.Button>, <xref:System.Windows.Controls.Primitives.TickBar> in <xref:System.Windows.Controls.Slider>.</span></span>

  6. <span data-ttu-id="ad338-191">Benannte Hilfselemente.</span><span class="sxs-lookup"><span data-stu-id="ad338-191">Named helper elements.</span></span> <span data-ttu-id="ad338-192">Beispiel: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span><span class="sxs-lookup"><span data-stu-id="ad338-192">Example: <xref:System.Windows.Controls.TextBox> in <xref:System.Windows.Controls.ComboBox>.</span></span>

  7. <span data-ttu-id="ad338-193">Übergebene Ereignisse aus benannten Hilfstypen.</span><span class="sxs-lookup"><span data-stu-id="ad338-193">Bubbled events from named helper types.</span></span> <span data-ttu-id="ad338-194">Wenn Sie übergeben Ereignisse aus einem Stilelement überwachen, sollten Sie anfordern, dass das Element, das das Ereignis generiert, eindeutig identifiziert werden kann.</span><span class="sxs-lookup"><span data-stu-id="ad338-194">If you listen for bubbled events from a style element, you should require that the element generating the event can be uniquely identified.</span></span> <span data-ttu-id="ad338-195">Beispiel: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span><span class="sxs-lookup"><span data-stu-id="ad338-195">Example: <xref:System.Windows.Controls.Primitives.Thumb> in <xref:System.Windows.Controls.ToolBar>.</span></span>

  8. <span data-ttu-id="ad338-196">Benutzerdefiniertes `OnRender`-Verhalten.</span><span class="sxs-lookup"><span data-stu-id="ad338-196">Custom `OnRender` behavior.</span></span> <span data-ttu-id="ad338-197">Beispiel: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="ad338-197">Example: <xref:Microsoft.Windows.Themes.ButtonChrome> in <xref:System.Windows.Controls.Button>.</span></span>

- <span data-ttu-id="ad338-198">**Verwenden Sie die Formattrigger (im Gegensatz zu Vorlagentrigger) sparsam**.</span><span class="sxs-lookup"><span data-stu-id="ad338-198">**Use style triggers (as opposed to template triggers) sparingly**.</span></span> <span data-ttu-id="ad338-199">Trigger, die Eigenschaften für Elemente in der Vorlage beeinflussen, müssen in der Vorlage deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="ad338-199">Triggers that affect properties on elements in the template must be declared in the template.</span></span> <span data-ttu-id="ad338-200">Trigger, die Eigenschaften des Steuerelements beeinflussen (keine `TargetName`) können im Stil deklariert werden, es sei denn, Sie wissen, dass eine Änderung der Vorlage auch den Trigger zerstören wird.</span><span class="sxs-lookup"><span data-stu-id="ad338-200">Triggers that affect properties on the control (no `TargetName`) may be declared in the style unless you know that changing the template should also destroy the trigger.</span></span>

- <span data-ttu-id="ad338-201">**Seien Sie mit vorhandenen Formatierungsmustern konsistent.**</span><span class="sxs-lookup"><span data-stu-id="ad338-201">**Be consistent with existing styling patterns.**</span></span> <span data-ttu-id="ad338-202">Oft gibt es mehrere Methoden zur Lösung eines Problems.</span><span class="sxs-lookup"><span data-stu-id="ad338-202">Many times there are multiple ways to solve a problem.</span></span> <span data-ttu-id="ad338-203">Beachten Sie, und – wenn möglich – seien Sie konsistent vorhandenen Stilentwürfen des Steuerelements.</span><span class="sxs-lookup"><span data-stu-id="ad338-203">Be aware of and, when possible, consistent with existing control styling patterns.</span></span> <span data-ttu-id="ad338-204">Dies ist insbesondere für Steuerelemente wichtig, die vom gleichen Basistyp abgeleitet werden (z. b. <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>usw.).</span><span class="sxs-lookup"><span data-stu-id="ad338-204">This is especially important for controls that derive from the same base type (for example, <xref:System.Windows.Controls.ContentControl>, <xref:System.Windows.Controls.ItemsControl>, <xref:System.Windows.Controls.Primitives.RangeBase>, and so on).</span></span>

- <span data-ttu-id="ad338-205">**Machen Sie Eigenschaften verfügbar, um allgemeine Anpassungszenarios ohne neue Vorlagen zuzulassen**.</span><span class="sxs-lookup"><span data-stu-id="ad338-205">**Expose properties to enable common customization scenarios without retemplating**.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="ad338-206">unterstützt keine austauschbaren/anpassbaren Teile,also bleibt ein Benutzer des Steuerelements mit nur zwei Methoden der Anpassung zurück: direktes Festlegen von Eigenschaften oder Festlegen von Eigenschaften mit Formatvorlagen.</span><span class="sxs-lookup"><span data-stu-id="ad338-206">does not support pluggable/customizable parts, so a control user is left with only two methods of customization: setting properties directly or setting properties using styles.</span></span> <span data-ttu-id="ad338-207">Wenn Sie das bedenken, können Sie eine begrenzte Anzahl an Eigenschaften für sehr häufige Anpassungsszenarios mit hoher Priorität darzustellen, die andernfalls eine neue Vorlage erfordern.</span><span class="sxs-lookup"><span data-stu-id="ad338-207">With that in mind, it is appropriate to surface a limited number of properties targeted at very common, high-priority customization scenarios which would otherwise require the retemplating.</span></span> <span data-ttu-id="ad338-208">Hier sind die bewährten Methoden dargestellt, wenn und wie Anpassungsszenarios aktiviert werden:</span><span class="sxs-lookup"><span data-stu-id="ad338-208">Here are best practices for when and how to enable customization scenarios:</span></span>

  - <span data-ttu-id="ad338-209">Sehr häufige Anpassungen sollten als Eigenschaften des Steuerelements verfügbar gemacht werden und von der Vorlage genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="ad338-209">Very common customizations should be exposed as properties on the control and consumed by the template.</span></span>

  - <span data-ttu-id="ad338-210">Weniger allgemeine (wenn auch keine seltenen) Anpassungen sollten als angefügte Eigenschaften verfügbar gemacht werden und von der Vorlage genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="ad338-210">Less common (though not rare) customizations should be exposed as attached properties and consumed by the template.</span></span>

  - <span data-ttu-id="ad338-211">Für bekannte aber seltene Anpassungen sind erforderliche neue Vorlagen akzeptabel.</span><span class="sxs-lookup"><span data-stu-id="ad338-211">It is acceptable for known but rare customizations to require retemplating.</span></span>

<a name="Theme_Considerations"></a>

## <a name="theme-considerations"></a><span data-ttu-id="ad338-212">Überlegungen zum Design</span><span class="sxs-lookup"><span data-stu-id="ad338-212">Theme Considerations</span></span>

- <span data-ttu-id="ad338-213">**Designstile sollten versuchen, über konsistente Eigenschaftensemantik auf allen Designs zu verfügen, aber es gibt keine Garantie dafür**.</span><span class="sxs-lookup"><span data-stu-id="ad338-213">**Theme styles should attempt to have consistent property semantics across all themes, but make no guarantee**.</span></span> <span data-ttu-id="ad338-214">Als Teil der Dokumentation sollte das Steuerelement über ein Dokument zur Beschreibung der Eigenschaftensemantik des Steuerelements verfügen, also die „Bedeutung“ einer Eigenschaft für ein Steuerelement.</span><span class="sxs-lookup"><span data-stu-id="ad338-214">As part of its documentation, your control should have a document describing the control's property semantics, that is, the "meaning" of a property for a control.</span></span> <span data-ttu-id="ad338-215">Beispielsweise sollte das <xref:System.Windows.Controls.ComboBox>-Steuerelement die Bedeutung der <xref:System.Windows.Controls.Control.Background%2A>-Eigenschaft innerhalb <xref:System.Windows.Controls.ComboBox>definieren.</span><span class="sxs-lookup"><span data-stu-id="ad338-215">For example, the <xref:System.Windows.Controls.ComboBox> control should define the meaning of the <xref:System.Windows.Controls.Control.Background%2A> property within <xref:System.Windows.Controls.ComboBox>.</span></span> <span data-ttu-id="ad338-216">Die Standardstile für das Steuerelement sollten versuchen, die für alle Designs in diesem Dokument definierte Semantik zu befolgen.</span><span class="sxs-lookup"><span data-stu-id="ad338-216">The default styles for your control should attempt to follow the semantics defined in that document across all themes.</span></span> <span data-ttu-id="ad338-217">Benutzer des Steuerelements sollten sich jedoch auch bewusst sein, dass die Eigenschaftensemantik von Design zu Design verschieden sein kann.</span><span class="sxs-lookup"><span data-stu-id="ad338-217">Control users, on the other hand, should be aware that property semantics can change from theme to theme.</span></span> <span data-ttu-id="ad338-218">In bestimmten Fällen kann eine bestimmte Eigenschaft unter den visuellen Einschränkungen, die von einem bestimmten Design benötigt werden, nicht ausgedrückt werden.</span><span class="sxs-lookup"><span data-stu-id="ad338-218">In certain cases, a given property may not be expressible under the visual constraints required by a particular theme.</span></span> <span data-ttu-id="ad338-219">(Das Classic-Design verfügt z.B. über keine einzelne Grenze für die `Thickness` für viele Steuerelemente angewendet werden kann.)</span><span class="sxs-lookup"><span data-stu-id="ad338-219">(The Classic theme, for example, does not have a single border to which `Thickness` can be applied for many controls.)</span></span>

- <span data-ttu-id="ad338-220">**Designstile müssen nicht über konsistente Triggersemantik zwischen allen Designs verfügen**.</span><span class="sxs-lookup"><span data-stu-id="ad338-220">**Theme styles do not need to have consistent trigger semantics across all themes**.</span></span> <span data-ttu-id="ad338-221">Das Verhalten, das von einem Steuerelementstil durch Trigger oder Animationen verfügbar gemacht wird, kann je nach Design variieren.</span><span class="sxs-lookup"><span data-stu-id="ad338-221">The behavior exposed by a control style through triggers or animations may vary from theme to theme.</span></span> <span data-ttu-id="ad338-222">Benutzer sollten bedenken, dass ein Steuerelement nicht zwangsläufig denselben Mechanismus nutzt, um alle ein bestimmtes Verhalten für alle Designs zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="ad338-222">Control users should be aware that a control will not necessarily employ the same mechanism to achieve a particular behavior across all themes.</span></span> <span data-ttu-id="ad338-223">Ein Design kann z.B. eine Animation verwenden, um das Hover-Verhalten zu verdeutlichen, während ein anderes Design einen Trigger verwendet.</span><span class="sxs-lookup"><span data-stu-id="ad338-223">One theme, for example, may use an animation to express hover behavior where another theme uses a trigger.</span></span> <span data-ttu-id="ad338-224">Dies kann zu Inkonsistenzen bei der Beibehaltung des Verhaltens in benutzerdefinierten Steuerelementen führen.</span><span class="sxs-lookup"><span data-stu-id="ad338-224">This can result in inconsistencies in behavior preservation on customized controls.</span></span> <span data-ttu-id="ad338-225">(Das Ändern von beispielsweise der Hintergrundeigenschaft kann den Hoverzustand des Steuerelements womöglich nicht beeinflussen, wenn dieser Zustand mithilfe eines Triggers ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="ad338-225">(Changing the background property, for example, might not affect the hover state of the control if that state is expressed using a trigger.</span></span> <span data-ttu-id="ad338-226">Wenn der Hoverzustand allerdings mithilfe einer Animation implementiert wurde, kann das Wechseln zum Hintergrund zu einer irreparablen Zerstörung der Animation und somit auch des Zustandsübergangs führen.)</span><span class="sxs-lookup"><span data-stu-id="ad338-226">However, if the hover state is implemented using an animation, changing to background could irreparably break the animation and therefore the state transition.)</span></span>

- <span data-ttu-id="ad338-227">**Designstile müssen nicht über konsistente „Layoutsemantik“ über allen Designs verfügen**.</span><span class="sxs-lookup"><span data-stu-id="ad338-227">**Theme styles do not need to have consistent "layout" semantics across all themes**.</span></span> <span data-ttu-id="ad338-228">Das Standardformat muss z.B: nicht garantieren, dass ein Steuerelement die gleiche Größe in allen Designs übernimmt oder dass ein Steuerelement über dieselben Ränder/Abstände des Inhalts in allen Designs verfügt.</span><span class="sxs-lookup"><span data-stu-id="ad338-228">For example, the default style does not need to guarantee that a control will occupy the same amount of size in all themes or guarantee that a control will have the same content margins / padding across all themes.</span></span>

## <a name="see-also"></a><span data-ttu-id="ad338-229">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="ad338-229">See also</span></span>

- [<span data-ttu-id="ad338-230">Erstellen von Formaten und Vorlagen</span><span class="sxs-lookup"><span data-stu-id="ad338-230">Styling and Templating</span></span>](../../../desktop-wpf/fundamentals/styles-templates-overview.md)
- [<span data-ttu-id="ad338-231">Übersicht über das Erstellen von Steuerelementen</span><span class="sxs-lookup"><span data-stu-id="ad338-231">Control Authoring Overview</span></span>](control-authoring-overview.md)
