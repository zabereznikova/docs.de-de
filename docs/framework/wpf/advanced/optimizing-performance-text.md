---
title: 'Optimieren der Leistung: Text'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- rendering text [WPF]
- hyperlinks [WPF]
- formatted text [WPF]
- text [WPF], performance
- glyphs [WPF]
ms.assetid: 66b1b9a7-8618-48db-b616-c57ea4327b98
ms.openlocfilehash: 3e729458538353499f27f95ea2ca37fea1335238
ms.sourcegitcommit: 9a97c76e141333394676bc5d264c6624b6f45bcf
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/08/2020
ms.locfileid: "75740344"
---
# <a name="optimizing-performance-text"></a><span data-ttu-id="e9f17-102">Optimieren der Leistung: Text</span><span class="sxs-lookup"><span data-stu-id="e9f17-102">Optimizing Performance: Text</span></span>

[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e9f17-103">bietet Unterstützung für die Präsentation von Textinhalt durch Verwendung von umfangreichen [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)]-Steuerelementen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-103">includes support for the presentation of text content through the use of feature-rich [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] controls.</span></span> <span data-ttu-id="e9f17-104">Im Allgemeinen können Sie das Rendern von Text in drei Ebenen unterteilen:</span><span class="sxs-lookup"><span data-stu-id="e9f17-104">In general you can divide text rendering in three layers:</span></span>

1. <span data-ttu-id="e9f17-105">Direktes verwenden der <xref:System.Windows.Documents.Glyphs>-und <xref:System.Windows.Media.GlyphRun>-Objekte.</span><span class="sxs-lookup"><span data-stu-id="e9f17-105">Using the <xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun> objects directly.</span></span>

2. <span data-ttu-id="e9f17-106">Verwenden des <xref:System.Windows.Media.FormattedText> Objekts.</span><span class="sxs-lookup"><span data-stu-id="e9f17-106">Using the <xref:System.Windows.Media.FormattedText> object.</span></span>

3. <span data-ttu-id="e9f17-107">Verwenden von Steuerelementen auf hoher Ebene, z. b. das <xref:System.Windows.Controls.TextBlock>-und <xref:System.Windows.Documents.FlowDocument>-Objekt.</span><span class="sxs-lookup"><span data-stu-id="e9f17-107">Using high-level controls, such as the <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument> objects.</span></span>

<span data-ttu-id="e9f17-108">In diesem Thema erhalten Sie Empfehlungen bezüglich des Renderns von Text.</span><span class="sxs-lookup"><span data-stu-id="e9f17-108">This topic provides text rendering performance recommendations.</span></span>

<a name="Glyph_Level"></a>

## <a name="rendering-text-at-the-glyph-level"></a><span data-ttu-id="e9f17-109">Rendern von Text auf der Symbolebene</span><span class="sxs-lookup"><span data-stu-id="e9f17-109">Rendering Text at the Glyph Level</span></span>

[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="e9f17-110">bietet erweiterte Textunterstützung einschließlich Markup auf Symbolebene mit direktem Zugriff auf <xref:System.Windows.Documents.Glyphs> für Kunden, die Text nach der Formatierung abfangen und beibehalten möchten.</span><span class="sxs-lookup"><span data-stu-id="e9f17-110">provides advanced text support including glyph-level markup with direct access to <xref:System.Windows.Documents.Glyphs> for customers who want to intercept and persist text after formatting.</span></span> <span data-ttu-id="e9f17-111">Diese Funktionen stellen wichtige Unterstützung für verschiedene Text-Rendering-Voraussetzungen in jedem der folgenden Szenarios bereit.</span><span class="sxs-lookup"><span data-stu-id="e9f17-111">These features provide critical support for the different text rendering requirements in each of the following scenarios.</span></span>

- <span data-ttu-id="e9f17-112">Bildschirmanzeige von Dokumenten mit festem Format</span><span class="sxs-lookup"><span data-stu-id="e9f17-112">Screen display of fixed-format documents.</span></span>

- <span data-ttu-id="e9f17-113">Druckszenarios</span><span class="sxs-lookup"><span data-stu-id="e9f17-113">Print scenarios.</span></span>

  - [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)] <span data-ttu-id="e9f17-114">als Druckersprache für Geräte</span><span class="sxs-lookup"><span data-stu-id="e9f17-114">as a device printer language.</span></span>

  - <span data-ttu-id="e9f17-115">Microsoft XPS-Dokumentwriter.</span><span class="sxs-lookup"><span data-stu-id="e9f17-115">Microsoft XPS Document Writer.</span></span>

  - <span data-ttu-id="e9f17-116">Vorherige Druckertreiber, Ausgabe von Win32-Anwendungen im Fixed-Format.</span><span class="sxs-lookup"><span data-stu-id="e9f17-116">Previous printer drivers, output from Win32 applications to the fixed format.</span></span>

  - <span data-ttu-id="e9f17-117">Druckerspooler-Format</span><span class="sxs-lookup"><span data-stu-id="e9f17-117">Print spool format.</span></span>

- <span data-ttu-id="e9f17-118">Dokument Darstellung mit festem Format, einschließlich Clients für frühere Versionen von Windows und anderen Computergeräten.</span><span class="sxs-lookup"><span data-stu-id="e9f17-118">Fixed-format document representation, including clients for previous versions of Windows and other computing devices.</span></span>

> [!NOTE]
> <span data-ttu-id="e9f17-119"><xref:System.Windows.Documents.Glyphs> und <xref:System.Windows.Media.GlyphRun> sind für Dokument Präsentations-und Druck Szenarien mit festem Format konzipiert.</span><span class="sxs-lookup"><span data-stu-id="e9f17-119"><xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun> are designed for fixed-format document presentation and print scenarios.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="e9f17-120">bietet mehrere Elemente für allgemeine Layouts und [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] Szenarien wie <xref:System.Windows.Controls.Label> und <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="e9f17-120">provides several elements for general layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] scenarios such as <xref:System.Windows.Controls.Label> and <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="e9f17-121">Weitere Informationen zu Layout- und [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)]-Szenarios finden Sie unter [Typografie in WPF](typography-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="e9f17-121">For more information on layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] scenarios, see the [Typography in WPF](typography-in-wpf.md).</span></span>

<span data-ttu-id="e9f17-122">In den folgenden Beispielen wird gezeigt, wie Eigenschaften für ein <xref:System.Windows.Documents.Glyphs> Objekt in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)]definiert werden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-122">The following examples show how to define properties for a <xref:System.Windows.Documents.Glyphs> object in [!INCLUDE[TLA#tla_xaml](../../../../includes/tlasharptla-xaml-md.md)].</span></span> <span data-ttu-id="e9f17-123">Das <xref:System.Windows.Documents.Glyphs>-Objekt stellt die Ausgabe eines <xref:System.Windows.Media.GlyphRun> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]dar.</span><span class="sxs-lookup"><span data-stu-id="e9f17-123">The <xref:System.Windows.Documents.Glyphs> object represents the output of a <xref:System.Windows.Media.GlyphRun> in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)].</span></span> <span data-ttu-id="e9f17-124">In den Beispielen wird davon ausgegangen, dass die Schriftarten Arial, Courier New und Times New Roman im Ordner **C:\WINDOWS\Fonts** auf dem lokalen Computer installiert sind.</span><span class="sxs-lookup"><span data-stu-id="e9f17-124">The examples assume that the Arial, Courier New, and Times New Roman fonts are installed in the **C:\WINDOWS\Fonts** folder on the local computer.</span></span>

[!code-xaml[GlyphsOvwSample1#1](~/samples/snippets/csharp/VS_Snippets_Wpf/GlyphsOvwSample1/CS/default.xaml#1)]

### <a name="using-drawglyphrun"></a><span data-ttu-id="e9f17-125">Verwenden von DrawGlyphRun</span><span class="sxs-lookup"><span data-stu-id="e9f17-125">Using DrawGlyphRun</span></span>

<span data-ttu-id="e9f17-126">Wenn Sie über ein benutzerdefiniertes Steuerelement verfügen und Symbole darstellen möchten, verwenden Sie die <xref:System.Windows.Media.DrawingContext.DrawGlyphRun%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="e9f17-126">If you have custom control and you want to render glyphs, use the <xref:System.Windows.Media.DrawingContext.DrawGlyphRun%2A> method.</span></span>

[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e9f17-127">bietet auch Dienste auf niedrigerer Ebene für die benutzerdefinierte Textformatierung durch die Verwendung des <xref:System.Windows.Media.FormattedText> Objekts.</span><span class="sxs-lookup"><span data-stu-id="e9f17-127">also provides lower-level services for custom text formatting through the use of the <xref:System.Windows.Media.FormattedText> object.</span></span> <span data-ttu-id="e9f17-128">Das effizienteste Verfahren zum Rendern von Text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] besteht darin, Text Inhalt auf der Symbolebene mithilfe von <xref:System.Windows.Documents.Glyphs> und <xref:System.Windows.Media.GlyphRun>zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-128">The most efficient way of rendering text in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] is by generating text content at the glyph level using <xref:System.Windows.Documents.Glyphs> and <xref:System.Windows.Media.GlyphRun>.</span></span> <span data-ttu-id="e9f17-129">Die Kosten für diese Effizienz sind jedoch der Verlust der leicht zu verwendenden Rich-Text-Formatierung, die integrierte Features von [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] Steuerelementen wie <xref:System.Windows.Controls.TextBlock> und <xref:System.Windows.Documents.FlowDocument>sind.</span><span class="sxs-lookup"><span data-stu-id="e9f17-129">However, the cost of this efficiency is the loss of easy to use rich text formatting, which are built-in features of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] controls, such as <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument>.</span></span>

<a name="FormattedText_Object"></a>

## <a name="formattedtext-object"></a><span data-ttu-id="e9f17-130">FormattedText-Objekt</span><span class="sxs-lookup"><span data-stu-id="e9f17-130">FormattedText Object</span></span>

<span data-ttu-id="e9f17-131">Das <xref:System.Windows.Media.FormattedText>-Objekt ermöglicht das Zeichnen von mehrzeiligen Text, in dem jedes Zeichen im Text einzeln formatiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e9f17-131">The <xref:System.Windows.Media.FormattedText> object allows you to draw multi-line text, in which each character in the text can be individually formatted.</span></span> <span data-ttu-id="e9f17-132">Weitere Informationen finden Sie unter [Drawing Formatted Text (Zeichnen von formatiertem Text)](drawing-formatted-text.md).</span><span class="sxs-lookup"><span data-stu-id="e9f17-132">For more information, see [Drawing Formatted Text](drawing-formatted-text.md).</span></span>

<span data-ttu-id="e9f17-133">Um formatierten Text zu erstellen, rufen Sie den <xref:System.Windows.Media.FormattedText.%23ctor%2A>-Konstruktor auf, um ein <xref:System.Windows.Media.FormattedText> Objekt zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-133">To create formatted text, call the <xref:System.Windows.Media.FormattedText.%23ctor%2A> constructor to create a <xref:System.Windows.Media.FormattedText> object.</span></span> <span data-ttu-id="e9f17-134">Nachdem Sie die Anfangszeichenfolge für formatierten Text erstellt haben, können Sie eine Reihe von Formatvorlagen anwenden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-134">Once you have created the initial formatted text string, you can apply a range of formatting styles.</span></span> <span data-ttu-id="e9f17-135">Wenn Ihre Anwendung ein eigenes Layout implementieren möchte, ist das <xref:System.Windows.Media.FormattedText> Objekt besser geeignet als die Verwendung eines Steuer Elements, z. b. <xref:System.Windows.Controls.TextBlock>.</span><span class="sxs-lookup"><span data-stu-id="e9f17-135">If your application wants to implement its own layout, then the <xref:System.Windows.Media.FormattedText> object is better choice than using a control, such as <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="e9f17-136">Weitere Informationen zum <xref:System.Windows.Media.FormattedText>-Objekt finden Sie unter [Zeichnen von formatiertem Text](drawing-formatted-text.md) .</span><span class="sxs-lookup"><span data-stu-id="e9f17-136">For more information on the <xref:System.Windows.Media.FormattedText> object, see [Drawing Formatted Text](drawing-formatted-text.md) .</span></span>

<span data-ttu-id="e9f17-137">Das <xref:System.Windows.Media.FormattedText>-Objekt bietet Text Formatierungsfunktionen auf niedriger Ebene.</span><span class="sxs-lookup"><span data-stu-id="e9f17-137">The <xref:System.Windows.Media.FormattedText> object provides low-level text formatting capability.</span></span> <span data-ttu-id="e9f17-138">Sie können mehrere Formatvorlagen auf ein oder mehrere Zeichen anwenden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-138">You can apply multiple formatting styles to one or more characters.</span></span> <span data-ttu-id="e9f17-139">Beispielsweise können Sie die Methoden <xref:System.Windows.Media.FormattedText.SetFontSize%2A> und <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> aufzurufen, um die Formatierung der ersten fünf Zeichen im Text zu ändern.</span><span class="sxs-lookup"><span data-stu-id="e9f17-139">For example, you could call both the <xref:System.Windows.Media.FormattedText.SetFontSize%2A> and <xref:System.Windows.Media.FormattedText.SetForegroundBrush%2A> methods to change the formatting of the first five characters in the text.</span></span>

<span data-ttu-id="e9f17-140">Im folgenden Codebeispiel wird ein <xref:System.Windows.Media.FormattedText>-Objekt erstellt und gerendert.</span><span class="sxs-lookup"><span data-stu-id="e9f17-140">The following code example creates a <xref:System.Windows.Media.FormattedText> object and renders it.</span></span>

[!code-csharp[formattedtextsnippets#FormattedTextSnippets1](~/samples/snippets/csharp/VS_Snippets_Wpf/FormattedTextSnippets/CSharp/Window1.xaml.cs#formattedtextsnippets1)]
[!code-vb[formattedtextsnippets#FormattedTextSnippets1](~/samples/snippets/visualbasic/VS_Snippets_Wpf/FormattedTextSnippets/visualbasic/window1.xaml.vb#formattedtextsnippets1)]

<a name="FlowDocument_TextBlock_Label"></a>

## <a name="flowdocument-textblock-and-label-controls"></a><span data-ttu-id="e9f17-141">FlowDocument, TextBlock- und Label-Steuerelemente</span><span class="sxs-lookup"><span data-stu-id="e9f17-141">FlowDocument, TextBlock, and Label Controls</span></span>

[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e9f17-142">enthält zahlreiche Steuerelemente zum Zeichnen von Text auf dem Bildschirm.</span><span class="sxs-lookup"><span data-stu-id="e9f17-142">includes multiple controls for drawing text to the screen.</span></span> <span data-ttu-id="e9f17-143">Jedes Steuerelement ist einem bestimmten Szenario zugeordnet und besitzt eine eigene Liste von Funktionen und Einschränkungen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-143">Each control is targeted to a different scenario and has its own list of features and limitations.</span></span>

### <a name="flowdocument-impacts-performance-more-than-textblock-or-label"></a><span data-ttu-id="e9f17-144">FlowDocument wirkt sich mehr auf die Leistung aus als TextBlock oder Label</span><span class="sxs-lookup"><span data-stu-id="e9f17-144">FlowDocument Impacts Performance More than TextBlock or Label</span></span>

<span data-ttu-id="e9f17-145">Im Allgemeinen sollte das <xref:System.Windows.Controls.TextBlock>-Element verwendet werden, wenn eingeschränkte Textunterstützung erforderlich ist, z. b. ein kurzer Satz in einer [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="e9f17-145">In general, the <xref:System.Windows.Controls.TextBlock> element should be used when limited text support is required, such as a brief sentence in a [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)].</span></span> <span data-ttu-id="e9f17-146"><xref:System.Windows.Controls.Label> kann verwendet werden, wenn nur minimale Textunterstützung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="e9f17-146"><xref:System.Windows.Controls.Label> can be used when minimal text support is required.</span></span> <span data-ttu-id="e9f17-147">Das <xref:System.Windows.Documents.FlowDocument>-Element ist ein Container für neuflowfähige Dokumente, die eine umfangreiche Darstellung von Inhalten unterstützen und somit eine größere Auswirkung auf die Leistung als die Verwendung der <xref:System.Windows.Controls.TextBlock>-oder <xref:System.Windows.Controls.Label>-Steuerelemente haben.</span><span class="sxs-lookup"><span data-stu-id="e9f17-147">The <xref:System.Windows.Documents.FlowDocument> element is a container for re-flowable documents that support rich presentation of content, and therefore, has a greater performance impact than using the <xref:System.Windows.Controls.TextBlock> or <xref:System.Windows.Controls.Label> controls.</span></span>

<span data-ttu-id="e9f17-148">Weitere Informationen zu <xref:System.Windows.Documents.FlowDocument>finden Sie unter [Übersicht über Fluss Dokumente](flow-document-overview.md).</span><span class="sxs-lookup"><span data-stu-id="e9f17-148">For more information on <xref:System.Windows.Documents.FlowDocument>, see [Flow Document Overview](flow-document-overview.md).</span></span>

### <a name="avoid-using-textblock-in-flowdocument"></a><span data-ttu-id="e9f17-149">Vermeiden von TextBlock in FlowDocument</span><span class="sxs-lookup"><span data-stu-id="e9f17-149">Avoid Using TextBlock in FlowDocument</span></span>

<span data-ttu-id="e9f17-150">Das <xref:System.Windows.Controls.TextBlock>-Element wird von <xref:System.Windows.UIElement>abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="e9f17-150">The <xref:System.Windows.Controls.TextBlock> element is derived from <xref:System.Windows.UIElement>.</span></span> <span data-ttu-id="e9f17-151">Das <xref:System.Windows.Documents.Run> Element wird von <xref:System.Windows.Documents.TextElement>abgeleitet, das weniger kostspielig als ein von <xref:System.Windows.UIElement>abgeleitetes Objekt ist.</span><span class="sxs-lookup"><span data-stu-id="e9f17-151">The <xref:System.Windows.Documents.Run> element is derived from <xref:System.Windows.Documents.TextElement>, which is less costly to use than a <xref:System.Windows.UIElement>-derived object.</span></span> <span data-ttu-id="e9f17-152">Verwenden Sie nach Möglichkeit <xref:System.Windows.Documents.Run> anstelle von <xref:System.Windows.Controls.TextBlock>, um Textinhalte in einem <xref:System.Windows.Documents.FlowDocument>anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-152">When possible, use <xref:System.Windows.Documents.Run> rather than <xref:System.Windows.Controls.TextBlock> for displaying text content in a <xref:System.Windows.Documents.FlowDocument>.</span></span>

<span data-ttu-id="e9f17-153">Im folgenden Markup Beispiel werden zwei Möglichkeiten zum Festlegen von Text Inhalt in einem <xref:System.Windows.Documents.FlowDocument>veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="e9f17-153">The following markup sample illustrates two ways of setting text content within a <xref:System.Windows.Documents.FlowDocument>:</span></span>

[!code-xaml[Performance#PerformanceSnippet13](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/FlowDocument.xaml#performancesnippet13)]

### <a name="avoid-using-run-to-set-text-properties"></a><span data-ttu-id="e9f17-154">Vermeiden von Run zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="e9f17-154">Avoid Using Run to Set Text Properties</span></span>

<span data-ttu-id="e9f17-155">Im Allgemeinen ist die Verwendung einer <xref:System.Windows.Documents.Run> in einer <xref:System.Windows.Controls.TextBlock> Leistungs intensiver als die Verwendung eines expliziten <xref:System.Windows.Documents.Run> Objekts.</span><span class="sxs-lookup"><span data-stu-id="e9f17-155">In general, using a <xref:System.Windows.Documents.Run> within a <xref:System.Windows.Controls.TextBlock> is more performance intensive than not using an explicit <xref:System.Windows.Documents.Run> object at all.</span></span> <span data-ttu-id="e9f17-156">Wenn Sie eine <xref:System.Windows.Documents.Run> verwenden, um Texteigenschaften festzulegen, legen Sie diese Eigenschaften stattdessen direkt auf der <xref:System.Windows.Controls.TextBlock> fest.</span><span class="sxs-lookup"><span data-stu-id="e9f17-156">If you are using a <xref:System.Windows.Documents.Run> in order to set text properties, set those properties directly on the <xref:System.Windows.Controls.TextBlock> instead.</span></span>

<span data-ttu-id="e9f17-157">Im folgenden Markup Beispiel werden diese beiden Methoden zum Festlegen einer Text Eigenschaft veranschaulicht, in diesem Fall die <xref:System.Windows.Controls.TextBlock.FontWeight%2A>-Eigenschaft:</span><span class="sxs-lookup"><span data-stu-id="e9f17-157">The following markup sample illustrates these two ways of setting a text property, in this case, the <xref:System.Windows.Controls.TextBlock.FontWeight%2A> property:</span></span>

[!code-xaml[Performance#PerformanceSnippet12](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Window1.xaml#performancesnippet12)]

<span data-ttu-id="e9f17-158">In der folgenden Tabelle werden die Kosten für die Anzeige von 1000 <xref:System.Windows.Controls.TextBlock>-Objekten mit und ohne explizites <xref:System.Windows.Documents.Run>gezeigt.</span><span class="sxs-lookup"><span data-stu-id="e9f17-158">The following table shows the cost of displaying 1000 <xref:System.Windows.Controls.TextBlock> objects with and without an explicit <xref:System.Windows.Documents.Run>.</span></span>

|<span data-ttu-id="e9f17-159">**TextBlock-Typ**</span><span class="sxs-lookup"><span data-stu-id="e9f17-159">**TextBlock type**</span></span>|<span data-ttu-id="e9f17-160">**Erstellungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="e9f17-160">**Creation time (ms)**</span></span>|<span data-ttu-id="e9f17-161">**Renderingzeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="e9f17-161">**Render time (ms)**</span></span>|
|------------------------|------------------------------|----------------------------|
|<span data-ttu-id="e9f17-162">Run zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="e9f17-162">Run setting text properties</span></span>|<span data-ttu-id="e9f17-163">146</span><span class="sxs-lookup"><span data-stu-id="e9f17-163">146</span></span>|<span data-ttu-id="e9f17-164">540</span><span class="sxs-lookup"><span data-stu-id="e9f17-164">540</span></span>|
|<span data-ttu-id="e9f17-165">TextBlock zum Festlegen von Texteigenschaften</span><span class="sxs-lookup"><span data-stu-id="e9f17-165">TextBlock setting text properties</span></span>|<span data-ttu-id="e9f17-166">43</span><span class="sxs-lookup"><span data-stu-id="e9f17-166">43</span></span>|<span data-ttu-id="e9f17-167">453</span><span class="sxs-lookup"><span data-stu-id="e9f17-167">453</span></span>|

### <a name="avoid-databinding-to-the-labelcontent-property"></a><span data-ttu-id="e9f17-168">Vermeiden von Datenbindung an die Label.Content-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="e9f17-168">Avoid Databinding to the Label.Content Property</span></span>

<span data-ttu-id="e9f17-169">Stellen Sie sich ein Szenario vor, in dem Sie über ein <xref:System.Windows.Controls.Label> Objekt verfügen, das häufig von einer <xref:System.String> Quelle aktualisiert wird.</span><span class="sxs-lookup"><span data-stu-id="e9f17-169">Imagine a scenario where you have a <xref:System.Windows.Controls.Label> object that is updated frequently from a <xref:System.String> source.</span></span> <span data-ttu-id="e9f17-170">Wenn die Daten an die <xref:System.Windows.Controls.ContentControl.Content%2A>-Eigenschaft des <xref:System.Windows.Controls.Label> Elements an das <xref:System.String> Quell Objekt gebunden werden, kann die Leistung beeinträchtigt werden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-170">When data binding the <xref:System.Windows.Controls.Label> element's <xref:System.Windows.Controls.ContentControl.Content%2A> property to the <xref:System.String> source object, you may experience poor performance.</span></span> <span data-ttu-id="e9f17-171">Jedes Mal, wenn die Quell <xref:System.String> aktualisiert wird, wird das alte <xref:System.String> Objekt verworfen und ein neuer <xref:System.String> neu erstellt – da ein <xref:System.String> Objekt unveränderlich ist, kann es nicht geändert werden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-171">Each time the source <xref:System.String> is updated, the old <xref:System.String> object is discarded and a new <xref:System.String> is recreated—because a <xref:System.String> object is immutable, it cannot be modified.</span></span> <span data-ttu-id="e9f17-172">Dies bewirkt wiederum, dass die <xref:System.Windows.Controls.ContentPresenter> des <xref:System.Windows.Controls.Label> Objekts den alten Inhalt verwerfen und den neuen Inhalt neu generieren, um die neue <xref:System.String>anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-172">This, in turn, causes the <xref:System.Windows.Controls.ContentPresenter> of the <xref:System.Windows.Controls.Label> object to discard its old content and regenerate the new content to display the new <xref:System.String>.</span></span>

<span data-ttu-id="e9f17-173">Die Lösung für dieses Problem ist einfach.</span><span class="sxs-lookup"><span data-stu-id="e9f17-173">The solution to this problem is simple.</span></span> <span data-ttu-id="e9f17-174">Wenn die <xref:System.Windows.Controls.Label> nicht auf einen benutzerdefinierten <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> Wert festgelegt ist, ersetzen Sie die <xref:System.Windows.Controls.Label> durch eine <xref:System.Windows.Controls.TextBlock>, und binden Sie die <xref:System.Windows.Controls.TextBlock.Text%2A>-Eigenschaft an die Quell Zeichenfolge.</span><span class="sxs-lookup"><span data-stu-id="e9f17-174">If the <xref:System.Windows.Controls.Label> is not set to a custom <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> value, replace the <xref:System.Windows.Controls.Label> with a <xref:System.Windows.Controls.TextBlock> and data bind its <xref:System.Windows.Controls.TextBlock.Text%2A> property to the source string.</span></span>

|<span data-ttu-id="e9f17-175">**Datengebundene Eigenschaft**</span><span class="sxs-lookup"><span data-stu-id="e9f17-175">**Data bound property**</span></span>|<span data-ttu-id="e9f17-176">**Aktualisierungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="e9f17-176">**Update time (ms)**</span></span>|
|-----------------------------|----------------------------|
|<span data-ttu-id="e9f17-177">Label.Content</span><span class="sxs-lookup"><span data-stu-id="e9f17-177">Label.Content</span></span>|<span data-ttu-id="e9f17-178">835</span><span class="sxs-lookup"><span data-stu-id="e9f17-178">835</span></span>|
|<span data-ttu-id="e9f17-179">TextBlock.Text</span><span class="sxs-lookup"><span data-stu-id="e9f17-179">TextBlock.Text</span></span>|<span data-ttu-id="e9f17-180">242</span><span class="sxs-lookup"><span data-stu-id="e9f17-180">242</span></span>|

<a name="Hyperlink"></a>

## <a name="hyperlink"></a><span data-ttu-id="e9f17-181">Link</span><span class="sxs-lookup"><span data-stu-id="e9f17-181">Hyperlink</span></span>

<span data-ttu-id="e9f17-182">Das <xref:System.Windows.Documents.Hyperlink>-Objekt ist ein fortlaufendes Inhalts Element auf Inline Ebene, mit dem Sie Hyperlinks innerhalb des fortlaufenden Inhalts hosten können.</span><span class="sxs-lookup"><span data-stu-id="e9f17-182">The <xref:System.Windows.Documents.Hyperlink> object is an inline-level flow content element that allows you to host hyperlinks within the flow content.</span></span>

### <a name="combine-hyperlinks-in-one-textblock-object"></a><span data-ttu-id="e9f17-183">Kombinieren von Links in einem TextBlock-Objekt</span><span class="sxs-lookup"><span data-stu-id="e9f17-183">Combine Hyperlinks in One TextBlock Object</span></span>

<span data-ttu-id="e9f17-184">Sie können die Verwendung mehrerer <xref:System.Windows.Documents.Hyperlink> Elemente optimieren, indem Sie Sie innerhalb desselben <xref:System.Windows.Controls.TextBlock>gruppieren.</span><span class="sxs-lookup"><span data-stu-id="e9f17-184">You can optimize the use of multiple <xref:System.Windows.Documents.Hyperlink> elements by grouping them together within the same <xref:System.Windows.Controls.TextBlock>.</span></span> <span data-ttu-id="e9f17-185">Dadurch wird die Anzahl der Objekte minimiert, die Sie in Ihrer Anwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-185">This helps to minimize the number of objects you create in your application.</span></span> <span data-ttu-id="e9f17-186">Zum Beispiel kann es vorkommen, dass Sie mehrere Links wie folgt anzeigen möchten:</span><span class="sxs-lookup"><span data-stu-id="e9f17-186">For example, you may want to display multiple hyperlinks, such as the following:</span></span>

<span data-ttu-id="e9f17-187">MSN Home &#124; My MSN</span><span class="sxs-lookup"><span data-stu-id="e9f17-187">MSN Home &#124; My MSN</span></span>

<span data-ttu-id="e9f17-188">Das folgende Markup Beispiel zeigt mehrere <xref:System.Windows.Controls.TextBlock> Elemente, die zum Anzeigen der Hyperlinks verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="e9f17-188">The following markup example shows multiple <xref:System.Windows.Controls.TextBlock> elements used to display the hyperlinks:</span></span>

[!code-xaml[Performance#PerformanceSnippet9](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet9)]

<span data-ttu-id="e9f17-189">Im folgenden Markup Beispiel wird ein effizienteres Verfahren zum Anzeigen der Hyperlinks veranschaulicht. dieses Mal wird eine einzelne <xref:System.Windows.Controls.TextBlock>verwendet:</span><span class="sxs-lookup"><span data-stu-id="e9f17-189">The following markup example shows a more efficient way of displaying the hyperlinks, this time, using a single <xref:System.Windows.Controls.TextBlock>:</span></span>

[!code-xaml[Performance#PerformanceSnippet10](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet10)]

### <a name="showing-underlines-on-hyperlinks-only-on-mouseenter-events"></a><span data-ttu-id="e9f17-190">Anzeigen der Unterstreichungen von Links nur bei MouseEnter-Ereignissen</span><span class="sxs-lookup"><span data-stu-id="e9f17-190">Showing Underlines on Hyperlinks Only on MouseEnter Events</span></span>

<span data-ttu-id="e9f17-191">Ein <xref:System.Windows.TextDecoration> Objekt ist eine visuelle Verzierung, die Sie Text hinzufügen können. Allerdings kann es für die instanziieren sehr Leistungs intensiv sein.</span><span class="sxs-lookup"><span data-stu-id="e9f17-191">A <xref:System.Windows.TextDecoration> object is a visual ornamentation that you can add to text; however, it can be performance intensive to instantiate.</span></span> <span data-ttu-id="e9f17-192">Wenn Sie <xref:System.Windows.Documents.Hyperlink> Elemente umfassend verwenden, sollten Sie eine Unterstreichung nur beim Auslösen eines Ereignisses, z. b. des <xref:System.Windows.ContentElement.MouseEnter> Ereignisses, in Erwägung gezogen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-192">If you make extensive use of <xref:System.Windows.Documents.Hyperlink> elements, consider showing an underline only when triggering an event, such as the <xref:System.Windows.ContentElement.MouseEnter> event.</span></span> <span data-ttu-id="e9f17-193">Weitere Informationen finden Sie unter [Specify Whether a Hyperlink is Underlined (Angeben, ob ein Link unterstrichen wird)](how-to-specify-whether-a-hyperlink-is-underlined.md).</span><span class="sxs-lookup"><span data-stu-id="e9f17-193">For more information, see [Specify Whether a Hyperlink is Underlined](how-to-specify-whether-a-hyperlink-is-underlined.md).</span></span>

<span data-ttu-id="e9f17-194">Die folgende Abbildung zeigt, wie das mouposienter-Ereignis den unterstrichenen Hyperlink auslöst:</span><span class="sxs-lookup"><span data-stu-id="e9f17-194">The following image shows how the MouseEnter event triggers the underlined hyperlink:</span></span>

![Links mit TextDecorations](./media/how-to-specify-whether-a-hyperlink-is-underlined/text-decorations-hyperlinks.png)

<span data-ttu-id="e9f17-196">Das folgende Markup Beispiel zeigt eine <xref:System.Windows.Documents.Hyperlink>, die mit und ohne Unterstreichung definiert ist:</span><span class="sxs-lookup"><span data-stu-id="e9f17-196">The following markup sample shows a <xref:System.Windows.Documents.Hyperlink> defined with and without an underline:</span></span>

[!code-xaml[Performance#PerformanceSnippet11](~/samples/snippets/csharp/VS_Snippets_Wpf/Performance/CSharp/Hyperlink.xaml#performancesnippet11)]

<span data-ttu-id="e9f17-197">In der folgenden Tabelle werden die Leistungseinbußen beim Anzeigen von 1000 <xref:System.Windows.Documents.Hyperlink>-Elementen mit und ohne Unterstreichung aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="e9f17-197">The following table shows the performance cost of displaying 1000 <xref:System.Windows.Documents.Hyperlink> elements with and without an underline.</span></span>

|<span data-ttu-id="e9f17-198">**Link**</span><span class="sxs-lookup"><span data-stu-id="e9f17-198">**Hyperlink**</span></span>|<span data-ttu-id="e9f17-199">**Erstellungszeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="e9f17-199">**Creation time (ms)**</span></span>|<span data-ttu-id="e9f17-200">**Renderingzeit (in ms)**</span><span class="sxs-lookup"><span data-stu-id="e9f17-200">**Render time (ms)**</span></span>|
|-------------------|------------------------------|----------------------------|
|<span data-ttu-id="e9f17-201">Mit Unterstreichung</span><span class="sxs-lookup"><span data-stu-id="e9f17-201">With underline</span></span>|<span data-ttu-id="e9f17-202">289</span><span class="sxs-lookup"><span data-stu-id="e9f17-202">289</span></span>|<span data-ttu-id="e9f17-203">1130</span><span class="sxs-lookup"><span data-stu-id="e9f17-203">1130</span></span>|
|<span data-ttu-id="e9f17-204">Ohne Unterstreichung</span><span class="sxs-lookup"><span data-stu-id="e9f17-204">Without underline</span></span>|<span data-ttu-id="e9f17-205">299</span><span class="sxs-lookup"><span data-stu-id="e9f17-205">299</span></span>|<span data-ttu-id="e9f17-206">776</span><span class="sxs-lookup"><span data-stu-id="e9f17-206">776</span></span>|

<a name="Text_Formatting_Features"></a>

## <a name="text-formatting-features"></a><span data-ttu-id="e9f17-207">Textformatierungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="e9f17-207">Text Formatting Features</span></span>

[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="e9f17-208">bietet umfangreiche Formatierungsdienste wie automatische Silbentrennung.</span><span class="sxs-lookup"><span data-stu-id="e9f17-208">provides rich text formatting services, such as automatic hyphenations.</span></span> <span data-ttu-id="e9f17-209">Diese Dienste können die Leistung der Anwendung beeinträchtigen und sollten nur bei Bedarf verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-209">These services may impact application performance and should only be used when needed.</span></span>

### <a name="avoid-unnecessary-use-of-hyphenation"></a><span data-ttu-id="e9f17-210">Vermeiden von unnötiger Silbentrennung</span><span class="sxs-lookup"><span data-stu-id="e9f17-210">Avoid Unnecessary Use of Hyphenation</span></span>

<span data-ttu-id="e9f17-211">Die automatische Silben Trennung findet Bindestriche für Textzeilen und ermöglicht zusätzliche Breakpoints für Linien in <xref:System.Windows.Controls.TextBlock>-und <xref:System.Windows.Documents.FlowDocument>-Objekten.</span><span class="sxs-lookup"><span data-stu-id="e9f17-211">Automatic hyphenation finds hyphen breakpoints for lines of text, and allows additional break positions for lines in <xref:System.Windows.Controls.TextBlock> and <xref:System.Windows.Documents.FlowDocument> objects.</span></span> <span data-ttu-id="e9f17-212">In der Standardeinstellung ist die automatische Silbentrennung in diesen Objekten deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="e9f17-212">By default, the automatic hyphenation feature is disabled in these objects.</span></span> <span data-ttu-id="e9f17-213">Sie können diese Funktion aktivieren, indem Sie die IsHyphenationEnabled-Eigenschaft des Objekts auf `true` festlegen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-213">You can enable this feature by setting the object's IsHyphenationEnabled property to `true`.</span></span> <span data-ttu-id="e9f17-214">Das Aktivieren dieses Features bewirkt jedoch, dass [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] die Component Object Model (com)-Interoperabilität initiiert, was sich auf die Leistung der Anwendung auswirken kann.</span><span class="sxs-lookup"><span data-stu-id="e9f17-214">However, enabling this feature causes [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] to initiate Component Object Model (COM) interoperability, which can impact application performance.</span></span> <span data-ttu-id="e9f17-215">Es wird empfohlen, die automatische Silbentrennung nur bei Bedarf zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-215">It is recommended that you do not use automatic hyphenation unless you need it.</span></span>

### <a name="use-figures-carefully"></a><span data-ttu-id="e9f17-216">Vorsichtiges Verwenden von Figure-Elementen</span><span class="sxs-lookup"><span data-stu-id="e9f17-216">Use Figures Carefully</span></span>

<span data-ttu-id="e9f17-217">Ein <xref:System.Windows.Documents.Figure>-Element stellt einen Teil des fortlaufenden Inhalts dar, der in einer Inhaltsseite absolut positioniert werden kann.</span><span class="sxs-lookup"><span data-stu-id="e9f17-217">A <xref:System.Windows.Documents.Figure> element represents a portion of flow content that can be absolutely-positioned within a page of content.</span></span> <span data-ttu-id="e9f17-218">In einigen Fällen kann eine <xref:System.Windows.Documents.Figure> bewirken, dass eine gesamte Seite automatisch neu formatiert wird, wenn die Position mit Inhalt, der bereits angelegt wurde, in Konflikt steht. Sie können die Möglichkeit der unnötigen Neuformatierung minimieren, indem Sie entweder <xref:System.Windows.Documents.Figure> Elemente nebeneinander gruppieren oder Sie in einem Szenario mit fester Seitengröße am oberen Rand des Inhalts deklarieren.</span><span class="sxs-lookup"><span data-stu-id="e9f17-218">In some cases, a <xref:System.Windows.Documents.Figure> may cause an entire page to automatically reformat if its position collides with content that has already been laid-out. You can minimize the possibility of unnecessary reformatting by either grouping <xref:System.Windows.Documents.Figure> elements next to each other, or declaring them near the top of content in a fixed page size scenario.</span></span>

### <a name="optimal-paragraph"></a><span data-ttu-id="e9f17-219">Optimale Absatzformatierung</span><span class="sxs-lookup"><span data-stu-id="e9f17-219">Optimal Paragraph</span></span>

<span data-ttu-id="e9f17-220">Die optimale Absatz Funktion des <xref:System.Windows.Documents.FlowDocument> Objekts bildet Absätze, sodass Leerraum so gleichmäßig wie möglich verteilt wird.</span><span class="sxs-lookup"><span data-stu-id="e9f17-220">The optimal paragraph feature of the <xref:System.Windows.Documents.FlowDocument> object lays out paragraphs so that white space is distributed as evenly as possible.</span></span> <span data-ttu-id="e9f17-221">In der Standardeinstellung ist die optimale Absatzformatierung deaktiviert.</span><span class="sxs-lookup"><span data-stu-id="e9f17-221">By default, the optimal paragraph feature is disabled.</span></span> <span data-ttu-id="e9f17-222">Sie können diese Funktion aktivieren, indem Sie die <xref:System.Windows.Documents.FlowDocument.IsOptimalParagraphEnabled%2A>-Eigenschaft des Objekts auf `true`festlegen.</span><span class="sxs-lookup"><span data-stu-id="e9f17-222">You can enable this feature by setting the object's <xref:System.Windows.Documents.FlowDocument.IsOptimalParagraphEnabled%2A> property to `true`.</span></span> <span data-ttu-id="e9f17-223">Allerdings beeinträchtigt die Aktivierung dieser Funktion die Leistung der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="e9f17-223">However, enabling this feature impacts application performance.</span></span> <span data-ttu-id="e9f17-224">Es wird empfohlen, die optimale Absatzformatierung nur bei Bedarf zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="e9f17-224">It is recommended that you do not use the optimal paragraph feature unless you need it.</span></span>

## <a name="see-also"></a><span data-ttu-id="e9f17-225">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="e9f17-225">See also</span></span>

- [<span data-ttu-id="e9f17-226">Optimieren der WPF-Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="e9f17-226">Optimizing WPF Application Performance</span></span>](optimizing-wpf-application-performance.md)
- [<span data-ttu-id="e9f17-227">Planen der Anwendungsleistung</span><span class="sxs-lookup"><span data-stu-id="e9f17-227">Planning for Application Performance</span></span>](planning-for-application-performance.md)
- [<span data-ttu-id="e9f17-228">Vorteile der Hardware nutzen</span><span class="sxs-lookup"><span data-stu-id="e9f17-228">Taking Advantage of Hardware</span></span>](optimizing-performance-taking-advantage-of-hardware.md)
- [<span data-ttu-id="e9f17-229">Layout und Entwurf</span><span class="sxs-lookup"><span data-stu-id="e9f17-229">Layout and Design</span></span>](optimizing-performance-layout-and-design.md)
- [<span data-ttu-id="e9f17-230">2D-Grafiken und Bildverarbeitung</span><span class="sxs-lookup"><span data-stu-id="e9f17-230">2D Graphics and Imaging</span></span>](optimizing-performance-2d-graphics-and-imaging.md)
- [<span data-ttu-id="e9f17-231">Objektverhalten</span><span class="sxs-lookup"><span data-stu-id="e9f17-231">Object Behavior</span></span>](optimizing-performance-object-behavior.md)
- [<span data-ttu-id="e9f17-232">Anwendungsressourcen</span><span class="sxs-lookup"><span data-stu-id="e9f17-232">Application Resources</span></span>](optimizing-performance-application-resources.md)
- [<span data-ttu-id="e9f17-233">Datenbindung</span><span class="sxs-lookup"><span data-stu-id="e9f17-233">Data Binding</span></span>](optimizing-performance-data-binding.md)
- [<span data-ttu-id="e9f17-234">Weitere Leistungsempfehlungen</span><span class="sxs-lookup"><span data-stu-id="e9f17-234">Other Performance Recommendations</span></span>](optimizing-performance-other-recommendations.md)
