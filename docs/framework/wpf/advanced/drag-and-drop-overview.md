---
title: Übersicht über Drag & Drop
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- drag-and-drop [WPF], implementing
- drag sources [WPF], drag-and-drop
- data transfer [WPF], drag-and-drop
- drag-and-drop [WPF], about
- drag-and-drop [WPF], events
- drop targets [WPF], drag-and-drop
ms.assetid: 1a5b27b0-0ac5-4cdf-86c0-86ac0271fa64
ms.openlocfilehash: 72dc443e5653b9871c3f67b003bd1af0536d5993
ms.sourcegitcommit: 9c3a4f2d3babca8919a1e490a159c1500ba7a844
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/12/2019
ms.locfileid: "72291472"
---
# <a name="drag-and-drop-overview"></a><span data-ttu-id="097ca-102">Übersicht über Drag & Drop</span><span class="sxs-lookup"><span data-stu-id="097ca-102">Drag and Drop Overview</span></span>
<span data-ttu-id="097ca-103">Dieses Thema enthält eine Übersicht zur Drag & Drop-Unterstützung in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]-Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="097ca-103">This topic provides an overview of drag-and-drop support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.</span></span> <span data-ttu-id="097ca-104">Drag & Drop bezeichnet im Allgemeinen eine Methode zur Datenübertragung, die die Verwendung einer Maus (oder eines anderen Zeigegeräts) zum Auswählen mindestens eines Objekts, das Ziehen dieses Objekts auf ein gewünschtes Ablageziels auf der [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] und dessen Ablegen beinhaltet.</span><span class="sxs-lookup"><span data-stu-id="097ca-104">Drag-and-drop commonly refers to a method of data transfer that involves using a mouse (or some other pointing device) to select one or more objects, dragging these objects over some desired drop target in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and dropping them.</span></span>  

<a name="Drag_and_Drop_Support"></a>   
## <a name="drag-and-drop-support-in-wpf"></a><span data-ttu-id="097ca-105">Drag & Drop-Unterstützung in WPF</span><span class="sxs-lookup"><span data-stu-id="097ca-105">Drag-and-Drop Support in WPF</span></span>  
 <span data-ttu-id="097ca-106">An Drag & Drop-Vorgängen sind normalerweise zwei Seiten beteiligt: eine Ziehquelle, aus dem das gezogene Objekt stammt, und ein Ablageziel, das das abgelegte Objekt empfängt.</span><span class="sxs-lookup"><span data-stu-id="097ca-106">Drag-and-drop operations typically involve two parties: a drag source from which the dragged object originates and a drop target which receives the dropped object.</span></span>  <span data-ttu-id="097ca-107">Bei der Ziehquelle und dem Ablageziel kann es sich um Benutzeroberflächenelemente in der gleichen Anwendung oder in verschiedenen Anwendungen handeln.</span><span class="sxs-lookup"><span data-stu-id="097ca-107">The drag source and drop target may be UI elements in the same application or a different application.</span></span>  
  
 <span data-ttu-id="097ca-108">Die Art und Anzahl der Objekte, die mit Drag & Drop bearbeitet werden können, ist beliebig.</span><span class="sxs-lookup"><span data-stu-id="097ca-108">The type and number of objects that can be manipulated with drag-and-drop is completely arbitrary.</span></span> <span data-ttu-id="097ca-109">Beispielsweise stellen Dateien, Ordner und ausgewählte Inhaltsbereiche gängige Objekte dar, die mithilfe von Drag & Drop-Vorgängen bearbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-109">For example, files, folders, and selections of content are some of the more common objects manipulated through drag-and-drop operations.</span></span>  
  
 <span data-ttu-id="097ca-110">Die Aktionen, die im Einzelnen im Rahmen von Drag & Drop-Vorgängen ausgeführt werden, sind anwendungsspezifisch und werden oft durch den Kontext festgelegt.</span><span class="sxs-lookup"><span data-stu-id="097ca-110">The particular actions performed during a drag-and-drop operation are application specific, and often determined by context.</span></span>  <span data-ttu-id="097ca-111">Wenn Sie z. b. eine Auswahl von Dateien aus einem Ordner in einen anderen Ordner auf demselben Speichergerät ziehen, werden die Dateien standardmäßig verschoben, während Dateien aus einer Universal Naming Convention-Freigabe (UNC) in einen lokalen Ordner kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-111">For example, dragging a selection of files from one folder to another on the same storage device moves the files by default, whereas dragging files from a Universal Naming Convention (UNC) share to a local folder copies the files by default.</span></span>  
  
 <span data-ttu-id="097ca-112">Die von [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] zur Verfügung gestellten Drag & Drop-Möglichkeiten sind äußerst flexibel und anpassbar, um eine große Bandbreite von Drag & Drop-Szenarien zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="097ca-112">The drag-and-drop facilities provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are designed to be highly flexible and customizable to support a wide variety of drag-and-drop scenarios.</span></span>  <span data-ttu-id="097ca-113">Drag-and-Drop unterstützt das Bearbeiten von Objekten innerhalb einer einzelnen Anwendung oder zwischen verschiedenen Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="097ca-113">Drag-and-drop supports manipulating objects within a single application, or between different applications.</span></span> <span data-ttu-id="097ca-114">Das ziehen und Ablegen zwischen [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] Anwendungen und anderen Windows-Anwendungen wird ebenfalls vollständig unterstützt.</span><span class="sxs-lookup"><span data-stu-id="097ca-114">Dragging-and-dropping between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications and other Windows applications is also fully supported.</span></span>  
  
 <span data-ttu-id="097ca-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] können beliebige <xref:System.Windows.UIElement> oder <xref:System.Windows.ContentElement> an Drag &amp; Drop-Vorgängen beteiligt sein.</span><span class="sxs-lookup"><span data-stu-id="097ca-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can participate in drag-and-drop.</span></span> <span data-ttu-id="097ca-116">Die für Drag &amp; Drop-Vorgänge erforderlichen Ereignisse und Methoden sind in der <xref:System.Windows.DragDrop>-Klasse definiert.</span><span class="sxs-lookup"><span data-stu-id="097ca-116">The events and methods required for drag-and-drop operations are defined in the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="097ca-117">Die Klassen <xref:System.Windows.UIElement> und <xref:System.Windows.ContentElement> enthalten Aliase für die angefügten <xref:System.Windows.DragDrop>-Ereignisse, sodass ein geerbtes <xref:System.Windows.UIElement> oder <xref:System.Windows.ContentElement> in der Liste der Klassenelemente als Basiselement aufgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-117">The <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> classes contain aliases for the <xref:System.Windows.DragDrop> attached events so that the events appear in the class members list when a <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> is inherited as a base element.</span></span> <span data-ttu-id="097ca-118">Die an diese Ereignisse angefügten Ereignishandler werden an das zugrundeliegende angefügte <xref:System.Windows.DragDrop>-Ereignis angefügt und empfangen die gleiche Instanz der Ereignisdaten.</span><span class="sxs-lookup"><span data-stu-id="097ca-118">Event handlers that are attached to these events are attached to the underlying <xref:System.Windows.DragDrop> attached event and receive the same event data instance.</span></span> <span data-ttu-id="097ca-119">Weitere Informationen finden Sie beim <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType>-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-119">For more information, see the <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> event.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="097ca-120">OLE-Drag & Drop funktioniert in der Zone „Internet“ nicht.</span><span class="sxs-lookup"><span data-stu-id="097ca-120">OLE drag-and-drop does not work while in the Internet zone.</span></span>  
  
<a name="Data_Transfer"></a>   
## <a name="data-transfer"></a><span data-ttu-id="097ca-121">Datenübertragung</span><span class="sxs-lookup"><span data-stu-id="097ca-121">Data Transfer</span></span>  
 <span data-ttu-id="097ca-122">Drag & Drop bildet einen Teil des allgemeineren Bereichs der Datenübertragung.</span><span class="sxs-lookup"><span data-stu-id="097ca-122">Drag-and-drop is part of the more general area of data transfer.</span></span> <span data-ttu-id="097ca-123">Zur Datenübertragung gehören Drag & Drop- ebenso wie Kopieren und Einfügen-Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="097ca-123">Data transfer includes drag-and-drop and copy-and-paste operations.</span></span> <span data-ttu-id="097ca-124">Ein Drag & Drop-Vorgang ist analog zu einem Kopieren und Einfügen- oder Ausschneiden und Einfügen-Vorgang, der zum Übertragen von Daten von einem Objekt oder einer Anwendung auf ein anderes bzw. eine andere mithilfe der Zwischenablage des Systems verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-124">A drag-and-drop operation is analogous to a copy-and-paste or cut-and-paste operation that is used to transfer data from one object or application to another by using the system clipboard.</span></span> <span data-ttu-id="097ca-125">Für beide Arten von Vorgängen sind diese Voraussetzungen erforderlich:</span><span class="sxs-lookup"><span data-stu-id="097ca-125">Both types of operations require:</span></span>  
  
- <span data-ttu-id="097ca-126">Ein Quellobjekt, das die Daten bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="097ca-126">A source object that provides the data.</span></span>  
  
- <span data-ttu-id="097ca-127">Eine Möglichkeit zum vorübergehenden Speichern der übertragenen Daten.</span><span class="sxs-lookup"><span data-stu-id="097ca-127">A way to temporarily store the transferred data.</span></span>  
  
- <span data-ttu-id="097ca-128">Ein Zielobjekt, das die Daten empfängt.</span><span class="sxs-lookup"><span data-stu-id="097ca-128">A target object that receives the data.</span></span>  
  
 <span data-ttu-id="097ca-129">Bei einem Kopieren und Einfügen-Vorgang wird die Zwischenablage des Systems verwendet, um die übertragenen Daten vorübergehend zu speichern; bei einem Drag &amp; Drop-Vorgang wird ein <xref:System.Windows.DataObject> zum Speichern der Daten verwendet.</span><span class="sxs-lookup"><span data-stu-id="097ca-129">In a copy-and-paste operation, the system clipboard is used to temporarily store the transferred data; in a drag-and-drop operation, a <xref:System.Windows.DataObject> is used to store the data.</span></span> <span data-ttu-id="097ca-130">Konzeptionell besteht ein Datenobjekt aus mindestens einem Paar eines <xref:System.Object>, das die eigentlichen Daten enthält, und einem entsprechenden Datenformatbezeichner.</span><span class="sxs-lookup"><span data-stu-id="097ca-130">Conceptually, a data object consists of one or more pairs of an <xref:System.Object> that contains the actual data, and a corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="097ca-131">Die Ziehquelle leitet einen Drag &amp; Drop-Vorgang durch Aufrufen der statischen <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType>-Methode und Übergeben der übertragenen Daten an sie ein.</span><span class="sxs-lookup"><span data-stu-id="097ca-131">The drag source initiates a drag-and-drop operation by calling the static <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> method and passing the transferred data to it.</span></span> <span data-ttu-id="097ca-132">Die <xref:System.Windows.DragDrop.DoDragDrop%2A>-Methode umschließt die Daten ggf. automatisch in einem <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="097ca-132">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method will automatically wrap the data in a <xref:System.Windows.DataObject> if necessary.</span></span> <span data-ttu-id="097ca-133">Um mehr Kontrolle über das Datenformat zu erhalten, können Sie die Daten vor der Übergabe an die <xref:System.Windows.DataObject>-Methode mit einem <xref:System.Windows.DragDrop.DoDragDrop%2A> umschließen.</span><span class="sxs-lookup"><span data-stu-id="097ca-133">For greater control over the data format, you can wrap the data in a <xref:System.Windows.DataObject> before passing it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="097ca-134">Das Ablageziel ist für die Extraktion der Daten aus dem <xref:System.Windows.DataObject> zuständig.</span><span class="sxs-lookup"><span data-stu-id="097ca-134">The drop target is responsible for extracting the data from the <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="097ca-135">Weitere Informationen zum Arbeiten mit Datenobjekten finden Sie unter [Daten und Datenobjekte](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="097ca-135">For more information about working with data objects, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="097ca-136">Die Quelle und das Ziel eines Drag & Drop-Vorgangs sind normalerweise Elemente der Benutzeroberfläche; die tatsächlich übertragenen Daten haben aber in der Regel keine visuelle Darstellung.</span><span class="sxs-lookup"><span data-stu-id="097ca-136">The source and target of a drag-and-drop operation are UI elements; however, the data that is actually being transferred typically does not have a visual representation.</span></span> <span data-ttu-id="097ca-137">Sie können Code erstellen, der eine visuelle Darstellung der gezogenen Daten bereitstellt, wie es etwa beim Ziehen von Dateien im Windows-Explorer geschieht.</span><span class="sxs-lookup"><span data-stu-id="097ca-137">You can write code to provide a visual representation of the data that is dragged, such as occurs when dragging files in Windows Explorer.</span></span> <span data-ttu-id="097ca-138">Standardmäßig wird dem Benutzer eine Rückmeldung gegeben, indem die Form des Cursors geändert wird, um die Auswirkung darzustellen, die der Drag & Drop-Vorgang auf die Daten hat, etwa ob die Daten verschoben oder kopiert werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-138">By default, feedback is provided to the user by changing the cursor to represent the effect that the drag-and-drop operation will have on the data, such as whether the data will be moved or copied.</span></span>  
  
### <a name="drag-and-drop-effects"></a><span data-ttu-id="097ca-139">Auswirkungen von Drag & Drop-Vorgängen</span><span class="sxs-lookup"><span data-stu-id="097ca-139">Drag-and-Drop Effects</span></span>  
 <span data-ttu-id="097ca-140">Drag & Drop-Vorgänge können verschiedene Auswirkungen auf die übertragenen Daten haben.</span><span class="sxs-lookup"><span data-stu-id="097ca-140">Drag-and-drop operations can have different effects on the transferred data.</span></span> <span data-ttu-id="097ca-141">Beispielsweise können Sie die Daten kopieren oder sie verschieben.</span><span class="sxs-lookup"><span data-stu-id="097ca-141">For example, you can copy the data or you can move the data.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="097ca-142">definiert eine <xref:System.Windows.DragDropEffects> Enumeration, die Sie verwenden können, um die Auswirkung eines Drag & Drop-Vorgangs anzugeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-142">defines a <xref:System.Windows.DragDropEffects> enumeration that you can use to specify the effect of a drag-and-drop operation.</span></span> <span data-ttu-id="097ca-143">In der Ziehquelle können Sie die Auswirkungen, die von der Quelle zugelassen werden, in der Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> angeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-143">In the drag source, you can specify the effects that the source will allow in the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="097ca-144">Im Ablageziel können Sie die Auswirkung, die von der Quelle beabsichtigt ist, in der Eigenschaft <xref:System.Windows.DragEventArgs.Effects%2A> der Klasse <xref:System.Windows.DragEventArgs> angeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-144">In the drop target, you can specify the effect that the target intends in the <xref:System.Windows.DragEventArgs.Effects%2A> property of the <xref:System.Windows.DragEventArgs> class.</span></span> <span data-ttu-id="097ca-145">Wenn das Ablageziel seine beabsichtigte Auswirkung im <xref:System.Windows.DragDrop.DragOver>-Ereignis angibt, werden diese Informationen im <xref:System.Windows.DragDrop.GiveFeedback>-Ereignis an die Zielquelle zurück übermittelt.</span><span class="sxs-lookup"><span data-stu-id="097ca-145">When the drop target specifies its intended effect in the <xref:System.Windows.DragDrop.DragOver> event, that information is passed back to the drag source in the <xref:System.Windows.DragDrop.GiveFeedback> event.</span></span> <span data-ttu-id="097ca-146">Die Ziehquelle verwendet diese Informationen, um dem Benutzer mitzuteilen, welche Auswirkung das Ablegen auf dem Ablageziel auf die Daten haben wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-146">The drag source uses this information to inform the user what effect the drop target intends to have on the data.</span></span> <span data-ttu-id="097ca-147">Wenn die Daten abgelegt werden, gibt das Ablageziel die tatsächlichen Auswirkungen im <xref:System.Windows.DragDrop.Drop>-Ereignis an.</span><span class="sxs-lookup"><span data-stu-id="097ca-147">When the data is dropped, the drop target specifies its actual effect in the <xref:System.Windows.DragDrop.Drop> event.</span></span> <span data-ttu-id="097ca-148">Diese Informationen werden als Rückgabewert der Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> zurück an die Ziehquelle übergeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-148">That information is passed back to the drag source as the return value of the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="097ca-149">Wenn das Ablageziel eine Auswirkung zurückgibt, die in der Liste der `allowedEffects` der Ziehquelle nicht aufgeführt ist, wird der Drag & Drop-Vorgang abgebrochen, ohne dass eine Übertragung von Daten stattfindet.</span><span class="sxs-lookup"><span data-stu-id="097ca-149">If the drop target returns an effect that is not in the drag sources list of `allowedEffects`, the drag-and-drop operation is cancelled without any data transfer occurring.</span></span>  
  
 <span data-ttu-id="097ca-150">Es muss beachtet werden, dass in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] die <xref:System.Windows.DragDropEffects>-Werte nur für die Kommunikation zwischen der Ziehquelle und dem Ablageziel über die Auswirkungen des Drag &amp; Drop-Vorgangs verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-150">It is important to remember that in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.DragDropEffects> values are only used to provide communication between the drag source and the drop target regarding the effects of the drag-and-drop operation.</span></span> <span data-ttu-id="097ca-151">Die tatsächliche Auswirkung des Drag & Drop-Vorgangs hängt von dem entsprechenden Code ab, den Sie für Ihre Anwendung schreiben.</span><span class="sxs-lookup"><span data-stu-id="097ca-151">The actual effect of the drag-and-drop operation depends on you to write the appropriate code in your application.</span></span>  
  
 <span data-ttu-id="097ca-152">Beispielsweise kann das Ablageziel angeben, dass die Auswirkung des Ablegens von Daten auf ihm die Verschiebung der Daten ist.</span><span class="sxs-lookup"><span data-stu-id="097ca-152">For example, the drop target might specify that the effect of dropping data on it is to move the data.</span></span> <span data-ttu-id="097ca-153">Jedoch müssen die Daten zum Verschieben sowohl dem Zielelement hinzugefügt als auch aus dem Quellelement entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-153">However, to move the data, it must be both added to the target element and removed from the source element.</span></span> <span data-ttu-id="097ca-154">Das Quellelement kann beispielsweise angeben, dass es das Verschieben der Daten erlaubt. Wenn Sie aber nicht den Code bereitstellen, um die Daten aus dem Quellelement zu entfernen, ergibt sich als Endergebnis, dass die Daten kopiert statt verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-154">The source element might indicate that it allows moving the data, but if you do not provide the code to remove the data from the source element, the end result will be that the data is copied, and not moved.</span></span>  
  
<a name="Drag_and_Drop_Events"></a>   
## <a name="drag-and-drop-events"></a><span data-ttu-id="097ca-155">Drag & Drop-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="097ca-155">Drag-and-Drop Events</span></span>  
 <span data-ttu-id="097ca-156">Drag & Drop-Vorgänge unterstützen ein ereignisgesteuertes Modell.</span><span class="sxs-lookup"><span data-stu-id="097ca-156">Drag-and-drop operations support an event driven model.</span></span>  <span data-ttu-id="097ca-157">Sowohl die Ziehquelle als auch das Ablageziel verwenden einen Satz von Standardereignissen beim Verarbeiten von Drag & Drop-Vorgängen.</span><span class="sxs-lookup"><span data-stu-id="097ca-157">Both the drag source and the drop target use a standard set of events to handle drag-and-drop operations.</span></span>  <span data-ttu-id="097ca-158">Die standardmäßigen Drag & Drop-Ereignisse sind in den folgenden Tabellen zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="097ca-158">The following tables summarize the standard drag-and-drop events.</span></span> <span data-ttu-id="097ca-159">Dies sind angefügte Ereignisse der Klasse <xref:System.Windows.DragDrop>.</span><span class="sxs-lookup"><span data-stu-id="097ca-159">These are attached events on the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="097ca-160">Weitere Informationen zu angefügten Ereignissen finden Sie unter [Übersicht über angefügte Ereignisse](attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="097ca-160">For more information about attached events, see [Attached Events Overview](attached-events-overview.md).</span></span>  
  
### <a name="drag-source-events"></a><span data-ttu-id="097ca-161">Ereignisse der Ziehquelle</span><span class="sxs-lookup"><span data-stu-id="097ca-161">Drag Source Events</span></span>  
  
|<span data-ttu-id="097ca-162">Ereignis</span><span class="sxs-lookup"><span data-stu-id="097ca-162">Event</span></span>|<span data-ttu-id="097ca-163">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="097ca-163">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.GiveFeedback>|<span data-ttu-id="097ca-164">Dieses Ereignis tritt während eines Drag & Drop-Vorgangs fortlaufend ein und ermöglicht der Ziehquelle, dem Benutzer Rückmeldung zu geben.</span><span class="sxs-lookup"><span data-stu-id="097ca-164">This event occurs continuously during a drag-and-drop operation, and enables the drop source to give feedback information to the user.</span></span> <span data-ttu-id="097ca-165">Diese Rückmeldung erfolgt üblicherweise durch Ändern der Form des Mauszeigers, um die vom Ablageziel zugelassenen Auswirkungen anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="097ca-165">This feedback is commonly given by changing the appearance of the mouse pointer to indicate the effects allowed by the drop target.</span></span>  <span data-ttu-id="097ca-166">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-166">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.QueryContinueDrag>|<span data-ttu-id="097ca-167">Dieses Ereignis tritt ein, wenn während eines Drag & Drop-Vorgangs eine Änderung am Zustand der Tastatur- oder Maustasten eintritt, und ermöglicht dem Ablageziel, den Drag & Drop-Vorgang abhängig von den Tastenzuständen abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="097ca-167">This event occurs when there is a change in the keyboard or mouse button states during a drag-and-drop operation, and enables the drop source to cancel the drag-and-drop operation depending on the key/button states.</span></span> <span data-ttu-id="097ca-168">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-168">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewGiveFeedback>|<span data-ttu-id="097ca-169">Tunnelversion von <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="097ca-169">Tunneling version of <xref:System.Windows.DragDrop.GiveFeedback>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewQueryContinueDrag>|<span data-ttu-id="097ca-170">Tunnelversion von <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="097ca-170">Tunneling version of <xref:System.Windows.DragDrop.QueryContinueDrag>.</span></span>|  
  
### <a name="drop-target-events"></a><span data-ttu-id="097ca-171">Ereignisse des Ablageziels</span><span class="sxs-lookup"><span data-stu-id="097ca-171">Drop Target Events</span></span>  
  
|<span data-ttu-id="097ca-172">Ereignis</span><span class="sxs-lookup"><span data-stu-id="097ca-172">Event</span></span>|<span data-ttu-id="097ca-173">Zusammenfassung</span><span class="sxs-lookup"><span data-stu-id="097ca-173">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.DragEnter>|<span data-ttu-id="097ca-174">Dieses Ereignis tritt beim Ziehen eines Objekts in die Begrenzung des Ablageziels ein.</span><span class="sxs-lookup"><span data-stu-id="097ca-174">This event occurs when an object is dragged into the drop target's boundary.</span></span> <span data-ttu-id="097ca-175">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-175">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragLeave>|<span data-ttu-id="097ca-176">Dieses Ereignis tritt beim Ziehen eines Objekts aus der Begrenzung des Ablageziels ein.</span><span class="sxs-lookup"><span data-stu-id="097ca-176">This event occurs when an object is dragged out of the drop target's boundary.</span></span>  <span data-ttu-id="097ca-177">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-177">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragOver>|<span data-ttu-id="097ca-178">Dieses Ereignis tritt fortlaufend auf, während ein Objekt innerhalb der Begrenzung des Ablageziels gezogen (bewegt) wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-178">This event occurs continuously while an object is dragged (moved) within the drop target's boundary.</span></span> <span data-ttu-id="097ca-179">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-179">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.Drop>|<span data-ttu-id="097ca-180">Dieses Ereignis tritt ein, wenn ein Objekt auf dem Ablageziel abgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-180">This event occurs when an object is dropped on the drop target.</span></span>  <span data-ttu-id="097ca-181">Dies ist ein Bubbling-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-181">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragEnter>|<span data-ttu-id="097ca-182">Tunnelversion von <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="097ca-182">Tunneling version of <xref:System.Windows.DragDrop.DragEnter>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragLeave>|<span data-ttu-id="097ca-183">Tunnelversion von <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="097ca-183">Tunneling version of <xref:System.Windows.DragDrop.DragLeave>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragOver>|<span data-ttu-id="097ca-184">Tunnelversion von <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="097ca-184">Tunneling version of <xref:System.Windows.DragDrop.DragOver>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDrop>|<span data-ttu-id="097ca-185">Tunnelversion von <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="097ca-185">Tunneling version of <xref:System.Windows.DragDrop.Drop>.</span></span>|  
  
 <span data-ttu-id="097ca-186">Um Drag & Drop-Ereignisse für Instanzen eines Objekts zu verarbeiten, fügen Sie Handler für die in den vorhergehenden Tabellen aufgelisteten Ereignisse hinzu.</span><span class="sxs-lookup"><span data-stu-id="097ca-186">To handle drag-and-drop events for instances of an object, add handlers for the events listed in the preceding tables.</span></span> <span data-ttu-id="097ca-187">Um Drag & Drop-Ereignisse auf der Klassenebene zu verarbeiten, überschreiben Sie die entsprechenden virtuellen On\*Event- und On\*PreviewEvent-Methoden.</span><span class="sxs-lookup"><span data-stu-id="097ca-187">To handle drag-and-drop events at the class level, override the corresponding virtual On\*Event and On\*PreviewEvent methods.</span></span> <span data-ttu-id="097ca-188">Weitere Informationen finden Sie unter [Klassenbehandlung von Routingereignissen durch Steuerelement-Basisklassen](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span><span class="sxs-lookup"><span data-stu-id="097ca-188">For more information, see [Class Handling of Routed Events by Control Base Classes](marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span></span>  
  
<a name="Implementing_Drag_And_Drop"></a>   
## <a name="implementing-drag-and-drop"></a><span data-ttu-id="097ca-189">Implementierung von Drag & Drop</span><span class="sxs-lookup"><span data-stu-id="097ca-189">Implementing Drag-and-Drop</span></span>  
 <span data-ttu-id="097ca-190">Ein Benutzerelement kann eine Ziehquelle, ein Ablageziel oder beides darstellen.</span><span class="sxs-lookup"><span data-stu-id="097ca-190">A UI element can be a drag source, a drop target, or both.</span></span> <span data-ttu-id="097ca-191">Zum Implementieren der grundlegenden Drag & Drop-Funktionalität müssen Sie Code zum Einleiten des Drag & Drop-Vorgangs und zu Verarbeiten der abgelegten Daten erstellen.</span><span class="sxs-lookup"><span data-stu-id="097ca-191">To implement basic drag-and-drop, you write code to initiate the drag-and-drop operation and to process the dropped data.</span></span> <span data-ttu-id="097ca-192">Sie können die Drag & Drop-Erfahrung durch Verarbeitung optionaler Drag & Drop-Ereignisse verbessern.</span><span class="sxs-lookup"><span data-stu-id="097ca-192">You can enhance the drag-and-drop experience by handling optional drag-and-drop events.</span></span>  
  
 <span data-ttu-id="097ca-193">Zum Implementieren der grundlegenden Drag & Drop-Funktionalität müssen Sie die folgenden Schritte ausführen:</span><span class="sxs-lookup"><span data-stu-id="097ca-193">To implement basic drag-and-drop, you will complete the following tasks:</span></span>  
  
- <span data-ttu-id="097ca-194">Ermitteln des Elements, das als Ziehquelle fungieren soll.</span><span class="sxs-lookup"><span data-stu-id="097ca-194">Identify the element that will be a drag source.</span></span> <span data-ttu-id="097ca-195">Eine Ziehquelle kann ein <xref:System.Windows.UIElement> oder ein <xref:System.Windows.ContentElement> sein.</span><span class="sxs-lookup"><span data-stu-id="097ca-195">A drag source can be a <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="097ca-196">Einen Ereignishandler in der Ziehquelle erstellen, der den Drag & Drop-Vorgang einleitet.</span><span class="sxs-lookup"><span data-stu-id="097ca-196">Create an event handler on the drag source that will initiate the drag-and-drop operation.</span></span> <span data-ttu-id="097ca-197">Das zu verarbeitende Ereignis ist normalerweise das <xref:System.Windows.UIElement.MouseMove>-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="097ca-197">The event is typically the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="097ca-198">Im Ereignishandler der Ziehquelle die Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> aufrufen, um den Drag &amp; Drop-Vorgang einzuleiten.</span><span class="sxs-lookup"><span data-stu-id="097ca-198">In the drag source event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="097ca-199">Geben Sie im <xref:System.Windows.DragDrop.DoDragDrop%2A>-Aufruf die Ziehquelle, die zu übertragenden Daten und die zulässigen Auswirkungen an.</span><span class="sxs-lookup"><span data-stu-id="097ca-199">In the <xref:System.Windows.DragDrop.DoDragDrop%2A> call, specify the drag source, the data to be transferred, and the allowed effects.</span></span>  
  
- <span data-ttu-id="097ca-200">Ermitteln des Elements das als Ablageziel dienen soll.</span><span class="sxs-lookup"><span data-stu-id="097ca-200">Identify the element that will be a drop target.</span></span> <span data-ttu-id="097ca-201">Ein Ablageziel kann ein <xref:System.Windows.UIElement> oder ein <xref:System.Windows.ContentElement> sein.</span><span class="sxs-lookup"><span data-stu-id="097ca-201">A drop target can be <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
- <span data-ttu-id="097ca-202">Legen Sie auf dem Ablageziel die <xref:System.Windows.UIElement.AllowDrop%2A>-Eigenschaft auf `true` fest.</span><span class="sxs-lookup"><span data-stu-id="097ca-202">On the drop target, set the <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span>  
  
- <span data-ttu-id="097ca-203">Erstellen Sie im Ablageziel einen <xref:System.Windows.DragDrop.Drop>-Ereignishandler, um die abgelegten Daten zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="097ca-203">In the drop target, create a <xref:System.Windows.DragDrop.Drop> event handler to process the dropped data.</span></span>  
  
- <span data-ttu-id="097ca-204">Extrahieren Sie im <xref:System.Windows.DragDrop.Drop>-Ereignishandler die Daten mithilfe der Methoden <xref:System.Windows.DragEventArgs> und <xref:System.Windows.DataObject.GetDataPresent%2A> aus den <xref:System.Windows.DataObject.GetData%2A>.</span><span class="sxs-lookup"><span data-stu-id="097ca-204">In the <xref:System.Windows.DragDrop.Drop> event handler, extract the data from the <xref:System.Windows.DragEventArgs> by using the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods.</span></span>  
  
- <span data-ttu-id="097ca-205">Verwenden Sie die Daten im <xref:System.Windows.DragDrop.Drop>-Ereignishandler, um den gewünschten Drag &amp; Drop-Vorgang auszuführen.</span><span class="sxs-lookup"><span data-stu-id="097ca-205">In the <xref:System.Windows.DragDrop.Drop> event handler, use the data to perform the desired drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="097ca-206">Sie können Ihre Drag &amp; Drop-Implementierung erweitern, indem Sie ein benutzerdefiniertes <xref:System.Windows.DataObject> erstellen und optionale Ereignisse der Ziehquelle und des Ablageziels verarbeiten, wie in den folgenden Aufgaben dargestellt:</span><span class="sxs-lookup"><span data-stu-id="097ca-206">You can enhance your drag-and-drop implementation by creating a custom <xref:System.Windows.DataObject> and by handling optional drag source and drop target events, as shown in the following tasks:</span></span>  
  
- <span data-ttu-id="097ca-207">Um benutzerdefinierte Daten oder mehrere Datenelemente zu übertragen, erstellen Sie ein <xref:System.Windows.DataObject>, das Sie an die <xref:System.Windows.DragDrop.DoDragDrop%2A>-Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-207">To transfer custom data or multiple data items, create a <xref:System.Windows.DataObject> to pass to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span>  
  
- <span data-ttu-id="097ca-208">Um während eines Ziehvorgangs weitere Aktionen auszuführen, verarbeiten Sie die Ereignisse <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver> und <xref:System.Windows.DragDrop.DragLeave> des Ablageziels.</span><span class="sxs-lookup"><span data-stu-id="097ca-208">To perform additional actions during a drag, handle the <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, and <xref:System.Windows.DragDrop.DragLeave> events on the drop target.</span></span>  
  
- <span data-ttu-id="097ca-209">Um die Darstellung des Mauszeigers zu ändern, verarbeiten Sie das <xref:System.Windows.DragDrop.GiveFeedback>-Ereignis der Ziehquelle.</span><span class="sxs-lookup"><span data-stu-id="097ca-209">To change the appearance of the mouse pointer, handle the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span>  
  
- <span data-ttu-id="097ca-210">Um die Weise zu ändern, in der der Drag &amp; Drop-Vorgang abgebrochen wird, verarbeiten Sie das <xref:System.Windows.DragDrop.QueryContinueDrag>-Ereignis der Ziehquelle.</span><span class="sxs-lookup"><span data-stu-id="097ca-210">To change how the drag-and-drop operation is canceled, handle the <xref:System.Windows.DragDrop.QueryContinueDrag> event on the drag source.</span></span>  
  
<a name="Drag_And_Drop_Example"></a>   
## <a name="drag-and-drop-example"></a><span data-ttu-id="097ca-211">Drag & Drop-Beispiel</span><span class="sxs-lookup"><span data-stu-id="097ca-211">Drag-and-Drop Example</span></span>  
 <span data-ttu-id="097ca-212">In diesem Abschnitt wird die Implementierung von Drag &amp; Drop für ein <xref:System.Windows.Shapes.Ellipse>-Element beschrieben.</span><span class="sxs-lookup"><span data-stu-id="097ca-212">This section describes how to implement drag-and-drop for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="097ca-213">Die <xref:System.Windows.Shapes.Ellipse> stellt sowohl eine Ziehquelle als auch ein Ablageziel dar.</span><span class="sxs-lookup"><span data-stu-id="097ca-213">The <xref:System.Windows.Shapes.Ellipse> is both a drag source and a drop target.</span></span> <span data-ttu-id="097ca-214">Die übertragenen Daten sind die Zeichenfolgendarstellung der <xref:System.Windows.Shapes.Shape.Fill%2A>-Eigenschaft der Ellipse.</span><span class="sxs-lookup"><span data-stu-id="097ca-214">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span> <span data-ttu-id="097ca-215">Der folgende XAML-Code zeigt das <xref:System.Windows.Shapes.Ellipse>-Element und die mit Drag &amp; Drop zusammenhängenden Ereignisse, die es verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="097ca-215">The following XAML shows the <xref:System.Windows.Shapes.Ellipse> element and the drag-and-drop related events that it handles.</span></span> <span data-ttu-id="097ca-216">Eine ausführliche Anleitung zum Implementieren der Drag & Drop-Funktion finden Sie unter [Exemplarische Vorgehensweise: Aktivieren der Drag & Drop-Funktion auf einem Benutzersteuerelement](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span><span class="sxs-lookup"><span data-stu-id="097ca-216">For complete steps on how to implement drag-and-drop, see [Walkthrough: Enabling Drag and Drop on a User Control](walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span></span>  
  
 [!code-xaml[DragDropSnippets#EllipseXaml](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml#ellipsexaml)]  
  
### <a name="enabling-an-element-to-be-a-drag-source"></a><span data-ttu-id="097ca-217">Aktivieren eines Elements als Ziehquelle</span><span class="sxs-lookup"><span data-stu-id="097ca-217">Enabling an Element to be a Drag Source</span></span>  
 <span data-ttu-id="097ca-218">Ein Objekt, das eine Ziehquelle darstellt, ist für Folgendes zuständig:</span><span class="sxs-lookup"><span data-stu-id="097ca-218">An object that is a drag source is responsible for:</span></span>  
  
- <span data-ttu-id="097ca-219">Erkennen, wenn ein Ziehvorgang eintritt.</span><span class="sxs-lookup"><span data-stu-id="097ca-219">Identifying when a drag occurs.</span></span>  
  
- <span data-ttu-id="097ca-220">Einleiten des Drag & Drop-Vorgangs.</span><span class="sxs-lookup"><span data-stu-id="097ca-220">Initiating the drag-and-drop operation.</span></span>  
  
- <span data-ttu-id="097ca-221">Identifizieren der zu übertragenden Daten.</span><span class="sxs-lookup"><span data-stu-id="097ca-221">Identifying the data to be transferred.</span></span>  
  
- <span data-ttu-id="097ca-222">Angeben der zulässigen Auswirkungen, die der Drag & Drop-Vorgang auf die übertragenen Daten haben darf.</span><span class="sxs-lookup"><span data-stu-id="097ca-222">Specifying the effects that the drag-and-drop operation is allowed to have on the transferred data.</span></span>  
  
 <span data-ttu-id="097ca-223">Die Ziehquelle kann darüber hinaus Rückmeldung an den Benutzer hinsichtlich der zulässigen Aktionen (Verschieben, Kopieren, keine) geben und den Drag & Drop-Vorgang auf der Grundlage weiterer Benutzereingaben, wie etwa Drücken der ESC-Taste während des Ziehens, abbrechen.</span><span class="sxs-lookup"><span data-stu-id="097ca-223">The drag source may also give feedback to the user regarding the allowed actions (move, copy, none), and can cancel the drag-and-drop operation based on additional user input, such as pressing the ESC key during the drag.</span></span>  
  
 <span data-ttu-id="097ca-224">Zu Bestimmen, wann ein Ziehvorgang eintritt, liegt in der Zuständigkeit Ihrer Anwendung, die anschließend den Drag &amp; Drop-Vorgang durch Aufrufen der Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> einleiten muss.</span><span class="sxs-lookup"><span data-stu-id="097ca-224">It is the responsibility of your application to determine when a drag occurs, and then initiate the drag-and-drop operation by calling the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="097ca-225">Dies ist normalerweise der Fall, wenn ein <xref:System.Windows.UIElement.MouseMove>-Ereignis über dem zu ziehenden Element eintritt, während eine Maustaste gedrückt wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-225">Typically, this is when a <xref:System.Windows.UIElement.MouseMove> event occurs over the element to be dragged while a mouse button is pressed.</span></span> <span data-ttu-id="097ca-226">Im folgenden Beispiel ist zu sehen, wie ein Drag &amp; Drop-Vorgang vom <xref:System.Windows.UIElement.MouseMove>-Ereignishandler eines <xref:System.Windows.Shapes.Ellipse>-Elements eingeleitet wird, um es zu einer Ziehquelle zu machen.</span><span class="sxs-lookup"><span data-stu-id="097ca-226">The following example shows how to initiate a drag-and-drop operation from the <xref:System.Windows.UIElement.MouseMove> event handler of an <xref:System.Windows.Shapes.Ellipse> element to make it a drag source.</span></span> <span data-ttu-id="097ca-227">Die übertragenen Daten sind die Zeichenfolgendarstellung der <xref:System.Windows.Shapes.Shape.Fill%2A>-Eigenschaft der Ellipse.</span><span class="sxs-lookup"><span data-stu-id="097ca-227">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span>  
  
 [!code-csharp[DragDropSnippets#DoDragDrop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dodragdrop)]
 [!code-vb[DragDropSnippets#DoDragDrop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dodragdrop)]  
  
 <span data-ttu-id="097ca-228">Rufen Sie im Innern des <xref:System.Windows.UIElement.MouseMove>-Ereignishandlers die Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> auf, um den Drag &amp; Drop-Vorgang einzuleiten.</span><span class="sxs-lookup"><span data-stu-id="097ca-228">Inside of the <xref:System.Windows.UIElement.MouseMove> event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="097ca-229">Die Methode <xref:System.Windows.DragDrop.DoDragDrop%2A> akzeptiert drei Parameter:</span><span class="sxs-lookup"><span data-stu-id="097ca-229">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method takes three parameters:</span></span>  
  
- <span data-ttu-id="097ca-230">`dragSource` – ein Verweis auf das Abhängigkeits Objekt, das die Quelle der übertragenen Daten ist. Dies ist in der Regel die Quelle des <xref:System.Windows.UIElement.MouseMove> Ereignisses.</span><span class="sxs-lookup"><span data-stu-id="097ca-230">`dragSource` – A reference to the dependency object that is the source of the transferred data; this is typically the source of the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
- <span data-ttu-id="097ca-231">`data`-ein Objekt, das die übertragenen Daten enthält, die in einem <xref:System.Windows.DataObject>umschließt.</span><span class="sxs-lookup"><span data-stu-id="097ca-231">`data` - An object that contains the transferred data, wrapped in a <xref:System.Windows.DataObject>.</span></span>  
  
- <span data-ttu-id="097ca-232">`allowedEffects`-einer der <xref:System.Windows.DragDropEffects> Enumerationswerte, der die zulässigen Auswirkungen des Drag & Drop-Vorgangs angibt.</span><span class="sxs-lookup"><span data-stu-id="097ca-232">`allowedEffects` - One of the <xref:System.Windows.DragDropEffects> enumeration values that specifies the permitted effects of the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="097ca-233">Im Parameter `data` können beliebige serialisierbare Objekte übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-233">Any serializable object can be passed in the `data` parameter.</span></span> <span data-ttu-id="097ca-234">Wenn die Daten noch nicht von einem <xref:System.Windows.DataObject> umschlossen sind, werden sie automatisch von einem neuen <xref:System.Windows.DataObject> umschlossen.</span><span class="sxs-lookup"><span data-stu-id="097ca-234">If the data is not already wrapped in a <xref:System.Windows.DataObject>, it will automatically be wrapped in a new <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="097ca-235">Zum Übergeben mehrerer Datenelemente müssen Sie das <xref:System.Windows.DataObject> selbst erstellen und es an die <xref:System.Windows.DragDrop.DoDragDrop%2A>-Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="097ca-235">To pass multiple data items, you must create the <xref:System.Windows.DataObject> yourself, and pass it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="097ca-236">Weitere Informationen finden Sie unter [Daten und Datenobjekte](data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="097ca-236">For more information, see [Data and Data Objects](data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="097ca-237">Der `allowedEffects`-Parameter wird verwendet, um anzugeben, welche Aktionen die Ziehquelle dem Ablageziel mit den übertragenen Daten erlaubt.</span><span class="sxs-lookup"><span data-stu-id="097ca-237">The `allowedEffects` parameter is used to specify what the drag source will allow the drop target to do with the transferred data.</span></span> <span data-ttu-id="097ca-238">Die üblichen Werte für eine Ziehquelle sind <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move> und <xref:System.Windows.DragDropEffects.All>.</span><span class="sxs-lookup"><span data-stu-id="097ca-238">The common values for a drag source are <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, and <xref:System.Windows.DragDropEffects.All>.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="097ca-239">Das Ablageziel kann außerdem angeben, welche Auswirkungen es als Reaktion auf die Ablage der Daten beabsichtigt.</span><span class="sxs-lookup"><span data-stu-id="097ca-239">The drop target is also able to specify what effects it intends in response to the dropped data.</span></span> <span data-ttu-id="097ca-240">Wenn das Ablageziel den Typ der abzulegenden Daten beispielsweise nicht erkennt, kann es die Daten zurückweisen, indem es die zulässigen Auswirkungen auf <xref:System.Windows.DragDropEffects.None> festlegt.</span><span class="sxs-lookup"><span data-stu-id="097ca-240">For example, if the drop target does not recognize the data type to be dropped, it can refuse the data by setting its allowed effects to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="097ca-241">Dies erfolgt normalerweise im <xref:System.Windows.DragDrop.DragOver>-Ereignishandler des Ablageziels.</span><span class="sxs-lookup"><span data-stu-id="097ca-241">It typically does this in its <xref:System.Windows.DragDrop.DragOver> event handler.</span></span>  
  
 <span data-ttu-id="097ca-242">Ziehquellen können optional die Ereignisse <xref:System.Windows.DragDrop.GiveFeedback> und <xref:System.Windows.DragDrop.QueryContinueDrag> verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="097ca-242">A drag source can optionally handle the <xref:System.Windows.DragDrop.GiveFeedback> and <xref:System.Windows.DragDrop.QueryContinueDrag> events.</span></span> <span data-ttu-id="097ca-243">Diese Ereignisse weisen Standardhandler auf, die verwendet werden, sofern ein Ereignis nicht als behandelt gekennzeichnet wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-243">These events have default handlers that are used unless you mark the events as handled.</span></span> <span data-ttu-id="097ca-244">Normalerweise werden diese Ereignisse ignoriert, es sei denn, es besteht eine spezifische Notwendigkeit, ihr Standardverhalten zu ändern.</span><span class="sxs-lookup"><span data-stu-id="097ca-244">You will typically ignore these events unless you have a specific need to change their default behavior.</span></span>  
  
 <span data-ttu-id="097ca-245">Das <xref:System.Windows.DragDrop.GiveFeedback>-Ereignis wird fortlaufend ausgelöst, während die Ziehquelle gezogen wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-245">The <xref:System.Windows.DragDrop.GiveFeedback> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="097ca-246">Der Standardhandler für dieses Ereignis überprüft, ob die Ziehquelle sich über einem gültigen Ablageziel befindet.</span><span class="sxs-lookup"><span data-stu-id="097ca-246">The default handler for this event checks whether the drag source is over a valid drop target.</span></span> <span data-ttu-id="097ca-247">Ist das der Fall, überprüft er die zulässigen Auswirkungen des Ablageziels.</span><span class="sxs-lookup"><span data-stu-id="097ca-247">If it is, it checks the allowed effects of the drop target.</span></span> <span data-ttu-id="097ca-248">Dann gibt er dem Endbenutzer Rückmeldung hinsichtlich der zulässigen Ablageauswirkungen.</span><span class="sxs-lookup"><span data-stu-id="097ca-248">It then gives feedback to the end user regarding the allowed drop effects.</span></span> <span data-ttu-id="097ca-249">Dies erfolgt normalerweise durch Ändern des Mauscursors in einen Nicht ablegen-, Kopier- oder Verschiebecursor.</span><span class="sxs-lookup"><span data-stu-id="097ca-249">This is typically done by changing the mouse cursor to a no-drop, copy, or move cursor.</span></span> <span data-ttu-id="097ca-250">Sie sollten dieses Ereignis nur verarbeiten, wenn Sie benutzerdefinierte Cursor verwenden müssen, um dem Benutzer Rückmeldung zu geben.</span><span class="sxs-lookup"><span data-stu-id="097ca-250">You should only handle this event if you need to use custom cursors to provide feedback to the user.</span></span> <span data-ttu-id="097ca-251">Wenn Sie dieses Ereignis behandeln, markieren Sie es als behandelt, damit der Standardhandler Ihren Handler nicht überschreibt.</span><span class="sxs-lookup"><span data-stu-id="097ca-251">If you handle this event, be sure to mark it as handled so that the default handler does not override your handler.</span></span>  
  
 <span data-ttu-id="097ca-252">Das <xref:System.Windows.DragDrop.QueryContinueDrag>-Ereignis wird fortlaufend ausgelöst, während die Ziehquelle gezogen wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-252">The <xref:System.Windows.DragDrop.QueryContinueDrag> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="097ca-253">Sie können dieses Ereignis verarbeiten, um zu bestimmen, welche Aktion den Drag & Drop-Vorgang beendet, basierend auf dem Zustand der Tasten ESC, UMSCHALT, STRG und ALT sowie dem Zustand der Maustasten.</span><span class="sxs-lookup"><span data-stu-id="097ca-253">You can handle this event to determine what action ends the drag-and-drop operation based on the state of the ESC, SHIFT, CTRL, and ALT keys, as well as the state of the mouse buttons.</span></span> <span data-ttu-id="097ca-254">Der Standardhandler für dieses Ereignis bricht den Drag & Drop-Vorgang ab, wenn die ESC-Taste gedrückt wird, und legt die Daten ab, wenn die Maustaste freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-254">The default handler for this event cancels the drag-and-drop operation if the ESC key is pressed, and drops the data if the mouse button is released.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="097ca-255">Diese Ereignisse werden während des Drag & Drop-Vorgangs fortlaufend ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="097ca-255">These events are raised continuously during the drag-and-drop operation.</span></span> <span data-ttu-id="097ca-256">Daher sollten ressourcenintensive Tasks in den Ereignishandlern vermieden werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-256">Therefore, you should avoid resource-intensive tasks in the event handlers.</span></span>  <span data-ttu-id="097ca-257">Verwenden Sie z. B. einen zwischengespeicherten Cursor, statt bei jeder Auslösung des <xref:System.Windows.DragDrop.GiveFeedback>-Ereignisses einen neuen Cursor zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="097ca-257">For example, use a cached cursor instead of creating a new cursor each time the <xref:System.Windows.DragDrop.GiveFeedback> event is raised.</span></span>  
  
### <a name="enabling-an-element-to-be-a-drop-target"></a><span data-ttu-id="097ca-258">Aktivieren eines Elements als Ablageziel</span><span class="sxs-lookup"><span data-stu-id="097ca-258">Enabling an Element to be a Drop Target</span></span>  
 <span data-ttu-id="097ca-259">Ein Objekt, das ein Ablageziel darstellt, ist für Folgendes zuständig:</span><span class="sxs-lookup"><span data-stu-id="097ca-259">An object that is a drop target is responsible for:</span></span>  
  
- <span data-ttu-id="097ca-260">Angeben, dass es sich um ein gültiges Ablageziel handelt.</span><span class="sxs-lookup"><span data-stu-id="097ca-260">Specifying that it is a valid drop target.</span></span>  
  
- <span data-ttu-id="097ca-261">Reagieren auf die Ziehquelle, wenn sie über das Ziel gezogen wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-261">Responding to the drag source when it drags over the target.</span></span>  
  
- <span data-ttu-id="097ca-262">Überprüfen, ob die übertragenen Daten in einem empfangbaren Format vorliegen.</span><span class="sxs-lookup"><span data-stu-id="097ca-262">Checking that the transferred data is in a format that it can receive.</span></span>  
  
- <span data-ttu-id="097ca-263">Verarbeiten der abgelegten Daten.</span><span class="sxs-lookup"><span data-stu-id="097ca-263">Processing the dropped data.</span></span>  
  
 <span data-ttu-id="097ca-264">Um anzugeben, dass ein Element ein Ablageziel ist, legen Sie seine <xref:System.Windows.UIElement.AllowDrop%2A>-Eigenschaft auf `true` fest.</span><span class="sxs-lookup"><span data-stu-id="097ca-264">To specify that an element is a drop target, you set its <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span> <span data-ttu-id="097ca-265">Dadurch werden die Ablagezielereignisse für das Element ausgelöst, sodass Sie sie verarbeiten können.</span><span class="sxs-lookup"><span data-stu-id="097ca-265">The drop target events will then be raised on the element so that you can handle them.</span></span> <span data-ttu-id="097ca-266">Während eines Drag & Drop-Vorgang tritt die folgenden Reihenfolge der Ereignisse beim Ablageziel auf:</span><span class="sxs-lookup"><span data-stu-id="097ca-266">During a drag-and-drop operation, the following sequence of events occurs on the drop target:</span></span>  
  
1. <xref:System.Windows.DragDrop.DragEnter>  
  
2. <xref:System.Windows.DragDrop.DragOver>  
  
3. <span data-ttu-id="097ca-267"><xref:System.Windows.DragDrop.DragLeave> oder <xref:System.Windows.DragDrop.Drop></span><span class="sxs-lookup"><span data-stu-id="097ca-267"><xref:System.Windows.DragDrop.DragLeave> or <xref:System.Windows.DragDrop.Drop></span></span>  
  
 <span data-ttu-id="097ca-268">Das <xref:System.Windows.DragDrop.DragEnter>-Ereignis tritt ein, wenn die Daten in den Begrenzung des Ablageziels gezogen werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-268">The <xref:System.Windows.DragDrop.DragEnter> event occurs when the data is dragged into the drop target's boundary.</span></span> <span data-ttu-id="097ca-269">Normalerweise verarbeiten Sie dieses Ereignis, um eine Vorschau der Auswirkungen des Drag & Drop-Vorgangs bereitzustellen, wenn das in Ihrer Anwendung sinnvoll ist.</span><span class="sxs-lookup"><span data-stu-id="097ca-269">You typically handle this event to provide a preview of the effects of the drag-and-drop operation, if appropriate for your application.</span></span> <span data-ttu-id="097ca-270">Legen Sie nicht die <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType>-Eigenschaft im Ereignis <xref:System.Windows.DragDrop.DragEnter> fest, da sie im <xref:System.Windows.DragDrop.DragOver>-Ereignis überschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="097ca-270">Do not set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property in the <xref:System.Windows.DragDrop.DragEnter> event, as it will be overwritten in the <xref:System.Windows.DragDrop.DragOver> event.</span></span>  
  
 <span data-ttu-id="097ca-271">Das folgende Beispiel zeigt den <xref:System.Windows.DragDrop.DragEnter>-Ereignishandler für ein <xref:System.Windows.Shapes.Ellipse>-Element.</span><span class="sxs-lookup"><span data-stu-id="097ca-271">The following example shows the <xref:System.Windows.DragDrop.DragEnter> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="097ca-272">Dieser Code bewirkt eine Vorschau der Auswirkungen des Drag &amp; Drop-Vorgangs durch Speichern des aktuellen <xref:System.Windows.Shapes.Shape.Fill%2A>-Pinsels.</span><span class="sxs-lookup"><span data-stu-id="097ca-272">This code previews the effects of the drag-and-drop operation by saving the current <xref:System.Windows.Shapes.Shape.Fill%2A> brush.</span></span> <span data-ttu-id="097ca-273">Anschließend wird die Methode <xref:System.Windows.DataObject.GetDataPresent%2A> verwendet, um zu überprüfen, ob das <xref:System.Windows.DataObject>-Objekt, das über die Ellipse gezogen wird, Zeichenfolgendaten enthält, die in einen <xref:System.Windows.Media.Brush> konvertiert werden können.</span><span class="sxs-lookup"><span data-stu-id="097ca-273">It then uses the <xref:System.Windows.DataObject.GetDataPresent%2A> method to check whether the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="097ca-274">Ist das der Fall, werden die Daten mithilfe der <xref:System.Windows.DataObject.GetData%2A>-Methode extrahiert.</span><span class="sxs-lookup"><span data-stu-id="097ca-274">If so, the data is extracted using the <xref:System.Windows.DataObject.GetData%2A> method.</span></span> <span data-ttu-id="097ca-275">Anschließend werden sie in einen <xref:System.Windows.Media.Brush> konvertiert und auf die Ellipse angewendet.</span><span class="sxs-lookup"><span data-stu-id="097ca-275">It is then converted to a <xref:System.Windows.Media.Brush> and applied to the ellipse.</span></span> <span data-ttu-id="097ca-276">Die Änderung wird im <xref:System.Windows.DragDrop.DragLeave>-Ereignishandler rückgängig gemacht.</span><span class="sxs-lookup"><span data-stu-id="097ca-276">The change is reverted in the <xref:System.Windows.DragDrop.DragLeave> event handler.</span></span> <span data-ttu-id="097ca-277">Wenn die Daten nicht in einen <xref:System.Windows.Media.Brush> konvertiert werden können, wird keine Aktion ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="097ca-277">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragEnter](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragenter)]
 [!code-vb[DragDropSnippets#DragEnter](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragenter)]  
  
 <span data-ttu-id="097ca-278">Das <xref:System.Windows.DragDrop.DragOver>-Ereignis wird kontinuierlich ausgelöst, während die Daten über das Ablageziel gezogen werden.</span><span class="sxs-lookup"><span data-stu-id="097ca-278">The <xref:System.Windows.DragDrop.DragOver> event occurs continuously while the data is dragged over the drop target.</span></span> <span data-ttu-id="097ca-279">Dieses Ereignis ist mit dem <xref:System.Windows.DragDrop.GiveFeedback>-Ereignis der Ziehquelle gekoppelt.</span><span class="sxs-lookup"><span data-stu-id="097ca-279">This event is paired with the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span> <span data-ttu-id="097ca-280">Im <xref:System.Windows.DragDrop.DragOver>-Ereignishandler verwenden Sie normalerweise die Methoden <xref:System.Windows.DataObject.GetDataPresent%2A> und <xref:System.Windows.DataObject.GetData%2A>, um zu prüfen, ob die übertragenen Daten in einem Format vorliegen, das vom Ablageziel verarbeitet werden kann.</span><span class="sxs-lookup"><span data-stu-id="097ca-280">In the <xref:System.Windows.DragDrop.DragOver> event handler, you typically use the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods to check whether the transferred data is in a format that the drop target can process.</span></span> <span data-ttu-id="097ca-281">Darüber hinaus können Sie prüfen, ob Modifizierertasten gedrückt sind, was normalerweise anzeigt, ob der Benutzer eine Verschiebe- oder eine Kopieraktion beabsichtigt.</span><span class="sxs-lookup"><span data-stu-id="097ca-281">You can also check whether any modifier keys are pressed, which will typically indicate whether the user intends a move or copy action.</span></span> <span data-ttu-id="097ca-282">Nachdem diese Prüfungen vorgenommen wurden, legen Sie die <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType>-Eigenschaft fest, um die Ziehquelle zu benachrichtigen, welche Auswirkungen das Ablegen der Daten hat.</span><span class="sxs-lookup"><span data-stu-id="097ca-282">After these checks are performed, you set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to notify the drag source what effect dropping the data will have.</span></span> <span data-ttu-id="097ca-283">Die Ziehquelle empfängt diese Informationen in den <xref:System.Windows.DragDrop.GiveFeedback>-Ereignisargumenten und kann einen geeigneten Cursor festlegen, um dem Benutzer Rückmeldung zu geben.</span><span class="sxs-lookup"><span data-stu-id="097ca-283">The drag source receives this information in the <xref:System.Windows.DragDrop.GiveFeedback> event args, and can set an appropriate cursor to give feedback to the user.</span></span>  
  
 <span data-ttu-id="097ca-284">Das folgende Beispiel zeigt den <xref:System.Windows.DragDrop.DragOver>-Ereignishandler für ein <xref:System.Windows.Shapes.Ellipse>-Element.</span><span class="sxs-lookup"><span data-stu-id="097ca-284">The following example shows the <xref:System.Windows.DragDrop.DragOver> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="097ca-285">Dieser Code überprüft, ob das über die Ellipse gezogene <xref:System.Windows.DataObject> Zeichenfolgendaten enthält, die in einen <xref:System.Windows.Media.Brush> konvertiert werden können.</span><span class="sxs-lookup"><span data-stu-id="097ca-285">This code checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="097ca-286">In diesem Fall legt er die <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType>-Eigenschaft als <xref:System.Windows.DragDropEffects.Copy> fest.</span><span class="sxs-lookup"><span data-stu-id="097ca-286">If so, it sets the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to <xref:System.Windows.DragDropEffects.Copy>.</span></span> <span data-ttu-id="097ca-287">Dies zeigt der Ziehquelle an, dass die Daten zur Ellipse kopiert werden können.</span><span class="sxs-lookup"><span data-stu-id="097ca-287">This indicates to the drag source that the data can be copied to the ellipse.</span></span> <span data-ttu-id="097ca-288">Wenn die Daten nicht in einen <xref:System.Windows.Media.Brush> konvertiert werden können, wird die Eigenschaft <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> auf <xref:System.Windows.DragDropEffects.None> festgelegt.</span><span class="sxs-lookup"><span data-stu-id="097ca-288">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property is set to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="097ca-289">Dieses zeigt der Datenquelle an, dass die Ellipse kein gültiges Ablageziel für die Daten darstellt.</span><span class="sxs-lookup"><span data-stu-id="097ca-289">This indicates to the drag source that the ellipse is not a valid drop target for the data.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragOver](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragover)]
 [!code-vb[DragDropSnippets#DragOver](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragover)]  
  
 <span data-ttu-id="097ca-290">Das <xref:System.Windows.DragDrop.DragLeave>-Ereignis tritt ein, wenn die Daten aus der Begrenzung des Ziels heraus gezogen werden, ohne abgelegt worden zu sein.</span><span class="sxs-lookup"><span data-stu-id="097ca-290">The <xref:System.Windows.DragDrop.DragLeave> event occurs when the data is dragged out of the target's boundary without being dropped.</span></span> <span data-ttu-id="097ca-291">Sie behandeln dieses Ereignis, um alles rückgängig zu machen, was Sie im <xref:System.Windows.DragDrop.DragEnter>-Ereignishandler ausgeführt haben.</span><span class="sxs-lookup"><span data-stu-id="097ca-291">You handle this event to undo anything that you did in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span>  
  
 <span data-ttu-id="097ca-292">Das folgende Beispiel zeigt den <xref:System.Windows.DragDrop.DragLeave>-Ereignishandler für ein <xref:System.Windows.Shapes.Ellipse>-Element.</span><span class="sxs-lookup"><span data-stu-id="097ca-292">The following example shows the <xref:System.Windows.DragDrop.DragLeave> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="097ca-293">Dieser Code macht die im <xref:System.Windows.DragDrop.DragEnter>-Ereignishandler ausgeführte Vorschau rückgängig, indem er den gespeicherten <xref:System.Windows.Media.Brush> auf die Ellipse anwendet.</span><span class="sxs-lookup"><span data-stu-id="097ca-293">This code undoes the preview performed in the <xref:System.Windows.DragDrop.DragEnter> event handler by applying the saved <xref:System.Windows.Media.Brush> to the ellipse.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragLeave](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragleave)]
 [!code-vb[DragDropSnippets#DragLeave](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragleave)]  
  
 <span data-ttu-id="097ca-294">Das <xref:System.Windows.DragDrop.Drop>-Ereignis tritt ein, wenn die Daten über dem Ablageziel abgelegt werden; standardmäßig geschieht dies beim Freigeben der Maustaste.</span><span class="sxs-lookup"><span data-stu-id="097ca-294">The <xref:System.Windows.DragDrop.Drop> event occurs when the data is dropped over the drop target; by default, this happens when the mouse button is released.</span></span> <span data-ttu-id="097ca-295">Im <xref:System.Windows.DragDrop.Drop>-Ereignishandler verwenden Sie die Methode <xref:System.Windows.DataObject.GetData%2A>, um die übertragenen Daten aus dem <xref:System.Windows.DataObject> zu extrahieren und jede von Ihrer Anwendung benötigte Datenverarbeitung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="097ca-295">In the <xref:System.Windows.DragDrop.Drop> event handler, you use the <xref:System.Windows.DataObject.GetData%2A> method to extract the transferred data from the <xref:System.Windows.DataObject> and perform any data processing that your application requires.</span></span> <span data-ttu-id="097ca-296">Das <xref:System.Windows.DragDrop.Drop>-Ereignis beendet den Drag &amp; Drop-Vorgang.</span><span class="sxs-lookup"><span data-stu-id="097ca-296">The <xref:System.Windows.DragDrop.Drop> event ends the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="097ca-297">Das folgende Beispiel zeigt den <xref:System.Windows.DragDrop.Drop>-Ereignishandler für ein <xref:System.Windows.Shapes.Ellipse>-Element.</span><span class="sxs-lookup"><span data-stu-id="097ca-297">The following example shows the <xref:System.Windows.DragDrop.Drop> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="097ca-298">Dieser Code wendet die Auswirkungen des Drag &amp; Drop-Vorgan an und ähnelt dem Code im <xref:System.Windows.DragDrop.DragEnter>-Ereignishandler.</span><span class="sxs-lookup"><span data-stu-id="097ca-298">This code applies the effects of the drag-and-drop operation, and is similar to the code in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span> <span data-ttu-id="097ca-299">Er überprüft, ob das <xref:System.Windows.DataObject>, das über die Ellipse gezogen wird, Zeichenfolgendaten enthält, die in einen <xref:System.Windows.Media.Brush> konvertiert werden können.</span><span class="sxs-lookup"><span data-stu-id="097ca-299">It checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="097ca-300">In diesem Fall wird der <xref:System.Windows.Media.Brush> auf die Ellipse angewendet.</span><span class="sxs-lookup"><span data-stu-id="097ca-300">If so, the <xref:System.Windows.Media.Brush> is applied to the ellipse.</span></span> <span data-ttu-id="097ca-301">Wenn die Daten nicht in einen <xref:System.Windows.Media.Brush> konvertiert werden können, wird keine Aktion ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="097ca-301">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#Drop](~/samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#drop)]
 [!code-vb[DragDropSnippets#Drop](~/samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#drop)]  
  
## <a name="see-also"></a><span data-ttu-id="097ca-302">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="097ca-302">See also</span></span>

- <xref:System.Windows.Clipboard>
- [<span data-ttu-id="097ca-303">Exemplarische Vorgehensweise: Aktivieren der Drag & Drop-Funktion auf einem Benutzersteuerelement</span><span class="sxs-lookup"><span data-stu-id="097ca-303">Walkthrough: Enabling Drag and Drop on a User Control</span></span>](walkthrough-enabling-drag-and-drop-on-a-user-control.md)
- [<span data-ttu-id="097ca-304">Themen zur Vorgehensweise zu einem Expander</span><span class="sxs-lookup"><span data-stu-id="097ca-304">How-to Topics</span></span>](drag-and-drop-how-to-topics.md)
- [<span data-ttu-id="097ca-305">Drag & Drop</span><span class="sxs-lookup"><span data-stu-id="097ca-305">Drag and Drop</span></span>](drag-and-drop.md)
