---
title: "Schreibgeschützte Abhängigkeitseigenschaften"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- dependency properties [WPF], read-only
- read-only dependency properties [WPF]
ms.assetid: f23d6ec9-3780-4c09-a2ff-b2f0a2deddf1
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 31e4080416d5eb4fdfe5c33ec2b65e1dced6d012
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 12/22/2017
---
# <a name="read-only-dependency-properties"></a><span data-ttu-id="5ed23-102">Schreibgeschützte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5ed23-102">Read-Only Dependency Properties</span></span>
<span data-ttu-id="5ed23-103">Dieses Thema beschreibt die schreibgeschützten Abhängigkeitseigenschaften, einschließlich vorhandener schreibgeschützter Abhängigkeitseigenschaften und die Szenarien und Verfahren zum Erstellen einer benutzerdefinierten, schreibgeschützten Abhängigkeitseigenschaft.</span><span class="sxs-lookup"><span data-stu-id="5ed23-103">This topic describes read-only dependency properties, including existing read-only dependency properties and the scenarios and techniques for creating a custom read-only dependency property.</span></span>  
  

  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="5ed23-104">Erforderliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="5ed23-104">Prerequisites</span></span>  
 <span data-ttu-id="5ed23-105">Bei diesem Thema wird davon ausgegangen, dass Sie die grundlegenden Szenarien zum Implementieren einer Abhängigkeitseigenschaft verstehen, und Metadaten für eine benutzerdefinierte Abhängigkeitseigenschaft anwenden.</span><span class="sxs-lookup"><span data-stu-id="5ed23-105">This topic assumes that you understand the basic scenarios of implementing a dependency property, and how metadata is applied to a custom dependency property.</span></span> <span data-ttu-id="5ed23-106">Mehr dazu finden Sie unter [benutzerdefinierten Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) und [Metadaten für Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md).</span><span class="sxs-lookup"><span data-stu-id="5ed23-106">See [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Dependency Property Metadata](../../../../docs/framework/wpf/advanced/dependency-property-metadata.md) for context.</span></span>  
  
<a name="existing"></a>   
## <a name="existing-read-only-dependency-properties"></a><span data-ttu-id="5ed23-107">Bestehende schreibgeschützte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5ed23-107">Existing Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="5ed23-108">Einige der Abhängigkeitseigenschaften, die im [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]-Framework festgelegt sind, sind schreibgeschützt.</span><span class="sxs-lookup"><span data-stu-id="5ed23-108">Some of the dependency properties defined in the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] framework are read-only.</span></span> <span data-ttu-id="5ed23-109">Der Hauptgrund zum Festlegen einer schreibgeschützten Abhängigkeitseigenschaft ist, dass dies Eigenschaften sind, die zur Statusbestimmung verwendet werden sollen, allerdings wird dieser Status durch eine Vielzahl von Faktoren beeinflusst, wobei das einfache Festlegen der Eigenschaft in diesem Status aus der Perspektive des Benutzeroberflächendesigns nicht in Frage kommt.</span><span class="sxs-lookup"><span data-stu-id="5ed23-109">The typical reason for specifying a read-only dependency property is that these are properties that should be used for state determination, but where that state is influenced by a multitude of factors, but just setting the property to that state isn't desirable from a user interface design perspective.</span></span> <span data-ttu-id="5ed23-110">Beispielsweise die Eigenschaft <xref:System.Windows.UIElement.IsMouseOver%2A> ist genau genommen nur Zustand versetzt, wie durch die Mauseingabe einbringen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-110">For example, the property <xref:System.Windows.UIElement.IsMouseOver%2A> is really just surfacing state as determined from the mouse input.</span></span> <span data-ttu-id="5ed23-111">dann wäre jeder Versuch, diesen Wert programmgesteuert - durch die Umgehung der echten Mauseingabe - festzulegen, unvorhersehbar und würde zu einer Inkonsistenz führen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-111">Any attempt to set this value programmatically by circumventing the true mouse input would be unpredictable and would cause inconsistency.</span></span>  
  
 <span data-ttu-id="5ed23-112">Schreibgeschützte Abhängigkeitseigenschaften sind nicht für zahlreiche Szenarien geeignet, für die Abhängigkeitseigenschaften normalerweise eine Lösung bieten, da sie nicht eingestellt werden können (genauer gesagt: Datenbindung, direkt auf einen Wert formatierbar, Überprüfung, Animation, Vererbung).</span><span class="sxs-lookup"><span data-stu-id="5ed23-112">By virtue of not being settable, read-only dependency properties aren't appropriate for many of the scenarios for which dependency properties normally offer a solution (namely: data binding, directly stylable to a value, validation, animation, inheritance).</span></span> <span data-ttu-id="5ed23-113">Obwohl Sie nicht eingestellt werden können, verfügen schreibgeschützte Abhängigkeitseigenschaft immer noch über einige weitere Funktionen, die von Abhängigkeitseigenschaften im Eigenschaftssystem unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="5ed23-113">Despite not being settable, read-only dependency properties still have some of the additional capabilities supported by dependency properties in the property system.</span></span> <span data-ttu-id="5ed23-114">Die wichtigste verbleibende Funktion ist, dass die schreibgeschützte Abhängigkeitseigenschaft weiterhin als Eigenschaftstrigger in einem Stil verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="5ed23-114">The most important remaining capability is that the read-only dependency property can still be used as a property trigger in a style.</span></span> <span data-ttu-id="5ed23-115">Sie können Auslöser nicht mit einer normalen [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)]-Eigenschaft aktivieren. Dies muss mit einer Abhängigkeitseigenschaft geschehen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-115">You can't enable triggers with a normal [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] property; it needs to be a dependency property.</span></span> <span data-ttu-id="5ed23-116">Die oben genannte <xref:System.Windows.UIElement.IsMouseOver%2A> Eigenschaft ist ein gutes Beispiel für ein Szenario, in denen ist es möglicherweise sehr hilfreich, um einen Stil für ein Steuerelement zu definieren, einige, visible-Eigenschaft, z. B. einen Hintergrund, Vordergrund oder ähnliche Eigenschaften zusammengesetzter Elemente innerhalb der Steuerelement ändert sich, wenn der Benutzer die Maus über einen definierten Bereich des Steuerelements platziert.</span><span class="sxs-lookup"><span data-stu-id="5ed23-116">The aforementioned <xref:System.Windows.UIElement.IsMouseOver%2A> property is a perfect example of a scenario where it might be quite useful to define a style for a control, where some visible property such as a background, foreground, or similar properties of composited elements within the control will change when the user places a mouse over some defined region of your control.</span></span> <span data-ttu-id="5ed23-117">Änderungen in einer schreibgeschützten Abhängigkeitseigenschaft können auch ermittelt und durch den inhärenten Ungültigkeitsprozess des Eigenschaftssystems gemeldet werden, und dies unterstützt in der Tat intern die Eigenschaftsauslöserfunktionalität.</span><span class="sxs-lookup"><span data-stu-id="5ed23-117">Changes in a read-only dependency property can also be detected and reported by the property system's inherent invalidation processes, and this in fact supports the property trigger functionality internally.</span></span>  
  
<a name="new"></a>   
## <a name="creating-custom-read-only-dependency-properties"></a><span data-ttu-id="5ed23-118">Erstellen benutzerdefinierter, schreibgeschützter Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5ed23-118">Creating Custom Read-Only Dependency Properties</span></span>  
 <span data-ttu-id="5ed23-119">Lesen Sie auf jeden Fall den Abschnitt oben zum Thema: Warum schreibgeschützte Abhängigkeitseigenschaften für viele normale Abhängigkeitseigenschaftsszenarien nicht funktioniert.</span><span class="sxs-lookup"><span data-stu-id="5ed23-119">Make sure to read the section above regarding why read-only dependency properties won't work for many typical dependency-property scenarios.</span></span> <span data-ttu-id="5ed23-120">Wenn Sie ein entsprechendes Szenario haben, können Sie jedoch eine eigene schreibgeschützte Abhängigkeitseigenschaft erstellen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-120">But if you have an appropriate scenario, you may wish to create your own read-only dependency property.</span></span>  
  
 <span data-ttu-id="5ed23-121">Einiges des Prozesses zum Erstellen einer schreibgeschützten Abhängigkeitseigenschaft entspricht weitgehend den in [benutzerdefinierte Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) und [Implementieren einer Abhängigkeitseigenschaft](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) beschriebenen Themen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-121">Much of the process of creating a read-only dependency property is the same as is described in the [Custom Dependency Properties](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md) and [Implement a Dependency Property](../../../../docs/framework/wpf/advanced/how-to-implement-a-dependency-property.md) topics.</span></span> <span data-ttu-id="5ed23-122">Es gibt drei wichtige Unterschiede:</span><span class="sxs-lookup"><span data-stu-id="5ed23-122">There are three important differences:</span></span>  
  
-   <span data-ttu-id="5ed23-123">Wenn Sie eine Eigenschaft zu registrieren, rufen die <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> Methode anstelle der normalen <xref:System.Windows.DependencyProperty.Register%2A> Methode für die eigenschaftsregistrierung.</span><span class="sxs-lookup"><span data-stu-id="5ed23-123">When registering your property, call the <xref:System.Windows.DependencyProperty.RegisterReadOnly%2A> method instead of the normal <xref:System.Windows.DependencyProperty.Register%2A> method for property registration.</span></span>  
  
-   <span data-ttu-id="5ed23-124">Stellen Sie bei der Implementierung der [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)]-„Wrapper“-Eigenschaft sicher, dass auch der Wrapper keine festgelegte Implementierung hat, sodass keine Inkonsistenzen im schreibgeschützten Status für den öffentlichen Wrapper entstehen, den Sie verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-124">When implementing the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] "wrapper" property, make sure that the wrapper too doesn't have a set implementation, so that there is no inconsistency in read-only state for the public wrapper you expose.</span></span>  
  
-   <span data-ttu-id="5ed23-125">Das durch die Registrierung nur-Lese zurückgegebene Objekt stellt <xref:System.Windows.DependencyPropertyKey> statt <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="5ed23-125">The object returned by the read-only registration is <xref:System.Windows.DependencyPropertyKey> rather than <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="5ed23-126">Speichern Sie dieses Feld weiterhin als Member, aber normalerweise sollten Sie es nicht zu einem öffentlichen Member des Typs machen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-126">You should still store this field as a member but typically you would not make it a public member of the type.</span></span>  
  
 <span data-ttu-id="5ed23-127">Alle privaten Felder oder Werte, die Ihre schreibgeschützte Abhängigkeitseigenschaft unterstützen, können natürlich vollständig von Ihrer gewünschten Logik beschreibbar sein.</span><span class="sxs-lookup"><span data-stu-id="5ed23-127">Whatever private field or value you have backing your read-only dependency property can of course be fully writable using whatever logic you decide.</span></span> <span data-ttu-id="5ed23-128">Die einfachste Möglichkeit zum Festlegen der Eigenschaft, ob am Anfang oder als Teil der Laufzeitlogik, ist jedoch das Verwenden des Eigenschaftensystems [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], anstatt das Eigenschaftensystem zu umgehen und das private Unterstützungsfeld direkt festzulegen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-128">However, the most straightforward way to set the property either initially or as part of runtime logic is to use the property system's [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], rather than circumventing the property system and setting the private backing field directly.</span></span> <span data-ttu-id="5ed23-129">Es ist insbesondere in eine Signatur der <xref:System.Windows.DependencyObject.SetValue%2A> , akzeptiert einen Parameter vom Typ <xref:System.Windows.DependencyPropertyKey>.</span><span class="sxs-lookup"><span data-stu-id="5ed23-129">In particular, there is a signature of <xref:System.Windows.DependencyObject.SetValue%2A> that accepts a parameter of type <xref:System.Windows.DependencyPropertyKey>.</span></span> <span data-ttu-id="5ed23-130">Wie und wo Sie diesen Wert programmgesteuert innerhalb Ihrer Anwendungslogik festlegen wirkt sich wie Sie möchten möglicherweise legen Sie den Zugriff auf die <xref:System.Windows.DependencyPropertyKey> erstellt, wenn Sie zuerst die Abhängigkeitseigenschaft registriert.</span><span class="sxs-lookup"><span data-stu-id="5ed23-130">How and where you set this value programmatically within your application logic will affect how you may wish to set access on the <xref:System.Windows.DependencyPropertyKey> created when you first registered the dependency property.</span></span> <span data-ttu-id="5ed23-131">Wenn Sie diese Logik innerhalb der Klasse bearbeiten, können Sie diese als privat einstellen, oder wenn Sie möchten, dass diese von anderen Teilen des Assembly festgelegt wird, müssen Sie dies intern festlegen.</span><span class="sxs-lookup"><span data-stu-id="5ed23-131">If you handle this logic all within the class you could make it private, or if you require it to be set from other portions of the assembly you might set it internal.</span></span> <span data-ttu-id="5ed23-132">Ein Ansatz besteht im Aufrufen <xref:System.Windows.DependencyObject.SetValue%2A> innerhalb einer Klasse-Ereignishandler eines entsprechenden Ereignisses, die eine Instanz der Klasse zu informieren, die der gespeicherte Eigenschaftswert geändert werden muss.</span><span class="sxs-lookup"><span data-stu-id="5ed23-132">One approach is to call <xref:System.Windows.DependencyObject.SetValue%2A> within a class event handler of a relevant event that informs a class instance that the stored property value needs to be changed.</span></span> <span data-ttu-id="5ed23-133">Ein anderer Ansatz ist zum Verknüpfen von Abhängigkeitseigenschaften gekoppelt mit <xref:System.Windows.PropertyChangedCallback> und <xref:System.Windows.CoerceValueCallback> Rückrufen als Teil dieser Eigenschaften Metadaten während der Registrierung.</span><span class="sxs-lookup"><span data-stu-id="5ed23-133">Another approach is to tie dependency properties together by using paired <xref:System.Windows.PropertyChangedCallback> and <xref:System.Windows.CoerceValueCallback> callbacks as part of those properties' metadata during registration.</span></span>  
  
 <span data-ttu-id="5ed23-134">Da die <xref:System.Windows.DependencyPropertyKey> ist privat und nicht weitergegeben wird vom Eigenschaftensystem außerhalb der Code eine schreibgeschützte Abhängigkeitseigenschaft besitzt eine bessere Leistung als eine Abhängigkeitseigenschaft mit Lese-/ Schreibzugriff Festlegen der Sicherheit.</span><span class="sxs-lookup"><span data-stu-id="5ed23-134">Because the <xref:System.Windows.DependencyPropertyKey> is private, and is not propagated by the property system outside of your code, a read-only dependency property does have better setting security than a read-write dependency property.</span></span> <span data-ttu-id="5ed23-135">Für eine Abhängigkeitseigenschaft, die gelesen und bearbeitet werden kann, ist das identifizierende Feld explizit oder implizit öffentlich und daher kann die Eigenschaft umfassend festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="5ed23-135">For a read-write dependency property, the identifying field is explicitly or implicitly public and thus the property is widely settable.</span></span> <span data-ttu-id="5ed23-136">Ausführlichere Informationen dazu finden Sie unter [Sicherheit von Abhängigkeitseigenschaften](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span><span class="sxs-lookup"><span data-stu-id="5ed23-136">For more specifics, see [Dependency Property Security](../../../../docs/framework/wpf/advanced/dependency-property-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5ed23-137">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="5ed23-137">See Also</span></span>  
 [<span data-ttu-id="5ed23-138">Übersicht über Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5ed23-138">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)  
 [<span data-ttu-id="5ed23-139">Benutzerdefinierte Abhängigkeitseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5ed23-139">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)  
 [<span data-ttu-id="5ed23-140">Erstellen von Formaten und Vorlagen</span><span class="sxs-lookup"><span data-stu-id="5ed23-140">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)
