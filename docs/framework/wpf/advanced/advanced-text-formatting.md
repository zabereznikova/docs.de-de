---
title: Erweiterte Textformatierung
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
ms.openlocfilehash: 745d20e0bd4f877f9d4559f9fc7829b56689d35c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/12/2020
ms.locfileid: "79185943"
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="5cf69-102">Erweiterte Textformatierung</span><span class="sxs-lookup"><span data-stu-id="5cf69-102">Advanced Text Formatting</span></span>
<span data-ttu-id="5cf69-103">Windows Presentation Foundation (WPF) bietet einen robusten Satz von APIs für die Einschlussvon Text in Ihre Anwendung.</span><span class="sxs-lookup"><span data-stu-id="5cf69-103">Windows Presentation Foundation (WPF) provides a robust set of APIs for including text in your application.</span></span> <span data-ttu-id="5cf69-104">Layout [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] und APIs, <xref:System.Windows.Controls.TextBlock>z. B. , stellen die häufigsten und allgemein verwendenden Elemente für die Textpräsentation bereit.</span><span class="sxs-lookup"><span data-stu-id="5cf69-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] APIs, such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general-use elements for text presentation.</span></span> <span data-ttu-id="5cf69-105">Zeichnungs-APIs, <xref:System.Windows.Media.GlyphRunDrawing> <xref:System.Windows.Media.FormattedText>z. B. und , bieten eine Möglichkeit, formatierten Text in Zeichnungen einzuschließen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-105">Drawing APIs, such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="5cf69-106">Auf der fortschrittlichsten Ebene bietet WPF ein erweiterbares Textformatierungsmodul, um jeden Aspekt der Textpräsentation zu steuern, z. B. Textspeicherverwaltung, Formatierungsverwaltung für Textläufe und eingebettete Objektverwaltung.</span><span class="sxs-lookup"><span data-stu-id="5cf69-106">At the most advanced level, WPF provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="5cf69-107">Dieses Thema enthält eine Einführung in die WPF-Textformatierung.</span><span class="sxs-lookup"><span data-stu-id="5cf69-107">This topic provides an introduction to WPF text formatting.</span></span> <span data-ttu-id="5cf69-108">Der Schwerpunkt liegt auf der Clientimplementierung und der Verwendung des WPF-Textformatierungsmoduls.</span><span class="sxs-lookup"><span data-stu-id="5cf69-108">It focuses on client implementation and use of the WPF text formatting engine.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="5cf69-109">Alle Codebeispiele in diesem Dokument finden Sie im Beispiel für [erweiterte Textformatierung](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting).</span><span class="sxs-lookup"><span data-stu-id="5cf69-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](https://github.com/Microsoft/WPF-Samples/tree/master/PerMonitorDPI/TextFormatting).</span></span>  

<a name="prereq"></a>
## <a name="prerequisites"></a><span data-ttu-id="5cf69-110">Voraussetzungen</span><span class="sxs-lookup"><span data-stu-id="5cf69-110">Prerequisites</span></span>  
 <span data-ttu-id="5cf69-111">In diesem Thema wird davon ausgegangen, dass Sie mit den APIs auf höherer Ebene vertraut sind, die für die Textpräsentation verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-111">This topic assumes that you are familiar with the higher level APIs used for text presentation.</span></span> <span data-ttu-id="5cf69-112">Für die meisten Benutzerszenarien sind die in diesem Thema erläuterten erweiterten Textformatierungs-APIs nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="5cf69-112">Most user scenarios will not require the advanced text formatting APIs discussed in this topic.</span></span> <span data-ttu-id="5cf69-113">Eine Einführung in die verschiedenen Text-APIs finden Sie unter [Dokumente in WPF](documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="5cf69-113">For an introduction to the different text APIs, see [Documents in WPF](documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>
## <a name="advanced-text-formatting"></a><span data-ttu-id="5cf69-114">Erweiterte Textformatierung</span><span class="sxs-lookup"><span data-stu-id="5cf69-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="5cf69-115">Das Textlayout [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] und die Steuerelemente in WPF stellen Formatierungseigenschaften bereit, mit denen Sie formatierten Text problemlos in Ihre Anwendung einschließen können.</span><span class="sxs-lookup"><span data-stu-id="5cf69-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in WPF provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="5cf69-116">Diese Steuerelemente bieten eine Reihe von Eigenschaften, um die Darstellung von Text zu bearbeiten, u.a. dessen Schriftart, Größe und Farbe.</span><span class="sxs-lookup"><span data-stu-id="5cf69-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="5cf69-117">Unter normalen Umständen können diese Steuerelemente den Großteil der Textdarstellung in Ihrer Anwendung behandeln.</span><span class="sxs-lookup"><span data-stu-id="5cf69-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="5cf69-118">Einige erweiterten Szenarios erfordern jedoch das Steuerelement des Textspeichers sowie die Textdarstellung.</span><span class="sxs-lookup"><span data-stu-id="5cf69-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> <span data-ttu-id="5cf69-119">WPF stellt zu diesem Zweck ein erweiterbares Textformatierungsmodul bereit.</span><span class="sxs-lookup"><span data-stu-id="5cf69-119">WPF provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="5cf69-120">Die erweiterten Textformatierungsfeatures in WPF bestehen aus einem Textformatierungsmodul, einem Textspeicher, Textausführungen und Formatierungseigenschaften.</span><span class="sxs-lookup"><span data-stu-id="5cf69-120">The advanced text formatting features found in WPF consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="5cf69-121">Das Textformatierungsmodul , , erstellt Textzeilen, <xref:System.Windows.Media.TextFormatting.TextFormatter>die für die Präsentation verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="5cf69-122">Dies wird erreicht, indem der Zeilenformatierungsprozess in ganggeleitet <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>und der Textformatierungsvorgang aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5cf69-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="5cf69-123">Der Textformataton ruft Textläufe aus dem Textspeicher ab, indem die Methode des Informationsspeichers <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5cf69-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="5cf69-124">Die <xref:System.Windows.Media.TextFormatting.TextRun> Objekte werden <xref:System.Windows.Media.TextFormatting.TextLine> dann durch den Textformatatoihrer zu Objekten geformt und Ihrer Anwendung zur Prüfung oder Anzeige übergeben.</span><span class="sxs-lookup"><span data-stu-id="5cf69-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>
## <a name="using-the-text-formatter"></a><span data-ttu-id="5cf69-125">Verwendung des Textformatierers</span><span class="sxs-lookup"><span data-stu-id="5cf69-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="5cf69-126"><xref:System.Windows.Media.TextFormatting.TextFormatter>ist das WPF-Textformatierungsmodul und bietet Dienste zum Formatieren und Umteilen von Textzeilen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the WPF text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="5cf69-127">Der Textformatierer kann unterschiedliche Textzeichenformate und Absatzformatvorlagen verarbeiten und enthält Unterstützung für internationales Textlayout.</span><span class="sxs-lookup"><span data-stu-id="5cf69-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="5cf69-128">Im Gegensatz zu einer <xref:System.Windows.Media.TextFormatting.TextFormatter> herkömmlichen Text-API interagiert der mit einem Textlayoutclient über eine Reihe von Rückrufmethoden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-128">Unlike a traditional text API, the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="5cf69-129">Der Client muss diese Methoden in einer <xref:System.Windows.Media.TextFormatting.TextSource> Implementierung der Klasse bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="5cf69-130">Das folgende Diagramm veranschaulicht die Textlayoutinteraktion <xref:System.Windows.Media.TextFormatting.TextFormatter>zwischen der Clientanwendung und .</span><span class="sxs-lookup"><span data-stu-id="5cf69-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 ![Diagramm des Textlayout-Clients und TextFormatter](./media/advanced-text-formatting/text-layout-textformatter-interaction.png)  
  
 <span data-ttu-id="5cf69-132">Der Textformataton wird verwendet, um formatierte Textzeilen aus <xref:System.Windows.Media.TextFormatting.TextSource>dem Textspeicher abzurufen, bei dem es sich um eine Implementierung von handelt.</span><span class="sxs-lookup"><span data-stu-id="5cf69-132">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="5cf69-133">Dies geschieht, indem zuerst eine Instanz des <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> Textformataums mithilfe der Methode erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="5cf69-133">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="5cf69-134">Diese Methode erstellt eine Instanz des Textformatierungsprogramms und legt die maximalen Werte für Zeilenhöhe und -breite fest.</span><span class="sxs-lookup"><span data-stu-id="5cf69-134">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="5cf69-135">Sobald eine Instanz des Textformataums erstellt wird, wird der <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> Zeilenerstellungsprozess durch Aufrufen der Methode gestartet.</span><span class="sxs-lookup"><span data-stu-id="5cf69-135">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="5cf69-136"><xref:System.Windows.Media.TextFormatting.TextFormatter>ruft an die Textquelle zurück, um die Text- und Formatierungsparameter für die Durchläufe von Text, die eine Zeile bilden, abzurufen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-136"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="5cf69-137">Im folgenden Beispiel wird der Formatierungsprozess eines Textspeichers gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5cf69-137">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="5cf69-138">Das <xref:System.Windows.Media.TextFormatting.TextFormatter> Objekt wird verwendet, um Textzeilen aus dem Textspeicher abzurufen und dann die Textzeile für das Zeichnen in die <xref:System.Windows.Media.DrawingContext>zu formatieren.</span><span class="sxs-lookup"><span data-stu-id="5cf69-138">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="5cf69-139">Implementieren des Clienttextspeichers</span><span class="sxs-lookup"><span data-stu-id="5cf69-139">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="5cf69-140">Wenn Sie die Textformatierungs-Engine erweitern, müssen Sie alle Aspekte des Textspeichers implementieren und verwalten.</span><span class="sxs-lookup"><span data-stu-id="5cf69-140">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="5cf69-141">Dies ist keine einfache Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="5cf69-141">This is not a trivial task.</span></span> <span data-ttu-id="5cf69-142">Der Textspeicher ist für die Nachverfolgung von Lauftexteigenschaften, Absatzeigenschaften, für das Einbetten von Objekten und anderen ähnlichen Inhalt verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="5cf69-142">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="5cf69-143">Außerdem wird der Textformatatoihrer mit einzelnen <xref:System.Windows.Media.TextFormatting.TextRun> Objekten <xref:System.Windows.Media.TextFormatting.TextLine> ausgeliefert, die der Textformatatoihrer zum Erstellen von Objekten verwendet.</span><span class="sxs-lookup"><span data-stu-id="5cf69-143">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="5cf69-144">Um die Virtualisierung des Textspeichers zu verarbeiten, <xref:System.Windows.Media.TextFormatting.TextSource>muss der Textspeicher von abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-144">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="5cf69-145"><xref:System.Windows.Media.TextFormatting.TextSource>definiert die Methode, die der Textformatatol zum Abrufen von Textläufen aus dem Textspeicher verwendet.</span><span class="sxs-lookup"><span data-stu-id="5cf69-145"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="5cf69-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>ist die Methode, die vom Textformatierungsformatverwendet zum Abrufen von Textläufen verwendet wird, die in der Zeilenformatierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-146"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="5cf69-147">Der Aufruf <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> wird wiederholt vom Textformatformatausgeführt ausgeführt, bis eine der folgenden Bedingungen eintritt:</span><span class="sxs-lookup"><span data-stu-id="5cf69-147">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
- <span data-ttu-id="5cf69-148">Eine <xref:System.Windows.Media.TextFormatting.TextEndOfLine> oder eine Unterklasse wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5cf69-148">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
- <span data-ttu-id="5cf69-149">Die akkumulierte Breite der Textläufe überschreitet die maximale Zeilenbreite, die entweder im Aufruf zum <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> Erstellen des Textformataums oder beim Aufruf der Textformatatoganzmethode angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="5cf69-149">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
- <span data-ttu-id="5cf69-150">Eine Unicode-Newline-Sequenz, z. B. "CF", "LF" oder "CRLF", wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5cf69-150">A Unicode newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>
## <a name="providing-text-runs"></a><span data-ttu-id="5cf69-151">Bereitstellen von Lauftext</span><span class="sxs-lookup"><span data-stu-id="5cf69-151">Providing Text Runs</span></span>  
 <span data-ttu-id="5cf69-152">Der wichtigste Teil des Textformatierunsprozesses ist die Interaktion zwischen Textformatierer und Textspeicher.</span><span class="sxs-lookup"><span data-stu-id="5cf69-152">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="5cf69-153">Ihre Implementierung <xref:System.Windows.Media.TextFormatting.TextSource> von stellt den <xref:System.Windows.Media.TextFormatting.TextRun> Textformatformatmitteil mit den Objekten und den Eigenschaften bereit, mit denen der Text formatiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="5cf69-153">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="5cf69-154">Diese Interaktion wird von <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> der Methode verarbeitet, die vom Textformataton aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5cf69-154">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="5cf69-155">Die folgende Tabelle zeigt einige <xref:System.Windows.Media.TextFormatting.TextRun> der vordefinierten Objekte.</span><span class="sxs-lookup"><span data-stu-id="5cf69-155">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="5cf69-156">TextRun-Typ</span><span class="sxs-lookup"><span data-stu-id="5cf69-156">TextRun Type</span></span>|<span data-ttu-id="5cf69-157">Verwendung</span><span class="sxs-lookup"><span data-stu-id="5cf69-157">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="5cf69-158">Der spezialisierte Lauftext, der zum Übergeben einer Darstellung von Zeichensymbolen zurück an den Textformatierer verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5cf69-158">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="5cf69-159">Der spezialisierte Lauftext, der zum Bereitstellen von Inhalt verwendet wird, in dem Messungen, Treffertests und Zeichnungen komplett ausgeführt werden, z.B. eine Schaltfläche oder ein Bild im Text</span><span class="sxs-lookup"><span data-stu-id="5cf69-159">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="5cf69-160">Der spezialisierte Lauftext, der zum Kennzeichnen des Zeilenendes verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5cf69-160">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="5cf69-161">Der spezialisierte Lauftext, der zum Kennzeichnen eines Absatzendes verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5cf69-161">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="5cf69-162">Die spezialisierte Textausführung, die verwendet wird, um das Ende eines <xref:System.Windows.Media.TextFormatting.TextModifier> Segments zu markieren, z. B. um den Bereich zu beenden, der von einer vorherigen Ausführung betroffen ist.</span><span class="sxs-lookup"><span data-stu-id="5cf69-162">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="5cf69-163">Der spezialisierte Lauftext, der verwendet wird, um eine Reihe ausgeblendeter Zeichen zu kennzeichnen</span><span class="sxs-lookup"><span data-stu-id="5cf69-163">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="5cf69-164">Der spezialisierte Lauftext, der verwendet wird, um Eigenschaften der Lauftexte in deren Bereich zu ändern.</span><span class="sxs-lookup"><span data-stu-id="5cf69-164">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="5cf69-165">Der Bereich erstreckt sich <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> auf den nächsten <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>übereinstimmenden Textlauf oder den nächsten .</span><span class="sxs-lookup"><span data-stu-id="5cf69-165">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="5cf69-166">Jedes der vordefinierten <xref:System.Windows.Media.TextFormatting.TextRun> Objekte kann unterklassifiziert werden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-166">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="5cf69-167">Dadurch kann Ihre Textquelle den Textformatierer mit Lauftexten bereitstellen, die benutzerdefinierte Daten enthalten.</span><span class="sxs-lookup"><span data-stu-id="5cf69-167">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="5cf69-168">Im folgenden Beispiel <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> wird eine Methode veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="5cf69-168">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="5cf69-169">Dieser Textspeicher <xref:System.Windows.Media.TextFormatting.TextRun> gibt Objekte zur Verarbeitung an den Textformatierungsobjekt zurück.</span><span class="sxs-lookup"><span data-stu-id="5cf69-169">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](~/samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](~/samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
> <span data-ttu-id="5cf69-170">In diesem Beispiel stellt der Textspeicher die gleichen Texteigenschaften für den gesamten Text bereit.</span><span class="sxs-lookup"><span data-stu-id="5cf69-170">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="5cf69-171">Erweiterte Textspeicher müssen ihre eigene Verwaltung für Bereiche implementieren, damit einzelne Zeichen über unterschiedliche Eigenschaften verfügen können.</span><span class="sxs-lookup"><span data-stu-id="5cf69-171">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>
## <a name="specifying-formatting-properties"></a><span data-ttu-id="5cf69-172">Angeben von Formatierungseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5cf69-172">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="5cf69-173"><xref:System.Windows.Media.TextFormatting.TextRun>Objekte werden mithilfe von Eigenschaften formatiert, die vom Textspeicher bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="5cf69-173"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="5cf69-174">Diese Eigenschaften sind in <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> <xref:System.Windows.Media.TextFormatting.TextRunProperties>zwei Typen und .</span><span class="sxs-lookup"><span data-stu-id="5cf69-174">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="5cf69-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties>Absatz-inklusive-Eigenschaften <xref:System.Windows.TextAlignment> wie <xref:System.Windows.FlowDirection>und behandeln</span><span class="sxs-lookup"><span data-stu-id="5cf69-175"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="5cf69-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties>sind Eigenschaften, die für jeden Text, der innerhalb eines <xref:System.Windows.Media.Typeface>Absatzes ausgeführt wird, unterschiedlich sein können, z. B. Vordergrundpinsel, , und Schriftgröße.</span><span class="sxs-lookup"><span data-stu-id="5cf69-176"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="5cf69-177">Um benutzerdefinierte Absatz- und benutzerdefinierte Textausführungseigenschaftentypen zu <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> <xref:System.Windows.Media.TextFormatting.TextRunProperties> implementieren, muss die Anwendung Klassen erstellen, die jeweils von bzw. von ihnen stammen.</span><span class="sxs-lookup"><span data-stu-id="5cf69-177">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5cf69-178">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="5cf69-178">See also</span></span>

- [<span data-ttu-id="5cf69-179">Typografie in WPF</span><span class="sxs-lookup"><span data-stu-id="5cf69-179">Typography in WPF</span></span>](typography-in-wpf.md)
- [<span data-ttu-id="5cf69-180">Dokumente in WPF</span><span class="sxs-lookup"><span data-stu-id="5cf69-180">Documents in WPF</span></span>](documents-in-wpf.md)
