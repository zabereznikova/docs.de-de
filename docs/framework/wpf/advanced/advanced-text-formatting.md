---
title: Erweiterte Textformatierung
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- formatting [WPF]
- text [WPF]
- typography [WPF], text formatting
ms.assetid: f0a7986e-f5b2-485c-a27d-f8e922022212
caps.latest.revision: "16"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 1828b6ffe2d24c2bfb98b4668a9540adf5978e5f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/21/2017
---
# <a name="advanced-text-formatting"></a><span data-ttu-id="5dc47-102">Erweiterte Textformatierung</span><span class="sxs-lookup"><span data-stu-id="5dc47-102">Advanced Text Formatting</span></span>
<span data-ttu-id="5dc47-103">Die [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] bietet einen Reihe zuverlässiger [!INCLUDE[TLA#tla_api#plural](../../../../includes/tlasharptla-apisharpplural-md.md)] zum Einschließen von Text in der Anwendung.</span><span class="sxs-lookup"><span data-stu-id="5dc47-103">The [!INCLUDE[TLA#tla_wpf](../../../../includes/tlasharptla-wpf-md.md)] provides a robust set of [!INCLUDE[TLA#tla_api#plural](../../../../includes/tlasharptla-apisharpplural-md.md)] for including text in your application.</span></span> <span data-ttu-id="5dc47-104">Layout und [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], wie z. B. <xref:System.Windows.Controls.TextBlock>, geben Sie die am häufigsten verwendeten und allgemeine Elemente für die Textdarstellung verwendet.</span><span class="sxs-lookup"><span data-stu-id="5dc47-104">Layout and [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)][!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], such as <xref:System.Windows.Controls.TextBlock>, provide the most common and general use elements for text presentation.</span></span> <span data-ttu-id="5dc47-105">Zeichnen von [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], wie z. B. <xref:System.Windows.Media.GlyphRunDrawing> und <xref:System.Windows.Media.FormattedText>, bieten eine Möglichkeit zum Einschließen von formatierten Texts in Zeichnungen.</span><span class="sxs-lookup"><span data-stu-id="5dc47-105">Drawing [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], such as <xref:System.Windows.Media.GlyphRunDrawing> and <xref:System.Windows.Media.FormattedText>, provide a means for including formatted text in drawings.</span></span> <span data-ttu-id="5dc47-106">Das am häufigsten Premiummitglied [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] stellt eine erweiterbare textformatierung-Modul ausgeführt, um alle Aspekte des Text-Präsentationen wie Text Store Verwaltung, Formatierung TextRun-Verwaltung, und eingebettete Objekte zu steuern.</span><span class="sxs-lookup"><span data-stu-id="5dc47-106">At the most advanced level, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provides an extensible text formatting engine to control every aspect of text presentation, such as text store management, text run formatting management, and embedded object management.</span></span>  
  
 <span data-ttu-id="5dc47-107">Dieses Thema enthält eine Einführung in die [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] textformatierung.</span><span class="sxs-lookup"><span data-stu-id="5dc47-107">This topic provides an introduction to [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting.</span></span> <span data-ttu-id="5dc47-108">Der Schwerpunkt liegt auf Clientimplementierung und Verwendung von der [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] textformatierung-Modul.</span><span class="sxs-lookup"><span data-stu-id="5dc47-108">It focuses on client implementation and use of the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="5dc47-109">Alle Codebeispiele in diesem Dokument finden Sie in der [Advanced Text Formatting Sample](http://go.microsoft.com/fwlink/?LinkID=159965).</span><span class="sxs-lookup"><span data-stu-id="5dc47-109">All code examples within this document can be found in the [Advanced Text Formatting Sample](http://go.microsoft.com/fwlink/?LinkID=159965).</span></span>  
  

  
<a name="prereq"></a>   
## <a name="prerequisites"></a><span data-ttu-id="5dc47-110">Erforderliche Komponenten</span><span class="sxs-lookup"><span data-stu-id="5dc47-110">Prerequisites</span></span>  
 <span data-ttu-id="5dc47-111">In diesem Thema wird davon ausgegangen, dass Sie mit der höheren Ebene vertraut sind [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] für die Textdarstellung verwendet.</span><span class="sxs-lookup"><span data-stu-id="5dc47-111">This topic assumes that you are familiar with the higher level [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] used for text presentation.</span></span> <span data-ttu-id="5dc47-112">Die meisten Benutzerszenarios erfordert keinen erweiterten textformatierung [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] in diesem Thema erläutert.</span><span class="sxs-lookup"><span data-stu-id="5dc47-112">Most user scenarios will not require the advanced text formatting [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] discussed in this topic.</span></span> <span data-ttu-id="5dc47-113">Eine Einführung in die anderen Text [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], finden Sie unter [Dokumente in WPF](../../../../docs/framework/wpf/advanced/documents-in-wpf.md).</span><span class="sxs-lookup"><span data-stu-id="5dc47-113">For an introduction to the different text [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)], see [Documents in WPF](../../../../docs/framework/wpf/advanced/documents-in-wpf.md).</span></span>  
  
<a name="section1"></a>   
## <a name="advanced-text-formatting"></a><span data-ttu-id="5dc47-114">Erweiterte Textformatierung</span><span class="sxs-lookup"><span data-stu-id="5dc47-114">Advanced Text Formatting</span></span>  
 <span data-ttu-id="5dc47-115">Das Textlayout und [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] steuert in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] Geben Sie Formatierungseigenschaften, mit denen Sie problemlos formatierten Text in Ihre Anwendung integrieren können.</span><span class="sxs-lookup"><span data-stu-id="5dc47-115">The text layout and [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] controls in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] provide formatting properties that allow you to easily include formatted text in your application.</span></span> <span data-ttu-id="5dc47-116">Diese Steuerelemente bieten eine Reihe von Eigenschaften, um die Darstellung von Text zu bearbeiten, u.a. dessen Schriftart, Größe und Farbe.</span><span class="sxs-lookup"><span data-stu-id="5dc47-116">These controls expose a number of properties to handle the presentation of text, which includes its typeface, size, and color.</span></span> <span data-ttu-id="5dc47-117">Unter normalen Umständen können diese Steuerelemente den Großteil der Textdarstellung in Ihrer Anwendung behandeln.</span><span class="sxs-lookup"><span data-stu-id="5dc47-117">Under ordinary circumstances, these controls can handle the majority of text presentation in your application.</span></span> <span data-ttu-id="5dc47-118">Einige erweiterten Szenarios erfordern jedoch das Steuerelement des Textspeichers sowie die Textdarstellung.</span><span class="sxs-lookup"><span data-stu-id="5dc47-118">However, some advanced scenarios require the control of text storage as well as text presentation.</span></span> [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)]<span data-ttu-id="5dc47-119"> stellt ein erweiterbares Textformatierungsmodul für diesen Zweck bereit.</span><span class="sxs-lookup"><span data-stu-id="5dc47-119"> provides an extensible text formatting engine for this purpose.</span></span>  
  
 <span data-ttu-id="5dc47-120">In der erweiterten Text Formatierungsfunktionen gefunden [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] bestehen aus einem Text-Modul, einen Textspeicher, textausführungen Formatierung und Formatierungseigenschaften.</span><span class="sxs-lookup"><span data-stu-id="5dc47-120">The advanced text formatting features found in [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] consist of a text formatting engine, a text store, text runs, and formatting properties.</span></span> <span data-ttu-id="5dc47-121">Datenbankmodul, die textformatierung <xref:System.Windows.Media.TextFormatting.TextFormatter>, erstellt der Textzeilen für Präsentation verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="5dc47-121">The text formatting engine, <xref:System.Windows.Media.TextFormatting.TextFormatter>, creates lines of text to be used for presentation.</span></span> <span data-ttu-id="5dc47-122">Dies erfolgt durch die Zeile Formatierung zu initiieren und Aufrufen der TextFormatter <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-122">This is achieved by initiating the line formatting process and calling the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A>.</span></span> <span data-ttu-id="5dc47-123">Die TextFormatter ruft textausführungen aus Ihrer Textspeicher ab, durch den Aufruf des Geschäfts <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="5dc47-123">The text formatter retrieves text runs from your text store by calling the store's <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="5dc47-124">Die <xref:System.Windows.Media.TextFormatting.TextRun> Objekte werden dann in gebildet <xref:System.Windows.Media.TextFormatting.TextLine> Objekte vom Textformatierungsprogramm, und die Anwendung zur Überprüfung oder Anzeige.</span><span class="sxs-lookup"><span data-stu-id="5dc47-124">The <xref:System.Windows.Media.TextFormatting.TextRun> objects are then formed into <xref:System.Windows.Media.TextFormatting.TextLine> objects by the text formatter and given to your application for inspection or display.</span></span>  
  
<a name="section2"></a>   
## <a name="using-the-text-formatter"></a><span data-ttu-id="5dc47-125">Verwendung des Textformatierers</span><span class="sxs-lookup"><span data-stu-id="5dc47-125">Using the Text Formatter</span></span>  
 <span data-ttu-id="5dc47-126"><xref:System.Windows.Media.TextFormatting.TextFormatter>ist die [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] textformatierung-engine und stellt Dienste zum Formatieren und unterteilen von Textzeilen.</span><span class="sxs-lookup"><span data-stu-id="5dc47-126"><xref:System.Windows.Media.TextFormatting.TextFormatter> is the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] text formatting engine and provides services for formatting and breaking text lines.</span></span> <span data-ttu-id="5dc47-127">Der Textformatierer kann unterschiedliche Textzeichenformate und Absatzformatvorlagen verarbeiten und enthält Unterstützung für internationales Textlayout.</span><span class="sxs-lookup"><span data-stu-id="5dc47-127">The text formatter can handle different text character formats and paragraph styles, and includes support for international text layout.</span></span>  
  
 <span data-ttu-id="5dc47-128">Im Gegensatz zu herkömmlichen Text [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)]die <xref:System.Windows.Media.TextFormatting.TextFormatter> interagiert mit einer Textlayout-Clients über eine Reihe von Rückrufmethoden.</span><span class="sxs-lookup"><span data-stu-id="5dc47-128">Unlike a traditional text [!INCLUDE[TLA#tla_api](../../../../includes/tlasharptla-api-md.md)], the <xref:System.Windows.Media.TextFormatting.TextFormatter> interacts with a text layout client through a set of callback methods.</span></span> <span data-ttu-id="5dc47-129">Es muss der Client diese Methoden in einer Implementierung von der <xref:System.Windows.Media.TextFormatting.TextSource> Klasse.</span><span class="sxs-lookup"><span data-stu-id="5dc47-129">It requires the client to provide these methods in an implementation of the <xref:System.Windows.Media.TextFormatting.TextSource> class.</span></span> <span data-ttu-id="5dc47-130">Das folgende Diagramm veranschaulicht die Text-Layout-Interaktion zwischen der Clientanwendung und <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-130">The following diagram illustrates the text layout interaction between the client application and <xref:System.Windows.Media.TextFormatting.TextFormatter>.</span></span>  
  
 <span data-ttu-id="5dc47-131">![Diagramm des Textlayout-Clients und TextFormatter](../../../../docs/framework/wpf/advanced/media/textformatter01.png "TextFormatter01")</span><span class="sxs-lookup"><span data-stu-id="5dc47-131">![Diagram of text layout client and TextFormatter](../../../../docs/framework/wpf/advanced/media/textformatter01.png "TextFormatter01")</span></span>  
<span data-ttu-id="5dc47-132">Interaktion zwischen Anwendung und TextFormatter</span><span class="sxs-lookup"><span data-stu-id="5dc47-132">Interaction between application and TextFormatter</span></span>  
  
 <span data-ttu-id="5dc47-133">Das Textformatierungsprogramm wird verwendet, um formatierten Textzeilen aus dem Store Text Abrufen der ist eine Implementierung von <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-133">The text formatter is used to retrieve formatted text lines from the text store, which is an implementation of <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="5dc47-134">Dazu wird zunächst eine Instanz des Textformatierungsprogramms erstellt, mit der <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="5dc47-134">This is done by first creating an instance of the text formatter by using the <xref:System.Windows.Media.TextFormatting.TextFormatter.Create%2A> method.</span></span> <span data-ttu-id="5dc47-135">Diese Methode erstellt eine Instanz des Textformatierungsprogramms und legt die maximalen Werte für Zeilenhöhe und -breite fest.</span><span class="sxs-lookup"><span data-stu-id="5dc47-135">This method creates an instance of the text formatter and sets the maximum line height and width values.</span></span> <span data-ttu-id="5dc47-136">Als eine Instanz des Textformatierungsprogramms erstellt wird, wird der Erstellungsvorgang für Zeile gestartet, durch Aufrufen der <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="5dc47-136">As soon as an instance of the text formatter is created, the line creation process is started by calling the <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span> <span data-ttu-id="5dc47-137"><xref:System.Windows.Media.TextFormatting.TextFormatter>Ruft wieder an der Datenquelle zum Abrufen von Text und Formatierung Parameter für die Ausführung des Texts, die dieses Formular einer Zeile.</span><span class="sxs-lookup"><span data-stu-id="5dc47-137"><xref:System.Windows.Media.TextFormatting.TextFormatter> calls back to the text source to retrieve the text and formatting parameters for the runs of text that form a line.</span></span>  
  
 <span data-ttu-id="5dc47-138">Im folgenden Beispiel wird der Formatierungsprozess eines Textspeichers gezeigt.</span><span class="sxs-lookup"><span data-stu-id="5dc47-138">In the following example, the process of formatting a text store is shown.</span></span> <span data-ttu-id="5dc47-139">Die <xref:System.Windows.Media.TextFormatting.TextFormatter> Objekt dient zum Abrufen von Textzeilen aus dem Textspeicher und formatieren Sie die Textzeile zum Zeichnen der <xref:System.Windows.Media.DrawingContext>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-139">The <xref:System.Windows.Media.TextFormatting.TextFormatter> object is used to retrieve text lines from the text store and then format the text line for drawing into the <xref:System.Windows.Media.DrawingContext>.</span></span>  
  
 [!code-csharp[TextFormatterExample#100](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/Window1.xaml.cs#100)]
 [!code-vb[TextFormatterExample#100](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/Window1.xaml.vb#100)]  
  
<a name="section3"></a>   
## <a name="implementing-the-client-text-store"></a><span data-ttu-id="5dc47-140">Implementieren des Clienttextspeichers</span><span class="sxs-lookup"><span data-stu-id="5dc47-140">Implementing the Client Text Store</span></span>  
 <span data-ttu-id="5dc47-141">Wenn Sie das Textformatierungsmodul erweitern, müssen Sie alle Aspekte des Textspeichers implementieren und verwalten.</span><span class="sxs-lookup"><span data-stu-id="5dc47-141">When you extend the text formatting engine, you are required to implement and manage all aspects of the text store.</span></span> <span data-ttu-id="5dc47-142">Dies ist keine einfache Aufgabe.</span><span class="sxs-lookup"><span data-stu-id="5dc47-142">This is not a trivial task.</span></span> <span data-ttu-id="5dc47-143">Der Textspeicher ist für die Nachverfolgung von Lauftexteigenschaften, Absatzeigenschaften, für das Einbetten von Objekten und anderen ähnlichen Inhalt verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="5dc47-143">The text store is responsible for tracking text run properties, paragraph properties, embedded objects, and other similar content.</span></span> <span data-ttu-id="5dc47-144">Sie bietet außerdem die TextFormatter mit einzelnen <xref:System.Windows.Media.TextFormatting.TextRun> -Objekte, die die TextFormatter zum Erstellen verwendet <xref:System.Windows.Media.TextFormatting.TextLine> Objekte.</span><span class="sxs-lookup"><span data-stu-id="5dc47-144">It also provides the text formatter with individual <xref:System.Windows.Media.TextFormatting.TextRun> objects which the text formatter uses to create <xref:System.Windows.Media.TextFormatting.TextLine> objects.</span></span>  
  
 <span data-ttu-id="5dc47-145">Um die Virtualisierung der Textspeicher behandeln zu können, muss der Textspeicher von abgeleitet werden <xref:System.Windows.Media.TextFormatting.TextSource>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-145">To handle the virtualization of the text store, the text store must be derived from <xref:System.Windows.Media.TextFormatting.TextSource>.</span></span> <span data-ttu-id="5dc47-146"><xref:System.Windows.Media.TextFormatting.TextSource>definiert die Methode, mit der TextFormatter textausführungen aus dem Textspeicher abzurufen.</span><span class="sxs-lookup"><span data-stu-id="5dc47-146"><xref:System.Windows.Media.TextFormatting.TextSource> defines the method the text formatter uses to retrieve text runs from the text store.</span></span> <span data-ttu-id="5dc47-147"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A>ist, dass die Methode des Formatierungsprogramms Text zum Abrufen von Text verwendet beim Formatieren der Zeile ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="5dc47-147"><xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is the method used by the text formatter to retrieve text runs used in line formatting.</span></span> <span data-ttu-id="5dc47-148">Der Aufruf von <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> erfolgt wiederholt vom Textformatierungsprogramm, bis eines der folgenden Bedingungen eintritt:</span><span class="sxs-lookup"><span data-stu-id="5dc47-148">The call to <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> is repeatedly made by the text formatter until one of the following conditions occurs:</span></span>  
  
-   <span data-ttu-id="5dc47-149">Ein <xref:System.Windows.Media.TextFormatting.TextEndOfLine> oder eine Unterklasse zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5dc47-149">A <xref:System.Windows.Media.TextFormatting.TextEndOfLine> or a subclass is returned.</span></span>  
  
-   <span data-ttu-id="5dc47-150">Die akkumulierte Breite des textausführungen überschreitet die maximale Linienstärke entweder den Aufruf der TextFormatter erstellen oder den Aufruf an des Text Formatierers angegeben <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="5dc47-150">The accumulated width of text runs exceeds the maximum line width specified in either the call to create the text formatter or the call to the text formatter's <xref:System.Windows.Media.TextFormatting.TextFormatter.FormatLine%2A> method.</span></span>  
  
-   <span data-ttu-id="5dc47-151">Ein [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] Zeilenvorschub-Sequenz, z. B. "CF", "LF" oder "CRLF", zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="5dc47-151">A [!INCLUDE[TLA#tla_unicode](../../../../includes/tlasharptla-unicode-md.md)] newline sequence, such as "CF", "LF", or "CRLF", is returned.</span></span>  
  
<a name="section4"></a>   
## <a name="providing-text-runs"></a><span data-ttu-id="5dc47-152">Bereitstellen von Lauftext</span><span class="sxs-lookup"><span data-stu-id="5dc47-152">Providing Text Runs</span></span>  
 <span data-ttu-id="5dc47-153">Der wichtigste Teil des Textformatierunsprozesses ist die Interaktion zwischen Textformatierer und Textspeicher.</span><span class="sxs-lookup"><span data-stu-id="5dc47-153">The core of the text formatting process is the interaction between the text formatter and the text store.</span></span> <span data-ttu-id="5dc47-154">Ihre Implementierung von <xref:System.Windows.Media.TextFormatting.TextSource> bietet die TextFormatter mit der <xref:System.Windows.Media.TextFormatting.TextRun> Objekte und die Eigenschaften, die zum Formatieren des Texts ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="5dc47-154">Your implementation of <xref:System.Windows.Media.TextFormatting.TextSource> provides the text formatter with the <xref:System.Windows.Media.TextFormatting.TextRun> objects and the properties with which to format the text runs.</span></span> <span data-ttu-id="5dc47-155">Diese Interaktion erfolgt durch die <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> Methode, die vom Textformatierungsprogramm aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="5dc47-155">This interaction is handled by the <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method, which is called by the text formatter.</span></span>  
  
 <span data-ttu-id="5dc47-156">Die folgende Tabelle zeigt einige der vordefinierten <xref:System.Windows.Media.TextFormatting.TextRun> Objekte.</span><span class="sxs-lookup"><span data-stu-id="5dc47-156">The following table shows some of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects.</span></span>  
  
|<span data-ttu-id="5dc47-157">TextRun-Typ</span><span class="sxs-lookup"><span data-stu-id="5dc47-157">TextRun Type</span></span>|<span data-ttu-id="5dc47-158">Verwendung</span><span class="sxs-lookup"><span data-stu-id="5dc47-158">Usage</span></span>|  
|------------------|-----------|  
|<xref:System.Windows.Media.TextFormatting.TextCharacters>|<span data-ttu-id="5dc47-159">Der spezialisierte Lauftext, der zum Übergeben einer Darstellung von Zeichensymbolen zurück an den Textformatierer verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5dc47-159">The specialized text run used to pass a representation of character glyphs back to the text formatter.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEmbeddedObject>|<span data-ttu-id="5dc47-160">Der spezialisierte Lauftext, der zum Bereitstellen von Inhalt verwendet wird, in dem Messungen, Treffertests und Zeichnungen komplett ausgeführt werden, z.B. eine Schaltfläche oder ein Bild im Text</span><span class="sxs-lookup"><span data-stu-id="5dc47-160">The specialized text run used to provide content in which measuring, hit testing, and drawing is done in whole, such as a button or image within the text.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfLine>|<span data-ttu-id="5dc47-161">Der spezialisierte Lauftext, der zum Kennzeichnen des Zeilenendes verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5dc47-161">The specialized text run used to mark the end of a line.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>|<span data-ttu-id="5dc47-162">Der spezialisierte Lauftext, der zum Kennzeichnen eines Absatzendes verwendet wird</span><span class="sxs-lookup"><span data-stu-id="5dc47-162">The specialized text run used to mark the end of a paragraph.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextEndOfSegment>|<span data-ttu-id="5dc47-163">Die spezielle textausführung verwendet, um das Ende eines Segments, wie z. B. markieren, um den Bereich von einer früheren betroffen zu beenden <xref:System.Windows.Media.TextFormatting.TextModifier> ausführen.</span><span class="sxs-lookup"><span data-stu-id="5dc47-163">The specialized text run used to mark the end of a segment, such as to end the scope affected by a previous <xref:System.Windows.Media.TextFormatting.TextModifier> run.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextHidden>|<span data-ttu-id="5dc47-164">Der spezialisierte Lauftext, der verwendet wird, um eine Reihe ausgeblendeter Zeichen zu kennzeichnen</span><span class="sxs-lookup"><span data-stu-id="5dc47-164">The specialized text run used to mark a range of hidden characters.</span></span>|  
|<xref:System.Windows.Media.TextFormatting.TextModifier>|<span data-ttu-id="5dc47-165">Der spezialisierte Lauftext, der verwendet wird, um Eigenschaften der Lauftexte in deren Bereich zu ändern.</span><span class="sxs-lookup"><span data-stu-id="5dc47-165">The specialized text run used to modify properties of text runs in its scope.</span></span> <span data-ttu-id="5dc47-166">Der Bereich erweitert wird, zum nächsten übereinstimmenden <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> textausführung oder bei der nächsten <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-166">The scope extends to the next matching <xref:System.Windows.Media.TextFormatting.TextEndOfSegment> text run, or the next <xref:System.Windows.Media.TextFormatting.TextEndOfParagraph>.</span></span>|  
  
 <span data-ttu-id="5dc47-167">Eine der vordefinierten <xref:System.Windows.Media.TextFormatting.TextRun> Objekte können als Unterklasse definiert werden.</span><span class="sxs-lookup"><span data-stu-id="5dc47-167">Any of the predefined <xref:System.Windows.Media.TextFormatting.TextRun> objects can be subclassed.</span></span> <span data-ttu-id="5dc47-168">Dadurch kann Ihre Textquelle den Textformatierer mit Lauftexten bereitstellen, die benutzerdefinierte Daten enthalten.</span><span class="sxs-lookup"><span data-stu-id="5dc47-168">This allows your text source to provide the text formatter with text runs that include custom data.</span></span>  
  
 <span data-ttu-id="5dc47-169">Das folgende Beispiel zeigt eine <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> Methode.</span><span class="sxs-lookup"><span data-stu-id="5dc47-169">The following example demonstrates a <xref:System.Windows.Media.TextFormatting.TextSource.GetTextRun%2A> method.</span></span> <span data-ttu-id="5dc47-170">Gibt diesen Textspeicher <xref:System.Windows.Media.TextFormatting.TextRun> Objekte an den Text Formatierer für die Verarbeitung.</span><span class="sxs-lookup"><span data-stu-id="5dc47-170">This text store returns <xref:System.Windows.Media.TextFormatting.TextRun> objects to the text formatter for processing.</span></span>  
  
 [!code-csharp[TextFormatterExample#101](../../../../samples/snippets/csharp/VS_Snippets_Wpf/TextFormatterExample/CSharp/CustomTextSource.cs#101)]
 [!code-vb[TextFormatterExample#101](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/TextFormatterExample/VisualBasic/CustomTextSource.vb#101)]  
  
> [!NOTE]
>  <span data-ttu-id="5dc47-171">In diesem Beispiel stellt der Textspeicher die gleichen Texteigenschaften für den gesamten Text bereit.</span><span class="sxs-lookup"><span data-stu-id="5dc47-171">In this example, the text store provides the same text properties to all of the text.</span></span> <span data-ttu-id="5dc47-172">Erweiterte Textspeicher müssen ihre eigene Verwaltung für Bereiche implementieren, damit einzelne Zeichen über unterschiedliche Eigenschaften verfügen können.</span><span class="sxs-lookup"><span data-stu-id="5dc47-172">Advanced text stores would need to implement their own span management to allow individual characters to have different properties.</span></span>  
  
<a name="section5"></a>   
## <a name="specifying-formatting-properties"></a><span data-ttu-id="5dc47-173">Angeben von Formatierungseigenschaften</span><span class="sxs-lookup"><span data-stu-id="5dc47-173">Specifying Formatting Properties</span></span>  
 <span data-ttu-id="5dc47-174"><xref:System.Windows.Media.TextFormatting.TextRun>Objekte werden mithilfe der Textspeicher bereitgestellten Eigenschaften formatiert.</span><span class="sxs-lookup"><span data-stu-id="5dc47-174"><xref:System.Windows.Media.TextFormatting.TextRun> objects are formatted by using properties provided by the text store.</span></span> <span data-ttu-id="5dc47-175">Diese Eigenschaften gibt es zwei Arten <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> und <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-175">These properties come in two types, <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties>.</span></span> <span data-ttu-id="5dc47-176"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties>Behandeln Sie Eigenschaften wie z. B. <xref:System.Windows.TextAlignment> und <xref:System.Windows.FlowDirection>.</span><span class="sxs-lookup"><span data-stu-id="5dc47-176"><xref:System.Windows.Media.TextFormatting.TextParagraphProperties> handle paragraph inclusive properties such as <xref:System.Windows.TextAlignment> and <xref:System.Windows.FlowDirection>.</span></span> <span data-ttu-id="5dc47-177"><xref:System.Windows.Media.TextFormatting.TextRunProperties>Eigenschaften, die sich bei jeder TextRun innerhalb eines Absatzes, z. B. Vordergrundpinsel, unterscheiden können <xref:System.Windows.Media.Typeface>, und der Schriftgrad.</span><span class="sxs-lookup"><span data-stu-id="5dc47-177"><xref:System.Windows.Media.TextFormatting.TextRunProperties> are properties that can be different for each text run within a paragraph, such as foreground brush, <xref:System.Windows.Media.Typeface>, and font size.</span></span> <span data-ttu-id="5dc47-178">Um benutzerdefinierte Absatz und benutzerdefinierte TextRun-Eigenschaftentypen zu implementieren, muss Ihre Anwendung zu erstellen von abgeleiteten Klassen <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> und <xref:System.Windows.Media.TextFormatting.TextRunProperties> bzw.</span><span class="sxs-lookup"><span data-stu-id="5dc47-178">To implement custom paragraph and custom text run property types, your application must create classes that derive from <xref:System.Windows.Media.TextFormatting.TextParagraphProperties> and <xref:System.Windows.Media.TextFormatting.TextRunProperties> respectively.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="5dc47-179">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="5dc47-179">See Also</span></span>  
 [<span data-ttu-id="5dc47-180">Typografie in WPF</span><span class="sxs-lookup"><span data-stu-id="5dc47-180">Typography in WPF</span></span>](../../../../docs/framework/wpf/advanced/typography-in-wpf.md)  
 [<span data-ttu-id="5dc47-181">Dokumente in WPF</span><span class="sxs-lookup"><span data-stu-id="5dc47-181">Documents in WPF</span></span>](../../../../docs/framework/wpf/advanced/documents-in-wpf.md)
