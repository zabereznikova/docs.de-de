---
title: Codezugriffssicherheit
description: Erfahren Sie mehr über den Code Zugriffs-Sicherheitsmechanismus in .net, mit dem Computersysteme vor schädlichem mobilen Code geschützt werden.
ms.date: 03/30/2017
helpviewer_keywords:
- named permission sets, code access security
- call stacks
- malicious code
- stack walk
- security [.NET Framework], code access security
- permissions [.NET Framework], code access security
- trusted code
- mobile code security
- unmanaged code, code access security
- granting permissions, code access security
- user authentication, code access security
- code access security
ms.assetid: 859af632-c80d-4736-8d6f-1e01b09ce127
ms.openlocfilehash: 6fa7983d0355a9e11728f8dbd0f4e06bbb0f8e5b
ms.sourcegitcommit: 97ce5363efa88179dd76e09de0103a500ca9b659
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 07/13/2020
ms.locfileid: "86281640"
---
# <a name="code-access-security"></a><span data-ttu-id="9aa30-103">Codezugriffssicherheit</span><span class="sxs-lookup"><span data-stu-id="9aa30-103">Code Access Security</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="9aa30-104">Die heutigen hochgradig vernetzten Computersysteme sind häufig Code ausgesetzt, der aus unterschiedlichen, teilweise auch unbekannten Quellen stammt.</span><span class="sxs-lookup"><span data-stu-id="9aa30-104">Today's highly connected computer systems are frequently exposed to code originating from various, possibly unknown sources.</span></span> <span data-ttu-id="9aa30-105">Code kann an e-Mails angefügt oder über das Internet heruntergeladen werden.</span><span class="sxs-lookup"><span data-stu-id="9aa30-105">Code can be attached to email, contained in documents, or downloaded over the Internet.</span></span> <span data-ttu-id="9aa30-106">Viele Computerbenutzer haben leider die Auswirkungen von bösartigem mobilem Code hautnah zu spüren bekommen, beispielsweise von Viren und Würmern, die Daten beschädigen oder zerstören können und deren Beseitigung zeit- und kostenintensiv ist.</span><span class="sxs-lookup"><span data-stu-id="9aa30-106">Unfortunately, many computer users have experienced firsthand the effects of malicious mobile code, including viruses and worms, which can damage or destroy data and cost time and money.</span></span>  
  
 <span data-ttu-id="9aa30-107">Bei den gängigen Sicherheitsverfahren werden Benutzern Rechte auf Grundlage ihrer Anmeldeinformationen (üblicherweise des Kennworts) erteilt, und der Zugriff auf Ressourcen, bei denen es sich häufig um Verzeichnisse und Dateien handelt, wird eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="9aa30-107">Most common security mechanisms give rights to users based on their logon credentials (usually a password) and restrict resources (often directories and files) that the user is allowed to access.</span></span> <span data-ttu-id="9aa30-108">Bei diesem Ansatz bleiben jedoch einige Aspekte unberücksichtigt: Benutzer erhalten Code aus zahlreichen Quellen, von denen einige möglicherweise unzuverlässig oder nicht vertrauenswürdig sind. Code kann Fehler oder Sicherheitsrisiken enthalten, die von bösartigem Code ausgenutzt werden können. Und in manchen Fällen kann Code zu unerwartetem Verhalten führen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-108">However, this approach fails to address several issues: users obtain code from many sources, some of which might be unreliable; code can contain bugs or vulnerabilities that enable it to be exploited by malicious code; and code sometimes does things that the user does not know it will do.</span></span> <span data-ttu-id="9aa30-109">Daher können Computersysteme beschädigt werden und private Daten in die falschen Hände gelangen, wenn umsichtige und vertrauenswürdige Benutzer schädliche oder fehlerhafte Software ausführen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-109">As a result, computer systems can be damaged and private data can be leaked when cautious and trustworthy users run malicious or error-filled software.</span></span> <span data-ttu-id="9aa30-110">Bei den meisten Sicherheitsmechanismen von Betriebssystemen muss sämtlicher Code vollständig vertrauenswürdig sein, um ausgeführt werden zu können. Skripts auf einer Webseite können davon ausgenommen sein.</span><span class="sxs-lookup"><span data-stu-id="9aa30-110">Most operating system security mechanisms require that every piece of code must be completely trusted in order to run, except perhaps for scripts on a Web page.</span></span> <span data-ttu-id="9aa30-111">Daher ist nach wie vor ein umfassend anwendbarer Sicherheitsmechanismus erforderlich, der die geschützte Ausführung von Code eines Computersystems auf einem anderen System ermöglicht, selbst wenn keine gegenseitige Vertrauensstellung der Systeme besteht.</span><span class="sxs-lookup"><span data-stu-id="9aa30-111">Therefore, there is still a need for a widely applicable security mechanism that allows code originating from one computer system to execute with protection on another system, even when there is no trust relationship between the systems.</span></span>  
  
 <span data-ttu-id="9aa30-112">.NET Framework bietet einen Sicherheitsmechanismus namens Codezugriffssicherheit, der Computersysteme vor bösartigem, mobilem Code schützt, die geschützte Ausführung von Code unbekannter Herkunft ermöglicht und die absichtliche oder unabsichtliche Verletzung der Sicherheit durch vertrauenswürdigen Code verhindert.</span><span class="sxs-lookup"><span data-stu-id="9aa30-112">The .NET Framework provides a security mechanism called code access security to help protect computer systems from malicious mobile code, to allow code from unknown origins to run with protection, and to help prevent trusted code from intentionally or accidentally compromising security.</span></span> <span data-ttu-id="9aa30-113">Mithilfe der Codezugriffssicherheit können für Code aufgrund des Ursprungs und weiterer Identitätsaspekte verschiedene Vertrauensebenen festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="9aa30-113">Code access security enables code to be trusted to varying degrees depending on where the code originates and on other aspects of the code's identity.</span></span> <span data-ttu-id="9aa30-114">Die Codezugriffssicherheit erzwingt auch die verschiedenen Vertrauensebenen für Code, wodurch die Menge an Code, für dessen Ausführung vollständige Vertrauenswürdigkeit erforderlich ist, minimiert wird.</span><span class="sxs-lookup"><span data-stu-id="9aa30-114">Code access security also enforces the varying levels of trust on code, which minimizes the amount of code that must be fully trusted in order to run.</span></span> <span data-ttu-id="9aa30-115">Durch die Codezugriffssicherheit kann die Wahrscheinlichkeit verringert werden, dass Ihr Code durch bösartigen oder fehlerhaften Code missbraucht wird.</span><span class="sxs-lookup"><span data-stu-id="9aa30-115">Using code access security can reduce the likelihood that your code will be misused by malicious or error-filled code.</span></span> <span data-ttu-id="9aa30-116">Außerdem kann dadurch Ihre Haftung verringert werden, weil Sie die Vorgänge angeben können, die vom Code ausgeführt werden dürfen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-116">It can reduce your liability, because you can specify the set of operations your code should be allowed to perform.</span></span> <span data-ttu-id="9aa30-117">Die Codezugriffssicherheit kann auch den Schaden begrenzen, der durch Sicherheitsschwachstellen im Code entstehen kann.</span><span class="sxs-lookup"><span data-stu-id="9aa30-117">Code access security can also help minimize the damage that can result from security vulnerabilities in your code.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="9aa30-118">Wichtige Änderungen an der Code Zugriffssicherheit in der .NET Framework 4 wurden vorgenommen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-118">Major changes have been made to code access security in the .NET Framework 4.</span></span> <span data-ttu-id="9aa30-119">Die wichtigste Änderung ist die [Sicherheits Transparenz](security-transparent-code.md), aber es gibt auch andere bedeutende Änderungen, die die Code Zugriffssicherheit beeinträchtigen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-119">The most notable change has been [security transparency](security-transparent-code.md), but there are also other significant changes that affect code access security.</span></span> <span data-ttu-id="9aa30-120">Weitere Informationen zu diesen Änderungen finden Sie unter [Sicherheitsänderungen](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span><span class="sxs-lookup"><span data-stu-id="9aa30-120">For information about these changes, see [Security Changes](https://docs.microsoft.com/previous-versions/dotnet/framework/security/security-changes).</span></span>  
  
 <span data-ttu-id="9aa30-121">Die Codezugriffssicherheit wirkt sich in erster Linie auf Bibliothekscode und teilweise vertrauenswürdige Anwendungen aus.</span><span class="sxs-lookup"><span data-stu-id="9aa30-121">Code access security primarily affects library code and partially trusted applications.</span></span> <span data-ttu-id="9aa30-122">Entwickler von Bibliotheken müssen ihren Code vor nicht autorisiertem Zugriff von teilweise vertrauenswürdigen Anwendungen schützen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-122">Library developers must protect their code from unauthorized access from partially trusted applications.</span></span> <span data-ttu-id="9aa30-123">Teilweise vertrauenswürdige Anwendungen sind Anwendungen, die aus externen Quellen (wie z. B. dem Internet) geladen werden.</span><span class="sxs-lookup"><span data-stu-id="9aa30-123">Partially trusted applications are applications that are loaded from external sources such as the Internet.</span></span> <span data-ttu-id="9aa30-124">Auf dem Desktop oder im lokalen Intranet installierte Anwendungen werden mit vollständiger Vertrauenswürdigkeit ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="9aa30-124">Applications that are installed on your desktop or on the local intranet run in full trust.</span></span> <span data-ttu-id="9aa30-125">Anwendungen mit vollständiger Vertrauenswürdigkeit sind nicht von der Code Zugriffssicherheit betroffen, es sei denn, Sie sind als [Sicherheits transparent](security-transparent-code.md)gekennzeichnet, weil Sie voll vertrauenswürdig sind.</span><span class="sxs-lookup"><span data-stu-id="9aa30-125">Full-trust applications are not affected by code access security unless they are marked as [security-transparent](security-transparent-code.md), because they are fully trusted.</span></span> <span data-ttu-id="9aa30-126">Die einzige Einschränkung für Anwendungen mit vollständiger Vertrauenswürdigkeit ist, dass mit dem <xref:System.Security.SecurityTransparentAttribute>-Attribut markierte Anwendungen keinen Code aufrufen können, der mit dem <xref:System.Security.SecurityCriticalAttribute>-Attribut markiert ist.</span><span class="sxs-lookup"><span data-stu-id="9aa30-126">The only limitation for full-trust applications is that applications that are marked with the <xref:System.Security.SecurityTransparentAttribute> attribute cannot call code that is marked with the <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span> <span data-ttu-id="9aa30-127">Teilweise vertrauenswürdige Anwendungen müssen in einem Sandkasten (z. B. in Internet Explorer) ausgeführt werden, damit die Codezugriffssicherheit angewendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="9aa30-127">Partially trusted applications must be run in a sandbox (for example, in Internet Explorer) so that code access security can be applied.</span></span> <span data-ttu-id="9aa30-128">Wenn Sie eine Anwendung aus dem Internet herunterladen und auf dem Desktop ausführen möchten, wird eine <xref:System.NotSupportedException> mit der folgenden Meldung angezeigt: "Es wurde versucht, eine Assembly von einer Netzwerkadresse zu laden, was in früheren Versionen von .NET Framework zum Ausführen der Assembly als Sandkastenassembly geführt hätte.</span><span class="sxs-lookup"><span data-stu-id="9aa30-128">If you download an application from the Internet and try to run it from your desktop, you will get a <xref:System.NotSupportedException> with the message: "An attempt was made to load an assembly from a network location which would have caused the assembly to be sandboxed in previous versions of the .NET Framework.</span></span> <span data-ttu-id="9aa30-129">In dieser Version von .NET Framework wird die CAS-Richtlinie standardmäßig nicht aktiviert, dieser Ladevorgang kann daher gefährlich sein."</span><span class="sxs-lookup"><span data-stu-id="9aa30-129">This release of the .NET Framework does not enable CAS policy by default, so this load may be dangerous."</span></span> <span data-ttu-id="9aa30-130">Wenn Sie sicher sind, dass die Anwendung vertrauenswürdig ist, können Sie Sie mithilfe des- [ \<loadFromRemoteSources> Elements](../configure-apps/file-schema/runtime/loadfromremotesources-element.md)als voll vertrauenswürdig ausführen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-130">If you are sure that the application can be trusted, you can enable it to be run as full trust by using the [\<loadFromRemoteSources> element](../configure-apps/file-schema/runtime/loadfromremotesources-element.md).</span></span> <span data-ttu-id="9aa30-131">Informationen zum Ausführen einer Anwendung in einem Sandkasten finden Sie unter Gewusst [wie: Ausführen von teilweise vertrauenswürdigem Code in einem Sandkasten](how-to-run-partially-trusted-code-in-a-sandbox.md).</span><span class="sxs-lookup"><span data-stu-id="9aa30-131">For information about running an application in a sandbox, see [How to: Run Partially Trusted Code in a Sandbox](how-to-run-partially-trusted-code-in-a-sandbox.md).</span></span>  
  
 <span data-ttu-id="9aa30-132">Die Vorteile der Codezugriffssicherheit gelten für den gesamten verwalteten Code, der für die Common Language Runtime geschrieben wird, auch wenn dieser Code die Codezugriffssicherheit nicht aufruft.</span><span class="sxs-lookup"><span data-stu-id="9aa30-132">All managed code that targets the common language runtime receives the benefits of code access security, even if that code does not make a single code access security call.</span></span> <span data-ttu-id="9aa30-133">Weitere Informationen finden Sie unter [Code Access Security Basics](code-access-security-basics.md).</span><span class="sxs-lookup"><span data-stu-id="9aa30-133">For more information, see [Code Access Security Basics](code-access-security-basics.md).</span></span>  
  
<a name="key_functions"></a>
## <a name="key-functions-of-code-access-security"></a><span data-ttu-id="9aa30-134">Hauptfunktionen der Codezugriffssicherheit</span><span class="sxs-lookup"><span data-stu-id="9aa30-134">Key Functions of Code Access Security</span></span>  
 <span data-ttu-id="9aa30-135">Mithilfe der Codezugriffssicherheit wird der Zugriff von Code auf geschützte Ressourcen und Vorgänge eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="9aa30-135">Code access security helps limit the access that code has to protected resources and operations.</span></span> <span data-ttu-id="9aa30-136">In .NET Framework erfüllt die Codezugriffssicherheit die folgenden Funktionen:</span><span class="sxs-lookup"><span data-stu-id="9aa30-136">In the .NET Framework, code access security performs the following functions:</span></span>  
  
- <span data-ttu-id="9aa30-137">Definieren von Berechtigungen und Berechtigungssätzen, die den Zugriff auf die verschiedenen Systemressourcen regeln</span><span class="sxs-lookup"><span data-stu-id="9aa30-137">Defines permissions and permission sets that represent the right to access various system resources.</span></span>  
  
- <span data-ttu-id="9aa30-138">Bereitstellen der Möglichkeit für Code festzulegen, dass seine Aufrufer bestimmte Berechtigungen haben müssen</span><span class="sxs-lookup"><span data-stu-id="9aa30-138">Enables code to demand that its callers have specific permissions.</span></span>  
  
- <span data-ttu-id="9aa30-139">Bereitstellen der Möglichkeit für Code festzulegen, dass seine Aufrufer eine digitale Signatur besitzen müssen, sodass der geschützte Code nur von Aufrufern eines bestimmten Unternehmens oder eines bestimmten Standorts aufgerufen werden kann</span><span class="sxs-lookup"><span data-stu-id="9aa30-139">Enables code to demand that its callers possess a digital signature, thus allowing only callers from a particular organization or site to call the protected code.</span></span>  
  
- <span data-ttu-id="9aa30-140">Durchsetzen von Einschränkungen für Code zur Laufzeit, indem die erteilten Berechtigungen der einzelnen Aufrufer in der Aufrufliste mit den Berechtigungen verglichen werden, die sie besitzen müssen</span><span class="sxs-lookup"><span data-stu-id="9aa30-140">Enforces restrictions on code at run time by comparing the granted permissions of every caller on the call stack to the permissions that callers must have.</span></span>  
  
<a name="walking_the_call_stack"></a>
## <a name="walking-the-call-stack"></a><span data-ttu-id="9aa30-141">Durchlaufen der Aufrufliste</span><span class="sxs-lookup"><span data-stu-id="9aa30-141">Walking the Call Stack</span></span>  
 <span data-ttu-id="9aa30-142">Zur Bestimmung, ob Code auf eine Ressource zugreifen oder einen Vorgang ausführen darf, durchläuft das Laufzeit-Sicherheitssystem die Aufrufliste und vergleicht dabei die erteilten Berechtigungen der einzelnen Aufrufer mit den angeforderten Berechtigungen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-142">To determine whether code is authorized to access a resource or perform an operation, the runtime's security system walks the call stack, comparing the granted permissions of each caller to the permission being demanded.</span></span> <span data-ttu-id="9aa30-143">Wenn einer der Aufrufer in der Aufrufliste nicht über die angeforderte Berechtigung verfügt, wird eine Sicherheitsausnahme ausgelöst, und der Zugriff wird verweigert.</span><span class="sxs-lookup"><span data-stu-id="9aa30-143">If any caller in the call stack does not have the demanded permission, a security exception is thrown and access is refused.</span></span> <span data-ttu-id="9aa30-144">Mit dem Stackwalk sollen Lockangriffe verhindert werden, bei denen weniger vertrauenswürdiger Code äußerst vertrauenswürdigen Code aufruft und verwendet, um nicht autorisierte Aktionen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-144">The stack walk is designed to help prevent luring attacks, in which less-trusted code calls highly trusted code and uses it to perform unauthorized actions.</span></span> <span data-ttu-id="9aa30-145">Das Anfordern von Berechtigungen für alle Aufrufer zur Laufzeit beeinträchtigt die Leistung, aber es ist wichtig, den Code vor Lockangriffen durch weniger vertrauenswürdigen Code zu schützen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-145">Demanding permissions of all callers at run time affects performance, but it is essential to help protect code from luring attacks by less-trusted code.</span></span> <span data-ttu-id="9aa30-146">Zum Optimieren der Leistung können Sie dafür sorgen, dass der Code weniger Stackwalks durchläuft. Sie müssen dabei jedoch unbedingt darauf achten, dass kein Sicherheitsrisiko entsteht.</span><span class="sxs-lookup"><span data-stu-id="9aa30-146">To optimize performance, you can have your code perform fewer stack walks; however, you must be sure that you do not expose a security weakness whenever you do this.</span></span>  
  
 <span data-ttu-id="9aa30-147">In der folgenden Abbildung ist der Stackwalk dargestellt, der entsteht, wenn eine Methode in Assembly A4 fordert, dass ihre Aufrufer über Berechtigung P verfügen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-147">The following illustration shows the stack walk that results when a method in Assembly A4 demands that its callers have permission P.</span></span>  
  
 <span data-ttu-id="9aa30-148">![Code Zugriffssicherheit](media/slide-10a.gif "slide_10a")</span><span class="sxs-lookup"><span data-stu-id="9aa30-148">![Code access security](media/slide-10a.gif "slide_10a")</span></span>  
<span data-ttu-id="9aa30-149">Sicherheits-Stackwalk</span><span class="sxs-lookup"><span data-stu-id="9aa30-149">Security stack walk</span></span>  
  
<a name="related_topics"></a>
## <a name="related-topics"></a><span data-ttu-id="9aa30-150">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="9aa30-150">Related Topics</span></span>  
  
|<span data-ttu-id="9aa30-151">Titel</span><span class="sxs-lookup"><span data-stu-id="9aa30-151">Title</span></span>|<span data-ttu-id="9aa30-152">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="9aa30-152">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="9aa30-153">Grundlagen der Codezugriffssicherheit</span><span class="sxs-lookup"><span data-stu-id="9aa30-153">Code Access Security Basics</span></span>](code-access-security-basics.md)|<span data-ttu-id="9aa30-154">Beschreibt die Codezugriffssicherheit und die häufigsten Anwendungsbereiche.</span><span class="sxs-lookup"><span data-stu-id="9aa30-154">Describes code access security and its most common uses.</span></span>|  
|[<span data-ttu-id="9aa30-155">Sicherheitstransparenter Code, Ebene 2</span><span class="sxs-lookup"><span data-stu-id="9aa30-155">Security-Transparent Code, Level 2</span></span>](security-transparent-code-level-2.md)|<span data-ttu-id="9aa30-156">Beschreibt das Sicherheits Transparenz Modell in der .NET Framework 4.</span><span class="sxs-lookup"><span data-stu-id="9aa30-156">Describes the security transparency model in the .NET Framework 4.</span></span>|  
|[<span data-ttu-id="9aa30-157">Verwenden von Bibliotheken aus teilweise vertrauenswürdigem Code</span><span class="sxs-lookup"><span data-stu-id="9aa30-157">Using Libraries from Partially Trusted Code</span></span>](using-libraries-from-partially-trusted-code.md)|<span data-ttu-id="9aa30-158">Beschreibt das Aktivieren von Bibliotheken zur Verwendung mit nicht verwaltetem Code und das Verwenden von Bibliotheken aus nicht verwaltetem Code.</span><span class="sxs-lookup"><span data-stu-id="9aa30-158">Describes how to enable libraries for use with unmanaged code and how to use libraries from unmanaged code.</span></span>|  
|[<span data-ttu-id="9aa30-159">Schlüsselbegriffe der Sicherheit</span><span class="sxs-lookup"><span data-stu-id="9aa30-159">Key Security Concepts</span></span>](../../standard/security/key-security-concepts.md)|<span data-ttu-id="9aa30-160">Bietet eine Übersicht über viele Schlüsselbegriffe und -konzepte, die im Sicherheitssystem von .NET Framework verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="9aa30-160">Provides an overview of many of the key terms and concepts used in the .NET Framework security system.</span></span>|  
|[<span data-ttu-id="9aa30-161">Rollenbasierte Sicherheit</span><span class="sxs-lookup"><span data-stu-id="9aa30-161">Role-Based Security</span></span>](../../standard/security/role-based-security.md)|<span data-ttu-id="9aa30-162">Beschreibt die Integration von Sicherheit basierend auf Rollen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-162">Describes how to incorporate security based on roles.</span></span>|  
|[<span data-ttu-id="9aa30-163">Kryptografische Dienste</span><span class="sxs-lookup"><span data-stu-id="9aa30-163">Cryptographic Services</span></span>](../../standard/security/cryptographic-services.md)|<span data-ttu-id="9aa30-164">Beschreibt die Integration von Kryptografie in Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="9aa30-164">Describes how to incorporate cryptography into your applications.</span></span>|
