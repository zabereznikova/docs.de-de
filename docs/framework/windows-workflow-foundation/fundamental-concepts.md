---
title: Grundlegende Konzepte für Windows-Workflows
description: In diesem Artikel werden einige der Konzepte der Workflow Entwicklung in den .NET Framework 4.6.1 beschrieben, die einigen Entwicklern möglicherweise nicht vertraut sind.
ms.date: 03/30/2017
ms.assetid: 0e930e80-5060-45d2-8a7a-95c0690105d4
ms.openlocfilehash: 07498241280191fb62a35a559a3391f7148c05b9
ms.sourcegitcommit: 9a4488a3625866335e83a20da5e9c5286b1f034c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/15/2020
ms.locfileid: "83419888"
---
# <a name="fundamental-windows-workflow-concepts"></a><span data-ttu-id="859b6-103">Grundlegende Konzepte für Windows-Workflows</span><span class="sxs-lookup"><span data-stu-id="859b6-103">Fundamental Windows Workflow Concepts</span></span>
<span data-ttu-id="859b6-104">Bei der Workflowentwicklung in [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] werden Konzepte verwendet, die für einige Entwickler möglicherweise neu sind.</span><span class="sxs-lookup"><span data-stu-id="859b6-104">Workflow development in the [!INCLUDE[netfx_current_long](../../../includes/netfx-current-long-md.md)] uses concepts that may be new to some developers.</span></span> <span data-ttu-id="859b6-105">In diesem Thema werden einige dieser Konzepte und ihre Implementierung beschrieben.</span><span class="sxs-lookup"><span data-stu-id="859b6-105">This topic describes some of the concepts and how they are implemented.</span></span>  
  
## <a name="workflows-and-activities"></a><span data-ttu-id="859b6-106">Workflows und Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="859b6-106">Workflows and Activities</span></span>  
 <span data-ttu-id="859b6-107">Ein Workflow ist eine strukturierte Auflistung von Aktionen zur Modellierung eines Prozesses.</span><span class="sxs-lookup"><span data-stu-id="859b6-107">A workflow is a structured collection of actions that models a process.</span></span> <span data-ttu-id="859b6-108">Jede Aktion im Workflow wird als Aktivität modelliert.</span><span class="sxs-lookup"><span data-stu-id="859b6-108">Each action in the workflow is modeled as an activity.</span></span> <span data-ttu-id="859b6-109">Ein Host verwendet bei der Interaktion mit einem Workflow ein <xref:System.Activities.WorkflowInvoker>-Element zum Aufrufen eines Workflows wie eine Methode, <xref:System.Activities.WorkflowApplication> zur expliziten Steuerung der Ausführung einer einzelnen Workflowinstanz und <xref:System.ServiceModel.WorkflowServiceHost> für nachrichtenbasierte Interaktionen in Szenarios mit mehreren Instanzen.</span><span class="sxs-lookup"><span data-stu-id="859b6-109">A host interacts with a workflow by using <xref:System.Activities.WorkflowInvoker> for invoking a workflow as if it were a method,  <xref:System.Activities.WorkflowApplication> for explicit control over the execution of a single workflow instance, and <xref:System.ServiceModel.WorkflowServiceHost> for message-based interactions in multi-instance scenarios.</span></span> <span data-ttu-id="859b6-110">Die Schritte des Workflows setzen sich aus einer Hierarchie von Aktivitäten zusammen, und der Workflow selbst wird durch die Aktivität auf oberster Ebene in der Hierarchie definiert.</span><span class="sxs-lookup"><span data-stu-id="859b6-110">Because steps of the workflow are defined as a hierarchy of activities, the topmost activity in the hierarchy can be said to define the workflow itself.</span></span> <span data-ttu-id="859b6-111">Dieses Hierarchiemodell tritt an die Stelle der expliziten `SequentialWorkflow`-Klasse und `StateMachineWorkflow`-Klasse in früheren Versionen.</span><span class="sxs-lookup"><span data-stu-id="859b6-111">This hierarchy model takes the place of the explicit `SequentialWorkflow` and `StateMachineWorkflow` classes from previous versions.</span></span> <span data-ttu-id="859b6-112">Die einzelnen Aktivitäten können entweder als Auflistungen anderer Aktivitäten (mit der <xref:System.Activities.Activity>-Klasse als Basis, in der Regel mit XAML definiert) entwickelt oder neu erstellt werden, entweder mit der <xref:System.Activities.CodeActivity>-Klasse, die die Laufzeit für den Datenzugriff nutzen kann, oder mit der <xref:System.Activities.NativeActivity>-Klasse, die die Workflowlaufzeit für den Aktivitätsautor verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="859b6-112">Activities themselves are developed as collections of other activities (using the <xref:System.Activities.Activity> class as a base, usually defined by using XAML) or are custom created by using the <xref:System.Activities.CodeActivity> class, which can use the runtime for data access, or by using the <xref:System.Activities.NativeActivity> class, which exposes the breadth of the workflow runtime to the activity author.</span></span> <span data-ttu-id="859b6-113">Mit <xref:System.Activities.CodeActivity> und <xref:System.Activities.NativeActivity> entwickelte Aktivitäten werden mit CLR-kompatiblen Sprachen wie C# erstellt.</span><span class="sxs-lookup"><span data-stu-id="859b6-113">Activities developed by using <xref:System.Activities.CodeActivity> and <xref:System.Activities.NativeActivity> are created by using CLR-compliant languages such as C#.</span></span>  
  
## <a name="activity-data-model"></a><span data-ttu-id="859b6-114">Aktivitätsdatenmodell</span><span class="sxs-lookup"><span data-stu-id="859b6-114">Activity Data Model</span></span>  
 <span data-ttu-id="859b6-115">Aktivitäten nutzen die Typen in der folgenden Tabelle zum Speichern und Freigeben von Daten.</span><span class="sxs-lookup"><span data-stu-id="859b6-115">Activities store and share data by using the types shown in the following table.</span></span>  
  
|||  
|-|-|  
|<span data-ttu-id="859b6-116">Variable</span><span class="sxs-lookup"><span data-stu-id="859b6-116">Variable</span></span>|<span data-ttu-id="859b6-117">Speichert Daten in einer Aktivität.</span><span class="sxs-lookup"><span data-stu-id="859b6-117">Stores data in an activity.</span></span>|  
|<span data-ttu-id="859b6-118">Argument</span><span class="sxs-lookup"><span data-stu-id="859b6-118">Argument</span></span>|<span data-ttu-id="859b6-119">Verschiebt Daten in eine bzw. aus einer Aktivität.</span><span class="sxs-lookup"><span data-stu-id="859b6-119">Moves data into and out of an activity.</span></span>|  
|<span data-ttu-id="859b6-120">Ausdruck (Expression)</span><span class="sxs-lookup"><span data-stu-id="859b6-120">Expression</span></span>|<span data-ttu-id="859b6-121">Eine Aktivität mit einem eskalierten Rückgabewert in Argumentbindungen.</span><span class="sxs-lookup"><span data-stu-id="859b6-121">An activity with an elevated return value used in argument bindings.</span></span>|  
  
## <a name="workflow-runtime"></a><span data-ttu-id="859b6-122">Workflow-Laufzeit</span><span class="sxs-lookup"><span data-stu-id="859b6-122">Workflow Runtime</span></span>  
 <span data-ttu-id="859b6-123">Die Workflowlaufzeit ist die Umgebung, in der Workflows ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="859b6-123">The workflow runtime is the environment in which workflows execute.</span></span> <span data-ttu-id="859b6-124"><xref:System.Activities.WorkflowInvoker> ist die einfachste Möglichkeit, einen Workflow auszuführen.</span><span class="sxs-lookup"><span data-stu-id="859b6-124"><xref:System.Activities.WorkflowInvoker> is the simplest way to execute a workflow.</span></span> <span data-ttu-id="859b6-125">Der Host verwendet <xref:System.Activities.WorkflowInvoker> für folgende Aktionen:</span><span class="sxs-lookup"><span data-stu-id="859b6-125">The host uses <xref:System.Activities.WorkflowInvoker> for the following:</span></span>  
  
- <span data-ttu-id="859b6-126">Synchrones Aufrufen eines Workflows</span><span class="sxs-lookup"><span data-stu-id="859b6-126">To synchronously invoke a workflow.</span></span>  
  
- <span data-ttu-id="859b6-127">Bereitstellen von Eingabedaten bzw. Abrufen von Ausgabedaten eines Workflows</span><span class="sxs-lookup"><span data-stu-id="859b6-127">To provide input to, or retrieve output from a workflow.</span></span>  
  
- <span data-ttu-id="859b6-128">Hinzufügen von Erweiterungen für Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="859b6-128">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="859b6-129"><xref:System.Activities.ActivityInstance> ist der threadsichere Proxy, über den Hosts mit der Laufzeit interagieren können.</span><span class="sxs-lookup"><span data-stu-id="859b6-129"><xref:System.Activities.ActivityInstance> is the thread-safe proxy that hosts can use to interact with the runtime.</span></span> <span data-ttu-id="859b6-130">Der Host verwendet <xref:System.Activities.ActivityInstance> für folgende Aktionen:</span><span class="sxs-lookup"><span data-stu-id="859b6-130">The host uses <xref:System.Activities.ActivityInstance> for the following:</span></span>  
  
- <span data-ttu-id="859b6-131">Abrufen einer Instanz durch Erstellen oder Laden aus einem Instanzspeicher</span><span class="sxs-lookup"><span data-stu-id="859b6-131">To acquire an instance by creating it or loading it from an instance store.</span></span>  
  
- <span data-ttu-id="859b6-132">Aktivieren von Benachrichtigungen bei Instanzlebenszyklusereignissen</span><span class="sxs-lookup"><span data-stu-id="859b6-132">To be notified of instance life-cycle events.</span></span>  
  
- <span data-ttu-id="859b6-133">Steuern der Workflowausführung</span><span class="sxs-lookup"><span data-stu-id="859b6-133">To control workflow execution.</span></span>  
  
- <span data-ttu-id="859b6-134">Bereitstellen von Eingabedaten bzw. Abrufen von Ausgabedaten eines Workflows</span><span class="sxs-lookup"><span data-stu-id="859b6-134">To provide input to, or retrieve output from a workflow.</span></span>  
  
- <span data-ttu-id="859b6-135">Signalisieren einer Workflowfortsetzung und Übergeben von Werten in den Workflow</span><span class="sxs-lookup"><span data-stu-id="859b6-135">To signal a workflow continuation and pass values into the workflow.</span></span>  
  
- <span data-ttu-id="859b6-136">Aufbewahren von Workflowdaten</span><span class="sxs-lookup"><span data-stu-id="859b6-136">To persist workflow data.</span></span>  
  
- <span data-ttu-id="859b6-137">Hinzufügen von Erweiterungen für Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="859b6-137">To add extensions to be used by activities.</span></span>  
  
 <span data-ttu-id="859b6-138">Aktivitäten erhalten Zugriff auf die Workflowlaufzeitumgebung, indem sie die entsprechende abgeleitete <xref:System.Activities.ActivityContext>-Klasse wie <xref:System.Activities.NativeActivityContext> oder <xref:System.Activities.CodeActivityContext> verwenden.</span><span class="sxs-lookup"><span data-stu-id="859b6-138">Activities gain access to the workflow runtime environment by using the appropriate <xref:System.Activities.ActivityContext> derived class, such as <xref:System.Activities.NativeActivityContext> or <xref:System.Activities.CodeActivityContext>.</span></span> <span data-ttu-id="859b6-139">Sie verwenden diese zum Auflösen von Argumenten und Variablen, zum Planen von untergeordneten Aktivitäten und zu vielen anderen Zwecken.</span><span class="sxs-lookup"><span data-stu-id="859b6-139">They use this for resolving arguments and variables, for scheduling child activities, and for many other purposes.</span></span>  
  
## <a name="services"></a><span data-ttu-id="859b6-140">Dienste</span><span class="sxs-lookup"><span data-stu-id="859b6-140">Services</span></span>  
 <span data-ttu-id="859b6-141">Workflows bieten eine natürliche Möglichkeit zum Implementieren von und zum Zugreifen auf lose verknüpfte Dienste mithilfe von Messagingaktivitäten.</span><span class="sxs-lookup"><span data-stu-id="859b6-141">Workflows provide a natural way to implement and access loosely-coupled services, using messaging activities.</span></span> <span data-ttu-id="859b6-142">Messaging Aktivitäten basieren auf WCF und sind der primäre Mechanismus, der verwendet wird, um Daten in einen und aus einem Workflow zu übernehmen.</span><span class="sxs-lookup"><span data-stu-id="859b6-142">Messaging activities are built on WCF and are the primary mechanism used to get data into and out of a workflow.</span></span> <span data-ttu-id="859b6-143">Sie können Messagingaktivitäten kombinieren, um beliebige Arten von Nachrichtenaustauschmustern zu modellieren.</span><span class="sxs-lookup"><span data-stu-id="859b6-143">You can compose messaging activities together to model any kind of message exchange pattern you wish.</span></span> <span data-ttu-id="859b6-144">Weitere Informationen finden Sie unter [Messaging Aktivitäten](../wcf/feature-details/messaging-activities.md).</span><span class="sxs-lookup"><span data-stu-id="859b6-144">For more information, see [Messaging Activities](../wcf/feature-details/messaging-activities.md).</span></span> <span data-ttu-id="859b6-145">Workflowdienste werden mit der <xref:System.ServiceModel.Activities.WorkflowServiceHost>-Klasse gehostet.</span><span class="sxs-lookup"><span data-stu-id="859b6-145">Workflow services are hosted using the <xref:System.ServiceModel.Activities.WorkflowServiceHost> class.</span></span> <span data-ttu-id="859b6-146">Weitere Informationen finden Sie unter [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span><span class="sxs-lookup"><span data-stu-id="859b6-146">For more information, see [Hosting Workflow Services Overview](../wcf/feature-details/hosting-workflow-services-overview.md).</span></span> <span data-ttu-id="859b6-147">Weitere Informationen zu Workflow Diensten finden Sie unter [Workflow Dienste](../wcf/feature-details/workflow-services.md)</span><span class="sxs-lookup"><span data-stu-id="859b6-147">For more information about workflow services see [Workflow Services](../wcf/feature-details/workflow-services.md)</span></span>  
  
## <a name="persistence-unloading-and-long-running-workflows"></a><span data-ttu-id="859b6-148">Persistenz, Entladen und langfristige Workflows</span><span class="sxs-lookup"><span data-stu-id="859b6-148">Persistence, Unloading, and Long-Running Workflows</span></span>  
 <span data-ttu-id="859b6-149">Windows Workflow vereinfacht die Erstellung von langfristigen reaktiven Programmen durch die folgenden Punkte:</span><span class="sxs-lookup"><span data-stu-id="859b6-149">Windows Workflow simplifies the authoring of long-running reactive programs by providing:</span></span>  
  
- <span data-ttu-id="859b6-150">Aktivitäten, die auf externe Eingabedaten zugreifen.</span><span class="sxs-lookup"><span data-stu-id="859b6-150">Activities that access external input.</span></span>  
  
- <span data-ttu-id="859b6-151">Die Möglichkeit zur Erstellung von <xref:System.Activities.Bookmark>-Objekten, die von einer Host-Listeneranwendung übernommen werden können.</span><span class="sxs-lookup"><span data-stu-id="859b6-151">The ability to create <xref:System.Activities.Bookmark> objects that can be resumed by a host listener.</span></span>  
  
- <span data-ttu-id="859b6-152">Die Möglichkeit zum Aufbewahren der Daten eines Workflows und zum Entladen des Workflows und zum anschließenden erneuten Laden und Aktivieren des Workflows basierend auf der Wiederaufnahme von <xref:System.Activities.Bookmark>-Objekten in einem bestimmten Workflow.</span><span class="sxs-lookup"><span data-stu-id="859b6-152">The ability to persist a workflow’s data and unload the workflow, and then reload and reactivate the workflow in response to the resumption of <xref:System.Activities.Bookmark> objects in a particular workflow.</span></span>  
  
 <span data-ttu-id="859b6-153">Ein Workflow führt kontinuierlich Aktivitäten aus, bis keine Aktivitäten mehr auszuführen sind bzw. bis für alle ausgeführten Aktivitäten eine Eingabe aussteht.</span><span class="sxs-lookup"><span data-stu-id="859b6-153">A workflow continuously executes activities until there are no more activities to execute or until all currently executing activities are waiting for input.</span></span> <span data-ttu-id="859b6-154">Im letzteren Fall befindet sich der Workflow im Leerlauf.</span><span class="sxs-lookup"><span data-stu-id="859b6-154">In this latter state, the workflow is idle.</span></span> <span data-ttu-id="859b6-155">Workflows im Leerlauf werden von einem Host häufig entladen und dann neu geladen, um die Ausführung fortzusetzen, wenn eine Nachricht eingeht.</span><span class="sxs-lookup"><span data-stu-id="859b6-155">It is common for a host to unload workflows that have gone idle and to reload them to continue execution when a message arrives.</span></span> <span data-ttu-id="859b6-156"><xref:System.ServiceModel.Activities.WorkflowServiceHost> stellt Funktionen für dieses Feature sowie eine erweiterbare Entladerichtlinie bereit.</span><span class="sxs-lookup"><span data-stu-id="859b6-156"><xref:System.ServiceModel.Activities.WorkflowServiceHost> provides functionality for this feature and provides an extensible unload policy.</span></span> <span data-ttu-id="859b6-157">Für Ausführungsblöcke mit Daten im flüchtigen Zustand bzw. anderen Daten, die nicht dauerhaft gespeichert werden können, kann in einer Aktivität mit <xref:System.Activities.NoPersistHandle> angegeben werden, dass die Daten nicht dauerhaft gespeichert werden sollen.</span><span class="sxs-lookup"><span data-stu-id="859b6-157">For blocks of execution that use volatile state data or other data that cannot be persisted, an activity can indicate to a host that it should not be persisted by using the <xref:System.Activities.NoPersistHandle>.</span></span> <span data-ttu-id="859b6-158">Die Daten eines Workflows können auch mit der <xref:System.Activities.Statements.Persist>-Aktivität explizit auf einem dafür vorgesehenen Speichermedium dauerhaft gespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="859b6-158">A workflow can also explicitly persist its data to a durable storage medium by using the <xref:System.Activities.Statements.Persist> activity.</span></span>
