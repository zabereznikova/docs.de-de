---
title: Bereichsauswahl und Sichtbarkeit der Aktivitätsdefinition
ms.date: 03/30/2017
ms.assetid: ccdffa07-9503-4eea-a61b-17f1564368b7
ms.openlocfilehash: c7f656fee4960a8c43ac58abafba400ed9b35bc1
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96289164"
---
# <a name="activity-definition-scoping-and-visibility"></a><span data-ttu-id="78eb5-102">Bereichsauswahl und Sichtbarkeit der Aktivitätsdefinition</span><span class="sxs-lookup"><span data-stu-id="78eb5-102">Activity Definition Scoping and Visibility</span></span>

<span data-ttu-id="78eb5-103">Wie die Bereichsauswahl und Sichtbarkeit eines Objekts beschreibt die Bereichsauswahl und Sichtbarkeit der Aktivitätsdefinition die Fähigkeit anderer Objekte oder Aktivitäten, auf Member der Aktivität zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-103">Activity definition scoping and visibility, just like scoping and visibility of an object, is the ability of other objects or activities to access members of the activity.</span></span> <span data-ttu-id="78eb5-104">Die Aktivitätsdefinition erfolgt durch folgende Implementierungen:</span><span class="sxs-lookup"><span data-stu-id="78eb5-104">Activity definition is performed by the following implementations:</span></span>  
  
1. <span data-ttu-id="78eb5-105">Bestimmen der Member (<xref:System.Activities.Argument>-, <xref:System.Activities.Variable>- und <xref:System.Activities.ActivityDelegate>-Objekte und untergeordnete Aktivitäten), die den Benutzern von einer Aktivität zur Verfügung gestellt werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-105">Determining the members (<xref:System.Activities.Argument>, <xref:System.Activities.Variable>, and <xref:System.Activities.ActivityDelegate> objects, and child activities) an activity exposes to its users.</span></span>  
  
2. <span data-ttu-id="78eb5-106">Implementieren der Ausführungslogik der Aktivität</span><span class="sxs-lookup"><span data-stu-id="78eb5-106">Implementing the execution logic of the activity</span></span>  
  
 <span data-ttu-id="78eb5-107">Die Implementierung umfasst möglicherweise einige Member, die nicht für Consumer der Aktivität bereitgestellt werden, sondern Teil der internen Implementierung sind.</span><span class="sxs-lookup"><span data-stu-id="78eb5-107">The implementation may involve members that are not exposed to consumers of the activity, but are rather details of the implementation.</span></span>  <span data-ttu-id="78eb5-108">Analog zur Typdefinition ermöglicht das Aktivitätsmodell einem Autor das Qualifizieren der Sichtbarkeit eines Aktivitätsmembers im Hinblick auf die Definition der definierten Aktivität.</span><span class="sxs-lookup"><span data-stu-id="78eb5-108">Similar to type definition, the activity model allows an author to qualify the visibility of an activity member regarding the definition of the activity being defined.</span></span>  <span data-ttu-id="78eb5-109">Die Sichtbarkeit wirkt sich auf Einzelheiten der Memberverwendung aus, etwa auf Datenbereiche.</span><span class="sxs-lookup"><span data-stu-id="78eb5-109">This visibility governs aspects of member usage, such as data scoping.</span></span>  
  
## <a name="scope"></a><span data-ttu-id="78eb5-110">`Scope`</span><span class="sxs-lookup"><span data-stu-id="78eb5-110">Scope</span></span>  

 <span data-ttu-id="78eb5-111">Neben dem Datenbereich kann durch die Sichtbarkeit des Aktivitätsmodells auch der Zugriff auf weitere Aspekte der Aktivität eingeschränkt werden, z. B. Validierung, Debugging, Überwachung oder Nachverfolgung.</span><span class="sxs-lookup"><span data-stu-id="78eb5-111">In addition to data scoping, activity model visibility can restrict access to other aspects of the activity, such as validation, debugging, tracking, or tracing.</span></span> <span data-ttu-id="78eb5-112">Ausführungseigenschaften schränken über die Sichtbarkeit und Bereichsauswahl die Ausführungsmerkmale für einen bestimmten Definitionsbereich ein.</span><span class="sxs-lookup"><span data-stu-id="78eb5-112">Execution properties use visibility and scoping for constraining execution characteristics to a particular scope of definition.</span></span> <span data-ttu-id="78eb5-113">Sekundäre Stämme schränken über die Sichtbarkeit und Bereichsauswahl den von einer <xref:System.Activities.Statements.CompensableActivity> erfassten Zustand auf den Definitionsbereich ein, in dem kompensierbare Aktivitäten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-113">Secondary roots use visibility and scoping to constrain the state captured by a <xref:System.Activities.Statements.CompensableActivity> to the scope of definition in which the compensable activities are used.</span></span>  
  
## <a name="definition-and-usage"></a><span data-ttu-id="78eb5-114">Definition und Verwendung</span><span class="sxs-lookup"><span data-stu-id="78eb5-114">Definition and usage</span></span>  

 <span data-ttu-id="78eb5-115">Ein Workflow wird durch das Erstellen neuer Aktivitäten durch die Vererbung von Basis Aktivitäts Klassen und durch die Verwendung von Aktivitäten aus der [integrierten Aktivitäts Bibliothek](net-framework-4-5-built-in-activity-library.md)geschrieben.</span><span class="sxs-lookup"><span data-stu-id="78eb5-115">A workflow is written by authoring new activities by inheriting from base activity classes, and by using activities from the [Built-In Activity Library](net-framework-4-5-built-in-activity-library.md).</span></span> <span data-ttu-id="78eb5-116">Damit eine Aktivität verwendet werden kann, muss die Sichtbarkeit der Komponenten ihrer Definition vom Autor der Aktivität konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-116">In order to use an activity, the activity author must configure the visibility of each component of its definition.</span></span>  
  
### <a name="activity-members"></a><span data-ttu-id="78eb5-117">Aktivitätsmember</span><span class="sxs-lookup"><span data-stu-id="78eb5-117">Activity Members</span></span>  

 <span data-ttu-id="78eb5-118">Das Aktivitätsmodell definiert die Argumente, Variablen, Delegaten und untergeordneten Aktivitäten, die von der Aktivität für Consumer verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-118">The activity model defines the arguments, variables, delegates, and child activities that the activity makes available to consumers.</span></span> <span data-ttu-id="78eb5-119">Diese Member können jeweils als `public` oder `private` deklariert werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-119">Each of these members can be declared as `public` or `private`.</span></span> <span data-ttu-id="78eb5-120">Öffentliche Member werden vom Consumer der Aktivität konfiguriert, wohingegen `private`-Member eine Implementierung verwenden, die vom Autor der Aktivität festgelegt wurde.</span><span class="sxs-lookup"><span data-stu-id="78eb5-120">Public members are configured by the consumer of the activity, whereas `private` members use an implementation fixed by the author of the activity.</span></span> <span data-ttu-id="78eb5-121">Die Sichtbarkeitsregeln für Datenbereiche lauten wie folgt:</span><span class="sxs-lookup"><span data-stu-id="78eb5-121">The visibility rules for data scoping are as follows:</span></span>  
  
1. <span data-ttu-id="78eb5-122">Öffentliche Member und die öffentlichen Member von öffentlichen untergeordneten Aktivitäten können auf öffentliche Variablen verweisen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-122">Public members and the public members of public child activities can reference public variables.</span></span>  
  
2. <span data-ttu-id="78eb5-123">Private Member und die öffentlichen Member von öffentlichen untergeordneten Aktivitäten können auf Argumente und private Variablen verweisen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-123">Private members and the public members of public child activities can reference arguments and private variables.</span></span>  
  
 <span data-ttu-id="78eb5-124">Member, die vom Consumer einer Aktivität festgelegt werden können, sollten niemals privat sein.</span><span class="sxs-lookup"><span data-stu-id="78eb5-124">A member that can be set by the consumer of an activity should never be made private.</span></span>  
  
### <a name="authoring-models"></a><span data-ttu-id="78eb5-125">Erstellungsmodelle</span><span class="sxs-lookup"><span data-stu-id="78eb5-125">Authoring Models</span></span>  

 <span data-ttu-id="78eb5-126">Benutzerdefinierte Aktivitäten werden mit <xref:System.Activities.NativeActivity>, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity> oder <xref:System.Activities.AsyncCodeActivity> definiert.</span><span class="sxs-lookup"><span data-stu-id="78eb5-126">Custom activities are defined by using <xref:System.Activities.NativeActivity>, <xref:System.Activities.Activity>, <xref:System.Activities.CodeActivity>, or <xref:System.Activities.AsyncCodeActivity>.</span></span> <span data-ttu-id="78eb5-127">Aktivitäten, die von diesen Klassen abgeleitet werden, können verschiedene Membertypen mit unterschiedlichen Sichtbarkeiten verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-127">Activities that derive from these classes can expose different member types with different visibilities.</span></span>  
  
#### <a name="nativeactivity"></a><span data-ttu-id="78eb5-128">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="78eb5-128">NativeActivity</span></span>  

 <span data-ttu-id="78eb5-129">Aktivitäten, die von <xref:System.Activities.NativeActivity> abgeleitet werden, weisen ein imperatives Codeverhalten auf und können optional mit vorhandenen Aktivitäten definiert werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-129">Activities that derive from <xref:System.Activities.NativeActivity> have behavior that is written in imperative code, and can optionally be defined by using existing activities.</span></span> <span data-ttu-id="78eb5-130">Durch Ableiten von Aktivitäten von <xref:System.Activities.NativeActivity> erhalten Sie Zugriff auf alle Funktionen, die von der Laufzeit verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-130">Deriving activities from <xref:System.Activities.NativeActivity> grants access to all of the features exposed by the runtime.</span></span> <span data-ttu-id="78eb5-131">Alle Member einer entsprechenden Aktivität können mit öffentlicher oder privater Sichtbarkeit definiert werden; eine Ausnahme bilden Argumente, die nur als `public` deklariert werden können.</span><span class="sxs-lookup"><span data-stu-id="78eb5-131">Any member of such an activity can be defined by using either public or private visibility, except arguments, which can only be declared as `public`.</span></span>  
  
 <span data-ttu-id="78eb5-132">Member von Klassen, die von <xref:System.Activities.NativeActivity> abgeleitet werden, werden innerhalb der Laufzeit mit der <xref:System.Activities.NativeActivityMetadata>-Struktur deklariert, die an die <xref:System.Activities.NativeActivity.CacheMetadata%2A>-Methode übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="78eb5-132">Members of classes derived from <xref:System.Activities.NativeActivity> are declared to the runtime using the <xref:System.Activities.NativeActivityMetadata> struct passed to the <xref:System.Activities.NativeActivity.CacheMetadata%2A> method.</span></span>  
  
#### <a name="activity"></a><span data-ttu-id="78eb5-133">Aktivität</span><span class="sxs-lookup"><span data-stu-id="78eb5-133">Activity</span></span>  

 <span data-ttu-id="78eb5-134">Das Verhalten von Aktivitäten, die mit <xref:System.Activities.Activity> erstellt werden, wird ausschließlich durch das Erstellen anderer Aktivitäten definiert.</span><span class="sxs-lookup"><span data-stu-id="78eb5-134">Activities created by using <xref:System.Activities.Activity> have behavior that is designed strictly through composing other activities.</span></span> <span data-ttu-id="78eb5-135">Die <xref:System.Activities.Activity>-Klasse weist eine untergeordnete Implementierungsaktivität auf, die von der Laufzeit mit <xref:System.Activities.Activity.Implementation%2A> abgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="78eb5-135">The <xref:System.Activities.Activity> class has one implementation child activity, obtained by the runtime using <xref:System.Activities.Activity.Implementation%2A>.</span></span> <span data-ttu-id="78eb5-136">Aktivitäten, die von <xref:System.Activities.Activity> abgeleitet werden, können öffentliche Argumente, öffentliche Variablen, importierte ActivityDelegates sowie importierte Aktivitäten definieren.</span><span class="sxs-lookup"><span data-stu-id="78eb5-136">An activity deriving from <xref:System.Activities.Activity> can define public arguments, public variables, imported ActivityDelegates, and imported Activities.</span></span>  
  
 <span data-ttu-id="78eb5-137">Importierte ActivityDelegates und Aktivitäten werden als öffentliche untergeordnete Elemente der Aktivität deklariert, können jedoch nicht direkt von der Aktivität geplant werden.</span><span class="sxs-lookup"><span data-stu-id="78eb5-137">Imported ActivityDelegates and Activities are declared as public children of the activity, but cannot be directly scheduled by the activity.</span></span> <span data-ttu-id="78eb5-138">Diese Informationen werden während der Validierung verwendet, um die Ausführung von Validierungen für übergeordnete Elemente an Stellen zu vermeiden, an denen die Aktivität niemals ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="78eb5-138">This information is used during validation to avoid running parent-facing validations at locations where the activity will never execute.</span></span> <span data-ttu-id="78eb5-139">Darüber hinaus kann die Implementierung der Aktivität auf importierte untergeordnete Elemente sowie auf öffentliche untergeordnete Elemente verweisen und diese planen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-139">Also, imported children, just like public children, can be referenced and scheduled by the activity’s implementation.</span></span> <span data-ttu-id="78eb5-140">Die Implementierung einer Aktivität, mit der eine Aktivität namens Activity1 importiert wird, kann daher eine <xref:System.Activities.Statements.Sequence> enthalten, mit der Activity1 geplant wird.</span><span class="sxs-lookup"><span data-stu-id="78eb5-140">This means that an activity which imports an activity called Activity1 can contain a <xref:System.Activities.Statements.Sequence> in its implementation which schedules Activity1.</span></span>  
  
#### <a name="codeactivity-asynccodeactivity"></a><span data-ttu-id="78eb5-141">CodeActivity/AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="78eb5-141">CodeActivity/ AsyncCodeActivity</span></span>  

 <span data-ttu-id="78eb5-142">Diese Basisklasse wird zum Erstellen von Eigenschaften in imperativem Code verwendet.</span><span class="sxs-lookup"><span data-stu-id="78eb5-142">This base class is used for authoring behavior in imperative code.</span></span> <span data-ttu-id="78eb5-143">Aktivitäten, die von dieser Klasse abgeleitet werden, können nur auf die Argumente zugreifen, die sie verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-143">Activities that derive from this class only have access to the arguments they expose.</span></span> <span data-ttu-id="78eb5-144">Daraus folgt, dass von diesen Aktivitäten nur Member verfügbar gemacht werden können, die öffentliche Argumente darstellen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-144">This means that the only members that these activities can expose are public arguments.</span></span> <span data-ttu-id="78eb5-145">Andere Member oder Sichtbarkeiten wirken sich nicht auf diese Aktivitäten aus.</span><span class="sxs-lookup"><span data-stu-id="78eb5-145">No other members or visibilities apply to these activities.</span></span>  
  
#### <a name="summary-of-visibilities"></a><span data-ttu-id="78eb5-146">Zusammenfassung der Sichtbarkeiten</span><span class="sxs-lookup"><span data-stu-id="78eb5-146">Summary of visibilities</span></span>  

 <span data-ttu-id="78eb5-147">In der nachstehenden Tabelle werden die Informationen aus den vorangehenden Abschnitten zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="78eb5-147">The following table summarizes the information earlier in this section.</span></span>  
  
|<span data-ttu-id="78eb5-148">Memberart</span><span class="sxs-lookup"><span data-stu-id="78eb5-148">Member Type</span></span>|<span data-ttu-id="78eb5-149">NativeActivity</span><span class="sxs-lookup"><span data-stu-id="78eb5-149">NativeActivity</span></span>|<span data-ttu-id="78eb5-150">Aktivität</span><span class="sxs-lookup"><span data-stu-id="78eb5-150">Activity</span></span>|<span data-ttu-id="78eb5-151">CodeActivity/AsyncCodeActivity</span><span class="sxs-lookup"><span data-stu-id="78eb5-151">CodeActivity/ AsyncCodeActivity</span></span>|  
|-----------------|--------------------|--------------|--------------------------------------|  
|<span data-ttu-id="78eb5-152">Argumente</span><span class="sxs-lookup"><span data-stu-id="78eb5-152">Arguments</span></span>|<span data-ttu-id="78eb5-153">Öffentlich/Privat</span><span class="sxs-lookup"><span data-stu-id="78eb5-153">Public/ Private</span></span>|<span data-ttu-id="78eb5-154">Öffentlich</span><span class="sxs-lookup"><span data-stu-id="78eb5-154">Public</span></span>|<span data-ttu-id="78eb5-155">nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="78eb5-155">not applicable</span></span>|  
|<span data-ttu-id="78eb5-156">Variablen</span><span class="sxs-lookup"><span data-stu-id="78eb5-156">Variables</span></span>|<span data-ttu-id="78eb5-157">Öffentlich/Privat</span><span class="sxs-lookup"><span data-stu-id="78eb5-157">Public/ Private</span></span>|<span data-ttu-id="78eb5-158">Öffentlich</span><span class="sxs-lookup"><span data-stu-id="78eb5-158">Public</span></span>|<span data-ttu-id="78eb5-159">nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="78eb5-159">not applicable</span></span>|  
|<span data-ttu-id="78eb5-160">Untergeordnete Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="78eb5-160">Child Activities</span></span>|<span data-ttu-id="78eb5-161">Öffentlich/Privat</span><span class="sxs-lookup"><span data-stu-id="78eb5-161">Public/ Private</span></span>|<span data-ttu-id="78eb5-162">Öffentlich, ein privates untergeordnetes Element in der Implementierung festgelegt.</span><span class="sxs-lookup"><span data-stu-id="78eb5-162">Public, one fixed private child defined in Implementation.</span></span>|<span data-ttu-id="78eb5-163">nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="78eb5-163">not applicable</span></span>|  
|<span data-ttu-id="78eb5-164">ActivityDelegates</span><span class="sxs-lookup"><span data-stu-id="78eb5-164">ActivityDelegates</span></span>|<span data-ttu-id="78eb5-165">Öffentlich/Privat</span><span class="sxs-lookup"><span data-stu-id="78eb5-165">Public/ Private</span></span>|<span data-ttu-id="78eb5-166">Öffentlich</span><span class="sxs-lookup"><span data-stu-id="78eb5-166">Public</span></span>|<span data-ttu-id="78eb5-167">nicht zutreffend</span><span class="sxs-lookup"><span data-stu-id="78eb5-167">not applicable</span></span>|  
  
 <span data-ttu-id="78eb5-168">Im Allgemeinen sollten Member, die vom Consumer einer Aktivität nicht festgelegt werden können, niemals öffentlich sein.</span><span class="sxs-lookup"><span data-stu-id="78eb5-168">In general, a member that cannot be set by the consumer of an activity should not be made public.</span></span>  
  
### <a name="execution-properties"></a><span data-ttu-id="78eb5-169">Ausführungseigenschaften</span><span class="sxs-lookup"><span data-stu-id="78eb5-169">Execution Properties</span></span>  

 <span data-ttu-id="78eb5-170">In einigen Szenarien ist es hilfreich, den Bereich für eine bestimmte Ausführungseigenschaft auf die öffentlichen untergeordneten Elemente einer Aktivität festzulegen.</span><span class="sxs-lookup"><span data-stu-id="78eb5-170">In some scenarios, it is useful to scope a particular execution property to the public children of an activity.</span></span> <span data-ttu-id="78eb5-171">Die <xref:System.Activities.ExecutionProperties>-Auflistung stellt diese Funktion über die <xref:System.Activities.ExecutionProperties.Add%2A>-Methode bereit.</span><span class="sxs-lookup"><span data-stu-id="78eb5-171">The <xref:System.Activities.ExecutionProperties> collection provides this capability with the <xref:System.Activities.ExecutionProperties.Add%2A> method.</span></span> <span data-ttu-id="78eb5-172">Diese Methode verfügt über einen booleschen Parameter, mit dem angegeben wird, ob eine bestimmte Eigenschaft für alle untergeordneten Elemente oder nur für öffentliche untergeordnete Elemente sichtbar ist.</span><span class="sxs-lookup"><span data-stu-id="78eb5-172">This method has a Boolean parameter indicating whether a particular property is scoped to all children, or just those that are public.</span></span> <span data-ttu-id="78eb5-173">Wenn dieser Parameter auf `true` festgelegt ist, ist die Eigenschaft nur für öffentliche Member sowie für die öffentlichen Member der öffentlichen untergeordneten Elemente sichtbar.</span><span class="sxs-lookup"><span data-stu-id="78eb5-173">If this parameter is set to `true`, the property will only be visible to public members and the public members of their public children.</span></span>  
  
### <a name="secondary-roots"></a><span data-ttu-id="78eb5-174">Sekundäre Stämme</span><span class="sxs-lookup"><span data-stu-id="78eb5-174">Secondary Roots</span></span>  

 <span data-ttu-id="78eb5-175">Ein sekundärer Stamm stellt den internen Mechanismus der Laufzeit zur Verwaltung des Zustands von Kompensationsaktivitäten dar.</span><span class="sxs-lookup"><span data-stu-id="78eb5-175">A secondary root is the runtime’s internal mechanism for managing state for compensation activities.</span></span> <span data-ttu-id="78eb5-176">Wenn die Ausführung einer <xref:System.Activities.Statements.CompensableActivity> abgeschlossen ist, wird der Zustand nicht unmittelbar bereinigt.</span><span class="sxs-lookup"><span data-stu-id="78eb5-176">When a <xref:System.Activities.Statements.CompensableActivity> has finished running, its state is not cleaned up immediately.</span></span> <span data-ttu-id="78eb5-177">Stattdessen wird der Zustand von der Laufzeit in einem sekundären Stamm verwaltet, bis der Kompensationsvorgang abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="78eb5-177">Instead, the state is maintained by the runtime in a secondary root until the compensation episode has completed.</span></span> <span data-ttu-id="78eb5-178">Die Speicherortumgebungen, die mit dem sekundären Stamm erfasst werden, entsprechen dem Definitionsbereich, in dem die kompensierbare Aktivität verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="78eb5-178">The location environments captured with the secondary root correspond to the scope of definition in which the Compensable activity is used.</span></span>
