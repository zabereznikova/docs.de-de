---
title: Grundlegendes zu WebRequest-Problemen und -Ausnahmen
description: WebRequest und abgeleitete Klassen lösen Ausnahmen aus, um einen nicht ordnungsgemäßen Zustand zu signalisieren. Verwenden Sie diese Ansätze, um diese Zustände im .NET Framework zu beheben.
ms.date: 03/30/2017
ms.assetid: 74a361a5-e912-42d3-8f2e-8e9a96880a2b
ms.openlocfilehash: 27fde2a3cf3e6a3469a47bdd9efe70d31620777d
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96236324"
---
# <a name="understanding-webrequest-problems-and-exceptions"></a>Grundlegendes zu WebRequest-Problemen und -Ausnahmen

<xref:System.Net.WebRequest> und die abgeleiteten Klassen (<xref:System.Net.HttpWebRequest>, <xref:System.Net.FtpWebRequest> und <xref:System.Net.FileWebRequest>) lösen Ausnahmen aus, um einen nicht ordnungsgemäßen Zustand zu signalisieren. In einigen Fällen ist die Lösung dieser Probleme nicht offensichtlich.  
  
## <a name="solutions"></a>Projektmappen  

 Überprüfen Sie die <xref:System.Net.WebException.Status%2A>-Eigenschaft der <xref:System.Net.WebException>, um das Problem zu ermitteln. In der folgenden Tabelle werden mehrere Statuswerte und einige mögliche Lösungen angezeigt.  
  
|Status|Details|Lösung|  
|------------|-------------|--------------|  
|<xref:System.Net.WebExceptionStatus.SendFailure><br /><br /> - oder -<br /><br /> <xref:System.Net.WebExceptionStatus.ReceiveFailure>|Es liegt ein Problem des zugrunde liegenden Sockets vor. Die Verbindung wurde möglicherweise zurückgesetzt.|Stellen Sie erneut eine Verbindung her, und senden Sie die Anforderung erneut.<br /><br /> Stellen Sie sicher, dass das neueste Service Pack installiert ist.<br /><br /> Vergrößern Sie den Wert der <xref:System.Net.ServicePointManager.MaxServicePointIdleTime%2A?displayProperty=nameWithType>-Eigenschaft.<br /><br /> Legen Sie <xref:System.Net.HttpWebRequest.KeepAlive%2A?displayProperty=nameWithType> auf `false` fest.<br /><br /> Erhöhen Sie die Anzahl der maximalen Verbindungen mit der <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>-Eigenschaft.<br /><br /> Überprüfen Sie die Proxykonfiguration.<br /><br /> Wenn Sie SSL verwenden, stellen Sie sicher, dass der Serverprozess über eine Zugriffsberechtigung auf den Zertifikatspeicher verfügt.<br /><br /> Legen Sie <xref:System.Net.HttpWebRequest.AllowWriteStreamBuffering%2A> auf `false` fest, wenn Sie eine große Datenmenge versenden.|  
|<xref:System.Net.WebExceptionStatus.TrustFailure>|Das Serverzertifikat konnte nicht überprüft werden.|Versuchen Sie, den URI mit Internet Explorer zu öffnen. Beheben Sie alle von Internet Explorer angezeigten Sicherheitswarnungen. Wenn Sie die Sicherheitswarnung nicht beheben können, erstellen Sie eine Zertifikatrichtlinienklasse, die <xref:System.Net.ICertificatePolicy> implementiert, `true` zurückgibt und an <xref:System.Net.ServicePointManager.CertificatePolicy%2A> übergibt.<br /><br /> Siehe <https://support.microsoft.com/?id=823177>.<br /><br /> Stellen Sie sicher, dass das Zertifikat der Zertifizierungsstelle, die das Serverzertifikat signiert hat, zur Liste vertrauenswürdiger Zertifikataussteller in Internet Explorer hinzugefügt wird.<br /><br /> Stellen Sie sicher, dass der Hostname in der URL mit dem allgemeinen Namen für das Serverzertifikat übereinstimmt.|  
|<xref:System.Net.WebExceptionStatus.SecureChannelFailure>|In der SSL-Transaktion ist ein Fehler aufgetreten, oder es liegt ein Zertifikatproblem vor.|.NET Framework, Version 1.1, unterstützt nur SSL Version 3.0. Wenn der Server nur TLS Version 1.0 oder die SSL-Version 2.0 verwendet, wird die Ausnahme ausgelöst. Führen Sie ein Upgrade auf .NET Framework, Version 2.0, durch, und legen Sie <xref:System.Net.ServicePointManager.SecurityProtocol%2A> so fest, dass es mit dem Server übereinstimmt.<br /><br /> Das Clientzertifikat wurde von einer Zertifizierungsstelle (CA) signiert, der der Server nicht vertraut. Installieren Sie das Zertifikat der Zertifizierungsstelle auf dem Server. Siehe <https://support.microsoft.com/?id=332077>.<br /><br /> Stellen Sie sicher, dass das neueste Service Pack installiert ist.|  
|<xref:System.Net.WebExceptionStatus.ConnectFailure>|Die Verbindung konnte nicht hergestellt werden|Eine Firewall oder ein Proxy blockiert die Verbindung. Ändern Sie die Firewall oder den Proxy, um die Verbindung zu ermöglichen.<br /><br /> Bestimmen Sie explizit eine <xref:System.Net.WebProxy>-Klasse in der Clientanwendung, indem Sie den <xref:System.Net.WebProxy>-Konstruktor (`WebServiceProxyClass.Proxy = new WebProxy("http://server:80", true)`) aufrufen.<br /><br /> Führen Sie Filemon oder Regmon aus, um sicherzustellen, dass die Arbeitsprozessidentität die erforderlichen Berechtigungen für einen Zugriff auf WSPWSP.dll, HKLM\System\CurrentControlSet\Services\DnsCache oder HKLM\System\CurrentControlSet\Services\WinSock2 verfügt.|  
|<xref:System.Net.WebExceptionStatus.NameResolutionFailure>|Der Domain Name Service konnte den Hostnamen nicht auflösen.|Konfigurieren Sie den Proxy ordnungsgemäß. Siehe <https://support.microsoft.com/?id=318140>.<br /><br /> Stellen Sie sicher, dass eine Antivirensoftware installiert ist, oder die Verbindung nicht durch die Firewall blockiert wird.|  
|<xref:System.Net.WebExceptionStatus.RequestCanceled>|<xref:System.Net.WebRequest.Abort%2A> wurde aufgerufen, oder ein Fehler ist aufgetreten.|Dieses Problem kann durch eine starke Auslastung des Clients oder Servers verursacht werden. Verringern Sie die Auslastung.<br /><br /> Erhöhen Sie die <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>-Einstellung.<br /><br /> Weitere Informationen zum Ändern der Leistungseinstellungen des Webdiensts finden Sie unter <https://support.microsoft.com/?id=821268>.|  
|<xref:System.Net.WebExceptionStatus.ConnectionClosed>|Die Anwendung hat versucht, auf ein Socket zu schreiben, das bereits geschlossen wurde.|Der Client oder Server ist überlastet. Verringern Sie die Auslastung.<br /><br /> Erhöhen Sie die <xref:System.Net.ServicePointManager.DefaultConnectionLimit%2A>-Einstellung.<br /><br /> Weitere Informationen zum Ändern der Leistungseinstellungen des Webdiensts finden Sie unter <https://support.microsoft.com/?id=821268>.|  
|<xref:System.Net.WebExceptionStatus.MessageLengthLimitExceeded>|Der festgelegte Grenzwert (<xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>) für die Nachrichtenlänge wurde überschritten.|Vergrößern Sie den Wert der <xref:System.Net.HttpWebRequest.MaximumResponseHeadersLength%2A>-Eigenschaft.|  
|<xref:System.Net.WebExceptionStatus.ProxyNameResolutionFailure>|Der Domain Name Service konnte den Proxyhostnamen nicht auflösen.|Konfigurieren Sie den Proxy ordnungsgemäß. Siehe <https://support.microsoft.com/?id=318140>.<br /><br /> Zwingen Sie <xref:System.Net.HttpWebRequest> hierfür kein Proxy zu verwenden, indem Sie die <xref:System.Net.HttpWebRequest.Proxy%2A>-Eigenschaft auf `null` festlegen.|  
|<xref:System.Net.WebExceptionStatus.ServerProtocolViolation>|Die Serverantwort ist eine ungültige HTTP-Antwort. Dieses Problem tritt auf, wenn .NET Framework erkennt, dass die Serverantwort nicht mit HTTP 1.1 RFC übereinstimmt. Dieses Problem kann auftreten, wenn die Antwort falsche Header oder falsche Headertrennzeichen enthält. RFC 2616 definiert HTTP 1.1 und gültige Formate für die Serverantwort. Weitere Informationen finden Sie unter [RFC 2616 –Hypertext Transfer-Protokoll – HTTP/1.1](https://tools.ietf.org/html/rfc2616) auf der Webseite der [Internet Engineering Task Force (IETF)](https://www.ietf.org/).|Führen Sie eine Ablaufverfolgung im Netzwerk der Transaktion aus, und untersuchen Sie die Header in der Antwort.<br /><br /> Wenn Ihre Anwendung eine Serverantwort ohne Analyse erfordert (dies kann ein Sicherheitsproblem sein), dann legen Sie `useUnsafeHeaderParsing` in der Konfigurationsdatei auf `true` fest. Weitere Informationen finden Sie unter [\<httpWebRequest>-Element (Netzwerkeinstellungen)](../configure-apps/file-schema/network/httpwebrequest-element-network-settings.md).|  
  
## <a name="see-also"></a>Siehe auch

- <xref:System.Net.HttpWebRequest>
- <xref:System.Net.HttpWebResponse>
- <xref:System.Net.Dns>
