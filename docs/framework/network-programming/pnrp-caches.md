---
title: PNRP-Caches
ms.date: 03/30/2017
ms.assetid: 270068d9-1b6b-4eb9-9e14-e02326bb88df
ms.openlocfilehash: 6f45b6d829867d830a9a10acf11e8456ba65d29e
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96263216"
---
# <a name="pnrp-caches"></a><span data-ttu-id="e3970-102">PNRP-Caches</span><span class="sxs-lookup"><span data-stu-id="e3970-102">PNRP Caches</span></span>

<span data-ttu-id="e3970-103">PNRP-Caches (Peer Name Resolution-Protokoll) sind lokale Sammlungen algorithmisch ausgewählter Peerendpunkte, die auf dem Peer verwaltet werden.</span><span class="sxs-lookup"><span data-stu-id="e3970-103">Peer Name Resolution Protocol (PNRP) caches are local collections of algorithmically selected peer endpoints maintained on the peer.</span></span>  
  
## <a name="pnrp-cache-initialization"></a><span data-ttu-id="e3970-104">Initialisieren des PNRP-Caches</span><span class="sxs-lookup"><span data-stu-id="e3970-104">PNRP Cache Initialization</span></span>  

 <span data-ttu-id="e3970-105">Der PNRP-Cache oder die Sammlung des Peernamendatensatzes kann beim Start eines Peerknotens mit den folgenden Methoden initialisiert werden:</span><span class="sxs-lookup"><span data-stu-id="e3970-105">To initialize the PNRP cache, or Peer Name Record Collection, when a peer node starts up, a node can use the following methods:</span></span>  
  
- <span data-ttu-id="e3970-106">Dauerhafte Cacheeinträge, die beim Schließen des Knotens vorhanden waren, werden aus dem Festplattenspeicher geladen.</span><span class="sxs-lookup"><span data-stu-id="e3970-106">Persistent cache entries that were present when the node was shut down are loaded from hard disk storage.</span></span>  
  
- <span data-ttu-id="e3970-107">Verwendet eine Anwendung die P2P-Zusammenarbeitsinfrastruktur, sind die Zusammenarbeitsinformationen für diesen Knoten im Contact Manager verfügbar.</span><span class="sxs-lookup"><span data-stu-id="e3970-107">If an application uses the P2P collaboration infrastructure, collaboration information is available in the Contact Manager for that node.</span></span>  
  
## <a name="scaling-peer-name-resolution-with-a-multi-level-cache"></a><span data-ttu-id="e3970-108">Skalieren des PNRP mithilfe eines Caches mit mehreren Ebenen</span><span class="sxs-lookup"><span data-stu-id="e3970-108">Scaling Peer Name Resolution with a Multi-Level Cache</span></span>  

 <span data-ttu-id="e3970-109">Damit die PNRP-Caches so klein wie möglich bleiben, verwenden Peerknoten einen Cache mit mehreren Ebenen, in dem jede Ebene eine maximale Anzahl von Einträgen enthält.</span><span class="sxs-lookup"><span data-stu-id="e3970-109">To keep the sizes of the PNRP caches small, peer nodes use a multi-level cache, in which each level contains a maximum number of entries.</span></span> <span data-ttu-id="e3970-110">Jede Ebene des Caches stellt einen um ein Zehntel kleineren Teil des PNRP-ID-Nummernbereichs dar (2<sup>256</sup>).</span><span class="sxs-lookup"><span data-stu-id="e3970-110">Each level in the cache represents a one tenth smaller portion of the PNRP ID number space (2<sup>256</sup>).</span></span> <span data-ttu-id="e3970-111">Die niedrigste Ebene des Caches enthält eine lokal registrierte PNRP-ID sowie weitere PNRP-IDs, die ihr numerisch ähnlich sind.</span><span class="sxs-lookup"><span data-stu-id="e3970-111">The lowest level in the cache contains a locally registered PNRP ID and other PNRP IDs that are numerically close to it.</span></span> <span data-ttu-id="e3970-112">Sobald eine Ebene des Caches mit den maximal möglichen 20 Einträgen gefüllt ist, wird eine neue niedrigere Ebene erstellt.</span><span class="sxs-lookup"><span data-stu-id="e3970-112">As a level of the cache is filled with a maximum of 20 entries, a new lower level is created.</span></span> <span data-ttu-id="e3970-113">Die maximale Anzahl von Ebenen im Cache liegt bei etwa log10 (Gesamtzahl der PNRP-IDs in der Cloud).</span><span class="sxs-lookup"><span data-stu-id="e3970-113">The maximum number of levels in the cache is on the order of log10(Total number of PNRP IDs in the cloud).</span></span> <span data-ttu-id="e3970-114">Für eine globale Cloud mit 100 Millionen PNRP-IDs sind beispielsweise nicht mehr als 8 (= log10(100.000.000)) Ebenen im Cache vorhanden sowie eine vergleichbare Anzahl von Hops, um eine PNRP-ID während der Namensauflösung aufzulösen.</span><span class="sxs-lookup"><span data-stu-id="e3970-114">For example, for a global cloud with 100 million PNRP IDs, there are no more than 8 (=log10(100,000,000)) levels in the cache and a similar number of hops to resolve a PNRP ID during name resolution.</span></span> <span data-ttu-id="e3970-115">Dieser Mechanismus ermöglicht eine verteilte Hashtabelle, für die eine beliebige PNRP-ID aufgelöst werden kann, indem PNRP-Anforderungsnachrichten an den nächstgelegenen Peer weitergeleitet werden, bis der Peer mit der entsprechenden CPA gefunden ist.</span><span class="sxs-lookup"><span data-stu-id="e3970-115">This mechanism allows for a distributed hash table for which an arbitrary PNRP ID can be resolved by forwarding PNRP Request messages to the next-closest peer until the peer with the corresponding CPA is found.</span></span>  
  
 <span data-ttu-id="e3970-116">Damit die Auflösung auch sicher abgeschlossen werden kann, leitet ein Knoten beim Hinzufügen eines Eintrags in die unterste Ebene seines Caches jedes Mal eine Kopie des Eintrags an alle Knoten innerhalb der letzten Ebene des Caches weiter.</span><span class="sxs-lookup"><span data-stu-id="e3970-116">To ensure that resolution can complete, each time a node adds an entry to the lowest level of its cache, it floods a copy of the entry to all the nodes within the last level of the cache.</span></span>  
  
 <span data-ttu-id="e3970-117">Die Cacheeinträge werden mit der Zeit aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="e3970-117">The cache entries are refreshed over time.</span></span> <span data-ttu-id="e3970-118">Veraltete Cacheeinträge werden aus dem Cache entfernt.</span><span class="sxs-lookup"><span data-stu-id="e3970-118">Cache entries that are stale are removed from the cache.</span></span> <span data-ttu-id="e3970-119">Dadurch basiert die verteilte Hashtabelle mit PNRP-IDs auf aktiven Endpunkten. Im Gegensatz dazu garantieren die Adresseinträge und das DNS-Protokoll in DNS nicht, dass der mit der Adresse verknüpfte Knoten im Netzwerk aktiv ist.</span><span class="sxs-lookup"><span data-stu-id="e3970-119">The result is that the distributed hash table of PNRP IDs is based on active endpoints, unlike DNS in which address records and the DNS protocol provide no guarantee that the node associated with the address is actively on the network.</span></span>  
  
## <a name="other-pnrp-caches"></a><span data-ttu-id="e3970-120">Weitere PNRP-Caches</span><span class="sxs-lookup"><span data-stu-id="e3970-120">Other PNRP Caches</span></span>  

 <span data-ttu-id="e3970-121">Ein weiterer dauerhafter Datenspeicher ist der lokale Cache.</span><span class="sxs-lookup"><span data-stu-id="e3970-121">Another persistent data store is the local cache.</span></span>  <span data-ttu-id="e3970-122">Neben den anderen für PNRP-Aktivität erforderlichen Objekten kann er die mit einer PNRP-Cloud oder Zusammenarbeitssitzung verknüpften Datensätze enthalten. Diese werden sicher veröffentlicht und zwischen allen Mitgliedern der Cloud synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="e3970-122">In addition to the other objects needed for PNRP activity, it may include the records associated with a PNRP cloud or collaboration session that is securely published and synchronized between all the members of the cloud.</span></span> <span data-ttu-id="e3970-123">Dieser replizierte Speicher stellt die Ansicht der Gruppendaten dar, die für alle Gruppenmitglieder identisch sein sollte.</span><span class="sxs-lookup"><span data-stu-id="e3970-123">This replicated store represents the view of the group data, which should be the same for all group members.</span></span> <span data-ttu-id="e3970-124">Technisch gesehen sind diese Objekte eigentlich keine Einträge, sondern vielmehr Anwendungs-, Anwesenheits- und Objektdaten, die für einen lokalen Cache bestimmt sind.</span><span class="sxs-lookup"><span data-stu-id="e3970-124">Technically, these objects are not records per se, but rather application, presence, and object data destined for a local cache.</span></span> <span data-ttu-id="e3970-125">Durch die Verwendung der PNRP-Cloud wird sichergestellt, dass die Objekte an alle Knoten der Zusammenarbeitssitzung oder der PNRP-Cloud weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="e3970-125">Use of the PNRP cloud ensures that objects are propagated to all nodes in the collaboration session or PNRP cloud.</span></span>  <span data-ttu-id="e3970-126">Für die Replikation von Datensätzen zwischen Cloudmitgliedern wird SSL verwendet, um Verschlüsselung und Datenintegrität zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="e3970-126">Record replication between cloud members uses SSL to provide encryption and data integrity.</span></span>  
  
 <span data-ttu-id="e3970-127">Wenn ein Peer einer Cloud beitritt, erhält er vom Hostpeer, dem er angefügt ist, nicht automatisch Daten aus dem lokalen Cache. Er muss den Hostpeer abonnieren, um Updates zu Anwendungs-, Anwesenheits- und Objektdaten zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="e3970-127">When a peer joins a cloud, they do not automatically receive local cache data from the host peer to which they attach; they have to subscribe to the host peer to receive updates in application, presence, and object data.</span></span> <span data-ttu-id="e3970-128">Nach der anfänglichen Synchronisierung synchronisieren Peers in regelmäßigen Abständen ihre replizierten Speicher neu, um sicherzustellen, dass alle Gruppenmitglieder über dieselbe Ansicht verfügen.</span><span class="sxs-lookup"><span data-stu-id="e3970-128">After the initial synchronization, peers periodically resynchronize their replicated stores to ensure that all group members consistently have the same view.</span></span>  <span data-ttu-id="e3970-129">Die Zusammenarbeitssitzung bzw. Anwendungen innerhalb der Zusammenarbeitssitzung führen möglicherweise auch die gleiche Funktion aus.</span><span class="sxs-lookup"><span data-stu-id="e3970-129">The collaboration session or applications within the collaboration session may also perform the same function.</span></span>  
  
 <span data-ttu-id="e3970-130">Nachdem eine Zusammenarbeitssitzung für eine Cloud gestartet wurde, können Anwendungen Peers registrieren und damit beginnen, ihre Informationen mithilfe der im Cloudbereich definierten Sicherheit zu veröffentlichen.</span><span class="sxs-lookup"><span data-stu-id="e3970-130">After a collaboration session has begun for a cloud, applications can register peers and begin publishing their information using the security defined by the cloud scope.</span></span> <span data-ttu-id="e3970-131">Wenn ein Peer einer Cloud beitritt, werden die Sicherheitsmechanismen für die Cloud auf den Peer angewendet. Er erhält einen Gültigkeitsbereich, in dem er sich beteiligen soll.</span><span class="sxs-lookup"><span data-stu-id="e3970-131">When a peer joins a cloud, the security mechanisms for the cloud are applied to the peer, giving it a scope in which to participate.</span></span>  <span data-ttu-id="e3970-132">Seine Datensätze können anschließend innerhalb des Gültigkeitsbereichs der Cloud sicher veröffentlicht werden.</span><span class="sxs-lookup"><span data-stu-id="e3970-132">Its records can then be published securely within the scope of the cloud.</span></span> <span data-ttu-id="e3970-133">Beachten Sie, dass der Gültigkeitsbereich der Cloud und der Gültigkeitsbereich der Zusammenarbeitsanwendung möglicherweise nicht identisch sind.</span><span class="sxs-lookup"><span data-stu-id="e3970-133">Note that cloud scope may not be the same as collaboration application scope.</span></span>  
  
 <span data-ttu-id="e3970-134">Peers können Interesse am Empfang von Objekten von anderen Peers registrieren.</span><span class="sxs-lookup"><span data-stu-id="e3970-134">Peers can register interest in receiving objects from other peers.</span></span> <span data-ttu-id="e3970-135">Wenn ein Objekt aktualisiert wird, wird die Zusammenarbeitsanwendung benachrichtigt und das neue Objekt an alle Abonnenten der Anwendung übergeben.</span><span class="sxs-lookup"><span data-stu-id="e3970-135">When an object is updated, the collaboration application is notified and the new object is passed to all subscribers of the application.</span></span> <span data-ttu-id="e3970-136">Ein Peer in einer Gruppenchatanwendung kann z.B. Interesse an Anwendungsinformationen registrieren, wodurch er alle Chatdatensätze als Anwendungsdaten erhält.</span><span class="sxs-lookup"><span data-stu-id="e3970-136">For example, a peer in a group chat application can register interest in receiving application information, which will send it all chat records as application data.</span></span>  <span data-ttu-id="e3970-137">Dadurch kann er die Chataktivität in der Cloud überwachen.</span><span class="sxs-lookup"><span data-stu-id="e3970-137">This allows it to monitor chat activity within the cloud.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="e3970-138">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="e3970-138">See also</span></span>

- <xref:System.Net.PeerToPeer>
