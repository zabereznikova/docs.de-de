---
title: Verwenden von Aktionen zum Implementieren des serverseitigen Verhaltens
ms.date: 03/30/2017
ms.assetid: 11a372db-7168-498b-80d2-9419ff557ba5
ms.openlocfilehash: 515553540053ed0c16085fde06e2cc2d2dedda1e
ms.sourcegitcommit: ad99773e5e45068ce03b99518008397e1299e0d1
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/22/2018
ms.locfileid: "46697775"
---
# <a name="using-actions-to-implement-server-side-behavior"></a><span data-ttu-id="57ce8-102">Verwenden von Aktionen zum Implementieren des serverseitigen Verhaltens</span><span class="sxs-lookup"><span data-stu-id="57ce8-102">Using actions to implement server-side behavior</span></span>

<span data-ttu-id="57ce8-103">OData-Aktionen bieten eine Möglichkeit, ein Verhalten für eine aus einem OData-Dienst abgerufene Ressource zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="57ce8-103">OData Actions provide a way to implement a behavior that acts upon a resource retrieved from an OData service.</span></span> <span data-ttu-id="57ce8-104">Nehmen wir als Beispiel für eine Ressource einen digitalen Film, den Sie auf viele verschiedene Weisen verwenden können: Auschecken, Bewerten/Kommentieren oder Einchecken.</span><span class="sxs-lookup"><span data-stu-id="57ce8-104">For example consider a digital movie as a resource, there are many things you may do with a digital movie: check-out, rate/comment, or check-in.</span></span> <span data-ttu-id="57ce8-105">Das alles sind Beispiele für Aktionen, die von einem WCF Data Service implementiert werden können, der digitale Filme verwaltet.</span><span class="sxs-lookup"><span data-stu-id="57ce8-105">These are all examples of Actions that may be implemented by a WCF Data Service that manages digital movies.</span></span> <span data-ttu-id="57ce8-106">Aktionen werden in einer OData-Antwort beschrieben, die eine Ressource enthält, für die die Aktion aufgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="57ce8-106">Actions are described in an OData response that contains a resource on which the Action can be invoked.</span></span> <span data-ttu-id="57ce8-107">Wenn ein Benutzer eine Ressource anfordert, die einen digitalen Film darstellt, enthält die vom WCF Data Service zurückgegebene Antwort Informationen zu den Aktionen, die für diese Ressource verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="57ce8-107">When a user requests a resource that represents a digital movie the response returned from the WCF Data Service contains information about the Actions that are available for that resource.</span></span> <span data-ttu-id="57ce8-108">Die Verfügbarkeit einer Aktion kann vom Zustand des Datendienstes oder der Ressource abhängen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-108">The availability of an Action can depend on the state of the data service or resource.</span></span> <span data-ttu-id="57ce8-109">Nachdem ein digitaler Film beispielsweise ausgecheckt wurde, kann er nicht von einem weiteren Benutzer ausgecheckt werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-109">For example once a digital movie is checked out it cannot be checked out by another user.</span></span> <span data-ttu-id="57ce8-110">Clients können eine Aktion aufrufen, indem sie einfach eine URL angeben.</span><span class="sxs-lookup"><span data-stu-id="57ce8-110">Clients can invoke an action simply by specifying a URL.</span></span> <span data-ttu-id="57ce8-111">Z. B. `http://MyServer/MovieService.svc/Movies(6)` würde einen bestimmten digitalen Film identifiziert und `http://MyServer/MovieService.svc/Movies(6)/Checkout` würde die Aktion für den jeweiligen Film aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-111">For example, `http://MyServer/MovieService.svc/Movies(6)` would identify a specific digital movie and `http://MyServer/MovieService.svc/Movies(6)/Checkout` would invoke the action on the specific movie.</span></span> <span data-ttu-id="57ce8-112">Mithilfe von Aktionen ist es möglich, das Dienstmodell ohne das Datenmodell verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-112">Actions allow you to expose you service model without exposing your data model.</span></span> <span data-ttu-id="57ce8-113">Wir bleiben beim Beispiel mit dem Filmportal: Stellen Sie sich vor, dass Sie einem Benutzer die Bewertung eines Films ermöglichen möchten, ohne die Bewertungsdaten jedoch direkt als Ressource verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-113">Continuing with the movie service example, you may wish to allow a user to rate a movie, but not directly expose the rating data as a resource.</span></span> <span data-ttu-id="57ce8-114">Sie könnten eine Bewertungsaktion implementieren, um dem Benutzer die Bewertung eines Films zu erlauben, ohne dass auf die Bewertungsdaten direkt als Ressource zugegriffen wird.</span><span class="sxs-lookup"><span data-stu-id="57ce8-114">You could implement a Rate Action to allow the user to rate a movie but not directly access the rating data as a resource.</span></span>
  
## <a name="implementing-an-action"></a><span data-ttu-id="57ce8-115">Implementieren einer Aktion</span><span class="sxs-lookup"><span data-stu-id="57ce8-115">Implementing an action</span></span>  
 <span data-ttu-id="57ce8-116">Zum Implementieren einer Dienstaktion müssen Sie implementieren die <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), und [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-116">To implement a service action you must implement the <xref:System.IServiceProvider>, [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx), and [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) interfaces.</span></span> <span data-ttu-id="57ce8-117"><xref:System.IServiceProvider> ermöglicht es WCF Data Services zum Abrufen der Implementierung von [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span><span class="sxs-lookup"><span data-stu-id="57ce8-117"><xref:System.IServiceProvider> allows WCF Data Services to get your implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx).</span></span> <span data-ttu-id="57ce8-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) sind WCF Data Services zu erstellen, suchen, zu beschreiben und Aufrufen von Dienstaktionen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-118">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) allows WCF Data Services to create, find, describe and invoke service actions.</span></span> <span data-ttu-id="57ce8-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) können Sie Sie rufen Sie den Code, der Dienstaktionen Verhalten implementiert, und rufen Sie die Ergebnisse, sofern vorhanden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-119">[IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) allows you to invoke the code that implements the service actions’ behavior and get the results, if any.</span></span> <span data-ttu-id="57ce8-120">Bedenken Sie, dass die WCF Data Services pro Aufruf berechnet werden. Bei jedem Aufruf des Dienstes wird eine neue Dienstinstanz erstellt.</span><span class="sxs-lookup"><span data-stu-id="57ce8-120">Keep in mind that WCF Data Services are Per-Call WCF Services, a new instance of the service will be created each time the service is called.</span></span>  <span data-ttu-id="57ce8-121">Stellen Sie sicher, dass mit dem Dienst keine unnötigen Arbeiten ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-121">Make sure no unnecessary work is done when the service is created.</span></span>  
  
### <a name="iserviceprovider"></a><span data-ttu-id="57ce8-122">IServiceProvider</span><span class="sxs-lookup"><span data-stu-id="57ce8-122">IServiceProvider</span></span>  
 <span data-ttu-id="57ce8-123"><xref:System.IServiceProvider> enthält eine Methode mit dem Namen <xref:System.IServiceProvider.GetService%2A>.</span><span class="sxs-lookup"><span data-stu-id="57ce8-123"><xref:System.IServiceProvider> contains a method called <xref:System.IServiceProvider.GetService%2A>.</span></span> <span data-ttu-id="57ce8-124">Diese Methode wird von den WCF Data Services aufgerufen, um eine Reihe von Dienstanbietern abzurufen, einschließlich Anbietern von Metadatendiensten und Anbietern von Datendienstaktionen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-124">This method is called by WCF Data Services to retrieve a number of service providers, including metadata service providers and data service action providers.</span></span> <span data-ttu-id="57ce8-125">Wenn Sie aufgefordert, einen Datendienstanbieter für die Aktion, zurückgeben Ihre [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) Implementierung.</span><span class="sxs-lookup"><span data-stu-id="57ce8-125">When asked for a data service action provider, return your [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) implementation.</span></span>  
  
### <a name="idataserviceactionprovider"></a><span data-ttu-id="57ce8-126">IDataServiceActionProvider</span><span class="sxs-lookup"><span data-stu-id="57ce8-126">IDataServiceActionProvider</span></span>  
 <span data-ttu-id="57ce8-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) enthält Methoden, mit denen Sie Informationen zu den verfügbaren Aktionen abrufen können.</span><span class="sxs-lookup"><span data-stu-id="57ce8-127">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) contains methods that allow you to retrieve information about the available actions.</span></span> <span data-ttu-id="57ce8-128">Bei der Implementierung [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) erweitern Sie die Metadaten für den Dienst, der durch die Implementierung des Diensts definiert ist [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) mit Aktionen und behandeln die Verteilung an diese Aktionen nach Bedarf.</span><span class="sxs-lookup"><span data-stu-id="57ce8-128">When you implement [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) you are augmenting the metadata for your service which is defined by your service’s implementation of [IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider(v=vs.113).aspx) with Actions and handling dispatch to those actions as appropriate.</span></span>  
  
#### <a name="advertiseserviceaction"></a><span data-ttu-id="57ce8-129">AdvertiseServiceAction</span><span class="sxs-lookup"><span data-stu-id="57ce8-129">AdvertiseServiceAction</span></span>  
 <span data-ttu-id="57ce8-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) wird aufgerufen, um zu bestimmen, welche Aktionen für die angegebene Ressource verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="57ce8-130">[IDataServiceActionProvider](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.advertiseserviceaction(v=vs.113).aspx) is called to determine what actions are available for the specified resource.</span></span> <span data-ttu-id="57ce8-131">Diese Methode wird nur für Aktionen aufgerufen, die nicht immer verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="57ce8-131">This method is only called for actions that are not always available.</span></span> <span data-ttu-id="57ce8-132">Anhand der Methode wird überprüft, ob die Aktion in der OData-Antwort enthalten sein soll. Dies hängt jeweils vom Zustand der angeforderten Ressource bzw. dem Zustand des Dienstes ab.</span><span class="sxs-lookup"><span data-stu-id="57ce8-132">It is used to check if the action should be included in the OData response based upon the state of the resource being requested or the state of the service.</span></span> <span data-ttu-id="57ce8-133">Wie Sie dies überprüfen, liegt völlig in Ihrer Hand.</span><span class="sxs-lookup"><span data-stu-id="57ce8-133">How this check is accomplished is completely up to you.</span></span> <span data-ttu-id="57ce8-134">Wenn die Berechnung der Verfügbarkeit zu kostspielig ist und sich die aktuelle Ressource in einem Feed befindet, kann die Überprüfung auch übersprungen und die Aktion angekündigt werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-134">If it is an expensive to calculate availability and the current resource is in a feed, it is acceptable to skip the check and advertise the action.</span></span> <span data-ttu-id="57ce8-135">Der `inFeed`-Parameter ist auf `true` festgelegt, wenn die aktuelle, zurückgegebene Ressource Teil eines Feeds ist.</span><span class="sxs-lookup"><span data-stu-id="57ce8-135">The `inFeed` parameter is set to `true` if the current resource being returned is part of a feed.</span></span>  
  
#### <a name="createinvokable"></a><span data-ttu-id="57ce8-136">CreateInvokable</span><span class="sxs-lookup"><span data-stu-id="57ce8-136">CreateInvokable</span></span>  
 <span data-ttu-id="57ce8-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) wird aufgerufen, um das Erstellen einer [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) , enthält ein Delegat, den Code kapselt, die das Verhalten der Aktion implementiert.</span><span class="sxs-lookup"><span data-stu-id="57ce8-137">[CreateInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceactionprovider.createinvokable(v=vs.113).aspx) is called to create a [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) that contains a delegate that encapsulates the code that implements the action’s behavior.</span></span> <span data-ttu-id="57ce8-138">Dies erstellt die [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) Instanz jedoch nicht die Aktion aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-138">This creates the [IDataServiceInvokable](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable(v=vs.113).aspx) instance but does not invoke the action.</span></span> <span data-ttu-id="57ce8-139">Die Aktionen von WCF Data Services weisen Nebeneffekte auf und sind auf den Updateanbieter angewiesen, um diese Änderungen auf dem Datenträger zu speichern.</span><span class="sxs-lookup"><span data-stu-id="57ce8-139">WCF Data Service Actions have side effects and need to work in conjunction with the Update Provider to save those changes to disk.</span></span> <span data-ttu-id="57ce8-140">Die [IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) Methode wird aufgerufen, von der SaveChanges()-Methode des Updateanbieters aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-140">The [IDataServiceInvokable.Invoke](https://msdn.microsoft.com/library/system.data.services.providers.idataserviceinvokable.invoke(v=vs.113).aspx) method is called from the Update Provider’s SaveChanges() method is called.</span></span>  
  
#### <a name="getserviceactions"></a><span data-ttu-id="57ce8-141">GetServiceActions</span><span class="sxs-lookup"><span data-stu-id="57ce8-141">GetServiceActions</span></span>  
 <span data-ttu-id="57ce8-142">Diese Methode gibt eine Auflistung von [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) Instanzen, die alle Aktionen darstellen, einen WCF-Datendienst verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="57ce8-142">This method returns a collection of [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that represent all of the actions a WCF Data Service exposes.</span></span> <span data-ttu-id="57ce8-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) ist die Metadatendarstellung einer Aktion, die Informationen wie der Name der Aktion, die Parameter und Rückgabetyp enthält.</span><span class="sxs-lookup"><span data-stu-id="57ce8-143">[ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is the metadata representation of an Action, that includes information like the Action name, its parameters, and its return type.</span></span>  
  
#### <a name="getserviceactionsbybindingparametertype"></a><span data-ttu-id="57ce8-144">GetServiceActionsByBindingParameterType</span><span class="sxs-lookup"><span data-stu-id="57ce8-144">GetServiceActionsByBindingParameterType</span></span>  
 <span data-ttu-id="57ce8-145">Diese Methode gibt eine Auflistung aller [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) -Instanzen, die an den angegebenen bindungsparametertyp gebunden werden können.</span><span class="sxs-lookup"><span data-stu-id="57ce8-145">This method returns a collection of all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) instances that can be bound to the specified binding parameter type.</span></span> <span data-ttu-id="57ce8-146">Das heißt, alle [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s, die auf dem angegebenen Ressourcentyp (auch als bindungsparametertyp bezeichnet) zugreifen kann. Wird verwendet, wenn der Dienst eine Ressource zurückgegeben wird, um Informationen über Aktionen einzuschließen, die anhand dieser Ressource aufgerufen werden können.</span><span class="sxs-lookup"><span data-stu-id="57ce8-146">In other words, all [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx)s that can act on the specified resource type (also called binding parameter type).This is used when the service returns a resource in order to include information about Actions that can be invoked against that resource.</span></span> <span data-ttu-id="57ce8-147">Diese Methode sollte nur Aktionen zurückgeben, die an den exakten Bindungsparametertyp (keine abgeleiteten Typen) gebunden werden können.</span><span class="sxs-lookup"><span data-stu-id="57ce8-147">This method should only return actions that can bind to the exact binding parameter type (no derived types).</span></span> <span data-ttu-id="57ce8-148">Die Methode wird einmal pro Anforderung jedes gefundenen Typs aufgerufen, und das Ergebnis wird von WCF Data Services zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="57ce8-148">This method is called once per request per type encountered and the result is cached by WCF Data Services.</span></span>  
  
#### <a name="tryresolveserviceaction"></a><span data-ttu-id="57ce8-149">TryResolveServiceAction</span><span class="sxs-lookup"><span data-stu-id="57ce8-149">TryResolveServiceAction</span></span>  
 <span data-ttu-id="57ce8-150">Diese Methode sucht nach einem angegebenen [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) und gibt `true` Wenn die [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="57ce8-150">This method searches for a specified [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) and returns `true` if the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is found.</span></span> <span data-ttu-id="57ce8-151">Wenn gefunden, die [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) wird zurückgegeben, der `serviceAction` `out` Parameter.</span><span class="sxs-lookup"><span data-stu-id="57ce8-151">If found, the [ServiceAction](https://msdn.microsoft.com/library/system.data.services.providers.serviceaction(v=vs.113).aspx) is returned in the `serviceAction` `out` parameter.</span></span>  
  
### <a name="idataserviceinvokable"></a><span data-ttu-id="57ce8-152">IDataServiceInvokable</span><span class="sxs-lookup"><span data-stu-id="57ce8-152">IDataServiceInvokable</span></span>  
 <span data-ttu-id="57ce8-153">Diese Schnittstelle bietet eine Möglichkeit zur Ausführung einer WCF Data Service-Aktion.</span><span class="sxs-lookup"><span data-stu-id="57ce8-153">This interface provides a way to execute a WCF Data Service Action.</span></span> <span data-ttu-id="57ce8-154">Beim Implementieren von IDataServiceInvokable sind drei Dinge zu beachten:</span><span class="sxs-lookup"><span data-stu-id="57ce8-154">When implementing IDataServiceInvokable you are responsible for 3 things:</span></span>  
  
1.  <span data-ttu-id="57ce8-155">Erfassen und potenzielles Marshallen der Parameter</span><span class="sxs-lookup"><span data-stu-id="57ce8-155">Capturing and potentially marshaling the parameters</span></span>  
  
2.  <span data-ttu-id="57ce8-156">Verteilen der Parameter an den Code, durch den die Aktion beim Aufruf von Invoke() tatsächlich implementiert wird</span><span class="sxs-lookup"><span data-stu-id="57ce8-156">Dispatching the parameters to the code that actually implements the Action when Invoke() is called</span></span>  
  
3.  <span data-ttu-id="57ce8-157">Speichern der Ergebnisse von Invoke(), sodass sie mit GetResult() abgerufen werden können</span><span class="sxs-lookup"><span data-stu-id="57ce8-157">Storing any results from Invoke() so they can be retrieved using GetResult()</span></span>  
  
 <span data-ttu-id="57ce8-158">Die Parameter können als Token übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-158">The parameters may be passed as tokens.</span></span> <span data-ttu-id="57ce8-159">Das liegt daran, dass ein Datendienstanbieter mit Unterstützung für Token geschrieben werden kann, die Ressourcen darstellen. In diesem Fall müssen die Token u. U. in tatsächliche Ressourcen konvertiert (gemarshallt) werden, bevor sie an die tatsächliche Aktion verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-159">This is because it is possible to write a Data Service Provider that works with tokens that represent resources, if this is the case you may need to convert (marshal) these tokens into actual resources before dispatching to the actual action.</span></span> <span data-ttu-id="57ce8-160">Nachdem der Parameter gemarshallt wurde, muss er sich in einem bearbeitbaren Zustand befinden, damit alle Änderungen an der Ressource, die beim Aufrufen der Aktion auftreten, gespeichert und auf den Datenträger geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="57ce8-160">After the parameter has been marshalled, it must be in an editable state so that any changes to the resource that occur when the action is invoked will be saved and written to disk.</span></span>  
  
 <span data-ttu-id="57ce8-161">Diese Schnittstelle erfordert zwei Methoden: Invoke und GetResult.</span><span class="sxs-lookup"><span data-stu-id="57ce8-161">This interface requires two methods: Invoke and GetResult.</span></span> <span data-ttu-id="57ce8-162">Mit Invoke wird der Delegat aufgerufen, der das Verhalten der Aktion implementiert, und GetResult gibt das Ergebnis der Aktion zurück.</span><span class="sxs-lookup"><span data-stu-id="57ce8-162">Invoke invokes the delegate that implements the action’s behavior and GetResult returns the result of the action.</span></span>  
  
## <a name="invoking-a-wcf-data-service-action"></a><span data-ttu-id="57ce8-163">Aufrufen einer WCF Data Service-Aktion</span><span class="sxs-lookup"><span data-stu-id="57ce8-163">Invoking a WCF Data Service Action</span></span>  
 <span data-ttu-id="57ce8-164">Aktionen werden mithilfe einer HTTP POST-Anforderung aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-164">Actions are invoked using an HTTP POST request.</span></span> <span data-ttu-id="57ce8-165">In der URL wird die Ressource gefolgt vom Aktionsnamen angegeben.</span><span class="sxs-lookup"><span data-stu-id="57ce8-165">The URL specifies the resource followed by the action name.</span></span> <span data-ttu-id="57ce8-166">Parameter werden im Textkörper der Anforderung übergeben.</span><span class="sxs-lookup"><span data-stu-id="57ce8-166">Parameters are passed in the body of the request.</span></span> <span data-ttu-id="57ce8-167">Stellen Sie sich z. B. einen Dienst mit dem Namen MovieService vor, der die Bewertungsaktion (Rate) verfügbar macht.</span><span class="sxs-lookup"><span data-stu-id="57ce8-167">For example if there was a service called MovieService which exposed an action called Rate.</span></span> <span data-ttu-id="57ce8-168">Sie sollten die folgende URL verwenden, um die Bewertungsaktion (Rate) für einen bestimmten Film aufzurufen:</span><span class="sxs-lookup"><span data-stu-id="57ce8-168">You could use the following URL to invoke the Rate action on a specific movie:</span></span>  
  
 `http://MovieServer/MovieService.svc/Movies(1)/Rate`
  
 <span data-ttu-id="57ce8-169">Movies(1) gibt den Film an, den Sie bewerten möchten, und Rate die Bewertungsaktion.</span><span class="sxs-lookup"><span data-stu-id="57ce8-169">Movies(1) specifies the movie you wish to rate and Rate specifies the Rate action.</span></span> <span data-ttu-id="57ce8-170">Der tatsächliche Wert der Bewertung befindet sich im Textkörper der HTTP-Anforderung, wie im folgenden Beispiel dargestellt:</span><span class="sxs-lookup"><span data-stu-id="57ce8-170">The actual value of the rating will be in the body of the HTTP request as shown in the following example:</span></span>  
  
```  
POST http://MovieServer/MoviesService.svc/Movies(1)/Rate HTTP/1.1   
Content-Type: application/json   
Content-Length: 20   
Host: localhost:15238  
{   
   "rating": 4   
}  
```  
  
> [!WARNING]
> <span data-ttu-id="57ce8-171">Der oben angegebene Beispielcode funktioniert nur mit WCF Data Services 5.2 und höher, da diese Versionen Unterstützung für JSON Light bieten.</span><span class="sxs-lookup"><span data-stu-id="57ce8-171">The above sample code will work only with WCF Data Services 5.2 and later which has support for JSON light.</span></span> <span data-ttu-id="57ce8-172">Wenn Sie eine frühere Version von WCF Data Services verwenden, müssen Sie den Inhaltstyp für "json verbose" wie folgt angeben: `application/json;odata=verbose`.</span><span class="sxs-lookup"><span data-stu-id="57ce8-172">If using an earlier version of WCF Data Services, you must specify the json verbose content-type as follows: `application/json;odata=verbose`.</span></span>  
  
 <span data-ttu-id="57ce8-173">Alternativ können Sie eine Aktion mit dem WCF Data Services-Client aufrufen, wie im folgenden Codeausschnitt dargestellt.</span><span class="sxs-lookup"><span data-stu-id="57ce8-173">Alternatively you can invoke an action using the WCF Data Services Client as shown in the following code snippet.</span></span>  
  
```csharp
MoviesModel context = new MoviesModel (new Uri("http://MyServer/MoviesService.svc/"));  
//...  
context.Execute(new Uri("http://MyServer/MoviesService.svc/Movies(1)/Rate"), "POST", new BodyOperationParameter("rating",4) );
```
  
 <span data-ttu-id="57ce8-174">Im oben angegebenen Codeausschnitt wurde die `MoviesModel`-Klasse von Visual Studio generiert, um einem WCF Data Service einen Dienstverweis hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="57ce8-174">In the code snippet above, the `MoviesModel` class was generated by using Visual Studio to Add Service Reference to a WCF Data Service.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="57ce8-175">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="57ce8-175">See Also</span></span>  
 [<span data-ttu-id="57ce8-176">WCF Data Services 4.5</span><span class="sxs-lookup"><span data-stu-id="57ce8-176">WCF Data Services 4.5</span></span>](../../../../docs/framework/data/wcf/index.md)  
 [<span data-ttu-id="57ce8-177">Defining WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="57ce8-177">Defining WCF Data Services</span></span>](../../../../docs/framework/data/wcf/defining-wcf-data-services.md)  
 [<span data-ttu-id="57ce8-178">Entwickeln und Bereitstellen von WCF Data Services</span><span class="sxs-lookup"><span data-stu-id="57ce8-178">Developing and Deploying WCF Data Services</span></span>](../../../../docs/framework/data/wcf/developing-and-deploying-wcf-data-services.md)  
 [<span data-ttu-id="57ce8-179">Benutzerdefinierte Datendienstanbieter</span><span class="sxs-lookup"><span data-stu-id="57ce8-179">Custom Data Service Providers</span></span>](../../../../docs/framework/data/wcf/custom-data-service-providers-wcf-data-services.md)
