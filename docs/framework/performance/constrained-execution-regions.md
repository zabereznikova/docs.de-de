---
title: Eingeschränkte Ausführungsbereiche (CERs)
ms.date: 03/30/2017
helpviewer_keywords:
- constrained execution regions
- CERs
ms.assetid: 99354547-39c1-4b0b-8553-938e8f8d1808
ms.openlocfilehash: 3161f77399030c287649ee5757814963b6afb7cf
ms.sourcegitcommit: 358a28048f36a8dca39a9fe6e6ac1f1913acadd5
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/23/2020
ms.locfileid: "85247726"
---
# <a name="constrained-execution-regions"></a><span data-ttu-id="f06f4-102">Eingeschränkte Ausführungsbereiche (CERs)</span><span class="sxs-lookup"><span data-stu-id="f06f4-102">Constrained Execution Regions</span></span>
<span data-ttu-id="f06f4-103">Ein eingeschränkter Ausführungsbereich (Constrained Execution Region, CER) ist Bestandteil eines Mechanismus zum Erstellen von zuverlässigem verwaltetem Code.</span><span class="sxs-lookup"><span data-stu-id="f06f4-103">A constrained execution region (CER) is part of a mechanism for authoring reliable managed code.</span></span> <span data-ttu-id="f06f4-104">Mit einem CER wird ein Bereich definiert, in dem die Common Language Runtime (CLR) keine Out-of-Band-Ausnahmen auslösen kann, die verhindern würden, dass der Code in dem Bereich vollständig ausgeführt werden würde.</span><span class="sxs-lookup"><span data-stu-id="f06f4-104">A CER defines an area in which the common language runtime (CLR) is constrained from throwing out-of-band exceptions that would prevent the code in the area from executing in its entirety.</span></span> <span data-ttu-id="f06f4-105">Benutzercode kann innerhalb dieses Bereichs keinen Code ausführen, der zum Auslösen von Out-of-Band-Ausnahmen führen könnte.</span><span class="sxs-lookup"><span data-stu-id="f06f4-105">Within that region, user code is constrained from executing code that would result in the throwing of out-of-band exceptions.</span></span> <span data-ttu-id="f06f4-106">Die <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A>-Methode muss einem `try`-Block unmittelbar vorangestellt sein. Sie markiert die Blöcke `catch`, `finally` und `fault` als eingeschränkte Anwendungsbereiche.</span><span class="sxs-lookup"><span data-stu-id="f06f4-106">The <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method must immediately precede a `try` block and marks `catch`, `finally`, and `fault` blocks as constrained execution regions.</span></span> <span data-ttu-id="f06f4-107">Wenn Code als eingeschränkter Bereich markiert ist, muss er nur anderen Code mit starken Zuverlässigkeitsvereinbarungen aufrufen. Code sollte keine unvorbereiteten oder nicht zuverlässigen Methoden zuordnen oder virtuelle Aufrufe für diese vornehmen, es sei denn, der Code ist für die Behandlung von Fehlern ausgelegt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-107">Once marked as a constrained region, code must only call other code with strong reliability contracts, and code should not allocate or make virtual calls to unprepared or unreliable methods unless the code is prepared to handle failures.</span></span> <span data-ttu-id="f06f4-108">Die CLR verzögert Threadabbrüche für Code, der in einem eingeschränkten Ausführungsbereich ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="f06f4-108">The CLR delays thread aborts for code that is executing in a CER.</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="f06f4-109">CER wird nur in .NET Framework unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-109">CER is only supported in .NET Framework.</span></span> <span data-ttu-id="f06f4-110">Dieser Artikel gilt nicht für .net Core oder .net 5 und höher.</span><span class="sxs-lookup"><span data-stu-id="f06f4-110">This article doesn't apply to .NET Core or .NET 5 and above.</span></span>

 <span data-ttu-id="f06f4-111">Eingeschränkte Ausführungsbereiche werden in der CLR auf unterschiedliche Weise als Ergänzung zu einem `try`-Block mit Anmerkungen verwendet, insbesondere von entscheidenden Finalizern, die in Klassen ausgeführt werden, die von der <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject>-Klasse abgeleitet sind, und von Code, der über die <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A>-Methode ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="f06f4-111">Constrained execution regions are used in different forms in the CLR in addition to an annotated `try` block, notably critical finalizers executing in classes derived from the <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> class and code executed using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method.</span></span>  
  
## <a name="cer-advance-preparation"></a><span data-ttu-id="f06f4-112">CER-Vorbereitung</span><span class="sxs-lookup"><span data-stu-id="f06f4-112">CER Advance Preparation</span></span>  
 <span data-ttu-id="f06f4-113">Die Common Language Runtime bereitet CERs vorab vor, um Problemen aufgrund von ungenügendem Arbeitsspeicher vorzubeugen.</span><span class="sxs-lookup"><span data-stu-id="f06f4-113">The CLR prepares CERs in advance to avoid out-of-memory conditions.</span></span> <span data-ttu-id="f06f4-114">Dies ist erforderlich, um zu verhindern, dass die Common Language Runtime bei der JIT-Kompilierung oder beim Laden der Typen einen Arbeitsspeichermangel verursacht.</span><span class="sxs-lookup"><span data-stu-id="f06f4-114">Advance preparation is required so the CLR does not cause an out of memory condition during just-in-time compilation or type loading.</span></span>  
  
 <span data-ttu-id="f06f4-115">Der Entwickler muss angeben, dass ein Codebereich ein CER ist:</span><span class="sxs-lookup"><span data-stu-id="f06f4-115">The developer is required to indicate that a code region is a CER:</span></span>  
  
- <span data-ttu-id="f06f4-116">Der oberste CER-Bereich und die Methoden im vollständigen Aufrufdiagramm, auf die das <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute>-Attribut angewendet wurde, werden vorab vorbereitet.</span><span class="sxs-lookup"><span data-stu-id="f06f4-116">The top level CER region and methods in the full call graph that have the <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> attribute applied are prepared in advance.</span></span> <span data-ttu-id="f06f4-117">Das <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> kann nur Garantien für <xref:System.Runtime.ConstrainedExecution.Cer.Success> oder <xref:System.Runtime.ConstrainedExecution.Cer.MayFail> angeben.</span><span class="sxs-lookup"><span data-stu-id="f06f4-117">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> can only state guarantees of <xref:System.Runtime.ConstrainedExecution.Cer.Success> or <xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span>  
  
- <span data-ttu-id="f06f4-118">Aufrufe, die nicht statisch ermittelt werden können, z.B. ein virtueller Dispatch, können nicht vorab vorbereitet werden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-118">Advance preparation cannot be performed for calls that cannot be statically determined, such as virtual dispatch.</span></span> <span data-ttu-id="f06f4-119">Verwenden Sie in diesen Fällen die <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="f06f4-119">Use the <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareMethod%2A> method in these cases.</span></span> <span data-ttu-id="f06f4-120">Bei der Verwendung der <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A>-Methode muss das <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute>-Attribut auf den Bereinigungscode angewendet werden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-120">When using the <xref:System.Runtime.CompilerServices.RuntimeHelpers.ExecuteCodeWithGuaranteedCleanup%2A> method, the <xref:System.Runtime.ConstrainedExecution.PrePrepareMethodAttribute> attribute should be applied to the clean up code.</span></span>  
  
## <a name="constraints"></a><span data-ttu-id="f06f4-121">Einschränkungen</span><span class="sxs-lookup"><span data-stu-id="f06f4-121">Constraints</span></span>  
 <span data-ttu-id="f06f4-122">Benutzer können in einem CER nur bestimmte Arten von Code schreiben.</span><span class="sxs-lookup"><span data-stu-id="f06f4-122">Users are constrained in the type of code they can write in a CER.</span></span> <span data-ttu-id="f06f4-123">Der Code darf keine Out-of-Band-Ausnahme verursachen, die z.B. aufgrund der folgenden Vorgänge auftreten könnten:</span><span class="sxs-lookup"><span data-stu-id="f06f4-123">The code cannot cause an out-of-band exception, such as might result from the following operations:</span></span>  
  
- <span data-ttu-id="f06f4-124">Explizite Zuordnung.</span><span class="sxs-lookup"><span data-stu-id="f06f4-124">Explicit allocation.</span></span>  
  
- <span data-ttu-id="f06f4-125">Boxing.</span><span class="sxs-lookup"><span data-stu-id="f06f4-125">Boxing.</span></span>  
  
- <span data-ttu-id="f06f4-126">Erhalten einer Sperre.</span><span class="sxs-lookup"><span data-stu-id="f06f4-126">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="f06f4-127">Virtuelles Aufrufen unvorbereiteter Methoden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-127">Calling unprepared methods virtually.</span></span>  
  
- <span data-ttu-id="f06f4-128">Aufrufen von Methoden mit einer schwachen oder nicht vorhandenen Zuverlässigkeitsvereinbarung.</span><span class="sxs-lookup"><span data-stu-id="f06f4-128">Calling methods with a weak or nonexistent reliability contract.</span></span>  
  
 <span data-ttu-id="f06f4-129">In .NET Framework Version 2.0 sind diese Einschränkungen Richtlinien.</span><span class="sxs-lookup"><span data-stu-id="f06f4-129">In the .NET Framework version 2.0, these constraints are guidelines.</span></span> <span data-ttu-id="f06f4-130">Diagnosen werden anhand von Codeanalysetools bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-130">Diagnostics are provided through code analysis tools.</span></span>  
  
## <a name="reliability-contracts"></a><span data-ttu-id="f06f4-131">Zuverlässigkeitsvereinbarungen</span><span class="sxs-lookup"><span data-stu-id="f06f4-131">Reliability Contracts</span></span>  
 <span data-ttu-id="f06f4-132">Das <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> ist ein benutzerdefiniertes Attribut, das die Zuverlässigkeitsgarantien und den Beschädigungszustand einer bestimmten Methode angibt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-132">The <xref:System.Runtime.ConstrainedExecution.ReliabilityContractAttribute> is a custom attribute that documents the reliability guarantees and the corruption state of a given method.</span></span>  
  
### <a name="reliability-guarantees"></a><span data-ttu-id="f06f4-133">Zuverlässigkeitsgarantien</span><span class="sxs-lookup"><span data-stu-id="f06f4-133">Reliability Guarantees</span></span>  
 <span data-ttu-id="f06f4-134">Durch <xref:System.Runtime.ConstrainedExecution.Cer>-Enumerationswerte dargestellte Zuverlässigkeitsgarantien geben den Grad der Zuverlässigkeit einer bestimmten Methode an:</span><span class="sxs-lookup"><span data-stu-id="f06f4-134">Reliability guarantees, represented by <xref:System.Runtime.ConstrainedExecution.Cer> enumeration values, indicate the degree of reliability of a given method:</span></span>  
  
- <span data-ttu-id="f06f4-135"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-135"><xref:System.Runtime.ConstrainedExecution.Cer.MayFail>.</span></span> <span data-ttu-id="f06f4-136">Die Methode kann unter Ausnahmebedingungen fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="f06f4-136">Under exceptional conditions, the method might fail.</span></span> <span data-ttu-id="f06f4-137">In diesem Fall meldet die Methode der aufrufenden Methode, ob sie erfolgreich ausgeführt wurde oder fehlschlug.</span><span class="sxs-lookup"><span data-stu-id="f06f4-137">In this case, the method reports back to the calling method whether it succeeded or failed.</span></span> <span data-ttu-id="f06f4-138">Die Methode muss sich in einem CER befinden, um die Meldung des Rückgabewerts zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="f06f4-138">The method must be contained in a CER to ensure that it can report the return value.</span></span>  
  
- <span data-ttu-id="f06f4-139"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-139"><xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span> <span data-ttu-id="f06f4-140">Die Methode, der Typ oder die Assembly steht nicht mit einem CER in Zusammenhang und kann höchstwahrscheinlich ohne wirksame Schutzmaßnahmen vor Zustandsbeschädigungen nicht sicher aus einem CER aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-140">The method, type, or assembly has no concept of a CER and is most likely not safe to call within a CER without substantial mitigation from state corruption.</span></span> <span data-ttu-id="f06f4-141">CER-Garantien können nicht genutzt werden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-141">It does not take advantage of CER guarantees.</span></span> <span data-ttu-id="f06f4-142">Dies impliziert Folgendes:</span><span class="sxs-lookup"><span data-stu-id="f06f4-142">This implies the following:</span></span>  
  
    1. <span data-ttu-id="f06f4-143">Die Methode kann unter Ausnahmebedingungen fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="f06f4-143">Under exceptional conditions the method might fail.</span></span>  
  
    2. <span data-ttu-id="f06f4-144">Die Methoden kann Fehler melden oder nicht melden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-144">The method might or might not report that it failed.</span></span>  
  
    3. <span data-ttu-id="f06f4-145">Die Methode ist nicht für die Verwendung eines CER vorgesehen; der wahrscheinlichste Fall.</span><span class="sxs-lookup"><span data-stu-id="f06f4-145">The method is not written to use a CER, the most likely scenario.</span></span>  
  
    4. <span data-ttu-id="f06f4-146">Wenn einer Methode, einem Typ oder einer Assembly nicht explizit Erfolg garantiert wird, wird diese bzw. dieser implizit als <xref:System.Runtime.ConstrainedExecution.Cer.None> erkannt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-146">If a method, type, or assembly is not explicitly identified to succeed, it is implicitly identified as <xref:System.Runtime.ConstrainedExecution.Cer.None>.</span></span>  
  
- <span data-ttu-id="f06f4-147"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-147"><xref:System.Runtime.ConstrainedExecution.Cer.Success>.</span></span> <span data-ttu-id="f06f4-148">Die Methode ist unter Ausnahmebedingungen garantiert erfolgreich.</span><span class="sxs-lookup"><span data-stu-id="f06f4-148">Under exceptional conditions, the method is guaranteed to succeed.</span></span> <span data-ttu-id="f06f4-149">Um eine solche Zuverlässigkeit zu erlangen, müssen Sie immer einen CER um die aufgerufene Methode konstruieren, selbst wenn sie aus einem Bereich aufgerufen wird, der kein CER ist.</span><span class="sxs-lookup"><span data-stu-id="f06f4-149">To achieve this level of reliability you should always construct a CER around the method that is called, even when it is called from within a non-CER region.</span></span> <span data-ttu-id="f06f4-150">Eine Methode ist erfolgreich, wenn sie die vorgegebene Aufgabe erfüllt. Erfolg ist jedoch ein subjektiver Begriff.</span><span class="sxs-lookup"><span data-stu-id="f06f4-150">A method is successful if it accomplishes what is intended, although success can be viewed subjectively.</span></span> <span data-ttu-id="f06f4-151">Ein Beispiel: Count wird mit `ReliabilityContractAttribute(Cer.Success)` markiert. Dies impliziert, dass bei der Ausführung unter einem CER immer ein Wert für die Anzahl von Elementen in der <xref:System.Collections.ArrayList> zurückgegeben wird und die internen Felder niemals in einem unbestimmten Zustand verbleiben.</span><span class="sxs-lookup"><span data-stu-id="f06f4-151">For example, marking Count with `ReliabilityContractAttribute(Cer.Success)` implies that when it is run under a CER, it always returns a count of the number of elements in the <xref:System.Collections.ArrayList> and it can never leave the internal fields in an undetermined state.</span></span>  <span data-ttu-id="f06f4-152">Die <xref:System.Threading.Interlocked.CompareExchange%2A>-Methode ist ebenfalls mit einer Erfolgsgarantie versehen. In diesem Fall kann Erfolg jedoch bedeuten, dass der Wert aufgrund einer Racebedingung nicht durch einen neuen Wert ersetzt werden kann.</span><span class="sxs-lookup"><span data-stu-id="f06f4-152">However, the <xref:System.Threading.Interlocked.CompareExchange%2A> method is marked as success as well, with the understanding that success may mean the value could not be replaced with a new value due to a race condition.</span></span>  <span data-ttu-id="f06f4-153">Die Methode verhält sich genau wie dokumentiert, und beim Schreiben von CER-Code muss nicht von außergewöhnlichem Verhalten ausgegangen werden, das jenseits des Verhaltens von korrektem, aber nicht zuverlässigem Code liegt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-153">The key point is that the method behaves in the way it is documented to behave, and CER code does not need to be written to expect any unusual behavior beyond what correct but unreliable code would look like.</span></span>  
  
### <a name="corruption-levels"></a><span data-ttu-id="f06f4-154">Beschädigungsstufen</span><span class="sxs-lookup"><span data-stu-id="f06f4-154">Corruption levels</span></span>  
 <span data-ttu-id="f06f4-155">Beschädigungsstufen, die durch <xref:System.Runtime.ConstrainedExecution.Consistency>-Enumerationswerte dargestellt werden, geben an, in welchem Ausmaß der Zustand in einer bestimmten Umgebung beschädigt werden kann:</span><span class="sxs-lookup"><span data-stu-id="f06f4-155">Corruption levels, represented by <xref:System.Runtime.ConstrainedExecution.Consistency> enumeration values, indicate how much state may be corrupted in a given environment:</span></span>  
  
- <span data-ttu-id="f06f4-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-156"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptAppDomain>.</span></span> <span data-ttu-id="f06f4-157">Die Common Language Runtime (CLR) kann unter Ausnahmebedingungen die Zustandskonsistenz in der aktuellen Anwendungsdomäne nicht garantieren.</span><span class="sxs-lookup"><span data-stu-id="f06f4-157">Under exceptional conditions, the common language runtime (CLR) makes no guarantees regarding state consistency in the current application domain.</span></span>  
  
- <span data-ttu-id="f06f4-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-158"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptInstance>.</span></span> <span data-ttu-id="f06f4-159">Die Methode beschränkt die Zustandsbeschädigung unter Ausnahmebedingungen garantiert auf die aktuelle Instanz.</span><span class="sxs-lookup"><span data-stu-id="f06f4-159">Under exceptional conditions, the method is guaranteed to limit state corruption to the current instance.</span></span>  
  
- <span data-ttu-id="f06f4-160"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>. Die CLR kann unter Ausnahmebedingungen die Zustandskonsistenz nicht garantieren, d.h., die Bedingung kann den Prozess beschädigen.</span><span class="sxs-lookup"><span data-stu-id="f06f4-160"><xref:System.Runtime.ConstrainedExecution.Consistency.MayCorruptProcess>, Under exceptional conditions, the CLR makes no guarantees regarding state consistency; that is, the condition might corrupt the process.</span></span>  
  
- <span data-ttu-id="f06f4-161"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-161"><xref:System.Runtime.ConstrainedExecution.Consistency.WillNotCorruptState>.</span></span> <span data-ttu-id="f06f4-162">Unter Ausnahmebedingungen beschädigt die Methode den Zustand garantiert nicht.</span><span class="sxs-lookup"><span data-stu-id="f06f4-162">Under exceptional conditions, the method is guaranteed not to corrupt state.</span></span>  
  
## <a name="reliability-trycatchfinally"></a><span data-ttu-id="f06f4-163">Zuverlässigkeit von try/catch/finally-Blöcken</span><span class="sxs-lookup"><span data-stu-id="f06f4-163">Reliability try/catch/finally</span></span>  
 <span data-ttu-id="f06f4-164">Der zuverlässige `try/catch/finally`-Block ist ein Mechanismus für die Ausnahmebehandlung, dessen Vorhersagbarkeitsgarantie der nicht verwalteten Version entspricht.</span><span class="sxs-lookup"><span data-stu-id="f06f4-164">The reliability `try/catch/finally` is an exception handling mechanism with the same level of predictability guarantees as the unmanaged version.</span></span> <span data-ttu-id="f06f4-165">Der `catch/finally`-Block ist der CER.</span><span class="sxs-lookup"><span data-stu-id="f06f4-165">The `catch/finally` block is the CER.</span></span> <span data-ttu-id="f06f4-166">Die Methoden im Block müssen vorab vorbereitet werden und so angelegt sein, dass sie nicht unterbrochen werden können.</span><span class="sxs-lookup"><span data-stu-id="f06f4-166">Methods in the block require advance preparation and must be noninterruptible.</span></span>  
  
 <span data-ttu-id="f06f4-167">In .NET Framework, Version 2.0, meldet der Code der Laufzeit, dass ein try-Block zuverlässig ist, indem er <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> unmittelbar vor diesem aufruft.</span><span class="sxs-lookup"><span data-stu-id="f06f4-167">In the .NET Framework version 2.0, code informs the runtime that a try is reliable by calling <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> immediately preceding a try block.</span></span> <span data-ttu-id="f06f4-168"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> ist ein Member von <xref:System.Runtime.CompilerServices.RuntimeHelpers>, einer Unterstützungsklasse für Compiler.</span><span class="sxs-lookup"><span data-stu-id="f06f4-168"><xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> is a member of <xref:System.Runtime.CompilerServices.RuntimeHelpers>, a compiler support class.</span></span> <span data-ttu-id="f06f4-169">Rufen Sie <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> direkt auf, sofern dies vom Compiler unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="f06f4-169">Call <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> directly pending its availability through compilers.</span></span>  
  
## <a name="noninterruptible-regions"></a><span data-ttu-id="f06f4-170">Nicht unterbrechbare Bereiche</span><span class="sxs-lookup"><span data-stu-id="f06f4-170">Noninterruptible Regions</span></span>  
 <span data-ttu-id="f06f4-171">In einem nicht unterbrechbaren Bereich wird eine Reihe von Anweisungen zu einem CER gruppiert.</span><span class="sxs-lookup"><span data-stu-id="f06f4-171">A noninterruptible region groups a set of instructions into a CER.</span></span>  
  
 <span data-ttu-id="f06f4-172">In .NET Framework, Version 2.0, werden, sofern der Compiler dies unterstützt, im Benutzercode nicht unterbrechbare Bereiche mit einem zuverlässigen try/catch/finally-Block erstellt, der einen leeren try/catch-Block enthält, dem ein <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A>-Methodenaufruf vorausgeht.</span><span class="sxs-lookup"><span data-stu-id="f06f4-172">In .NET Framework version 2.0, pending availability through compiler support, user code creates non-interruptible regions with a reliable try/catch/finally that contains an empty try/catch block preceded by a <xref:System.Runtime.CompilerServices.RuntimeHelpers.PrepareConstrainedRegions%2A> method call.</span></span>  
  
## <a name="critical-finalizer-object"></a><span data-ttu-id="f06f4-173">Entscheidendes Finalizer-Objekt</span><span class="sxs-lookup"><span data-stu-id="f06f4-173">Critical Finalizer Object</span></span>  
 <span data-ttu-id="f06f4-174">Ein <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> garantiert, dass die Garbage Collection den Finalizer ausführt.</span><span class="sxs-lookup"><span data-stu-id="f06f4-174">A <xref:System.Runtime.ConstrainedExecution.CriticalFinalizerObject> guarantees that garbage collection will execute the finalizer.</span></span> <span data-ttu-id="f06f4-175">Der Finalizer und sein Aufrufdiagramm werden nach der Zuordnung vorab vorbereitet.</span><span class="sxs-lookup"><span data-stu-id="f06f4-175">Upon allocation, the finalizer and its call graph are prepared in advance.</span></span> <span data-ttu-id="f06f4-176">Die Finalizermethode wird in einem CER ausgeführt und unterliegt allen Einschränkungen der CERs und Finalizer.</span><span class="sxs-lookup"><span data-stu-id="f06f4-176">The finalizer method executes in a CER, and must obey all the constraints on CERs and finalizers.</span></span>  
  
 <span data-ttu-id="f06f4-177">Für alle Typen, die von <xref:System.Runtime.InteropServices.SafeHandle> und <xref:System.Runtime.InteropServices.CriticalHandle> erben, ist garantiert, dass ihre Finalizer in einem CER ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="f06f4-177">Any types inheriting from <xref:System.Runtime.InteropServices.SafeHandle> and <xref:System.Runtime.InteropServices.CriticalHandle> are guaranteed to have their finalizer execute within a CER.</span></span> <span data-ttu-id="f06f4-178">Implementieren Sie <xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> in von <xref:System.Runtime.InteropServices.SafeHandle> abgeleiteten Klassen, um Code auszuführen, der das Handle freigeben soll.</span><span class="sxs-lookup"><span data-stu-id="f06f4-178">Implement <xref:System.Runtime.InteropServices.SafeHandle.ReleaseHandle%2A> in <xref:System.Runtime.InteropServices.SafeHandle> derived classes to execute any code that is required to free the handle.</span></span>  
  
## <a name="code-not-permitted-in-cers"></a><span data-ttu-id="f06f4-179">In CERs unzulässiger Code</span><span class="sxs-lookup"><span data-stu-id="f06f4-179">Code Not Permitted in CERs</span></span>  
 <span data-ttu-id="f06f4-180">Die folgenden Vorgänge sind in CERs unzulässig:</span><span class="sxs-lookup"><span data-stu-id="f06f4-180">The following operations are not permitted in CERs:</span></span>  
  
- <span data-ttu-id="f06f4-181">Explizite Zuordnungen.</span><span class="sxs-lookup"><span data-stu-id="f06f4-181">Explicit allocations.</span></span>  
  
- <span data-ttu-id="f06f4-182">Erhalten einer Sperre.</span><span class="sxs-lookup"><span data-stu-id="f06f4-182">Acquiring a lock.</span></span>  
  
- <span data-ttu-id="f06f4-183">Boxing.</span><span class="sxs-lookup"><span data-stu-id="f06f4-183">Boxing.</span></span>  
  
- <span data-ttu-id="f06f4-184">Mehrdimensionaler Arrayzugriff.</span><span class="sxs-lookup"><span data-stu-id="f06f4-184">Multidimensional array access.</span></span>  
  
- <span data-ttu-id="f06f4-185">Methodenaufrufe durch Reflektion.</span><span class="sxs-lookup"><span data-stu-id="f06f4-185">Method calls through reflection.</span></span>  
  
- <span data-ttu-id="f06f4-186"><xref:System.Threading.Monitor.Enter%2A> oder <xref:System.IO.FileStream.Lock%2A>.</span><span class="sxs-lookup"><span data-stu-id="f06f4-186"><xref:System.Threading.Monitor.Enter%2A> or <xref:System.IO.FileStream.Lock%2A>.</span></span>  
  
- <span data-ttu-id="f06f4-187">Sicherheitsüberprüfungen</span><span class="sxs-lookup"><span data-stu-id="f06f4-187">Security checks.</span></span> <span data-ttu-id="f06f4-188">Führen Sie keine Anforderungen, sondern nur Linkaufrufe aus.</span><span class="sxs-lookup"><span data-stu-id="f06f4-188">Do not perform demands, only link demands.</span></span>  
  
- <span data-ttu-id="f06f4-189"><xref:System.Reflection.Emit.OpCodes.Isinst> und <xref:System.Reflection.Emit.OpCodes.Castclass> für COM-Objekte und -Proxys</span><span class="sxs-lookup"><span data-stu-id="f06f4-189"><xref:System.Reflection.Emit.OpCodes.Isinst> and <xref:System.Reflection.Emit.OpCodes.Castclass> for COM objects and proxies</span></span>  
  
- <span data-ttu-id="f06f4-190">Abrufen oder Festlegen von Feldern für einen transparenten Proxy.</span><span class="sxs-lookup"><span data-stu-id="f06f4-190">Getting or setting fields on a transparent proxy.</span></span>  
  
- <span data-ttu-id="f06f4-191">Serialisierung.</span><span class="sxs-lookup"><span data-stu-id="f06f4-191">Serialization.</span></span>  
  
- <span data-ttu-id="f06f4-192">Funktionszeiger und Delegaten.</span><span class="sxs-lookup"><span data-stu-id="f06f4-192">Function pointers and delegates.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f06f4-193">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="f06f4-193">See also</span></span>

- [<span data-ttu-id="f06f4-194">Empfohlene Vorgehensweisen für die Zuverlässigkeit</span><span class="sxs-lookup"><span data-stu-id="f06f4-194">Reliability Best Practices</span></span>](reliability-best-practices.md)
