---
title: Übersicht über den erweiterten Schutz für die Authentifizierung
ms.date: 03/30/2017
ms.assetid: 3d2ceffe-a7bf-4bd9-a5a2-9406423bd7f8
ms.openlocfilehash: 0537e6147a7b43dabcb4c3612fc58da11dfd4d6d
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96255545"
---
# <a name="extended-protection-for-authentication-overview"></a><span data-ttu-id="b9d0a-102">Übersicht über den erweiterten Schutz für die Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="b9d0a-102">Extended Protection for Authentication Overview</span></span>

<span data-ttu-id="b9d0a-103">Der erweiterte Schutz für die Authentifizierung schützt gegen sog. Man-In-The-Middle (MITM)-Angriffe, bei denen die Anmeldeinformationen eines Clients von einem Angreifer abgefangen und an einen Server weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-103">Extended Protection for Authentication helps protect against man-in-the-middle (MITM) attacks, in which an attacker intercepts a client’s credentials and forwards them to a server.</span></span>  
  
 <span data-ttu-id="b9d0a-104">Betrachten wir ein Szenario mit drei Teilnehmern: einem Client, einem Server und einem Angreifer.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-104">Consider a scenario with three participants: a client, server, and attacker.</span></span> <span data-ttu-id="b9d0a-105">Der Server weist die URL `https://server` auf, wohingegen der Angreifer die URL `https://attacker` verwendet.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-105">The server has the URL `https://server`, whereas the attacker has the URL `https://attacker`.</span></span> <span data-ttu-id="b9d0a-106">Der Angreifer gibt sich gegenüber dem Client als Server aus.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-106">The attacker tricks the client into accessing the attacker as if it were the server.</span></span> <span data-ttu-id="b9d0a-107">Anschließend sendet der Angreifer eine Anfrage an den Server.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-107">The attacker then sends a request to the server.</span></span> <span data-ttu-id="b9d0a-108">Versucht der Angreifer auf eine sichere Ressource zuzugreifen, antwortet der Server dem Angreifer mit einem WWW-Authentifizierungsheader.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-108">If the attacker is trying to access a secure resource, the server replies to the attacker with a WWW-Authenticate header.</span></span> <span data-ttu-id="b9d0a-109">Der Angreifer verfügt jedoch nicht über die Authentifizierungsinformationen. Daher sendet er den WWW-Authentifizierungsheader an den Client.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-109">The attacker does not have the authentication information, so it sends the WWW-Authenticate header on to the client.</span></span> <span data-ttu-id="b9d0a-110">Der Client sendet den Authentifizierungsheader an den Angreifer, und der Angreifer sendet den Header an den Server, wodurch er mit den Anmeldeinformationen des Clients Zugriff auf sichere Ressourcen erhält.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-110">The client sends the Authorization header to the attacker, and the attacker sends the header on to the server and gets access to the secure resources using the client’s credentials.</span></span>  
  
 <span data-ttu-id="b9d0a-111">Aktuell wird zunächst ein Transport Level Security (TLS)-Kanal eingerichtet und eine Authentifizierung über diesen Kanal durchgeführt, wenn sich eine Clientanwendung mit Kerberos, Hashwert oder NTLM mit HTTPS im Server authentifiziert.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-111">Currently, when a client application authenticates itself to the server using Kerberos, Digest, or NTLM using HTTPS, a Transport Level Security (TLS) channel is first established and authentication takes place using this channel.</span></span> <span data-ttu-id="b9d0a-112">Zwischen dem von Secure Sockets Layer (SSL) und dem bei der Authentifizierung erstellten Sitzungsschlüssel besteht jedoch keine Bindung.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-112">However, there is no binding between the session key generated by Secure Sockets Layer (SSL) and the session key that is generated during authentication.</span></span> <span data-ttu-id="b9d0a-113">Wenn also im genannten Szenario über TLS (z. B. ein HTTPS-Kanal) kommuniziert wird, werden zwei SSL-Kanäle erstellt: einer zwischen dem Client und dem Angreifer und ein weiterer zwischen dem Angreifer und dem Server.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-113">So, in the previous scenario, if the communication takes places over a TLS (such as an HTTPS channel), there are two SSL channels created: one between the client and the attacker, and another between the attacker and the server.</span></span> <span data-ttu-id="b9d0a-114">Die Anmeldeinformationen des Clients werden zunächst über den SSL-Kanal zwischen dem Client und dem Angreifer und anschließend über den Kanal zwischen dem Angreifer und dem Server vom Client an den Server gesendet.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-114">The client’s credentials are sent from the client to the server first over the SSL channel between the client and the attacker and then over the channel between the attacker and the server.</span></span> <span data-ttu-id="b9d0a-115">Nachdem die Anmeldeinformationen des Clients vom Server empfangen wurden, werden die Anmeldeinformationen vom Server geprüft. Dabei bemerkt der Server nicht, dass der Kanal, über den die Anmeldeinformationen gesendet wurden, zum Angreifer und nicht zum Client führt.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-115">Once the client’s credentials reach the server, the server verifies the credentials without detecting that the channel over which those credentials were sent originated with the attacker and not the client.</span></span>  
  
 <span data-ttu-id="b9d0a-116">Die Lösung besteht in der Verwendung eines TLS-gesicherten Außenkanals und eines clientauthentifizierten Innenkanals und der Übergabe eines Kanalbindungstokens (CBT) an den Server.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-116">The solution is to use a TLS-secured outer channel and a client-authenticated inner channel, and to pass a Channel Binding Token (CBT) to the server.</span></span> <span data-ttu-id="b9d0a-117">Die CBT ist eine Eigenschaft des CBT-gesicherten Außenkanals und wird zur Bindung des Außenkanals an eine Konversation über den clientauthentifizierten Innenkanal verwendet.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-117">The CBT is a property of the TLS-secured outer channel, and is used to bind the outer channel to a conversation over the client-authenticated inner channel.</span></span>  
  
 <span data-ttu-id="b9d0a-118">Im genannten Szenario wird der CBT des Client-Angreifer-TLS-Kanals mit den an den Server gesendeten Autorisierungsinformationen verbunden.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-118">In the previous scenario, the CBT of the client-attacker TLS channel is merged with the authorization information that is sent to the server.</span></span> <span data-ttu-id="b9d0a-119">Ein CBT verarbeitender Server vergleicht das CBT in den Authentifizierungsinformationen des Clients, die dem Client-Angreifer-Kanal entsprechen, mit dem CBT des Angreifer-Server-Kanals.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-119">A CBT-aware server compares the CBT contained in the client authentication information, which corresponds to the client-attacker channel, to the CBT attached to the attacker-server channel.</span></span> <span data-ttu-id="b9d0a-120">Ein CBT ist einem Kanalziel eindeutig zuordenbar. Das Client-Angreifer-CBT entspricht nicht dem Angreifer-Server-CBT.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-120">A CBT is specific to a channel’s destination, so the client-attacker CBT does not match the attacker-server CBT.</span></span> <span data-ttu-id="b9d0a-121">Der Server entdeckt so den MITM-Angriff und weist die Authentifizierungsanfrage ab.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-121">This lets the server detect the MITM attack and refuse the authentication request.</span></span>  
  
 <span data-ttu-id="b9d0a-122">Clientseitig sind keine Konfigurationseinstellungen erforderlich.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-122">The client side does not require any configuration setting.</span></span> <span data-ttu-id="b9d0a-123">Nach einmaliger Aktualisierung übergibt der Client das CBT dauerhaft an den Server.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-123">Once the client has been updated to pass the CBT to the server, it always does so.</span></span> <span data-ttu-id="b9d0a-124">Wurde der Server ebenfalls aktualisiert, kann er für die Verwendung des CBT oder seine Ignorierung konfiguriert werden.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-124">If the server has also been updated, it can be configured to use the CBT or ignore it.</span></span> <span data-ttu-id="b9d0a-125">Wurde keine Aktualisierung durchgeführt, wird das CBT ignoriert.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-125">If it has not been updated, it ignores it.</span></span>  
  
 <span data-ttu-id="b9d0a-126">Der Server kann folgende Sicherheitsstufen aufweisen:</span><span class="sxs-lookup"><span data-stu-id="b9d0a-126">The server can have the following levels of protection:</span></span>  
  
- <span data-ttu-id="b9d0a-127">Keine</span><span class="sxs-lookup"><span data-stu-id="b9d0a-127">None.</span></span> <span data-ttu-id="b9d0a-128">Keine Kanalbindungsvalidierung wird durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-128">No channel binding validation is performed.</span></span> <span data-ttu-id="b9d0a-129">Dies ist das Standardverhalten aller nicht aktualisierten Server.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-129">This is the behavior of all servers that have not been updated.</span></span>  
  
- <span data-ttu-id="b9d0a-130">Teilweise.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-130">Partial.</span></span> <span data-ttu-id="b9d0a-131">Alle aktualisierten Clients müssen Kanalbindungsinformationen für den Server bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-131">All clients that have been updated must provide channel binding information to the server.</span></span> <span data-ttu-id="b9d0a-132">Dies gilt nicht für nicht aktualisierte Clients.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-132">Clients that have not been updated do not have to do so.</span></span> <span data-ttu-id="b9d0a-133">Dies ist eine Zwischenoption, durch die Anwendungskompatibilität gewahrt wird.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-133">This is an intermediate option that allows for application compatibility.</span></span>  
  
- <span data-ttu-id="b9d0a-134">Vollständig.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-134">Full.</span></span> <span data-ttu-id="b9d0a-135">Alle Clients müssen Kanalbindungsinformationen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-135">All clients must provide channel binding information.</span></span> <span data-ttu-id="b9d0a-136">Authentifizierungsanfragen von Clients, bei denen dies nicht der Fall ist, werden abgewiesen.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-136">The server rejects authentication requests from clients that do not do so.</span></span>  
  
 <span data-ttu-id="b9d0a-137">Weitere Informationen finden Sie im Beispiel zu Win7 CBT/Erweiterter Schutz.</span><span class="sxs-lookup"><span data-stu-id="b9d0a-137">For more information, see the Win7 CBT/Extended Protection sample.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="b9d0a-138">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="b9d0a-138">See also</span></span>

- <span data-ttu-id="b9d0a-139">[Sicherheitsmodell für Windows Server AppFabric](/previous-versions/appfabric/ee677202(v=azure.10))</span><span class="sxs-lookup"><span data-stu-id="b9d0a-139">[Security Model for Windows Server App Fabric](/previous-versions/appfabric/ee677202(v=azure.10))</span></span>
