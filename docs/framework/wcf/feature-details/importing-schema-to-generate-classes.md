---
title: Importieren von Schemas zum Generieren von Klassen
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, schema import and export
- XsdDataContractImporter class
ms.assetid: b9170583-8c34-43bd-97bb-6c0c8dddeee0
ms.openlocfilehash: 7f7c13cda2dcaeec16ad1ee49ff3dddf369906e5
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96280521"
---
# <a name="importing-schema-to-generate-classes"></a><span data-ttu-id="a38fb-102">Importieren von Schemas zum Generieren von Klassen</span><span class="sxs-lookup"><span data-stu-id="a38fb-102">Importing Schema to Generate Classes</span></span>

<span data-ttu-id="a38fb-103">Verwenden Sie die-Klasse, um Klassen aus Schemas zu generieren, die mit Windows Communication Foundation (WCF) verwendet werden können <xref:System.Runtime.Serialization.XsdDataContractImporter> .</span><span class="sxs-lookup"><span data-stu-id="a38fb-103">To generate classes from schemas that are usable with Windows Communication Foundation (WCF), use the <xref:System.Runtime.Serialization.XsdDataContractImporter> class.</span></span> <span data-ttu-id="a38fb-104">In diesem Thema werden der Prozess und die Variationen beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a38fb-104">This topic describes the process and variations.</span></span>  
  
## <a name="the-import-process"></a><span data-ttu-id="a38fb-105">Der Importprozess</span><span class="sxs-lookup"><span data-stu-id="a38fb-105">The Import Process</span></span>

 <span data-ttu-id="a38fb-106">Der Schemaimportprozess beginnt mit <xref:System.Xml.Schema.XmlSchemaSet> und erzeugt ein <xref:System.CodeDom.CodeCompileUnit>-Element.</span><span class="sxs-lookup"><span data-stu-id="a38fb-106">The schema import process starts with an <xref:System.Xml.Schema.XmlSchemaSet> and produces a <xref:System.CodeDom.CodeCompileUnit>.</span></span>  
  
 <span data-ttu-id="a38fb-107">Der `XmlSchemaSet` ist ein Teil des Schema Objektmodells (SOM) des .NET Framework, das einen Satz von XSD-Schema Dokumenten (XML Schema Definition Language) darstellt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-107">The `XmlSchemaSet` is a part of the .NET Framework’s Schema Object Model (SOM) that represents a set of XML Schema definition language (XSD) schema documents.</span></span> <span data-ttu-id="a38fb-108">Um ein `XmlSchemaSet`-Objekt aus einer Gruppe von XSD-Dokumenten zu erstellen, deserialisieren Sie die einzelnen Dokumente in ein <xref:System.Xml.Schema.XmlSchema>-Objekt (mithilfe von <xref:System.Xml.Serialization.XmlSerializer>) und fügen diese Objekte einem neuen `XmlSchemaSet`-Element hinzu.</span><span class="sxs-lookup"><span data-stu-id="a38fb-108">To create an `XmlSchemaSet` object from a set of XSD documents, deserialize each document into an <xref:System.Xml.Schema.XmlSchema> object (using the <xref:System.Xml.Serialization.XmlSerializer>) and add these objects to a new `XmlSchemaSet`.</span></span>  
  
 <span data-ttu-id="a38fb-109">Der `CodeCompileUnit` ist Teil des .NET Framework Code Document Object Model (CodeDom), der .NET Framework Code auf abstrakte Weise darstellt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-109">The `CodeCompileUnit` is part of the .NET Framework’s Code Document Object Model (CodeDOM) that represents .NET Framework code in an abstract way.</span></span> <span data-ttu-id="a38fb-110">Um den eigentlichen Code aus einer `CodeCompileUnit` zu generieren, verwenden Sie eine Unterklasse der <xref:System.CodeDom.Compiler.CodeDomProvider>-Klasse, zum Beispiel die <xref:Microsoft.CSharp.CSharpCodeProvider>- oder <xref:Microsoft.VisualBasic.VBCodeProvider>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="a38fb-110">To generate the actual code from a `CodeCompileUnit`, use a subclass of the <xref:System.CodeDom.Compiler.CodeDomProvider> class, such as the <xref:Microsoft.CSharp.CSharpCodeProvider> or <xref:Microsoft.VisualBasic.VBCodeProvider> class.</span></span>  
  
### <a name="to-import-a-schema"></a><span data-ttu-id="a38fb-111">So importieren Sie ein Schema</span><span class="sxs-lookup"><span data-stu-id="a38fb-111">To import a schema</span></span>  
  
1. <span data-ttu-id="a38fb-112">Erstellen Sie eine Instanz der <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span><span class="sxs-lookup"><span data-stu-id="a38fb-112">Create an instance of the <xref:System.Runtime.Serialization.XsdDataContractImporter>.</span></span>  
  
2. <span data-ttu-id="a38fb-113">(Optional)</span><span class="sxs-lookup"><span data-stu-id="a38fb-113">Optional.</span></span> <span data-ttu-id="a38fb-114">Übergeben Sie im Konstruktor eine `CodeCompileUnit`.</span><span class="sxs-lookup"><span data-stu-id="a38fb-114">Pass a `CodeCompileUnit` in the constructor.</span></span> <span data-ttu-id="a38fb-115">Die während des Schemaimports generierten Typen werden dieser `CodeCompileUnit`-Instanz hinzugefügt. Es wird keine leere `CodeCompileUnit` verwendet.</span><span class="sxs-lookup"><span data-stu-id="a38fb-115">The types generated during schema import are added to this `CodeCompileUnit` instance instead of starting with a blank `CodeCompileUnit`.</span></span>  
  
3. <span data-ttu-id="a38fb-116">(Optional)</span><span class="sxs-lookup"><span data-stu-id="a38fb-116">Optional.</span></span> <span data-ttu-id="a38fb-117">Rufen Sie eine der <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A>-Methoden auf.</span><span class="sxs-lookup"><span data-stu-id="a38fb-117">Call one of the <xref:System.Runtime.Serialization.XsdDataContractImporter.CanImport%2A> methods.</span></span> <span data-ttu-id="a38fb-118">Die Methode bestimmt, ob es sich beim jeweiligen Schema um ein gültiges Datenvertragsschema handelt und ob es importiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="a38fb-118">The method determines whether the given schema is a valid data contract schema and can be imported.</span></span> <span data-ttu-id="a38fb-119">Die `CanImport`-Methode verfügt über die gleichen Überladungen wie `Import` (der nächste Schritt).</span><span class="sxs-lookup"><span data-stu-id="a38fb-119">The `CanImport` method has the same overloads as `Import` (the next step).</span></span>  
  
4. <span data-ttu-id="a38fb-120">Rufen Sie eine der überladenen `Import`-Methoden auf, zum Beispiel die <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29>-Methode.</span><span class="sxs-lookup"><span data-stu-id="a38fb-120">Call one of the overloaded `Import` methods, for example, the <xref:System.Runtime.Serialization.XsdDataContractImporter.Import%28System.Xml.Schema.XmlSchemaSet%29> method.</span></span>  
  
     <span data-ttu-id="a38fb-121">Bei der einfachsten Überladung wird ein `XmlSchemaSet` verwendet, und es werden alle Typen importiert, die im Schemasatz enthalten sind, einschließlich anonyme Typen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-121">The simplest overload takes an `XmlSchemaSet` and imports all types, including anonymous types, found in that schema set.</span></span> <span data-ttu-id="a38fb-122">Bei anderen Überladungen können Sie den XSD-Typ oder eine Liste der Typen angeben, die importiert werden sollen (in Form eines <xref:System.Xml.XmlQualifiedName>-Objekts oder einer Auflistung mit `XmlQualifiedName`-Objekten).</span><span class="sxs-lookup"><span data-stu-id="a38fb-122">Other overloads allow you to specify the XSD type or a list of types to import (in the form of an <xref:System.Xml.XmlQualifiedName> or a collection of `XmlQualifiedName` objects).</span></span> <span data-ttu-id="a38fb-123">In diesem Fall werden nur die angegebenen Typen importiert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-123">In this case, only the specified types are imported.</span></span> <span data-ttu-id="a38fb-124">Eine Überladung verwendet ein <xref:System.Xml.Schema.XmlSchemaElement>, das ein bestimmtes Element aus dem `XmlSchemaSet` importiert, einschließlich des dazugehörigen Typs (anonym oder nicht anonym).</span><span class="sxs-lookup"><span data-stu-id="a38fb-124">An overload takes an <xref:System.Xml.Schema.XmlSchemaElement> that imports a particular element out of the `XmlSchemaSet`, as well as its associated type (whether it is anonymous or not).</span></span> <span data-ttu-id="a38fb-125">Diese Überladung gibt einen `XmlQualifiedName` zurück, der für den Datenvertragsnamen des Typs steht, der für dieses Element generiert wurde.</span><span class="sxs-lookup"><span data-stu-id="a38fb-125">This overload returns an `XmlQualifiedName`, which represents the data contract name of the type generated for this element.</span></span>  
  
     <span data-ttu-id="a38fb-126">Mehrere Aufrufe der `Import`-Methode führen dazu, dass mehrere Elemente derselben `CodeCompileUnit` hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-126">Multiple calls of the `Import` method result in multiple items being added to the same `CodeCompileUnit`.</span></span> <span data-ttu-id="a38fb-127">Ein Typ wird nicht für den `CodeCompileUnit` generiert, wenn er darin bereits vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-127">A type is not generated into the `CodeCompileUnit` if it already exists there.</span></span> <span data-ttu-id="a38fb-128">Rufen Sie `Import` für einen `XsdDataContractImporter` mehrfach auf, anstatt mehrere `XsdDataContractImporter`-Objekte zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-128">Call `Import` multiple times on the same `XsdDataContractImporter` instead of using multiple `XsdDataContractImporter` objects.</span></span> <span data-ttu-id="a38fb-129">Dies ist die empfohlene Möglichkeit, um die Generierung von doppelten Typen zu vermeiden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-129">This is the recommended way to avoid duplicate types being generated.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="a38fb-130">Wenn beim Importieren ein Fehler auftritt, befindet sich die `CodeCompileUnit` in einem unvorhersehbaren Zustand.</span><span class="sxs-lookup"><span data-stu-id="a38fb-130">If there is a failure during import, the `CodeCompileUnit` will be in an unpredictable state.</span></span> <span data-ttu-id="a38fb-131">Wenn Sie eine `CodeCompileUnit` verwenden, die aus einem fehlgeschlagenen Import stammt, kann Sie dies ggf. anfällig für Sicherheitslücken machen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-131">Using a `CodeCompileUnit` resulting from a failed import could expose you to security vulnerabilities.</span></span>  
  
5. <span data-ttu-id="a38fb-132">Greifen Sie auf die `CodeCompileUnit` mithilfe der <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> -Eigenschaft zu.</span><span class="sxs-lookup"><span data-stu-id="a38fb-132">Access the `CodeCompileUnit` through the <xref:System.Runtime.Serialization.XsdDataContractImporter.CodeCompileUnit%2A> property.</span></span>  
  
### <a name="import-options-customizing-the-generated-types"></a><span data-ttu-id="a38fb-133">Importoptionen: Anpassen der generierten Typen</span><span class="sxs-lookup"><span data-stu-id="a38fb-133">Import Options: Customizing the Generated Types</span></span>  

 <span data-ttu-id="a38fb-134">Sie können die <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A>-Eigenschaft von <xref:System.Runtime.Serialization.XsdDataContractImporter> auf eine Instanz der <xref:System.Runtime.Serialization.ImportOptions>-Klasse festlegen, um verschiedene Aspekte des Importprozesses zu steuern.</span><span class="sxs-lookup"><span data-stu-id="a38fb-134">You can set the <xref:System.Runtime.Serialization.XsdDataContractImporter.Options%2A> property of the <xref:System.Runtime.Serialization.XsdDataContractImporter> to an instance of the <xref:System.Runtime.Serialization.ImportOptions> class to control various aspects of the import process.</span></span> <span data-ttu-id="a38fb-135">Verschiedene Optionen wirken sich direkt auf die generierten Typen aus.</span><span class="sxs-lookup"><span data-stu-id="a38fb-135">A number of options directly influence the types that are generated.</span></span>  
  
#### <a name="controlling-the-access-level-generateinternal-or-the-internal-switch"></a><span data-ttu-id="a38fb-136">Steuern der Zugriffsebene (GenerateInternal oder der Schalter "/internal")</span><span class="sxs-lookup"><span data-stu-id="a38fb-136">Controlling the Access Level (GenerateInternal or the /internal switch)</span></span>  

 <span data-ttu-id="a38fb-137">Dies entspricht dem Schalter **Schalter/Internal** für das [Service Model Metadata Utility-Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span><span class="sxs-lookup"><span data-stu-id="a38fb-137">This corresponds to the **/internal** switch on the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span>  
  
 <span data-ttu-id="a38fb-138">Normalerweise werden öffentliche Typen aus Schemas generiert, indem private Felder und passende Eigenschaften öffentlicher Datenmember verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-138">Normally, public types are generated from schema, with private fields and matching public data member properties.</span></span> <span data-ttu-id="a38fb-139">Wenn Sie stattdessen interne Typen generieren möchten, legen Sie die <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A>-Eigenschaft auf `true` fest.</span><span class="sxs-lookup"><span data-stu-id="a38fb-139">To generate internal types instead, set the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property to `true`.</span></span>  
  
 <span data-ttu-id="a38fb-140">Das folgende Beispiel zeigt ein Schema, das in eine interne Klasse umgewandelt wird, wenn die <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A>-Eigenschaft auf `true.` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-140">The following example shows a schema transformed into an internal class when the <xref:System.Runtime.Serialization.ImportOptions.GenerateInternal%2A> property is set to `true.`</span></span>  
  
 [!code-csharp[c_SchemaImportExport#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#2)]
 [!code-vb[c_SchemaImportExport#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#2)]  
  
#### <a name="controlling-namespaces-namespaces-or-the-namespace-switch"></a><span data-ttu-id="a38fb-141">Steuern von Namespaces (Namespaces oder der Schalter "/namespace")</span><span class="sxs-lookup"><span data-stu-id="a38fb-141">Controlling Namespaces (Namespaces or the /namespace switch)</span></span>  

 <span data-ttu-id="a38fb-142">Dies entspricht dem Schalter **/Namespace** für das `Svcutil.exe` Tool.</span><span class="sxs-lookup"><span data-stu-id="a38fb-142">This corresponds to the **/namespace** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="a38fb-143">Normalerweise werden Typen, die aus dem Schema generiert werden, in .NET Framework Namespaces generiert, wobei jeder XSD-Namespace einem bestimmten .NET Framework Namespace entsprechend einer in der [Daten Vertrags Schema Referenz](data-contract-schema-reference.md)beschriebenen Zuordnung entspricht.</span><span class="sxs-lookup"><span data-stu-id="a38fb-143">Normally, types generated from schema are generated into .NET Framework namespaces, with each XSD namespace corresponding to a particular .NET Framework namespace according to a mapping described in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span> <span data-ttu-id="a38fb-144">Sie können diese Zuordnung mithilfe der <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A>-Eigenschaft eines <xref:System.Collections.Generic.Dictionary%602> anpassen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-144">You can customize this mapping by the <xref:System.Runtime.Serialization.ImportOptions.Namespaces%2A> property to a <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="a38fb-145">Wenn ein bestimmter XSD-Namespace im Wörterbuch gefunden wird, wird auch der übereinstimmende .NET Framework Namespace aus Ihrem Wörterbuch entnommen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-145">If a given XSD namespace is found in the dictionary, the matching .NET Framework namespace is also taken from your dictionary.</span></span>  
  
 <span data-ttu-id="a38fb-146">Betrachten Sie zum Beispiel das folgende Schema:</span><span class="sxs-lookup"><span data-stu-id="a38fb-146">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#10)]  
  
 <span data-ttu-id="a38fb-147">Im folgenden Beispiel wird die- `Namespaces` Eigenschaft verwendet, um den- `http://schemas.contoso.com/carSchema` Namespace "" "" "".</span><span class="sxs-lookup"><span data-stu-id="a38fb-147">The following example uses the `Namespaces` property to map the `http://schemas.contoso.com/carSchema` namespace to "Contoso.Cars".</span></span>  
  
 [!code-csharp[c_SchemaImportExport#8](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#8)]
 [!code-vb[c_SchemaImportExport#8](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#8)]  
  
#### <a name="adding-the-serializableattribute-generateserializable-or-the-serializable-switch"></a><span data-ttu-id="a38fb-148">Hinzufügen von SerializableAttribute (GenerateSerializable oder der Schalter "/serializable")</span><span class="sxs-lookup"><span data-stu-id="a38fb-148">Adding the SerializableAttribute (GenerateSerializable or the /serializable switch)</span></span>  

 <span data-ttu-id="a38fb-149">Dies entspricht dem Schalter **/Serializable** für das `Svcutil.exe` Tool.</span><span class="sxs-lookup"><span data-stu-id="a38fb-149">This corresponds to the **/serializable** switch on the `Svcutil.exe` tool.</span></span>  
  
 <span data-ttu-id="a38fb-150">Manchmal ist es wichtig, dass die aus dem Schema generierten Typen mit .NET Framework Laufzeitserialisierungsmodulen verwendet werden können (z <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> . b. die-Klasse und die- <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> Klasse).</span><span class="sxs-lookup"><span data-stu-id="a38fb-150">Sometimes it is important for the types generated from the schema to be usable with .NET Framework runtime serialization engines (for example, the <xref:System.Runtime.Serialization.Formatters.Binary.BinaryFormatter?displayProperty=nameWithType> and the <xref:System.Runtime.Serialization.Formatters.Soap.SoapFormatter> classes).</span></span> <span data-ttu-id="a38fb-151">Dies ist nützlich, wenn Sie Typen für .NET Framework Remoting verwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-151">This is useful when using types for .NET Framework remoting.</span></span> <span data-ttu-id="a38fb-152">Um dies zu aktivieren, müssen Sie das <xref:System.SerializableAttribute>-Attribut zusätzlich zum normalen <xref:System.Runtime.Serialization.DataContractAttribute>-Attribut auf die generierten Typen anwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-152">To enable this, you must apply the <xref:System.SerializableAttribute> attribute to the generated types in addition to the regular <xref:System.Runtime.Serialization.DataContractAttribute> attribute.</span></span> <span data-ttu-id="a38fb-153">Das Attribut wird automatisch generiert, wenn die Importoption `GenerateSerializable` auf `true` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-153">The attribute is generated automatically if the `GenerateSerializable` import option is set to `true`.</span></span>  
  
 <span data-ttu-id="a38fb-154">Das folgende Beispiel zeigt die `Vehicle`-Klasse, bei deren Generierung die Importoption `GenerateSerializable` auf `true` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-154">The following example shows the `Vehicle` class generated with the `GenerateSerializable` import option set to `true`.</span></span>  
  
 [!code-csharp[c_SchemaImportExport#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#4)]
 [!code-vb[c_SchemaImportExport#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#4)]  
  
#### <a name="adding-data-binding-support-enabledatabinding-or-the-enabledatabinding-switch"></a><span data-ttu-id="a38fb-155">Hinzufügen von Datenbindungsunterstützung (EnableDataBinding oder der Schalter „/enableDataBinding“)</span><span class="sxs-lookup"><span data-stu-id="a38fb-155">Adding Data Binding Support (EnableDataBinding or the /enableDataBinding switch)</span></span>  

 <span data-ttu-id="a38fb-156">Dies entspricht dem Schalter **Schalter/enableDataBinding im** im Svcutil.exe Tool.</span><span class="sxs-lookup"><span data-stu-id="a38fb-156">This corresponds to the **/enableDataBinding** switch on the Svcutil.exe tool.</span></span>  
  
 <span data-ttu-id="a38fb-157">In einigen Fällen kann es ratsam sein, die aus dem Schema generierten Typen an Komponenten der grafischen Benutzeroberfläche zu binden, damit die Aktualisierungen der Instanzen dieser Typen automatisch auf der Benutzeroberfläche widergespiegelt werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-157">Sometimes, you may want to bind the types generated from the schema to graphical user interface components so that any update to instances of these types will automatically update the UI.</span></span> <span data-ttu-id="a38fb-158">Der `XsdDataContractImporter` kann Typen generieren, die die <xref:System.ComponentModel.INotifyPropertyChanged>-Schnittstelle so implementieren, dass alle Änderungen von Eigenschaften ein Ereignis auslösen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-158">The `XsdDataContractImporter` can generate types that implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface in such a way that any property change triggers an event.</span></span> <span data-ttu-id="a38fb-159">Wenn Sie Typen für die Verwendung mit einer Client-UI-Programmierumgebung erstellen, die diese Schnittstelle unterstützt (z. b. Windows Presentation Foundation (WPF)), legen Sie die- <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> Eigenschaft auf fest, `true` um diese Funktion zu aktivieren</span><span class="sxs-lookup"><span data-stu-id="a38fb-159">If you are generating types for use with a client UI programming environment that supports this interface (such as Windows Presentation Foundation (WPF)), set the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> property to `true` to enable this feature.</span></span>  
  
 <span data-ttu-id="a38fb-160">Das folgende Beispiel zeigt die `Vehicle`-Klasse, bei deren Generierung <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> auf `true` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-160">The following example shows the `Vehicle` class generated with the <xref:System.Runtime.Serialization.ImportOptions.EnableDataBinding%2A> set to `true`.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#5)]
 [!code-vb[C_SchemaImportExport#5](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#5)]  
  
### <a name="import-options-choosing-collection-types"></a><span data-ttu-id="a38fb-161">Importoptionen: Wählen von Auflistungstypen</span><span class="sxs-lookup"><span data-stu-id="a38fb-161">Import Options: Choosing Collection Types</span></span>  

 <span data-ttu-id="a38fb-162">Zwei spezielle XML-Muster stellen Auflistungen von Elementen dar: Listen mit Elementen und Zuordnungen zwischen einem Element und einem anderen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-162">Two special patterns in XML represent collections of items: lists of items and associations between one item and another.</span></span> <span data-ttu-id="a38fb-163">Unten ist ein Beispiel für eine Liste mit Zeichenfolgen angegeben.</span><span class="sxs-lookup"><span data-stu-id="a38fb-163">The following is an example of a list of strings.</span></span>  
  
 [!code-xml[C_SchemaImportExport#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#11)]  
  
 <span data-ttu-id="a38fb-164">Das folgende Beispiel zeigt eine Zuordnung zwischen einer Zeichenfolge und einer Ganzzahl (`city name` und `population`).</span><span class="sxs-lookup"><span data-stu-id="a38fb-164">The following is an example of an association between a string and an integer (`city name` and `population`).</span></span>  
  
 [!code-xml[C_SchemaImportExport#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#12)]  
  
> [!NOTE]
> <span data-ttu-id="a38fb-165">Jede Zuordnung kann auch als Liste angesehen werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-165">Any association could also be considered a list.</span></span> <span data-ttu-id="a38fb-166">Sie können die oben angegebene Zuordnung zum Beispiel als Liste mit komplexen `city`-Objekten ansehen, die zwei Felder aufweisen (ein Zeichenfolgenfeld und ein Ganzzahlfeld).</span><span class="sxs-lookup"><span data-stu-id="a38fb-166">For example, you can view the preceding association as a list of complex `city` objects that happen to have two fields (a string field and an integer field).</span></span> <span data-ttu-id="a38fb-167">Beide Muster verfügen im XSD-Schema über eine Darstellung.</span><span class="sxs-lookup"><span data-stu-id="a38fb-167">Both patterns have a representation in the XSD Schema.</span></span> <span data-ttu-id="a38fb-168">Es gibt keine Möglichkeit, eine Liste und eine Zuordnung zu unterscheiden, sodass solche Muster immer als Listen behandelt werden, es sei denn, eine spezielle Anmerkung für WCF ist im Schema vorhanden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-168">There is no way to differentiate between a list and an association, so such patterns are always treated as lists unless a special annotation specific to WCF is present in the schema.</span></span> <span data-ttu-id="a38fb-169">Die Anmerkung gibt an, dass ein bestimmtes Muster eine Zuordnung darstellt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-169">The annotation indicates that a given pattern represents an association.</span></span> <span data-ttu-id="a38fb-170">Weitere Informationen finden Sie unter [Daten Vertrags Schema-Referenz](data-contract-schema-reference.md).</span><span class="sxs-lookup"><span data-stu-id="a38fb-170">For more information, see [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span>  
  
 <span data-ttu-id="a38fb-171">Normalerweise wird eine Liste als Sammlungs Datenvertrag importiert, der von einer generischen Liste oder als .NET Framework Array abgeleitet wird, je nachdem, ob das Schema dem Standard Benennungs Muster für Auflistungen folgt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-171">Normally, a list is imported as a collection data contract that derives from a Generic List or as a .NET Framework array, depending on whether or not the schema follows the standard naming pattern for collections.</span></span> <span data-ttu-id="a38fb-172">Dies wird in den [Sammlungs Typen in Daten Verträgen](collection-types-in-data-contracts.md)ausführlicher beschrieben.</span><span class="sxs-lookup"><span data-stu-id="a38fb-172">This is described in more detail in [Collection Types in Data Contracts](collection-types-in-data-contracts.md).</span></span> <span data-ttu-id="a38fb-173">Zuordnungen werden normalerweise entweder als <xref:System.Collections.Generic.Dictionary%602> oder als Auflistungsdatenvertrag importiert, der vom Wörterbuchobjekt abgeleitet ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-173">Associations are normally imported as either a <xref:System.Collections.Generic.Dictionary%602> or a collection data contract that derives from the dictionary object.</span></span> <span data-ttu-id="a38fb-174">Betrachten Sie zum Beispiel das folgende Schema:</span><span class="sxs-lookup"><span data-stu-id="a38fb-174">For example, consider the following schema.</span></span>  
  
 [!code-xml[c_SchemaImportExport#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/common/source.config#13)]  
  
 <span data-ttu-id="a38fb-175">Der Import wird hierbei wie folgt durchgeführt (aus Gründen der besseren Lesbarkeit werden anstelle von Eigenschaften Felder angezeigt).</span><span class="sxs-lookup"><span data-stu-id="a38fb-175">This would be imported as follows (fields are shown instead of properties for readability).</span></span>  
  
 [!code-csharp[c_SchemaImportExport#6](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#6)]
 [!code-vb[c_SchemaImportExport#6](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#6)]  
  
 <span data-ttu-id="a38fb-176">Es ist möglich, die Auflistungstypen anzupassen, die für Schemamuster dieser Art generiert werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-176">It is possible to customize the collection types that are generated for such schema patterns.</span></span> <span data-ttu-id="a38fb-177">Es kann beispielsweise sein, dass Sie Auflistungen generieren, die von <xref:System.ComponentModel.BindingList%601> abgeleitet sind, anstatt von der <xref:System.Collections.Generic.List%601>-Klasse, um den Typ an ein Listenfeld zu binden und automatisch aktualisieren zu lassen, wenn sich der Inhalt der Auflistung ändert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-177">For example, you may want to generate collections deriving from the <xref:System.ComponentModel.BindingList%601> instead of the <xref:System.Collections.Generic.List%601> class in order to bind the type to a list box and have it be automatically updated when the contents of the collection change.</span></span> <span data-ttu-id="a38fb-178">Legen Sie dazu die <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A>-Eigenschaft der <xref:System.Runtime.Serialization.ImportOptions>-Klasse auf eine Liste mit zu verwendenden Auflistungstypen (im Weiteren als referenzierte Typen bezeichnet) fest.</span><span class="sxs-lookup"><span data-stu-id="a38fb-178">To do this, set the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property of the <xref:System.Runtime.Serialization.ImportOptions> class to a list of collection types to be used (hereafter known as the referenced types).</span></span> <span data-ttu-id="a38fb-179">Beim Importieren von Auflistungen wird diese Liste mit Verweisen zu Auflistungstypen durchsucht und die Auflistung mit der höchsten Übereinstimmung verwendet, falls vorhanden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-179">When importing any collection, this list of referenced collection types is scanned and the best-matching collection is used if one is found.</span></span> <span data-ttu-id="a38fb-180">Es ergeben sich bei Zuordnungen nur für Typen Übereinstimmungen, die entweder die generische oder die nicht generische <xref:System.Collections.IDictionary>-Schnittstelle implementieren, während sich bei Listen für alle unterstützten Auflistungstypen Übereinstimmungen ergeben können.</span><span class="sxs-lookup"><span data-stu-id="a38fb-180">Associations are matched only against types that implement either the generic or the nongeneric <xref:System.Collections.IDictionary> interface, while lists are matched against any supported collection type.</span></span>  
  
 <span data-ttu-id="a38fb-181">Wenn die <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A>-Eigenschaft zum Beispiel auf eine <xref:System.ComponentModel.BindingList%601> festgelegt ist, wird der `people`-Typ aus dem vorherigen Beispiel wie folgt generiert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-181">For example, if the <xref:System.Runtime.Serialization.ImportOptions.ReferencedCollectionTypes%2A> property is set to a <xref:System.ComponentModel.BindingList%601>, the `people` type in the preceding example is generated as follows.</span></span>  
  
 [!code-csharp[C_SchemaImportExport#7](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_schemaimportexport/cs/source.cs#7)]
 [!code-vb[C_SchemaImportExport#7](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_schemaimportexport/vb/source.vb#7)]  
  
 <span data-ttu-id="a38fb-182">Ein geschlossener generischer Typ wird als beste Übereinstimmung betrachtet.</span><span class="sxs-lookup"><span data-stu-id="a38fb-182">A closed generic is considered the best match.</span></span> <span data-ttu-id="a38fb-183">Wenn beispielsweise die Typen `BindingList(Of Integer)` und <xref:System.Collections.ArrayList> an die Auflistung der referenzierten Typen übergeben werden, werden alle Listen mit Ganzzahlen, die im Schema enthalten sind, als `BindingList(Of Integer)` importiert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-183">For example, if the types `BindingList(Of Integer)` and <xref:System.Collections.ArrayList> are passed to the collection of referenced types, any lists of integers found in schema are imported as a `BindingList(Of Integer)`.</span></span> <span data-ttu-id="a38fb-184">Alle anderen Listen, zum Beispiel `List(Of String)`, werden als `ArrayList` importiert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-184">Any other lists, for example, a `List(Of String)`, are imported as an `ArrayList`.</span></span>  
  
 <span data-ttu-id="a38fb-185">Wenn ein Typ, der die generische `IDictionary`-Schnittstelle implementiert, der Auflistung der referenzierten Typen hinzugefügt wird, müssen ihre Typparameter entweder vollständig offen oder vollständig geschlossen sein.</span><span class="sxs-lookup"><span data-stu-id="a38fb-185">If a type that implements the generic `IDictionary` interface is added to the collection of referenced types, its type parameters must either be fully open or fully closed.</span></span>  
  
 <span data-ttu-id="a38fb-186">Duplikate sind nicht zulässig.</span><span class="sxs-lookup"><span data-stu-id="a38fb-186">Duplicates are not allowed.</span></span> <span data-ttu-id="a38fb-187">Zum Beispiel können Sie den referenzierten Typen nicht sowohl eine `List(Of Integer)` als auch eine `Collection(Of Integer)` hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-187">For example, you cannot add both a `List(Of Integer)` and a `Collection(Of Integer)` to the referenced types.</span></span> <span data-ttu-id="a38fb-188">In diesem Fall wäre es unmöglich zu bestimmen, welches Element verwendet werden soll, wenn im Schema eine Liste mit Ganzzahlen gefunden wird.</span><span class="sxs-lookup"><span data-stu-id="a38fb-188">That would make it impossible to determine which should be used when a list of integers is found in schema.</span></span> <span data-ttu-id="a38fb-189">Duplikate werden nur erkannt, wenn es einen Typ im Schema gibt, der das Duplikatproblem offenlegt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-189">Duplicates will be detected only if there is a type in schema that exposes the duplicates problem.</span></span> <span data-ttu-id="a38fb-190">Wenn das importierte Schema zum Beispiel keine Listen mit Ganzzahlen enthält, ist es zulässig, sowohl die `List(Of Integer)` als auch die `Collection(Of Integer)` in der Auflistung mit den referenzierten Typen zu verwenden, aber beide haben keine Auswirkung.</span><span class="sxs-lookup"><span data-stu-id="a38fb-190">For example, if the imported schema does not contain lists of integers, it is allowed to have both the `List(Of Integer)` and the `Collection(Of Integer)` in the referenced types collection, but neither will have any effect.</span></span>  
  
 <span data-ttu-id="a38fb-191">Der Mechanismus mit den referenzierten Auflistungstypen funktioniert ebenso gut für Auflistungen mit komplexen Typen (einschließlich Auflistungen anderer Auflistungen), nicht nur für Auflistungen von primitiven Typen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-191">The referenced collection types mechanism works equally well for collections of complex types (including collections of other collections), and not just for collections of primitives.</span></span>  
  
 <span data-ttu-id="a38fb-192">Die- `ReferencedCollectionTypes` Eigenschaft entspricht dem Schalter **/CollectionType** im SvcUtil.exe Tool.</span><span class="sxs-lookup"><span data-stu-id="a38fb-192">The `ReferencedCollectionTypes` property corresponds to the **/collectionType** switch on the SvcUtil.exe tool.</span></span> <span data-ttu-id="a38fb-193">Beachten Sie, dass für den Verweis auf mehrere Sammlungs Typen der **/CollectionType** -Schalter mehrmals angegeben werden muss.</span><span class="sxs-lookup"><span data-stu-id="a38fb-193">Note that to reference multiple collection types, the **/collectionType** switch must be specified multiple times.</span></span> <span data-ttu-id="a38fb-194">Wenn sich der Typ nicht im MsCorLib.dll befindet, muss auf seine Assembly auch mithilfe des **/Reference** -Schalters verwiesen werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-194">If the type is not in the MsCorLib.dll, its assembly must also be referenced using the **/reference** switch.</span></span>  
  
#### <a name="import-options-referencing-existing-types"></a><span data-ttu-id="a38fb-195">Importoptionen: Verweisen auf vorhandene Typen</span><span class="sxs-lookup"><span data-stu-id="a38fb-195">Import Options: Referencing Existing Types</span></span>  

 <span data-ttu-id="a38fb-196">Gelegentlich entsprechen Typen im Schema vorhandenen .NET Framework Typen, und es ist nicht erforderlich, diese Typen von Grund auf neu zu generieren.</span><span class="sxs-lookup"><span data-stu-id="a38fb-196">Occasionally, types in schema correspond to existing .NET Framework types, and there is no need to generate these types from scratch.</span></span> <span data-ttu-id="a38fb-197">(Dieser Abschnitt gilt nur für Typen, bei denen es sich nicht um Auflistungstypen handelt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-197">(This section applies only to noncollection types.</span></span> <span data-ttu-id="a38fb-198">Auflistungstypen finden Sie im vorherigen Abschnitt.)</span><span class="sxs-lookup"><span data-stu-id="a38fb-198">For collection types, see the preceding section.)</span></span>  
  
 <span data-ttu-id="a38fb-199">Es kann zum Beispiel sein, dass Sie über einen standardmäßigen unternehmensweiten Datenvertragstyp "Person" verfügen, der beim Darstellen einer Person immer verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="a38fb-199">For example, you may have a standard company-wide "Person" data contract type that you always want used when representing a person.</span></span> <span data-ttu-id="a38fb-200">Jedes Mal, wenn ein Dienst diesen Typ verwendet und das dazugehörige Schema in den Dienstmetadaten erscheint, sollten Sie den vorhandenen `Person`-Typ beim Importieren des Schemas wiederverwenden, anstatt für jeden Dienst ein neues Schema zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-200">Whenever some service makes use of this type, and its schema appears in the service metadata, you may want to reuse the existing `Person` type when importing this schema instead of generating a new one for every service.</span></span>  
  
 <span data-ttu-id="a38fb-201">Übergeben Sie hierzu eine Liste von .NET Framework Typen, die Sie wieder verwenden möchten, in die Auflistung, die von der- <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> Eigenschaft für die-Klasse zurückgegeben wird <xref:System.Runtime.Serialization.ImportOptions> .</span><span class="sxs-lookup"><span data-stu-id="a38fb-201">To do this, pass a list of .NET Framework types that you want to reuse into the collection the <xref:System.Runtime.Serialization.ImportOptions.ReferencedTypes%2A> property returns on the <xref:System.Runtime.Serialization.ImportOptions> class.</span></span> <span data-ttu-id="a38fb-202">Falls einige dieser Typen einen Datenvertragsnamen und Namespace aufweisen, der mit dem Namen und Namespace eines Schematyps übereinstimmt, wird ein Strukturvergleich durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-202">If any of these types have a data contract name and namespace that matches the name and namespace of a schema type, a structural comparison is performed.</span></span> <span data-ttu-id="a38fb-203">Wenn festgestellt wird, dass die Typen über übereinstimmende Namen und übereinstimmende Strukturen verfügen, wird der vorhandene .NET Framework Typ wieder verwendet, anstatt einen neuen zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-203">If it is determined that the types have both matching names and matching structures, the existing .NET Framework type is reused instead of generating a new one.</span></span> <span data-ttu-id="a38fb-204">Wenn nur der Name übereinstimmt, aber nicht die Struktur, wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="a38fb-204">If only the name matches but not the structure, an exception is thrown.</span></span> <span data-ttu-id="a38fb-205">Beachten Sie, dass beim Verweisen auf Typen (zum Beispiel beim Hinzufügen von neuen optionalen Datenmembern) kein Spielraum für unterschiedliche Versionen besteht.</span><span class="sxs-lookup"><span data-stu-id="a38fb-205">Note that there is no allowance for versioning when referencing types (for example, adding new optional data members).</span></span> <span data-ttu-id="a38fb-206">Die Strukturen müssen genau übereinstimmen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-206">The structures must match exactly.</span></span>  
  
 <span data-ttu-id="a38fb-207">Es ist zulässig, der Auflistung der referenzierten Typen mehrere Typen mit demselben Datenvertragsnamen und Namespace hinzuzufügen, solange keine Schematypen mit diesem Namen und Namespace importiert werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-207">It is legal to add multiple types with the same data contract name and namespace to the referenced types collection, as long as no schema types are imported with that name and namespace.</span></span> <span data-ttu-id="a38fb-208">So können Sie der Auflistung alle in einer Assembly enthaltenen Typen auf einfache Weise hinzufügen, ohne sich um Duplikate von Typen kümmern zu müssen, die im Schema eigentlich nicht vorkommen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-208">This allows you to easily add all the types in an assembly to the collection without worrying about duplicates for types that do not actually occur in schema.</span></span>  
  
 <span data-ttu-id="a38fb-209">Die- `ReferencedTypes` Eigenschaft entspricht dem **/Reference** -Schalter in bestimmten Betriebsmodi des Svcutil.exe Tools.</span><span class="sxs-lookup"><span data-stu-id="a38fb-209">The `ReferencedTypes` property corresponds to the **/reference** switch in certain modes of operation of the Svcutil.exe tool.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a38fb-210">Wenn Sie die Svcutil.exe oder (in Visual Studio) die **Dienstverweis hinzufügen** Tools verwenden, wird auf alle Typen in MsCorLib.dll automatisch verwiesen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-210">When using the Svcutil.exe or (in Visual Studio) the **Add Service Reference** tools, all of the types in MsCorLib.dll are automatically referenced.</span></span>  
  
#### <a name="import-options-importing-non-datacontract-schema-as-ixmlserializable-types"></a><span data-ttu-id="a38fb-211">Importoptionen: Importieren von Nicht-DataContract-Schemas als IXmlSerializable-Typen</span><span class="sxs-lookup"><span data-stu-id="a38fb-211">Import Options: Importing Non-DataContract Schema as IXmlSerializable types</span></span>  

 <span data-ttu-id="a38fb-212">Der <xref:System.Runtime.Serialization.XsdDataContractImporter> unterstützt eine beschränkte Teilmenge des Schemas.</span><span class="sxs-lookup"><span data-stu-id="a38fb-212">The <xref:System.Runtime.Serialization.XsdDataContractImporter> supports a limited subset of the schema.</span></span> <span data-ttu-id="a38fb-213">Wenn nicht unterstützte Schemakonstrukte vorhanden sind (zum Beispiel XML-Attribute), schlägt der Importversuch mit einer Ausnahme fehl.</span><span class="sxs-lookup"><span data-stu-id="a38fb-213">If unsupported schema constructs are present (for example, XML attributes), the import attempt fails with an exception.</span></span> <span data-ttu-id="a38fb-214">Das Festlegen der <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A>-Eigenschaft auf `true` erweitert jedoch den unterstützten Schemabereich.</span><span class="sxs-lookup"><span data-stu-id="a38fb-214">However, setting the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property to `true` extends the range of schema supported.</span></span> <span data-ttu-id="a38fb-215">Wenn `true` festgelegt ist, generiert der <xref:System.Runtime.Serialization.XsdDataContractImporter> Typen, die die <xref:System.Xml.Serialization.IXmlSerializable>-Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="a38fb-215">When set to `true`, the <xref:System.Runtime.Serialization.XsdDataContractImporter> generates types that implement the <xref:System.Xml.Serialization.IXmlSerializable> interface.</span></span> <span data-ttu-id="a38fb-216">Auf diese Weise wird der Direktzugriff auf die XML-Darstellung dieser Typen aktiviert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-216">This enables direct access to the XML representation of these types.</span></span>  
  
##### <a name="design-considerations"></a><span data-ttu-id="a38fb-217">Entwurfsaspekte</span><span class="sxs-lookup"><span data-stu-id="a38fb-217">Design Considerations</span></span>  
  
- <span data-ttu-id="a38fb-218">Es kann schwierig sein, direkt mit der schwach typisierten XML-Darstellung zu arbeiten.</span><span class="sxs-lookup"><span data-stu-id="a38fb-218">It may be difficult to work with the weakly typed XML representation directly.</span></span> <span data-ttu-id="a38fb-219">Sie sollten erwägen, eine alternative Serialisierungs-Engine zu verwenden, beispielsweise <xref:System.Xml.Serialization.XmlSerializer>, um mit Schemas arbeiten zu können, die mit stark typisierten Datenverträgen nicht kompatibel sind.</span><span class="sxs-lookup"><span data-stu-id="a38fb-219">Consider using an alternative serialization engine, such as the <xref:System.Xml.Serialization.XmlSerializer>, to work with schema not compatible with data contracts in a strongly typed way.</span></span> <span data-ttu-id="a38fb-220">Weitere Informationen finden Sie unter [Verwenden der XmlSerializer-Klasse](using-the-xmlserializer-class.md).</span><span class="sxs-lookup"><span data-stu-id="a38fb-220">For more information, see [Using the XmlSerializer Class](using-the-xmlserializer-class.md).</span></span>  
  
- <span data-ttu-id="a38fb-221">Einige Schemakonstrukte können über <xref:System.Runtime.Serialization.XsdDataContractImporter> nicht importiert werden. Dies ist auch dann nicht möglich, wenn die <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A>-Eigenschaft auf `true` festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="a38fb-221">Some schema constructs cannot be imported by the <xref:System.Runtime.Serialization.XsdDataContractImporter> even when the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> property is set to `true`.</span></span> <span data-ttu-id="a38fb-222">Sie sollten auch hierfür erwägen, <xref:System.Xml.Serialization.XmlSerializer> zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-222">Again, consider using the <xref:System.Xml.Serialization.XmlSerializer> for such cases.</span></span>  
  
- <span data-ttu-id="a38fb-223">Die genauen Schemas, die unterstützt werden, wenn <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> ist `true` oder `false` in der [Daten Vertrags Schema-Referenz](data-contract-schema-reference.md)beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-223">The exact schema constructs that are supported both when <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> is `true` or `false` are described in [Data Contract Schema Reference](data-contract-schema-reference.md).</span></span>  
  
- <span data-ttu-id="a38fb-224">Schemas für generierte <xref:System.Xml.Serialization.IXmlSerializable>-Typen behalten beim Importieren und Exportieren ihre Originaltreue nicht bei.</span><span class="sxs-lookup"><span data-stu-id="a38fb-224">Schema for generated <xref:System.Xml.Serialization.IXmlSerializable> types do not retain fidelity when imported and exported.</span></span> <span data-ttu-id="a38fb-225">Wenn Sie das Schema also aus den generierten Typen exportieren und jeweils als Klasse importieren, wird nicht das Originalschema zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="a38fb-225">That is, exporting the schema from the generated types and importing as classes does not return the original schema.</span></span>  
  
 <span data-ttu-id="a38fb-226">Es ist möglich, die <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A>-Option mit der oben beschriebenen <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A>-Option zu kombinieren.</span><span class="sxs-lookup"><span data-stu-id="a38fb-226">It is possible to combine the <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option with the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> option previously described.</span></span> <span data-ttu-id="a38fb-227">Für Typen, die als <xref:System.Xml.Serialization.IXmlSerializable>-Implementierungen generiert werden müssen, wird beim Verwenden der <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A>-Funktion die Strukturprüfung übersprungen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-227">For types that have to be generated as <xref:System.Xml.Serialization.IXmlSerializable> implementations, the structural check is skipped when using the <xref:System.ServiceModel.Description.ServiceContractGenerator.ReferencedTypes%2A> feature.</span></span>  
  
 <span data-ttu-id="a38fb-228">Die <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> Option entspricht dem Schalter **Schalter/importXmlTypes im** im Svcutil.exe Tool.</span><span class="sxs-lookup"><span data-stu-id="a38fb-228">The <xref:System.Runtime.Serialization.ImportOptions.ImportXmlType%2A> option corresponds to the **/importXmlTypes** switch on the Svcutil.exe tool.</span></span>  
  
##### <a name="working-with-generated-ixmlserializable-types"></a><span data-ttu-id="a38fb-229">Arbeiten mit generierten IXmlSerializable-Typen</span><span class="sxs-lookup"><span data-stu-id="a38fb-229">Working with Generated IXmlSerializable Types</span></span>  

 <span data-ttu-id="a38fb-230">Die generierten `IXmlSerializable`-Typen enthalten ein privates Feld mit der Bezeichnung "nodesField", das ein Array mit <xref:System.Xml.XmlNode>-Objekten zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-230">The generated `IXmlSerializable` types contain a private field, named "nodesField," that returns an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="a38fb-231">Beim Deserialisieren der Instanz eines Typs dieser Art können Sie auf die XML-Daten direkt über dieses Feld zugreifen, indem Sie das XML-Dokumentobjektmodell verwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-231">When deserializing an instance of such a type, you can access the XML data directly through this field by using the XML Document Object Model.</span></span> <span data-ttu-id="a38fb-232">Beim Serialisieren einer Instanz dieses Typs können Sie dieses Feld auf die gewünschten XML-Daten festlegen. Es wird dann serialisiert.</span><span class="sxs-lookup"><span data-stu-id="a38fb-232">When serializing an instance of this type, you can set this field to the desired XML data and it will be serialized.</span></span>  
  
 <span data-ttu-id="a38fb-233">Dies wird mithilfe der `IXmlSerializable`-Implementierung erreicht.</span><span class="sxs-lookup"><span data-stu-id="a38fb-233">This is accomplished through the `IXmlSerializable` implementation.</span></span> <span data-ttu-id="a38fb-234">Im generierten `IXmlSerializable`-Typ ruft die <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A>-Implementierung die <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A>-Methode der <xref:System.Runtime.Serialization.XmlSerializableServices>-Klasse auf.</span><span class="sxs-lookup"><span data-stu-id="a38fb-234">In the generated `IXmlSerializable` type, the <xref:System.Xml.Serialization.IXmlSerializable.ReadXml%2A> implementation calls the <xref:System.Runtime.Serialization.XmlSerializableServices.ReadNodes%2A> method of the <xref:System.Runtime.Serialization.XmlSerializableServices> class.</span></span> <span data-ttu-id="a38fb-235">Bei der Methode handelt es sich um eine Hilfsmethode, die XML-Daten konvertiert, die über einen <xref:System.Xml.XmlReader> für ein Array mit <xref:System.Xml.XmlNode>-Objekten bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-235">The method is a helper method that converts XML provided through an <xref:System.Xml.XmlReader> to an array of <xref:System.Xml.XmlNode> objects.</span></span> <span data-ttu-id="a38fb-236">Die <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A>-Implementierung bewirkt das Gegenteil und konvertiert das Array mit den `XmlNode`-Objekten in eine Folge von <xref:System.Xml.XmlWriter>-Aufrufen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-236">The <xref:System.Xml.Serialization.IXmlSerializable.WriteXml%2A> implementation does the opposite and converts the array of `XmlNode` objects to a sequence of <xref:System.Xml.XmlWriter> calls.</span></span> <span data-ttu-id="a38fb-237">Dies wird durch die Verwendung der <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A>-Methode erreicht.</span><span class="sxs-lookup"><span data-stu-id="a38fb-237">This is accomplished using the <xref:System.Runtime.Serialization.XmlSerializableServices.WriteNodes%2A> method.</span></span>  
  
 <span data-ttu-id="a38fb-238">Es ist möglich, den Schemaexportprozess über die generierten `IXmlSerializable`-Klassen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-238">It is possible to run the schema export process on the generated `IXmlSerializable` classes.</span></span> <span data-ttu-id="a38fb-239">Wie bereits erwähnt, erhalten Sie nicht das ursprüngliche Schema zurück.</span><span class="sxs-lookup"><span data-stu-id="a38fb-239">As previously stated, you will not get the original schema back.</span></span> <span data-ttu-id="a38fb-240">Stattdessen erhalten Sie den XSD-Standard Typ "anyType", bei dem es sich um einen Platzhalter für einen beliebigen XSD-Typ handelt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-240">Instead, you will get the "anyType" standard XSD type, which is a wildcard for any XSD type.</span></span>  
  
 <span data-ttu-id="a38fb-241">Dies wird erreicht, indem das <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> -Attribut auf die generierten `IXmlSerializable` Klassen angewendet und eine Methode angegeben wird, die die- <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> Methode aufruft, um den Typ "anyType" zu generieren.</span><span class="sxs-lookup"><span data-stu-id="a38fb-241">This is accomplished by applying the <xref:System.Xml.Serialization.XmlSchemaProviderAttribute> attribute to the generated `IXmlSerializable` classes and specifying a method that calls the <xref:System.Runtime.Serialization.XmlSerializableServices.AddDefaultSchema%2A> method to generate the "anyType" type.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="a38fb-242">Der <xref:System.Runtime.Serialization.XmlSerializableServices>-Typ ist nur vorhanden, um diese Funktion zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="a38fb-242">The <xref:System.Runtime.Serialization.XmlSerializableServices> type exists solely to support this particular feature.</span></span> <span data-ttu-id="a38fb-243">Es ist nicht ratsam, den Typ zu einem anderen Zweck zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="a38fb-243">It is not recommended for use for any other purpose.</span></span>  
  
#### <a name="import-options-advanced-options"></a><span data-ttu-id="a38fb-244">Importoptionen: Erweiterte Optionen</span><span class="sxs-lookup"><span data-stu-id="a38fb-244">Import Options: Advanced Options</span></span>  

 <span data-ttu-id="a38fb-245">Bei den folgenden Optionen handelt es sich um erweiterte Importoptionen:</span><span class="sxs-lookup"><span data-stu-id="a38fb-245">The following are advanced import options:</span></span>  
  
- <span data-ttu-id="a38fb-246"><xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="a38fb-246"><xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> property.</span></span> <span data-ttu-id="a38fb-247">Geben Sie den <xref:System.CodeDom.Compiler.CodeDomProvider> an, der verwendet werden soll, um den Code für die generierten Klassen zu generieren.</span><span class="sxs-lookup"><span data-stu-id="a38fb-247">Specify the <xref:System.CodeDom.Compiler.CodeDomProvider> to use to generate the code for the generated classes.</span></span> <span data-ttu-id="a38fb-248">Der Importmechanismus versucht, Funktionen zu vermeiden, die der <xref:System.CodeDom.Compiler.CodeDomProvider> nicht unterstützt.</span><span class="sxs-lookup"><span data-stu-id="a38fb-248">The import mechanism attempts to avoid features that the <xref:System.CodeDom.Compiler.CodeDomProvider> does not support.</span></span> <span data-ttu-id="a38fb-249">Wenn <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> nicht festgelegt ist, wird der vollständige Satz .NET Framework Features ohne Einschränkungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="a38fb-249">If the <xref:System.Runtime.Serialization.ImportOptions.CodeProvider%2A> is not set, the full set of .NET Framework features is used with no restrictions.</span></span>  
  
- <span data-ttu-id="a38fb-250"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="a38fb-250"><xref:System.Runtime.Serialization.ImportOptions.DataContractSurrogate%2A> property.</span></span> <span data-ttu-id="a38fb-251">Mit dieser Eigenschaft können Sie eine <xref:System.Runtime.Serialization.IDataContractSurrogate>-Implementierung angeben.</span><span class="sxs-lookup"><span data-stu-id="a38fb-251">An <xref:System.Runtime.Serialization.IDataContractSurrogate> implementation can be specified with this property.</span></span> <span data-ttu-id="a38fb-252"><xref:System.Runtime.Serialization.IDataContractSurrogate> passt den Importprozess an.</span><span class="sxs-lookup"><span data-stu-id="a38fb-252">The <xref:System.Runtime.Serialization.IDataContractSurrogate> customizes the import process.</span></span> <span data-ttu-id="a38fb-253">Weitere Informationen finden Sie unter [Data Contract Surrogates](../extending/data-contract-surrogates.md).</span><span class="sxs-lookup"><span data-stu-id="a38fb-253">For more information, see [Data Contract Surrogates](../extending/data-contract-surrogates.md).</span></span> <span data-ttu-id="a38fb-254">Standardmäßig wird kein Ersatzzeichen verwendet.</span><span class="sxs-lookup"><span data-stu-id="a38fb-254">By default, no surrogate is used.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a38fb-255">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="a38fb-255">See also</span></span>

- <xref:System.Runtime.Serialization.DataContractSerializer>
- <xref:System.Runtime.Serialization.XsdDataContractImporter>
- <xref:System.Runtime.Serialization.XsdDataContractExporter>
- <xref:System.Runtime.Serialization.ImportOptions>
- [<span data-ttu-id="a38fb-256">Datenvertrags-Schemareferenz</span><span class="sxs-lookup"><span data-stu-id="a38fb-256">Data Contract Schema Reference</span></span>](data-contract-schema-reference.md)
- [<span data-ttu-id="a38fb-257">Datenvertrag-Ersatzzeichen</span><span class="sxs-lookup"><span data-stu-id="a38fb-257">Data Contract Surrogates</span></span>](../extending/data-contract-surrogates.md)
- [<span data-ttu-id="a38fb-258">Import und Export von Schemas</span><span class="sxs-lookup"><span data-stu-id="a38fb-258">Schema Import and Export</span></span>](schema-import-and-export.md)
- [<span data-ttu-id="a38fb-259">Exportieren von Schemas aus Klassen</span><span class="sxs-lookup"><span data-stu-id="a38fb-259">Exporting Schemas from Classes</span></span>](exporting-schemas-from-classes.md)
- [<span data-ttu-id="a38fb-260">Datenvertrags-Schemareferenz</span><span class="sxs-lookup"><span data-stu-id="a38fb-260">Data Contract Schema Reference</span></span>](data-contract-schema-reference.md)
