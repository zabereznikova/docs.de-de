---
title: 'Vorgehensweise: Abrufen von Metadaten und Implementieren eines kompatiblen Diensts'
ms.date: 03/30/2017
ms.assetid: f6f3a2b9-c8aa-4b0b-832c-ec2927bf1163
ms.openlocfilehash: 6bd67ec8dcc0e73d097796b44974dce00b9a4eb2
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/09/2020
ms.locfileid: "84601217"
---
# <a name="how-to-retrieve-metadata-and-implement-a-compliant-service"></a><span data-ttu-id="49826-102">Vorgehensweise: Abrufen von Metadaten und Implementieren eines kompatiblen Diensts</span><span class="sxs-lookup"><span data-stu-id="49826-102">How to: Retrieve Metadata and Implement a Compliant Service</span></span>
<span data-ttu-id="49826-103">Oftmals werden Dienste nicht von derselben Person entworfen und anschließend implementiert.</span><span class="sxs-lookup"><span data-stu-id="49826-103">Often, the same person does not design and implement services.</span></span> <span data-ttu-id="49826-104">In Umgebungen, in denen zusammenwirkende Anwendungen wichtig sind, können Verträge in Web Services Description Language (WSDL) entworfen oder beschrieben werden, und ein Entwickler muss einen Dienst implementieren, der mit dem bereitgestellten Vertrag kompatibel ist.</span><span class="sxs-lookup"><span data-stu-id="49826-104">In environments where interoperating applications are important, contracts can be designed or described in Web Services Description Language (WSDL) and a developer must implement a service that complies with the provided contract.</span></span> <span data-ttu-id="49826-105">Möglicherweise möchten Sie auch einen vorhandenen Dienst zu Windows Communication Foundation (WCF) migrieren, behalten jedoch das Wire-Format bei.</span><span class="sxs-lookup"><span data-stu-id="49826-105">You may also want to migrate an existing service to Windows Communication Foundation (WCF) but preserve the wire format.</span></span> <span data-ttu-id="49826-106">Außerdem werden Aufrufende von Duplexverträgen dazu aufgefordert, auch einen Rückrufvertrag zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="49826-106">In addition, duplex contracts require callers to implement a callback contract as well.</span></span>  
  
 <span data-ttu-id="49826-107">In diesen Fällen müssen Sie das Service [Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) (oder ein entsprechendes Tool) verwenden, um eine Dienstvertrags Schnittstelle in einer verwalteten Sprache zu generieren, die Sie implementieren können, um die Anforderungen des Vertrags zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="49826-107">In these cases, you must use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) (or an equivalent tool) to generate a service contract interface in a managed language that you can implement to fulfill the requirements of the contract.</span></span> <span data-ttu-id="49826-108">In der Regel wird das [Service Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) zum Abrufen eines Dienstvertrags verwendet, der für eine Kanalfactory oder einen WCF-Clienttyp verwendet wird, sowie eine Client Konfigurationsdatei, die die richtige Bindung und Adresse festlegt.</span><span class="sxs-lookup"><span data-stu-id="49826-108">Typically the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) is used to acquire a service contract that is used with a channel factory or a WCF client type as well as with a client configuration file that sets up the correct binding and address.</span></span> <span data-ttu-id="49826-109">Um die generierte Konfigurationsdatei zu verwenden, müssen Sie diese in eine Dienstkonfigurationsdatei ändern.</span><span class="sxs-lookup"><span data-stu-id="49826-109">To use the generated configuration file, you must change it into a service configuration file.</span></span> <span data-ttu-id="49826-110">Sie müssen möglicherweise auch den Dienstvertrag ändern.</span><span class="sxs-lookup"><span data-stu-id="49826-110">You may also need to modify the service contract.</span></span>  
  
### <a name="to-retrieve-data-and-implement-a-compliant-service"></a><span data-ttu-id="49826-111">So rufen Sie Daten ab und implementieren einen kompatiblen Dienst:</span><span class="sxs-lookup"><span data-stu-id="49826-111">To retrieve data and implement a compliant service</span></span>  
  
1. <span data-ttu-id="49826-112">Verwenden Sie das [Service Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) für Metadatendateien oder einen Metadatenendpunkt, um eine Codedatei zu generieren.</span><span class="sxs-lookup"><span data-stu-id="49826-112">Use the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files or a metadata endpoint to generate a code file.</span></span>  
  
2. <span data-ttu-id="49826-113">Suchen Sie den Bereich der Ausgabecodedatei mit der wichtigen Schnittstelle (falls mehr als eine vorhanden ist), die mit dem <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType>-Attribut gekennzeichnet ist.</span><span class="sxs-lookup"><span data-stu-id="49826-113">Search for the portion of the output code file that contains the interface of interest (in case there is more than one) that is marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="49826-114">Das folgende Codebeispiel zeigt die beiden Schnittstellen, die vom [Service Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md)generiert werden.</span><span class="sxs-lookup"><span data-stu-id="49826-114">The following code example shows the two interfaces generated by [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md).</span></span> <span data-ttu-id="49826-115">Die erste Schnittstelle (`ISampleService`) ist die Dienstvertragsschnittstelle, die zum Erstellen eines kompatiblen Diensts implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="49826-115">The first (`ISampleService`) is the service contract interface that you implement to create a compliant service.</span></span> <span data-ttu-id="49826-116">Bei der zweiten Schnittstelle (`ISampleServiceChannel`) handelt es sich um eine Hilfsschnittstelle für die Clientverwendung, die sowohl die Dienstvertragsschnittstelle als auch <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> erweitert und für die Verwendung in einer Clientanwendung vorgesehen ist.</span><span class="sxs-lookup"><span data-stu-id="49826-116">The second (`ISampleServiceChannel`) is a helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> and is for use in a client application.</span></span>  
  
     [!code-csharp[ClientProxyCodeSample#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#2)]  
  
3. <span data-ttu-id="49826-117">Wird mit WSDL keine Antwortaktion für alle Vorgänge angegeben, ist bei den generierten Vorgangsverträgen die <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A>-Eigenschaft möglicherweise auf das Platzhalterzeichen (\*) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="49826-117">If the WSDL does not specify a reply action for all of the operations, the generated operation contracts may have the <xref:System.ServiceModel.OperationContractAttribute.ReplyAction%2A> property set to the wildcard character (\*).</span></span> <span data-ttu-id="49826-118">Entfernen Sie diese Eigenschafteneinstellung.</span><span class="sxs-lookup"><span data-stu-id="49826-118">Remove this property setting.</span></span> <span data-ttu-id="49826-119">Andernfalls können die Metadaten bei der Implementierung der Dienstvertragsmetadaten nicht für diese Vorgänge exportiert werden.</span><span class="sxs-lookup"><span data-stu-id="49826-119">Otherwise, when you implement the service contract metadata, the metadata cannot be exported for those operations.</span></span>  
  
4. <span data-ttu-id="49826-120">Implementieren Sie die Schnittstelle in einer Klasse, und hosten Sie den Dienst.</span><span class="sxs-lookup"><span data-stu-id="49826-120">Implement the interface on a class and host the service.</span></span> <span data-ttu-id="49826-121">Ein Beispiel finden Sie unter Gewusst [wie: Implementieren eines Dienstvertrags](../how-to-implement-a-wcf-contract.md), oder eine einfache Implementierung finden Sie unten im Abschnitt "Beispiel".</span><span class="sxs-lookup"><span data-stu-id="49826-121">For an example, see [How to: Implement a Service Contract](../how-to-implement-a-wcf-contract.md), or see a simple implementation below in the Example section.</span></span>  
  
5. <span data-ttu-id="49826-122">Ändern Sie in der Client Konfigurationsdatei, die vom [Service Model Metadata Utility Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generiert wird, den [\<client>](../../configure-apps/file-schema/wcf/client.md) Konfigurations Abschnitt in einen [\<services>](../../configure-apps/file-schema/wcf/services.md) Konfigurations Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="49826-122">In the client configuration file that the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generates, change the [\<client>](../../configure-apps/file-schema/wcf/client.md) configuration section to a [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section.</span></span> <span data-ttu-id="49826-123">(Ein Beispiel für eine generierte Clientanwendungs-Konfigurationsdatei finden Sie im folgenden "Beispiel"-Abschnitt.)</span><span class="sxs-lookup"><span data-stu-id="49826-123">(For an example of a generated client application configuration file, see the following "Example" section.)</span></span>  
  
6. <span data-ttu-id="49826-124">[\<services>](../../configure-apps/file-schema/wcf/services.md)Erstellen Sie im Konfigurations Abschnitt ein- `name` Attribut im [\<services>](../../configure-apps/file-schema/wcf/services.md) Konfigurations Abschnitt für die Dienst Implementierung.</span><span class="sxs-lookup"><span data-stu-id="49826-124">Within the [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section, create a `name` attribute in the [\<services>](../../configure-apps/file-schema/wcf/services.md) configuration section for your service implementation.</span></span>  
  
7. <span data-ttu-id="49826-125">Legen Sie das `name`-Dienstattribut auf den Konfigurationsnamen für die Dienstimplementierung fest.</span><span class="sxs-lookup"><span data-stu-id="49826-125">Set the service `name` attribute to the configuration name for your service implementation.</span></span>  
  
8. <span data-ttu-id="49826-126">Fügen Sie die Endpunktkonfigurationselemente hinzu, die den implementierten Dienstvertrag für den Dienstkonfigurationsabschnitt verwenden.</span><span class="sxs-lookup"><span data-stu-id="49826-126">Add the endpoint configuration elements that use the implemented service contract to the service configuration section.</span></span>  
  
## <a name="example"></a><span data-ttu-id="49826-127">Beispiel</span><span class="sxs-lookup"><span data-stu-id="49826-127">Example</span></span>  
 <span data-ttu-id="49826-128">Das folgende Codebeispiel zeigt den Großteil einer Codedatei, die durch Ausführen des [Service Model Metadata Utility Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) für Metadatendateien generiert wird.</span><span class="sxs-lookup"><span data-stu-id="49826-128">The following code example shows the majority of a code file generated by running the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) against metadata files.</span></span>  
  
 <span data-ttu-id="49826-129">Dies wird im folgenden Code veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="49826-129">The following code shows:</span></span>  
  
- <span data-ttu-id="49826-130">Die Dienstvertragsschnittstelle (`ISampleService`), die bei der Implementierung den Vertragsanforderungen entspricht.</span><span class="sxs-lookup"><span data-stu-id="49826-130">The service contract interface that, when implemented, complies with the contract requirements (`ISampleService`).</span></span>  
  
- <span data-ttu-id="49826-131">Die Hilfsschnittstelle für die Clientverwendung, die sowohl die Dienstvertragsschnittstelle als auch <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> erweitert und für die Verwendung in einer Clientanwendung (`ISampleServiceChannel`) vorgesehen ist.</span><span class="sxs-lookup"><span data-stu-id="49826-131">The helper interface for client use that extends both the service contract interface and <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> and is for use in a client application (`ISampleServiceChannel`).</span></span>  
  
- <span data-ttu-id="49826-132">Die Hilfsklasse, die <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> erweitert und für die Verwendung in einer Clientanwendung (`SampleServiceClient`) vorgesehen ist.</span><span class="sxs-lookup"><span data-stu-id="49826-132">The helper class that extends <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> and is for use in a client application (`SampleServiceClient`).</span></span>  
  
- <span data-ttu-id="49826-133">Die vom Dienst generierte Konfigurationsdatei.</span><span class="sxs-lookup"><span data-stu-id="49826-133">The configuration file generated from the service.</span></span>  
  
- <span data-ttu-id="49826-134">Eine einfache `ISampleService`-Dienstimplementierung.</span><span class="sxs-lookup"><span data-stu-id="49826-134">A simple `ISampleService` service implementation.</span></span>  
  
- <span data-ttu-id="49826-135">Eine Konvertierung der clientseitigen Konfigurationsdatei in eine dienstseitige Version.</span><span class="sxs-lookup"><span data-stu-id="49826-135">A conversion of the client-side configuration file to a service-side version.</span></span>  
  
[!code-csharp[ClientProxyCodeSample#1](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/proxycode.cs#1)]

[!code-xml[ClientProxyCodeSample#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/client.exe.config#10)]

[!code-csharp[ClientProxyCodeSample#5](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.cs#5)]

[!code-xml[ClientProxyCodeSample#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/clientproxycodesample/cs/hostapplication.exe.config#20)]
  
## <a name="see-also"></a><span data-ttu-id="49826-136">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="49826-136">See also</span></span>

- [<span data-ttu-id="49826-137">ServiceModel Metadata Utility-Tool (Svcutil.exe)</span><span class="sxs-lookup"><span data-stu-id="49826-137">ServiceModel Metadata Utility Tool (Svcutil.exe)</span></span>](../servicemodel-metadata-utility-tool-svcutil-exe.md)
