---
title: Ansprüche und Token
ms.date: 03/30/2017
helpviewer_keywords:
- claims [WCF], and tokens
ms.assetid: eff167f3-33f8-483d-a950-aa3e9f97a189
ms.openlocfilehash: f640372504658c8f7935d3d219cd373f19ebf31f
ms.sourcegitcommit: 586dbdcaef9767642436b1e4efbe88fb15473d6f
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/06/2018
ms.locfileid: "48837533"
---
# <a name="claims-and-tokens"></a><span data-ttu-id="f3be9-102">Ansprüche und Token</span><span class="sxs-lookup"><span data-stu-id="f3be9-102">Claims and Tokens</span></span>
<span data-ttu-id="f3be9-103">Dieses Thema beschreibt die verschiedenen Anspruchstypen, die Windows Communication Foundation (WCF) aus den Standardtoken erstellt, die es unterstützt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-103">This topic describes the various claim types that Windows Communication Foundation (WCF) creates from the default tokens that it supports.</span></span>  
  
 <span data-ttu-id="f3be9-104">Sie können die Ansprüche von Clientanmeldeinformationen prüfen, indem Sie die <xref:System.IdentityModel.Claims.ClaimSet>-Klasse und die <xref:System.IdentityModel.Claims.Claim>-Klasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="f3be9-104">You can examine the claims of a client credential by using the <xref:System.IdentityModel.Claims.ClaimSet> and <xref:System.IdentityModel.Claims.Claim> classes.</span></span> <span data-ttu-id="f3be9-105">`ClaimSet` enthält eine Auflistung von `Claim`-Objekten.</span><span class="sxs-lookup"><span data-stu-id="f3be9-105">The `ClaimSet` contains a collection of `Claim` objects.</span></span> <span data-ttu-id="f3be9-106">Jeder `Claim` verfügt über die folgenden wichtigen Member:</span><span class="sxs-lookup"><span data-stu-id="f3be9-106">Each `Claim` has the following important members:</span></span>  
  
-   <span data-ttu-id="f3be9-107">Die <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>-Eigenschaft gibt einen Uniform Resource Identifier (URI) zurück, der den Typ des erhobenen Anspruches angibt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-107">The <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> property returns a Uniform Resource Identifier (URI) that specifies the type of claim being made.</span></span> <span data-ttu-id="f3be9-108">Ein Anspruchstyp kann z. B. einen Fingerabdruck eines Zertifikats, in dem Fall ist der URI ist sein `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span><span class="sxs-lookup"><span data-stu-id="f3be9-108">For example, a claim type may be a thumbprint of a certificate, in which case the URI is `http://schemas.microsoft.com/ws/20005/05/identity/claims/thumprint`.</span></span>  
  
-   <span data-ttu-id="f3be9-109">Die <xref:System.IdentityModel.Claims.Claim.Right%2A>-Eigenschaft gibt einen URI zurück, der das Recht des Anspruchs angibt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-109">The <xref:System.IdentityModel.Claims.Claim.Right%2A> property returns a URI that specifies the right of the claim.</span></span> <span data-ttu-id="f3be9-110">Vordefinierte Rechte befinden sich in der <xref:System.IdentityModel.Claims.Rights>-Klasse (<xref:System.IdentityModel.Claims.Rights.Identity%2A>, <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span><span class="sxs-lookup"><span data-stu-id="f3be9-110">Predefined rights are found in the <xref:System.IdentityModel.Claims.Rights> class (<xref:System.IdentityModel.Claims.Rights.Identity%2A>,  <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A>).</span></span>  
  
-   <span data-ttu-id="f3be9-111">Die <xref:System.IdentityModel.Claims.Claim.Resource%2A>-Eigenschaft gibt die dem Anspruch zugeordnete Ressource zurück.</span><span class="sxs-lookup"><span data-stu-id="f3be9-111">The <xref:System.IdentityModel.Claims.Claim.Resource%2A> property returns the resource associated with the claim.</span></span>  
  
 <span data-ttu-id="f3be9-112">Jeder <xref:System.IdentityModel.Claims.ClaimSet> verfügt auch über eine <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A>-Eigenschaft, die den <xref:System.IdentityModel.Claims.ClaimSet> des `Issuer` darstellt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-112">Each <xref:System.IdentityModel.Claims.ClaimSet> also has an <xref:System.IdentityModel.Claims.ClaimSet.Issuer%2A> property, which represents the <xref:System.IdentityModel.Claims.ClaimSet> of the `Issuer`.</span></span>  
  
## <a name="windows-accounts"></a><span data-ttu-id="f3be9-113">Windows-Konten</span><span class="sxs-lookup"><span data-stu-id="f3be9-113">Windows Accounts</span></span>  
 <span data-ttu-id="f3be9-114">Wo einem Windows-Benutzerkonto Clientanmeldeinformationen zugeordnet werden, weist der resultierende <xref:System.IdentityModel.Claims.ClaimSet> die folgenden Werte auf:</span><span class="sxs-lookup"><span data-stu-id="f3be9-114">Where a client credential maps to a Windows user account, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
-   <span data-ttu-id="f3be9-115">Der `Issuer` ist der von der statischen Windows-Eigenschaft der <xref:System.IdentityModel.Claims.ClaimSet>-Klasse zurückgegebene Wert.</span><span class="sxs-lookup"><span data-stu-id="f3be9-115">The `Issuer` is the value returned by the static Windows property of the <xref:System.IdentityModel.Claims.ClaimSet> class.</span></span>  
  
-   <span data-ttu-id="f3be9-116">In der Auflistung sind folgende Ansprüche enthalten:</span><span class="sxs-lookup"><span data-stu-id="f3be9-116">The claims in the collection are:</span></span>  
  
    -   <span data-ttu-id="f3be9-117">Ein <xref:System.IdentityModel.Claims.Claim> mit einem <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>-Wert der Sicherheits-ID (SID), einem <xref:System.IdentityModel.Claims.Claim.Right%2A>-Eigenschaftswert von `Identity` und einer <xref:System.IdentityModel.Claims.Claim.Resource%2A>, die den tatsächlichen SID-Wert zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-117">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of security identifier (SID), a <xref:System.IdentityModel.Claims.Claim.Right%2A> property value of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> that returns the actual SID value.</span></span> <span data-ttu-id="f3be9-118">Eine SID ist ein eindeutiger Wert, den der Domänencontroller jedem Benutzer angibt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-118">A SID is a unique value the domain controller issues to every user.</span></span> <span data-ttu-id="f3be9-119">Die SID wird verwendet, um den Benutzer in Interaktionen mit Windows-Sicherheit zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="f3be9-119">The SID is used to identify the user in interactions with Windows security.</span></span>  
  
    -   <span data-ttu-id="f3be9-120">Ein <xref:System.IdentityModel.Claims.Claim> mit einem <xref:System.IdentityModel.Claims.Claim.ClaimType%2A>-Wert der SID, einem <xref:System.IdentityModel.Claims.Claim.Right%2A> von `PossessProperty` und einer <xref:System.IdentityModel.Claims.Claim.Resource%2A> des SID-Werts.</span><span class="sxs-lookup"><span data-stu-id="f3be9-120">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> value of SID, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of the SID value.</span></span>  
  
    -   <span data-ttu-id="f3be9-121">Ein <xref:System.IdentityModel.Claims.Claim> mit einem <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> von <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, einem <xref:System.IdentityModel.Claims.Claim.Right%2A> von `PossessProperty` und einer <xref:System.IdentityModel.Claims.Claim.Resource%2A> der den Benutzernamen enthaltenden Zeichenfolge (beispielsweise "MYMACHINE\Bob").</span><span class="sxs-lookup"><span data-stu-id="f3be9-121">A <xref:System.IdentityModel.Claims.Claim> with a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `PossessProperty` and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> of string containing the user name (for example, "MYMACHINE\Bob").</span></span>  
  
    -   <span data-ttu-id="f3be9-122">Zusätzliche SID-Ansprüche bei <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> für die verschiedenen Gruppen, zu denen der Benutzer gehört.</span><span class="sxs-lookup"><span data-stu-id="f3be9-122">Additional SID claims with <xref:System.IdentityModel.Claims.Rights.PossessProperty%2A> for the various groups the user belongs to.</span></span>  
  
## <a name="certificates"></a><span data-ttu-id="f3be9-123">Zertifikate</span><span class="sxs-lookup"><span data-stu-id="f3be9-123">Certificates</span></span>  
 <span data-ttu-id="f3be9-124">Wenn es sich bei den Clientanmeldeinformationen um ein Zertifikat handelt, verfügt der resultierende <xref:System.IdentityModel.Claims.ClaimSet> über die folgenden Werte:</span><span class="sxs-lookup"><span data-stu-id="f3be9-124">Where the client credential is a certificate, the resulting <xref:System.IdentityModel.Claims.ClaimSet> has the following values:</span></span>  
  
-   <span data-ttu-id="f3be9-125">Bei selbst herausgegebenen Zertifikaten ist `Issuer` der <xref:System.IdentityModel.Claims.ClaimSet> selbst.</span><span class="sxs-lookup"><span data-stu-id="f3be9-125">For self-issued certificates, the `Issuer` is the <xref:System.IdentityModel.Claims.ClaimSet> itself.</span></span> <span data-ttu-id="f3be9-126"><xref:System.IdentityModel.Claims.ClaimSet> gibt einen <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> von <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, ein <xref:System.IdentityModel.Claims.Claim.Right%2A> von `Identity` und einen <xref:System.IdentityModel.Claims.Claim.Resource%2A>-Wert zurück, bei dem es sich um einen <xref:System.Byte>-Array handelt, der den Fingerabdruck des Zertifikats beinhaltet.</span><span class="sxs-lookup"><span data-stu-id="f3be9-126">The <xref:System.IdentityModel.Claims.ClaimSet> returns a <xref:System.IdentityModel.Claims.Claim.ClaimType%2A> of <xref:System.IdentityModel.Claims.ClaimTypes.Thumbprint%2A>, a <xref:System.IdentityModel.Claims.Claim.Right%2A> of `Identity`, and a <xref:System.IdentityModel.Claims.Claim.Resource%2A> value that is a <xref:System.Byte> array containing the thumbprint of the certificate.</span></span>  
  
-   <span data-ttu-id="f3be9-127">Für ein von einer Zertifizierungsstelle ausgestelltes Zertifikat ist der Aussteller der `ClaimSet`, der das Zertifikat der Zertifizierungsstelle darstellt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-127">For a certificate issued by a certification authority, the issuer is the `ClaimSet` representing the certification authority’s certificate.</span></span>  
  
-   <span data-ttu-id="f3be9-128">Die `Claims` in der Auflistung beinhalten folgende Elemente:</span><span class="sxs-lookup"><span data-stu-id="f3be9-128">The `Claims` in the collection include:</span></span>  
  
    -   <span data-ttu-id="f3be9-129">Ein `Claim` mit dem `ClaimType` Fingerabdruck, einem `Right` von PossessProperty und einer `Resource`, bei der es sich um ein Bytearray handelt, das den Fingerabdruck des Zertifikats beinhaltet.</span><span class="sxs-lookup"><span data-stu-id="f3be9-129">A `Claim` with a `ClaimType` of Thumbprint, a `Right` of PossessProperty, and a `Resource` that is a byte array containing the thumbprint of the certificate</span></span>  
  
    -   <span data-ttu-id="f3be9-130">Zusätzliche PossessProperty-Ansprüche verschiedener Typen, einschließlich X500DistinguishedName, DNS, Name, UPN und RSA sind verschiedene Eigenschaften des Zertifikats.</span><span class="sxs-lookup"><span data-stu-id="f3be9-130">Additional PossessProperty claims of various types, including X500DistinguishedName, Dns, Name, Upn, and Rsa, represent various properties of the certificate.</span></span> <span data-ttu-id="f3be9-131">Die Ressource für den Rsa-Anspruch ist der öffentliche Schlüssel mit dem Zertifikat verknüpft ist. **Hinweis** , in denen der Typ der Clientanmeldeinformationen ein Zertifikat ist, die die dienstzuordnungen zu einer Windows-Konto zwei `ClaimSet` Objekte generiert werden.</span><span class="sxs-lookup"><span data-stu-id="f3be9-131">The resource for the Rsa claim is the public key associated with the certificate.**Note** Where the client credential type is a certificate that the service maps to a Windows account, two `ClaimSet` objects are generated.</span></span> <span data-ttu-id="f3be9-132">Die erste Ressource beinhaltet alle Ansprüche in Zusammenhang mit dem Windows-Konto, und die zweite Ressource beinhaltet alle Ansprüche, die mit dem Zertifikat in Zusammenhang stehen.</span><span class="sxs-lookup"><span data-stu-id="f3be9-132">The first contains all the claims related to the Windows account and the second contains all the claims related to the certificate.</span></span>  
  
## <a name="user-namepassword"></a><span data-ttu-id="f3be9-133">Benutzername/Kennwort</span><span class="sxs-lookup"><span data-stu-id="f3be9-133">User Name/Password</span></span>  
 <span data-ttu-id="f3be9-134">Handelt es sich bei den Clientanmeldeinformationen um einen Benutzernamen bzw. ein Kennwort (oder Äquivalent), der bzw. das keinem Windows-Konto zugeordnet ist, wird der daraus resultierende `ClaimSet` von der statischen <xref:System.IdentityModel.Claims.ClaimSet.System%2A>-Eigenschaft der `ClaimSet`-Klasse ausgestellt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-134">Where the client credential is a user name/password (or equivalent) that does not map to a Windows account, the resulting `ClaimSet` is issued by the static <xref:System.IdentityModel.Claims.ClaimSet.System%2A> property of the `ClaimSet` class.</span></span> <span data-ttu-id="f3be9-135">Die `ClaimSet` enthält ein `Identity` -Anspruch vom Typ <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> , dessen Ressource der Benutzername des Clients ist.</span><span class="sxs-lookup"><span data-stu-id="f3be9-135">The `ClaimSet` contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Name%2A> whose resource is the user name the client provides.</span></span> <span data-ttu-id="f3be9-136">Ein entsprechender Anspruch besitzt ein`Right` von `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="f3be9-136">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="rsa-keys"></a><span data-ttu-id="f3be9-137">RSA-Schlüssel</span><span class="sxs-lookup"><span data-stu-id="f3be9-137">RSA Keys</span></span>  
 <span data-ttu-id="f3be9-138">Verwendet ein RSA-Schlüssel, die nicht mit einem Zertifikat zugeordnet, die resultierende `ClaimSet` selbst ausgestellt und enthält eine `Identity` -Anspruch vom Typ <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> , dessen Ressource ist der RSA-Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="f3be9-138">Where an RSA key not associated with a certificate is used, the resulting `ClaimSet` is self-issued and contains an `Identity` claim of type <xref:System.IdentityModel.Claims.ClaimTypes.Rsa%2A> whose resource is the RSA key.</span></span> <span data-ttu-id="f3be9-139">Ein entsprechender Anspruch besitzt ein`Right` von `PossessProperty`.</span><span class="sxs-lookup"><span data-stu-id="f3be9-139">A corresponding claim has a `Right` of `PossessProperty`.</span></span>  
  
## <a name="saml"></a><span data-ttu-id="f3be9-140">SAML</span><span class="sxs-lookup"><span data-stu-id="f3be9-140">SAML</span></span>  
 <span data-ttu-id="f3be9-141">Wird der Client mit einem Security Assertions Markup Language (SAML)-Token authentifiziert, wird der resultierende `ClaimSet` von der Entität ausgestellt, von der das SAML-Token signiert wurde. Oftmals handelt es sich dabei um das Zertifikat des Sicherheitstokendiensts (STS), von dem das SAML-Token ausgestellt wurde.</span><span class="sxs-lookup"><span data-stu-id="f3be9-141">Where the client authenticates with a Security Assertions Markup Language (SAML) token, the resulting `ClaimSet` is issued by the entity that signed the SAML token, often the certificate of the security token service (STS) that issued the SAML token.</span></span> <span data-ttu-id="f3be9-142">`ClaimSet` enthält verschiedene Ansprüche, die sich im SAML-Token befinden.</span><span class="sxs-lookup"><span data-stu-id="f3be9-142">The `ClaimSet` contains various claims as found in the SAML token.</span></span> <span data-ttu-id="f3be9-143">Beinhaltet das SAML-Token einen `SamlSubject` mit einem Nicht-`null`-Namen, werden ein `Identity`-Anspruch mit dem Typ <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> und ein Ressourcentyp von <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> erstellt.</span><span class="sxs-lookup"><span data-stu-id="f3be9-143">If the SAML token contains a `SamlSubject` with a non-`null` name, then an `Identity` claim with a type of <xref:System.IdentityModel.Claims.ClaimTypes.NameIdentifier%2A> and a resource type of <xref:System.IdentityModel.Tokens.SamlNameIdentifierClaimResource> are created.</span></span>  
  
## <a name="identity-claims-and-servicesecuritycontextisanonymous"></a><span data-ttu-id="f3be9-144">Identitätsansprüche und ServiceSecurityContext.IsAnonymous</span><span class="sxs-lookup"><span data-stu-id="f3be9-144">Identity Claims and ServiceSecurityContext.IsAnonymous</span></span>  
 <span data-ttu-id="f3be9-145">Stimmt keiner der der `ClaimSet` Objekte aus den Clientanmeldeinformationen resultieren, einen Anspruch mit einem `Right` von `Identity,` die <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> -Eigenschaft gibt `true`.</span><span class="sxs-lookup"><span data-stu-id="f3be9-145">If none of the `ClaimSet` objects resulting from the client credentials contain a claim with a `Right` of `Identity,` then the <xref:System.ServiceModel.ServiceSecurityContext.IsAnonymous%2A> property returns `true`.</span></span> <span data-ttu-id="f3be9-146">Ist mindestens ein derartiger Anspruch vorhanden, gibt die `IsAnonymous`-Eigenschaft `false` zurück.</span><span class="sxs-lookup"><span data-stu-id="f3be9-146">If one or more such claims are present, the `IsAnonymous` property returns `false`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f3be9-147">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="f3be9-147">See Also</span></span>  
 <xref:System.IdentityModel.Claims.ClaimSet>  
 <xref:System.IdentityModel.Claims.Claim>  
 <xref:System.IdentityModel.Claims.Rights>  
 <xref:System.IdentityModel.Claims.ClaimTypes>  
 [<span data-ttu-id="f3be9-148">Verwalten von Ansprüchen und Autorisierung mit dem Identitätsmodell</span><span class="sxs-lookup"><span data-stu-id="f3be9-148">Managing Claims and Authorization with the Identity Model</span></span>](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md)
