---
title: Bewährte Methoden für die Kommunikation unter Verwendung von Warteschlangen
ms.date: 03/30/2017
helpviewer_keywords:
- queues [WCF], best practices
- best practices [WCF], queued communication
ms.assetid: 446a6383-cae3-4338-b193-a33c14a49948
ms.openlocfilehash: 412b30a497fcf4c341f80a64c76fcbbc425e70b2
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96247446"
---
# <a name="best-practices-for-queued-communication"></a><span data-ttu-id="66ab5-102">Bewährte Methoden für die Kommunikation unter Verwendung von Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="66ab5-102">Best Practices for Queued Communication</span></span>

<span data-ttu-id="66ab5-103">Dieses Thema enthält empfohlene Vorgehensweisen für die Kommunikation in der Warteschlange in Windows Communication Foundation (WCF).</span><span class="sxs-lookup"><span data-stu-id="66ab5-103">This topic provides recommended practices for queued communication in Windows Communication Foundation (WCF).</span></span> <span data-ttu-id="66ab5-104">In den folgenden Abschnitten werden bewährte Methoden aus der Perspektive eines Szenarios vorgestellt.</span><span class="sxs-lookup"><span data-stu-id="66ab5-104">The following sections discuss recommended practices from a scenario perspective.</span></span>  
  
## <a name="fast-best-effort-queued-messaging"></a><span data-ttu-id="66ab5-105">Schnelles Warteschlangen-Messaging nach dem Best-Effort-Prinzip</span><span class="sxs-lookup"><span data-stu-id="66ab5-105">Fast, Best-Effort Queued Messaging</span></span>  

 <span data-ttu-id="66ab5-106">Falls Sie die Vorzüge der Nachrichtentrennung beim Warteschlangen-Messaging nutzen möchten und auf einen schnellen, leistungsfähigen Nachrichtenaustausch mit einer Best-Effort-Zusicherung angewiesen sind, verwenden Sie eine Warteschlange, bei der es sich nicht um eine Transaktionswarteschlange handelt, und legen Sie die <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A>-Eigenschaft auf `false` fest.</span><span class="sxs-lookup"><span data-stu-id="66ab5-106">For scenarios that require separation that queued messaging provides and fast, high-performance messaging with best-effort assurances, use a non-transactional queue and set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="66ab5-107">Darüber hinaus können Sie die <xref:System.ServiceModel.MsmqBindingBase.Durable%2A>-Eigenschaft auf `false` festlegen, um die Kosten, die beim Schreiben auf einen Datenträger entstehen, zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-107">In addition, you can choose not to incur the cost of disk writes by setting the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property to `false`.</span></span>  
  
 <span data-ttu-id="66ab5-108">Die Sicherheit wirkt sich auf die Leistung aus.</span><span class="sxs-lookup"><span data-stu-id="66ab5-108">Security has implications on performance.</span></span> <span data-ttu-id="66ab5-109">Weitere Informationen finden Sie unter [Überlegungen zur Leistung](performance-considerations.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-109">For more information, see [Performance Considerations](performance-considerations.md).</span></span>  
  
## <a name="reliable-end-to-end-queued-messaging"></a><span data-ttu-id="66ab5-110">Zuverlässiges End-to-End-Warteschlangen-Messaging</span><span class="sxs-lookup"><span data-stu-id="66ab5-110">Reliable End-to-End Queued Messaging</span></span>  

 <span data-ttu-id="66ab5-111">In den folgenden Abschnitten werden bewährte Methoden für Szenarien beschrieben, in denen ein zuverlässiges End-to-End-Messaging erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="66ab5-111">The following sections describe recommended practices for scenarios that require end-to-end reliable messaging.</span></span>  
  
### <a name="basic-reliable-transfer"></a><span data-ttu-id="66ab5-112">Grundlegende zuverlässige Übertragung</span><span class="sxs-lookup"><span data-stu-id="66ab5-112">Basic Reliable Transfer</span></span>  

 <span data-ttu-id="66ab5-113">Um eine zuverlässige End-to-End-Übertragung zu gewährleisten, legen Sie die <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A>-Eigenschaft auf den Wert `true` fest</span><span class="sxs-lookup"><span data-stu-id="66ab5-113">For end-to-end reliability, set the <xref:System.ServiceModel.MsmqBindingBase.ExactlyOnce%2A> property to `true` to ensure transfer.</span></span> <span data-ttu-id="66ab5-114">Die <xref:System.ServiceModel.MsmqBindingBase.Durable%2A>-Eigenschaft kann je nach Anforderungen auf `true` oder `false` festgelegt werden. (Die Standardeinstellung ist `true`.)</span><span class="sxs-lookup"><span data-stu-id="66ab5-114">The <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property can be set to `true` or `false` depending on your requirements (the default is `true`).</span></span> <span data-ttu-id="66ab5-115">Im Allgemeinen wird für die <xref:System.ServiceModel.MsmqBindingBase.Durable%2A>-Eigenschaft der Wert `true` gewählt, wenn eine zuverlässige End-to-End-Übertragung gewünscht wird.</span><span class="sxs-lookup"><span data-stu-id="66ab5-115">Generally, the <xref:System.ServiceModel.MsmqBindingBase.Durable%2A> property is set to `true` as part of end-to-end reliability.</span></span> <span data-ttu-id="66ab5-116">Dies geht zwar auf Kosten der Leistung, Meldungen gehen bei dieser Einstellung jedoch nicht verloren, falls ein Warteschlangen-Manager einmal abstürzen sollte.</span><span class="sxs-lookup"><span data-stu-id="66ab5-116">The compromise is a performance cost, but makes the message durable so that the message is not lost if a queue manager crashes.</span></span>  
  
### <a name="use-of-transactions"></a><span data-ttu-id="66ab5-117">Verwendung von Transaktionen</span><span class="sxs-lookup"><span data-stu-id="66ab5-117">Use of Transactions</span></span>  

 <span data-ttu-id="66ab5-118">Sie müssen Transaktionen verwenden, um eine zuverlässige End-to-End-Übertragung zu gewährleisten.</span><span class="sxs-lookup"><span data-stu-id="66ab5-118">You must use transactions to ensure end-to-end reliability.</span></span> <span data-ttu-id="66ab5-119">`ExactlyOnce`-Zusicherungen gewährleisten nur, dass Nachrichten an die Zielwarteschlange gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="66ab5-119">`ExactlyOnce` assurances only ensure that messages are delivered to the target queue.</span></span> <span data-ttu-id="66ab5-120">Um sicherzustellen, dass die Nachricht auch empfangen wird, verwenden Sie Transaktionen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-120">To ensure that the message is received, use transactions.</span></span> <span data-ttu-id="66ab5-121">Ohne Transaktionen geht bei einem Absturz des Diensts die gerade zugestellte Nachricht verloren, wobei sie jedoch an die Anwendung gesendet wird.</span><span class="sxs-lookup"><span data-stu-id="66ab5-121">Without transactions, if the service crashes, you lose the message that is being delivered but is actually delivered to the application.</span></span>  
  
### <a name="use-of-dead-letter-queues"></a><span data-ttu-id="66ab5-122">Verwendung von Warteschlangen für unzustellbare Nachrichten</span><span class="sxs-lookup"><span data-stu-id="66ab5-122">Use of Dead-letter Queues</span></span>  

 <span data-ttu-id="66ab5-123">Bei Verwendung von Warteschlangen für unzustellbare Nachrichten werden Sie benachrichtigt, falls eine Nachricht nicht in die Zielwarteschlange gestellt werden kann.</span><span class="sxs-lookup"><span data-stu-id="66ab5-123">Dead-letter queues ensure that you are notified if a message fails to be delivered to the target queue.</span></span> <span data-ttu-id="66ab5-124">Sie können die vom System bereitgestellte oder Ihre eigene Warteschlange für unzustellbare Nachrichten verwenden.</span><span class="sxs-lookup"><span data-stu-id="66ab5-124">You can use the system-provided dead-letter queue or a custom dead-letter queue.</span></span> <span data-ttu-id="66ab5-125">Im Allgemeinen empfiehlt sich die Verwendung Ihrer eigenen Warteschlange für unzustellbare Nachrichten, da Sie die nicht zustellbaren Nachrichten einer Anwendung dann an eine bestimmte Warteschlange für unzustellbare Nachrichten senden können.</span><span class="sxs-lookup"><span data-stu-id="66ab5-125">In general, using a custom dead-letter queue is best because it enables you to send dead-letter messages from one application into a single dead-letter queue.</span></span> <span data-ttu-id="66ab5-126">Andernfalls werden alle nicht zustellbaren Nachrichten aller Anwendungen auf dem System in eine einzige Warteschlange gestellt.</span><span class="sxs-lookup"><span data-stu-id="66ab5-126">Otherwise, all dead-letter messages that occur for all applications running on the system are delivered to a single queue.</span></span> <span data-ttu-id="66ab5-127">In diesem Fall muss dann jede Anwendung in der Warteschlange für unzustellbare Nachrichten nach den für sie relevanten unzustellbaren Nachrichten suchen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-127">Each application must then search though the dead-letter queue to find the dead-letter messages that are relevant to that application.</span></span> <span data-ttu-id="66ab5-128">Gelegentlich können keine benutzerdefinierten Warteschlangen für unzustellbare Nachrichten verwendet werden, zum Beispiel bei MSMQ&#160;3.0.</span><span class="sxs-lookup"><span data-stu-id="66ab5-128">Sometimes, using a custom dead-letter queue is not feasible, such as when using MSMQ 3.0.</span></span>  
  
 <span data-ttu-id="66ab5-129">Es wird davon abgeraten, Warteschlangen für unzustellbare Nachrichten für eine zuverlässige End-to-End-Kommunikation zu deaktivieren.</span><span class="sxs-lookup"><span data-stu-id="66ab5-129">Turning off dead-letter queues for end-to-end reliable communication is not recommended.</span></span>  
  
 <span data-ttu-id="66ab5-130">Weitere Informationen finden Sie unter [Verwenden von Dead-Letter Warteschlangen zum Behandeln von Fehlern bei der Nachrichtenübertragung](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-130">For more information, see [Using Dead-Letter Queues to Handle Message Transfer Failures](using-dead-letter-queues-to-handle-message-transfer-failures.md).</span></span>  
  
### <a name="use-of-poison-message-handling"></a><span data-ttu-id="66ab5-131">Handhabung beschädigter (nicht verarbeitbarer) Nachrichten</span><span class="sxs-lookup"><span data-stu-id="66ab5-131">Use of Poison-Message Handling</span></span>  

 <span data-ttu-id="66ab5-132">Die Handhabung beschädigter Nachrichten gibt Ihnen die Möglichkeit zur Wiederherstellung nach Fehlern bei der Nachrichtenverarbeitung.</span><span class="sxs-lookup"><span data-stu-id="66ab5-132">Poison-message handling provides the ability to recover from the failure to process messages.</span></span>  
  
 <span data-ttu-id="66ab5-133">Wenn Sie die Funktion für die Handhabung beschädigter Nachrichten verwenden, muss die <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A>-Eigenschaft auf den richtigen Wert festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="66ab5-133">When using the poison-message handling feature, ensure that the <xref:System.ServiceModel.MsmqBindingBase.ReceiveErrorHandling%2A> property is set to the appropriate value.</span></span> <span data-ttu-id="66ab5-134">Bei <xref:System.ServiceModel.ReceiveErrorHandling.Drop> gehen die Daten verloren.</span><span class="sxs-lookup"><span data-stu-id="66ab5-134">Setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Drop> means the data is lost.</span></span> <span data-ttu-id="66ab5-135">Andererseits wird bei der Einstellung <xref:System.ServiceModel.ReceiveErrorHandling.Fault> auf dem Diensthost ein Fehler ausgegeben, wenn dieser auf eine beschädigte (nicht verarbeitbare) Nachricht stößt.</span><span class="sxs-lookup"><span data-stu-id="66ab5-135">On the other hand, setting it to <xref:System.ServiceModel.ReceiveErrorHandling.Fault> faults the service host when it detects a poison message.</span></span> <span data-ttu-id="66ab5-136">Bei MSMQ&#160;3.0 ist die Einstellung <xref:System.ServiceModel.ReceiveErrorHandling.Fault> die beste Option, um Datenverluste zu vermeiden und die beschädigte Nachricht zu eliminieren.</span><span class="sxs-lookup"><span data-stu-id="66ab5-136">Using MSMQ 3.0, <xref:System.ServiceModel.ReceiveErrorHandling.Fault> is the best option to avoid data loss and move the poison message out of the way.</span></span> <span data-ttu-id="66ab5-137">Bei Verwendung von MSMQ 4.0 ist <xref:System.ServiceModel.ReceiveErrorHandling.Move> die empfohlene Vorgehensweise.</span><span class="sxs-lookup"><span data-stu-id="66ab5-137">Using MSMQ 4.0, <xref:System.ServiceModel.ReceiveErrorHandling.Move> is the recommended approach.</span></span> <span data-ttu-id="66ab5-138">Durch <xref:System.ServiceModel.ReceiveErrorHandling.Move> wird die kritische Nachricht aus der Warteschlange verschoben, sodass neue Nachrichten verarbeitet werden können.</span><span class="sxs-lookup"><span data-stu-id="66ab5-138"><xref:System.ServiceModel.ReceiveErrorHandling.Move> moves a poisoned message out of the queue so the service can continue to process new messages.</span></span> <span data-ttu-id="66ab5-139">Die beschädigte Nachricht kann dann separat vom Dienst für beschädigte Nachrichten verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="66ab5-139">The poison-message service can then process the poison message separately.</span></span>  
  
 <span data-ttu-id="66ab5-140">Weitere Informationen finden Sie unter [Behandlung](poison-message-handling.md)von nicht verarbeitbaren Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="66ab5-140">For more information, see [Poison Message Handling](poison-message-handling.md).</span></span>  
  
## <a name="achieving-high-throughput"></a><span data-ttu-id="66ab5-141">Hoher Durchsatz</span><span class="sxs-lookup"><span data-stu-id="66ab5-141">Achieving High Throughput</span></span>  

 <span data-ttu-id="66ab5-142">Verwenden Sie Folgendes, um bei einem einzelnen Endpunkt einen hohen Durchsatz zu erreichen:</span><span class="sxs-lookup"><span data-stu-id="66ab5-142">To achieve high throughput on a single endpoint, use the following:</span></span>  
  
- <span data-ttu-id="66ab5-143">Transaktive Batchverarbeitung:</span><span class="sxs-lookup"><span data-stu-id="66ab5-143">Transacted batching.</span></span> <span data-ttu-id="66ab5-144">Bei der transaktiven Batchverarbeitung ist sichergestellt, dass viele Nachrichten in einer einzelnen Transaktion gelesen werden können.</span><span class="sxs-lookup"><span data-stu-id="66ab5-144">Transacted batching ensures that many messages can be read in a single transaction.</span></span> <span data-ttu-id="66ab5-145">Hierdurch werden die Commits für Transaktionen optimiert und die Gesamtleistung verbessert.</span><span class="sxs-lookup"><span data-stu-id="66ab5-145">This optimizes transaction commits, increasing overall performance.</span></span> <span data-ttu-id="66ab5-146">Nachteil der Batchverarbeitung: Tritt bei einer Nachricht im Batch ein Fehler auf, wird der gesamte Batch zurückgesetzt, und die Nachrichten müssen so lange einzeln verarbeitet werden, bis die Batchverarbeitung wieder sicher aufgenommen werden kann.</span><span class="sxs-lookup"><span data-stu-id="66ab5-146">The cost of batching is that if a failure occurs in a single message within a batch, then the entire batch is rolled back and the messages must be processed one at a time until it is safe to batch again.</span></span> <span data-ttu-id="66ab5-147">Da beschädigte Nachrichten in der Regel nur selten auftreten, ist die Batchverarbeitung die bevorzugte Methode, die Systemleistung zu verbessern, insbesondere dann, wenn noch andere Ressourcen-Manager an der Transaktion beteiligt sind.</span><span class="sxs-lookup"><span data-stu-id="66ab5-147">In most cases, poison messages are rare, so batching is the preferred way to increase system performance, particularly when you have other resource managers that participate in the transaction.</span></span> <span data-ttu-id="66ab5-148">Weitere Informationen finden Sie unter [Batch Verarbeitung von Nachrichten in einer Transaktion](batching-messages-in-a-transaction.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-148">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md).</span></span>  
  
- <span data-ttu-id="66ab5-149">Parallelität:</span><span class="sxs-lookup"><span data-stu-id="66ab5-149">Concurrency.</span></span> <span data-ttu-id="66ab5-150">Parallelität erhöht den Durchsatz, verschärft jedoch auch den Wettstreit um freigegebene Ressourcen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-150">Concurrency increases throughput, but concurrency also affects contention to shared resources.</span></span> <span data-ttu-id="66ab5-151">Weitere Informationen finden Sie unter [Parallelität.](../samples/concurrency.md)</span><span class="sxs-lookup"><span data-stu-id="66ab5-151">For more information, see [Concurrency](../samples/concurrency.md).</span></span>  
  
- <span data-ttu-id="66ab5-152">Einschränkung:</span><span class="sxs-lookup"><span data-stu-id="66ab5-152">Throttling.</span></span> <span data-ttu-id="66ab5-153">Schränken Sie die Anzahl der Nachrichten in der Verteilerpipeline ein, um eine optimale Leistung zu erzielen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-153">For optimal performance, throttle the number of messages in the dispatcher pipeline.</span></span> <span data-ttu-id="66ab5-154">Ein Beispiel hierfür finden Sie unter [Drosselung](../samples/throttling.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-154">For an example of how to do this, see [Throttling](../samples/throttling.md).</span></span>  
  
 <span data-ttu-id="66ab5-155">Beachten Sie bei der Batchverarbeitung, dass Parallelität und Einschränkung zu simultanen Batches führen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-155">When using batching, be aware that concurrency and throttling translate to concurrent batches.</span></span>  
  
 <span data-ttu-id="66ab5-156">Um einen höheren Durchsatz und Verfügbarkeit zu erreichen, verwenden Sie eine Farm von WCF-Diensten, die aus der Warteschlange lesen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-156">To achieve higher throughput and availability, use a farm of WCF services that read from the queue.</span></span> <span data-ttu-id="66ab5-157">Hierfür müssen diese Dienste denselben Vertrag auf demselben Endpunkt verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-157">This requires that all of these services expose the same contract on the same endpoint.</span></span> <span data-ttu-id="66ab5-158">Eine Dienstefarm ist am besten bei Anwendungen geeignet, die sehr viele Nachrichten produzieren, da dann mehrere Dienste aus derselben Warteschlange lesen können.</span><span class="sxs-lookup"><span data-stu-id="66ab5-158">The farm approach works best for applications that have high production rates of messages because it enables a number of services to all read from the same queue.</span></span>  
  
 <span data-ttu-id="66ab5-159">Beachten Sie bei der Verwendung von Farmen, dass MSMQ&#160;3.0 keine remote durchgeführten Lesevorgänge unterstützt.</span><span class="sxs-lookup"><span data-stu-id="66ab5-159">When using farms, be aware that MSMQ 3.0 does not support remote transacted reads.</span></span> <span data-ttu-id="66ab5-160">MSMQ&#160;4.0 dagegen unterstützt remote durchgeführte Lesevorgänge.</span><span class="sxs-lookup"><span data-stu-id="66ab5-160">MSMQ 4.0 does support remote transacted reads.</span></span>  
  
 <span data-ttu-id="66ab5-161">Weitere Informationen finden Sie unter [Batch Verarbeitung von Nachrichten in einer Transaktion](batching-messages-in-a-transaction.md) und [Unterschiede in den Warteschlangen Funktionen in Windows Vista, Windows Server 2003 und Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-161">For more information, see [Batching Messages in a Transaction](batching-messages-in-a-transaction.md) and [Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP](diff-in-queue-in-vista-server-2003-windows-xp.md).</span></span>  
  
## <a name="queuing-with-unit-of-work-semantics"></a><span data-ttu-id="66ab5-162">Warteschlangen und Arbeitseinheitssemantik</span><span class="sxs-lookup"><span data-stu-id="66ab5-162">Queuing with Unit of Work Semantics</span></span>  

 <span data-ttu-id="66ab5-163">Gelegentlich können die Nachrichten in einer Gruppe von Nachrichten in der Warteschlange miteinander verwandt sein, das heißt, dass die Reihenfolge dieser Nachrichten von Bedeutung ist.</span><span class="sxs-lookup"><span data-stu-id="66ab5-163">In some scenarios a group of messages in a queue may be related and, therefore, the ordering of these messages is significant.</span></span> <span data-ttu-id="66ab5-164">In diesen Szenarien sollte die Gruppe der verwandten Nachrichten als Einheit verarbeitet werden, das heißt, es werden entweder alle oder keine Nachrichten verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="66ab5-164">In such scenarios, process a group of related messages together as a single unit: either all of the messages are processed successfully or none are.</span></span> <span data-ttu-id="66ab5-165">Verwenden Sie zur Implementierung dieses Verhaltens Sitzungen mit Warteschlangen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-165">To implement such behavior, use sessions with queues.</span></span>  
  
 <span data-ttu-id="66ab5-166">Weitere Informationen finden Sie unter [Gruppieren von Nachrichten in der Warteschlange in einer Sitzung](grouping-queued-messages-in-a-session.md).</span><span class="sxs-lookup"><span data-stu-id="66ab5-166">For more information, see [Grouping Queued Messages in a Session](grouping-queued-messages-in-a-session.md).</span></span>  
  
## <a name="correlating-request-reply-messages"></a><span data-ttu-id="66ab5-167">Korrelieren von Anforderung-Antwort-Nachrichten</span><span class="sxs-lookup"><span data-stu-id="66ab5-167">Correlating Request-Reply Messages</span></span>  

 <span data-ttu-id="66ab5-168">Warteschlangen sind zwar im Allgemeinen unidirektional, es kann jedoch vorkommen, dass Sie eine empfangene Antwort zu einer zuvor gesendeten Anforderung in Bezug setzen möchten.</span><span class="sxs-lookup"><span data-stu-id="66ab5-168">Though queues are typically one-way, in some scenarios you may want to correlate a reply received to a request sent earlier.</span></span> <span data-ttu-id="66ab5-169">Falls eine solche Zuordnung erforderlich ist, sollten Sie, wenn möglich, mit der Nachricht Ihren eigenen SOAP-Nachrichtenheader mit Zuordnungsinformationen verwenden.</span><span class="sxs-lookup"><span data-stu-id="66ab5-169">If you require such correlation, it is recommended that you apply your own SOAP message header that contains correlation information with the message.</span></span> <span data-ttu-id="66ab5-170">In der Regel wird dieser Header vom Sender an die Nachricht angehängt. Beim Empfänger wird der Nachrichtenheader mit den Zuordnungsinformationen dann während der Verarbeitung der Nachricht an die Antwortnachricht, die als neue Nachricht an eine Antwortwarteschlange gesendet wird, angehängt, sodass die Antwortnachricht beim Sender der Anforderungsnachricht zugeordnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="66ab5-170">Typically, the sender attaches this header with the message, and the receiver, upon processing the message and replying back with a new message on a reply queue, attaches the sender's message header that contains the correlation information so that the sender can identify the reply message with the request message.</span></span>  
  
## <a name="integrating-with-non-wcf-applications"></a><span data-ttu-id="66ab5-171">Integrieren von Nicht-WCF-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="66ab5-171">Integrating with Non-WCF Applications</span></span>  

 <span data-ttu-id="66ab5-172">Verwenden Sie, `MsmqIntegrationBinding` Wenn Sie WCF-Dienste oder-Clients mit nicht-WCF-Diensten oder-Clients integrieren.</span><span class="sxs-lookup"><span data-stu-id="66ab5-172">Use `MsmqIntegrationBinding` when integrating WCF services or clients with non-WCF services or clients.</span></span> <span data-ttu-id="66ab5-173">Bei der nicht-WCF-Anwendung kann es sich um eine mit System. Messaging, com+, Visual Basic oder C++ geschriebene MSMQ-Anwendung handeln.</span><span class="sxs-lookup"><span data-stu-id="66ab5-173">The non-WCF application can be an MSMQ application written using System.Messaging, COM+, Visual Basic, or C++.</span></span>  
  
 <span data-ttu-id="66ab5-174">Beachten Sie bei der Verwendung von `MsmqIntegrationBinding` folgende Punkte:</span><span class="sxs-lookup"><span data-stu-id="66ab5-174">When using `MsmqIntegrationBinding`, be aware of the following:</span></span>  
  
- <span data-ttu-id="66ab5-175">Ein WCF-Nachrichtentext ist nicht mit dem Text der MSMQ-Nachricht identisch.</span><span class="sxs-lookup"><span data-stu-id="66ab5-175">A WCF message body is not the same as a MSMQ message body.</span></span> <span data-ttu-id="66ab5-176">Beim Senden einer WCF-Nachricht mit einer Bindung in der Warteschlange wird der WCF-Nachrichtentext in einer MSMQ-Nachricht abgelegt.</span><span class="sxs-lookup"><span data-stu-id="66ab5-176">When sending a WCF message using a queued binding, the WCF message body is placed inside of a MSMQ message.</span></span> <span data-ttu-id="66ab5-177">In der MSMQ-Infrastruktur wird diese Zusatzinformation jedoch nicht wahrgenommen, MSMQ sieht lediglich die MSMQ-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="66ab5-177">The MSMQ infrastructure is oblivious to this extra information; it sees only the MSMQ message.</span></span>  
  
- <span data-ttu-id="66ab5-178">`MsmqIntegrationBinding` unterstützt die gängigen Serialisierungstypen.</span><span class="sxs-lookup"><span data-stu-id="66ab5-178">`MsmqIntegrationBinding` supports popular serialization types.</span></span> <span data-ttu-id="66ab5-179">Je nach Serialisierungstyp nimmt der Texttyp der generischen Nachricht - <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601> - unterschiedliche Typparameter an.</span><span class="sxs-lookup"><span data-stu-id="66ab5-179">Based on the serialization type, the body type of the generic message, <xref:System.ServiceModel.MsmqIntegration.MsmqMessage%601>, takes different type parameters.</span></span> <span data-ttu-id="66ab5-180">So ist bei <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> zum Beispiel `MsmqMessage\<byte[]>`<xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> und bei `MsmqMessage<Stream>` der Parameter erforderlich.</span><span class="sxs-lookup"><span data-stu-id="66ab5-180">For example, <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.ByteArray> requires `MsmqMessage\<byte[]>` and <xref:System.ServiceModel.MsmqIntegration.MsmqMessageSerializationFormat.Stream> requires `MsmqMessage<Stream>`.</span></span>  
  
- <span data-ttu-id="66ab5-181">Mit der XML-Serialisierung können Sie den bekannten Typ mithilfe des- `KnownTypes` Attributs für das-Element angeben, [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) das dann verwendet wird, um zu bestimmen, wie die XML-Nachricht deserialisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="66ab5-181">With XML serialization, you can specify the known type using the `KnownTypes` attribute on the [\<behavior>](../../configure-apps/file-schema/wcf/behavior-of-servicebehaviors.md) element that is then used to determine how to deserialize the XML message.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="66ab5-182">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="66ab5-182">See also</span></span>

- [<span data-ttu-id="66ab5-183">Warteschlangen in WCF</span><span class="sxs-lookup"><span data-stu-id="66ab5-183">Queuing in WCF</span></span>](queuing-in-wcf.md)
- [<span data-ttu-id="66ab5-184">Vorgehensweise: Austauschen von Nachrichten in einer Warteschlange mit WCF-Endpunkten</span><span class="sxs-lookup"><span data-stu-id="66ab5-184">How to: Exchange Queued Messages with WCF Endpoints</span></span>](how-to-exchange-queued-messages-with-wcf-endpoints.md)
- [<span data-ttu-id="66ab5-185">Vorgehensweise: Nachrichtenaustausch mit WCF-Endpunkten und Message Queuing-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="66ab5-185">How to: Exchange Messages with WCF Endpoints and Message Queuing Applications</span></span>](how-to-exchange-messages-with-wcf-endpoints-and-message-queuing-applications.md)
- [<span data-ttu-id="66ab5-186">Gruppieren von Nachrichten in der Warteschlange einer Sitzung</span><span class="sxs-lookup"><span data-stu-id="66ab5-186">Grouping Queued Messages in a Session</span></span>](grouping-queued-messages-in-a-session.md)
- [<span data-ttu-id="66ab5-187">Batchverarbeitung von Nachrichten in einer Transaktion</span><span class="sxs-lookup"><span data-stu-id="66ab5-187">Batching Messages in a Transaction</span></span>](batching-messages-in-a-transaction.md)
- [<span data-ttu-id="66ab5-188">Verwenden von Warteschlangen für unzustellbare Nachrichten zur Handhabung von Nachrichtenübertragungsfehlern</span><span class="sxs-lookup"><span data-stu-id="66ab5-188">Using Dead-Letter Queues to Handle Message Transfer Failures</span></span>](using-dead-letter-queues-to-handle-message-transfer-failures.md)
- [<span data-ttu-id="66ab5-189">Behandlung nicht verarbeitbarer Nachrichten</span><span class="sxs-lookup"><span data-stu-id="66ab5-189">Poison Message Handling</span></span>](poison-message-handling.md)
- [<span data-ttu-id="66ab5-190">Unterschiede zwischen den Warteschlangenfunktionen in Windows Vista, Windows Server 2003 und Windows XP</span><span class="sxs-lookup"><span data-stu-id="66ab5-190">Differences in Queuing Features in Windows Vista, Windows Server 2003, and Windows XP</span></span>](diff-in-queue-in-vista-server-2003-windows-xp.md)
- [<span data-ttu-id="66ab5-191">Sichern von Nachrichten mit Transportsicherheit</span><span class="sxs-lookup"><span data-stu-id="66ab5-191">Securing Messages Using Transport Security</span></span>](securing-messages-using-transport-security.md)
- [<span data-ttu-id="66ab5-192">Sichern von Nachrichten mithilfe der Nachrichtensicherheit</span><span class="sxs-lookup"><span data-stu-id="66ab5-192">Securing Messages Using Message Security</span></span>](securing-messages-using-message-security.md)
- [<span data-ttu-id="66ab5-193">Problembehandlung bei Nachrichtenwarteschlangen</span><span class="sxs-lookup"><span data-stu-id="66ab5-193">Troubleshooting Queued Messaging</span></span>](troubleshooting-queued-messaging.md)
