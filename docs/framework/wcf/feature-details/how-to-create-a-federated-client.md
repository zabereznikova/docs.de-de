---
title: 'Vorgehensweise: Erstellen eines Verbundclients'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- WCF, federation
- federation
ms.assetid: 56ece47e-98bf-4346-b92b-fda1fc3b4d9c
ms.openlocfilehash: 47e59452edfff74daf17d94a058ce8b12af7867c
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/09/2020
ms.locfileid: "84593541"
---
# <a name="how-to-create-a-federated-client"></a><span data-ttu-id="d35bd-102">Vorgehensweise: Erstellen eines Verbundclients</span><span class="sxs-lookup"><span data-stu-id="d35bd-102">How to: Create a Federated Client</span></span>
<span data-ttu-id="d35bd-103">In Windows Communication Foundation (WCF) besteht das Erstellen eines Clients für einen *Verbund Dienst* aus drei Hauptschritten:</span><span class="sxs-lookup"><span data-stu-id="d35bd-103">In Windows Communication Foundation (WCF), creating a client for a *federated service* consists of three main steps:</span></span>  
  
1. <span data-ttu-id="d35bd-104">Konfigurieren Sie eine [\<wsFederationHttpBinding>](../../configure-apps/file-schema/wcf/wsfederationhttpbinding.md) oder eine ähnliche benutzerdefinierte Bindung.</span><span class="sxs-lookup"><span data-stu-id="d35bd-104">Configure a [\<wsFederationHttpBinding>](../../configure-apps/file-schema/wcf/wsfederationhttpbinding.md) or similar custom binding.</span></span> <span data-ttu-id="d35bd-105">Weitere Informationen zum Erstellen einer entsprechenden Bindung finden Sie unter Gewusst [wie: Erstellen einer WSFederationHttpBinding](how-to-create-a-wsfederationhttpbinding.md).</span><span class="sxs-lookup"><span data-stu-id="d35bd-105">For more information about creating an appropriate binding, see [How to: Create a WSFederationHttpBinding](how-to-create-a-wsfederationhttpbinding.md).</span></span> <span data-ttu-id="d35bd-106">Alternativ können Sie das [Service Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) für den Metadatenendpunkt des Verbund Diensts ausführen, um eine Konfigurationsdatei für die Kommunikation mit dem Verbund Dienst und einem oder mehreren Sicherheitstokendiensten zu generieren.</span><span class="sxs-lookup"><span data-stu-id="d35bd-106">Alternatively, run the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) against the metadata endpoint of the federated service to generate a configuration file for communicating with the federated service and one or more security token services.</span></span>  
  
2. <span data-ttu-id="d35bd-107">Legen Sie die Eigenschaften der <xref:System.ServiceModel.Security.IssuedTokenClientCredential>-Instanz fest, die verschiedene Aspekte der Interaktion des Clients mit einem Sicherheitstokendienst steuert.</span><span class="sxs-lookup"><span data-stu-id="d35bd-107">Set the properties of the <xref:System.ServiceModel.Security.IssuedTokenClientCredential> that controls various aspects of a client's interaction with a security token service.</span></span>  
  
3. <span data-ttu-id="d35bd-108">Legen Sie die Eigenschaften der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>-Instanz fest, die Zertifikate zulässt, welche für die sichere Kommunikation mit gegebenen Endpunkten, z.&#160;B. Sicherheitstokendienste, erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="d35bd-108">Set the properties of the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>, which allows certificates needed to communicate securely with given endpoints, such as security token services.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d35bd-109">Es kann eine <xref:System.Security.Cryptography.CryptographicException> ausgelöst werden, wenn ein Client die Anmeldeinformationen eines anderen Benutzers, dessen Identität er angenommen hat, die <xref:System.ServiceModel.WSFederationHttpBinding>-Bindung oder ein benutzerdefiniert ausgestelltes Token und asymmetrische Schlüssel verwendet.</span><span class="sxs-lookup"><span data-stu-id="d35bd-109">A <xref:System.Security.Cryptography.CryptographicException> might be thrown when a client uses impersonated credentials, the <xref:System.ServiceModel.WSFederationHttpBinding> binding or a custom-issued token, and asymmetric keys.</span></span> <span data-ttu-id="d35bd-110">Asymmetrische Schlüssel werden in Verbindung mit der <xref:System.ServiceModel.WSFederationHttpBinding>-Bindung und benutzerdefiniert ausgestellten Token verwendet, wenn die <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedKeyType%2A>-Eigenschaft bzw. die <xref:System.ServiceModel.Security.Tokens.IssuedSecurityTokenParameters.KeyType%2A>-Eigenschaft auf <xref:System.IdentityModel.Tokens.SecurityKeyType.AsymmetricKey> festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-110">Asymmetric keys are used with the <xref:System.ServiceModel.WSFederationHttpBinding> binding and custom-issued tokens when the <xref:System.ServiceModel.FederatedMessageSecurityOverHttp.IssuedKeyType%2A> and <xref:System.ServiceModel.Security.Tokens.IssuedSecurityTokenParameters.KeyType%2A> properties, respectively, are set to <xref:System.IdentityModel.Tokens.SecurityKeyType.AsymmetricKey>.</span></span> <span data-ttu-id="d35bd-111">Die <xref:System.Security.Cryptography.CryptographicException>-Ausnahme wird ausgelöst, wenn der Client versucht, eine Nachricht zu senden, und kein Benutzerprofil für die Identität vorhanden ist, die der Client angenommen hat.</span><span class="sxs-lookup"><span data-stu-id="d35bd-111">The <xref:System.Security.Cryptography.CryptographicException> is thrown when the client attempts to send a message and a user profile doesn’t exist for the identity that the client is impersonating.</span></span> <span data-ttu-id="d35bd-112">Um dieses Problem zu minimieren, melden Sie sich am Clientcomputer an, oder rufen Sie `LoadUserProfile` vor dem Senden der Nachricht auf.</span><span class="sxs-lookup"><span data-stu-id="d35bd-112">To mitigate this issue, log on to the client computer or call `LoadUserProfile` before sending the message.</span></span>  
  
 <span data-ttu-id="d35bd-113">Dieses Thema enthält detaillierte Informationen zu diesen Verfahren.</span><span class="sxs-lookup"><span data-stu-id="d35bd-113">This topic provides detailed information about these procedures.</span></span> <span data-ttu-id="d35bd-114">Weitere Informationen zum Erstellen einer entsprechenden Bindung finden Sie unter Gewusst [wie: Erstellen einer WSFederationHttpBinding](how-to-create-a-wsfederationhttpbinding.md).</span><span class="sxs-lookup"><span data-stu-id="d35bd-114">For more information about creating an appropriate binding, see [How to: Create a WSFederationHttpBinding](how-to-create-a-wsfederationhttpbinding.md).</span></span> <span data-ttu-id="d35bd-115">Weitere Informationen über die Funktionsweise eines Verbund Dienstanbieter finden Sie unter [Federation](federation.md).</span><span class="sxs-lookup"><span data-stu-id="d35bd-115">For more information about how a federated service works, see [Federation](federation.md).</span></span>  
  
### <a name="to-generate-and-examine-the-configuration-for-a-federated-service"></a><span data-ttu-id="d35bd-116">So generieren und untersuchen Sie die Konfiguration für einen Verbunddienst</span><span class="sxs-lookup"><span data-stu-id="d35bd-116">To generate and examine the configuration for a federated service</span></span>  
  
1. <span data-ttu-id="d35bd-117">Führen Sie das [Service Model Metadata Utility-Tool (Svcutil. exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) mit der Adresse der Metadaten-URL des Dienstanbieter als Befehlszeilenparameter aus.</span><span class="sxs-lookup"><span data-stu-id="d35bd-117">Run the [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) with the address of the metadata URL of the service as a command-line parameter.</span></span>  
  
2. <span data-ttu-id="d35bd-118">Öffnen Sie die generierte Konfigurationsdatei in einem geeigneten Editor.</span><span class="sxs-lookup"><span data-stu-id="d35bd-118">Open the generated configuration file in an appropriate editor.</span></span>  
  
3. <span data-ttu-id="d35bd-119">Überprüfen Sie die Attribute und den Inhalt aller generierten [\<issuer>](../../configure-apps/file-schema/wcf/issuer.md) [\<issuerMetadata>](../../configure-apps/file-schema/wcf/issuermetadata.md) Elemente und.</span><span class="sxs-lookup"><span data-stu-id="d35bd-119">Examine the attributes and content of any generated [\<issuer>](../../configure-apps/file-schema/wcf/issuer.md) and [\<issuerMetadata>](../../configure-apps/file-schema/wcf/issuermetadata.md) elements.</span></span> <span data-ttu-id="d35bd-120">Diese befinden sich innerhalb der- [\<security>](../../configure-apps/file-schema/wcf/security-of-wsfederationhttpbinding.md) Elemente für das-Element [\<wsFederationHttpBinding>](../../configure-apps/file-schema/wcf/wsfederationhttpbinding.md) oder das benutzerdefinierte Bindungs Element.</span><span class="sxs-lookup"><span data-stu-id="d35bd-120">These are located within the [\<security>](../../configure-apps/file-schema/wcf/security-of-wsfederationhttpbinding.md) elements for the [\<wsFederationHttpBinding>](../../configure-apps/file-schema/wcf/wsfederationhttpbinding.md) or custom bindings elements.</span></span> <span data-ttu-id="d35bd-121">Stellen Sie sicher, dass die Adressen die erwarteten Domänenamen oder andere Adressinformationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="d35bd-121">Ensure that the addresses contain the expected domain names or other address information.</span></span> <span data-ttu-id="d35bd-122">Sie müssen diese Informationen unbedingt überprüfen, weil sich der Client gegenüber diesen Adressen authentifiziert und Informationen wie Benutzername-/Kennwort-Paare offen legt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-122">It is important to check this information because the client authenticates to these addresses and may disclose information such as user name/password pairs.</span></span> <span data-ttu-id="d35bd-123">Wenn es sich bei der Adresse nicht um die erwartete Adresse handelt, könnten Informationen für einen anderen als den vorgesehenen Empfänger zugänglich werden.</span><span class="sxs-lookup"><span data-stu-id="d35bd-123">If the address is not the expected address, this could result in information disclosure to an unintended recipient.</span></span>  
  
4. <span data-ttu-id="d35bd-124">Überprüfen Sie alle zusätzlichen [\<issuedTokenParameters>](../../configure-apps/file-schema/wcf/issuedtokenparameters.md) Elemente innerhalb des auskommentierten <`alternativeIssuedTokenParameters`> Elements.</span><span class="sxs-lookup"><span data-stu-id="d35bd-124">Examine any additional [\<issuedTokenParameters>](../../configure-apps/file-schema/wcf/issuedtokenparameters.md) elements inside the commented out <`alternativeIssuedTokenParameters`> element.</span></span> <span data-ttu-id="d35bd-125">Wenn mit dem Tool Svcutil.exe eine Konfiguration für einen Verbunddienst generiert wird und der Verbunddienst oder einer der zwischengeschalteten Sicherheitstokendienste keine Ausstelleradresse, sondern eine Metadatenadresse für einen Sicherheitstokendienst angeben, der mehrere Endpunkte verfügbar macht, dann verweist die resultierende Konfigurationsdatei auf den ersten Endpunkt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-125">When using the Svcutil.exe tool to generate configuration for a federated service, if the federated service or any intermediate security token services do not specify an issuer address, but rather specify a metadata address for a security token service that exposes multiple endpoints, the resulting configuration file refers to the first endpoint.</span></span> <span data-ttu-id="d35bd-126">Weitere Endpunkte sind in der Konfigurationsdatei als auskommentiertes <> Elemente in der Konfigurationsdatei `alternativeIssuedTokenParameters` .</span><span class="sxs-lookup"><span data-stu-id="d35bd-126">Additional endpoints are in the configuration file as commented-out <`alternativeIssuedTokenParameters`> elements.</span></span>  
  
     <span data-ttu-id="d35bd-127">Bestimmen Sie, ob einer dieser <`issuedTokenParameters`> dem bereits in der Konfiguration vorhandenen Wert vorzuziehen ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-127">Determine whether one of these <`issuedTokenParameters`> is preferable to the one already present in the configuration.</span></span> <span data-ttu-id="d35bd-128">Beispielsweise kann es sein, dass der Client die Authentifizierung bei einem Sicherheitstokendienst mithilfe eines Windows CardSpace-Tokens anstelle eines Benutzernamen-/Kennwort-Paars bevorzugt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-128">For example, the client may prefer to authenticate to a security token service using a Windows CardSpace token rather than a user name/password pair.</span></span>  
  
    > [!NOTE]
    > <span data-ttu-id="d35bd-129">Wenn mehrere Sicherheitstokendienste durchlaufen werden müssen, bevor mit dem Dienst kommuniziert wird, ist es möglich, dass ein zwischengelagerter Sicherheitstokendienst den Client an einen falschen Sicherheitstokendienst weiterleitet.</span><span class="sxs-lookup"><span data-stu-id="d35bd-129">Where multiple security token services must be traversed before communicating with the service, it is possible for an intermediate security token service to direct the client to an incorrect security token service.</span></span> <span data-ttu-id="d35bd-130">Stellen Sie daher sicher, dass der Endpunkt für den Sicherheitstokendienst im [\<issuedTokenParameters>](../../configure-apps/file-schema/wcf/issuedtokenparameters.md) der erwartete Sicherheitstokendienst und kein Unbekannter Sicherheitstokendienst ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-130">Therefore, ensure that the endpoint for the security token service in the [\<issuedTokenParameters>](../../configure-apps/file-schema/wcf/issuedtokenparameters.md) is the expected security token service and not an unknown security token service.</span></span>  
  
### <a name="to-configure-an-issuedtokenclientcredential-in-code"></a><span data-ttu-id="d35bd-131">So konfigurieren Sie IssuedTokenClientCredential im Code</span><span class="sxs-lookup"><span data-stu-id="d35bd-131">To configure an IssuedTokenClientCredential in code</span></span>  
  
1. <span data-ttu-id="d35bd-132">Greifen Sie auf die <xref:System.ServiceModel.Security.IssuedTokenClientCredential> zu und zwar über die <xref:System.ServiceModel.Description.ClientCredentials.IssuedToken%2A>-Eigenschaft der <xref:System.ServiceModel.Description.ClientCredentials>-Klasse (die von der <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>-Eigenschaft der <xref:System.ServiceModel.ClientBase%601>-Klasse oder über die <xref:System.ServiceModel.ChannelFactory>-Klasse zurückgegeben wird), wie im folgenden Beispielcode gezeigt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-132">Access the <xref:System.ServiceModel.Security.IssuedTokenClientCredential> through the <xref:System.ServiceModel.Description.ClientCredentials.IssuedToken%2A> property of the <xref:System.ServiceModel.Description.ClientCredentials> class (returned by the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property of the <xref:System.ServiceModel.ClientBase%601> class, or through the <xref:System.ServiceModel.ChannelFactory> class), as shown in the following example code.</span></span>  
  
     [!code-csharp[c_CreateSTS#9](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#9)]
     [!code-vb[c_CreateSTS#9](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#9)]  
  
2. <span data-ttu-id="d35bd-133">Falls die Token nicht zwischengespeichert werden müssen, legen Sie die <xref:System.ServiceModel.Security.IssuedTokenClientCredential.CacheIssuedTokens%2A>-Eigenschaft auf `false` fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-133">If token caching is not required, set the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.CacheIssuedTokens%2A> property to `false`.</span></span> <span data-ttu-id="d35bd-134">Die <xref:System.ServiceModel.Security.IssuedTokenClientCredential.CacheIssuedTokens%2A>-Eigenschaft steuert, ob solche Token von einem Sicherheitstokendienst zwischengespeichert werden.</span><span class="sxs-lookup"><span data-stu-id="d35bd-134">The <xref:System.ServiceModel.Security.IssuedTokenClientCredential.CacheIssuedTokens%2A> property controls whether such tokens from a security token service are cached.</span></span> <span data-ttu-id="d35bd-135">Wenn diese Eigenschaft auf `false` festgelegt wird, fordert der Client, sobald er sich gegenüber dem Verbunddienst authentifizieren muss, auch dann ein neues Token vom Sicherheitstokendienst an, wenn ein vorheriges Token noch gültig ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-135">If this property is set to `false`, the client requests a new token from the security token service whenever it must re-authenticate itself to the federated service, regardless of whether a previous token is still valid.</span></span> <span data-ttu-id="d35bd-136">Wenn diese Eigenschaft auf `true` festgelegt wird, verwendet der Client ein vorhandenes Token erneut, sobald er sich gegenüber dem Verbunddienst authentifizieren muss (solange das Token nicht ungültig geworden ist).</span><span class="sxs-lookup"><span data-stu-id="d35bd-136">If this property is set to `true`, the client reuses an existing token whenever it must re-authenticate itself to the federated service (as long as the token has not expired).</span></span> <span data-ttu-id="d35bd-137">Der Standardwert lautet `true`.</span><span class="sxs-lookup"><span data-stu-id="d35bd-137">The default is `true`.</span></span>  
  
3. <span data-ttu-id="d35bd-138">Wenn ein Zeitlimit für zwischengespeicherte Token erforderlich ist, legen Sie die <xref:System.ServiceModel.Security.IssuedTokenClientCredential.MaxIssuedTokenCachingTime%2A>-Eigenschaft auf einen <xref:System.TimeSpan>-Wert fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-138">If a time limit is required on cached tokens, set the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.MaxIssuedTokenCachingTime%2A> property to a <xref:System.TimeSpan> value.</span></span> <span data-ttu-id="d35bd-139">Die Eigenschaft gibt an, wie lange ein Token zwischengespeichert werden kann.</span><span class="sxs-lookup"><span data-stu-id="d35bd-139">The property specifies how long a token can be cached.</span></span> <span data-ttu-id="d35bd-140">Nachdem die angegebene Zeitspanne verstrichen ist, wird das Token aus dem Clientcache entfernt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-140">After the specified time span has elapsed, the token is removed from the client cache.</span></span> <span data-ttu-id="d35bd-141">Standardmäßig werden Token unendlich lange zwischengespeichert.</span><span class="sxs-lookup"><span data-stu-id="d35bd-141">By default, tokens are cached indefinitely.</span></span> <span data-ttu-id="d35bd-142">Im folgenden Beispiel wird die Zeitspanne auf 10 Minuten eingestellt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-142">The following example sets the time span to 10 minutes.</span></span>  
  
     [!code-csharp[c_CreateSTS#15](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#15)]
     [!code-vb[c_CreateSTS#15](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#15)]  
  
4. <span data-ttu-id="d35bd-143">Optional.</span><span class="sxs-lookup"><span data-stu-id="d35bd-143">Optional.</span></span> <span data-ttu-id="d35bd-144">Legen Sie die <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuedTokenRenewalThresholdPercentage%2A>-Eigenschaft auf einen Prozentwert fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-144">Set the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuedTokenRenewalThresholdPercentage%2A> to a percentage.</span></span> <span data-ttu-id="d35bd-145">Der Standardwert lautet&#160;60 (Prozent).</span><span class="sxs-lookup"><span data-stu-id="d35bd-145">The default is 60 (percent).</span></span> <span data-ttu-id="d35bd-146">Die Eigenschaft gibt einen Prozentwert der Gültigkeitsdauer des Tokens an.</span><span class="sxs-lookup"><span data-stu-id="d35bd-146">The property specifies a percentage of the token's validity period.</span></span> <span data-ttu-id="d35bd-147">Wenn das ausgestellte Token beispielsweise 10 Stunden lang gültig ist und <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuedTokenRenewalThresholdPercentage%2A> auf 80 festgelegt wird, dann wird das Token nach acht Stunden erneuert.</span><span class="sxs-lookup"><span data-stu-id="d35bd-147">For example, if the issued token is valid for 10 hours and <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuedTokenRenewalThresholdPercentage%2A> is set to 80, then the token is renewed after eight hours.</span></span> <span data-ttu-id="d35bd-148">Im folgenden Beispiel wird als Wert 80 Prozent festgelegt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-148">The following example sets the value to 80 percent.</span></span>  
  
     [!code-csharp[c_CreateSTS#16](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#16)]
     [!code-vb[c_CreateSTS#16](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#16)]  
  
     <span data-ttu-id="d35bd-149">Das Erneuerungsintervall, das durch die Gültigkeitsdauer des Tokens und den `IssuedTokenRenewalThresholdPercentage`-Wert bestimmt wird, wird durch den `MaxIssuedTokenCachingTime`-Wert außer Kraft gesetzt, wenn die Zwischenspeicherungsdauer kürzer als die durch den Erneuerungsschwellenwert festgelegte Zeitspanne ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-149">The renewal interval determined by the token validity period and the `IssuedTokenRenewalThresholdPercentage` value is overridden by the `MaxIssuedTokenCachingTime` value in cases where the caching time is shorter than the renewal threshold time.</span></span> <span data-ttu-id="d35bd-150">Wenn beispielsweise das Produkt aus `IssuedTokenRenewalThresholdPercentage` und der Gültigkeitsdauer des Tokens acht Stunden beträgt und der `MaxIssuedTokenCachingTime`-Wert gleich 10 Minuten ist, dann fordert der Client alle 10 Minuten vom Sicherheitstokendienst ein aktualisiertes Token an.</span><span class="sxs-lookup"><span data-stu-id="d35bd-150">For example, if the product of `IssuedTokenRenewalThresholdPercentage` and the token's duration is eight hours, and the `MaxIssuedTokenCachingTime` value is 10 minutes, the client contacts the security token service for an updated token every 10 minutes.</span></span>  
  
5. <span data-ttu-id="d35bd-151">Wenn ein anderer Schlüsselentropiemodus als <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.CombinedEntropy> für eine Bindung erforderlich ist, bei der nicht Nachrichtensicherheit oder Transportsicherheit mit Nachrichtenanmeldeinformationen verwendet wird (beispielsweise</span><span class="sxs-lookup"><span data-stu-id="d35bd-151">If a key entropy mode other than <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.CombinedEntropy> is needed on a binding that does not use message security or transport security with message credentials (for example.</span></span> <span data-ttu-id="d35bd-152">eine Bindung, die über kein <xref:System.ServiceModel.Channels.SecurityBindingElement> verfügt), legen Sie die <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A>-Eigenschaft auf einen geeigneten Wert fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-152">the binding does not have a <xref:System.ServiceModel.Channels.SecurityBindingElement>), set the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A> property to an appropriate value.</span></span> <span data-ttu-id="d35bd-153">Der *Entropie* Modus bestimmt, ob symmetrische Schlüssel mithilfe der-Eigenschaft gesteuert werden können <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A> .</span><span class="sxs-lookup"><span data-stu-id="d35bd-153">The *entropy* mode determines whether symmetric keys can be controlled using the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A> property.</span></span> <span data-ttu-id="d35bd-154">Diese Standardeinstellung lautet <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.CombinedEntropy>, wobei sowohl der Client als auch der Tokenaussteller Daten bereitstellen, durch deren Kombination der tatsächliche Schlüssel erzeugt wird.</span><span class="sxs-lookup"><span data-stu-id="d35bd-154">This default is <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.CombinedEntropy>, where both the client and the token issuer provide data that is combined to produce the actual key.</span></span> <span data-ttu-id="d35bd-155">Andere Werte lauten <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.ClientEntropy> und <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.ServerEntropy>, womit festgelegt wird, dass der gesamte Schlüssel vom Client bzw. vom Server angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d35bd-155">Other values are <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.ClientEntropy> and <xref:System.ServiceModel.Security.SecurityKeyEntropyMode.ServerEntropy>, which means the entire key is specified by the client or the server, respectively.</span></span> <span data-ttu-id="d35bd-156">Im folgenden Beispiel wird die Eigenschaft so festgelegt, dass nur die Serverdaten für den Schlüssel verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="d35bd-156">The following example sets the property to use only the server data for the key.</span></span>  
  
     [!code-csharp[c_CreateSTS#17](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#17)]
     [!code-vb[c_CreateSTS#17](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#17)]  
  
    > [!NOTE]
    > <span data-ttu-id="d35bd-157">Wenn in einem Sicherheitstokendienst oder einer Dienstbindung ein <xref:System.ServiceModel.Channels.SecurityBindingElement> vorhanden ist, wird der auf <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A> festgelegte <xref:System.ServiceModel.Security.IssuedTokenClientCredential> durch die <xref:System.ServiceModel.Channels.SecurityBindingElement.KeyEntropyMode%2A>-Eigenschaft von `SecurityBindingElement` überschrieben.</span><span class="sxs-lookup"><span data-stu-id="d35bd-157">If a <xref:System.ServiceModel.Channels.SecurityBindingElement> is present in a security token service or service binding, the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.DefaultKeyEntropyMode%2A> set on <xref:System.ServiceModel.Security.IssuedTokenClientCredential> is overridden by the <xref:System.ServiceModel.Channels.SecurityBindingElement.KeyEntropyMode%2A> property of the `SecurityBindingElement`.</span></span>  
  
6. <span data-ttu-id="d35bd-158">Konfigurieren Sie ausstellerspezifische Endpunktverhalten, indem Sie diese Verhalten der Auflistung hinzufügen, die von der <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuerChannelBehaviors%2A>-Eigenschaft zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d35bd-158">Configure any issuer-specific endpoint behaviors by adding them to the collection returned by the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.IssuerChannelBehaviors%2A> property.</span></span>  
  
     [!code-csharp[c_CreateSTS#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#14)]
     [!code-vb[c_CreateSTS#14](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#14)]  
  
### <a name="to-configure-the-issuedtokenclientcredential-in-configuration"></a><span data-ttu-id="d35bd-159">So konfigurieren Sie IssuedTokenClientCredential in der Konfiguration</span><span class="sxs-lookup"><span data-stu-id="d35bd-159">To configure the IssuedTokenClientCredential in configuration</span></span>  
  
1. <span data-ttu-id="d35bd-160">Erstellen Sie ein- [\<issuedToken>](../../configure-apps/file-schema/wcf/issuedtoken.md) Element als untergeordnetes [\<issuedToken>](../../configure-apps/file-schema/wcf/issuedtoken.md) Element des-Elements in einem Endpunkt Verhalten.</span><span class="sxs-lookup"><span data-stu-id="d35bd-160">Create an [\<issuedToken>](../../configure-apps/file-schema/wcf/issuedtoken.md) element as a child of the [\<issuedToken>](../../configure-apps/file-schema/wcf/issuedtoken.md) element in an endpoint behavior.</span></span>  
  
2. <span data-ttu-id="d35bd-161">Wenn das Zwischenspeichern von Token nicht erforderlich ist, legen Sie das- `cacheIssuedTokens` Attribut (des <`issuedToken`>-Element) auf fest `false` .</span><span class="sxs-lookup"><span data-stu-id="d35bd-161">If token caching is not required, set the `cacheIssuedTokens` attribute (of the <`issuedToken`> element) to `false`.</span></span>  
  
3. <span data-ttu-id="d35bd-162">Wenn ein Zeitlimit für zwischengespeicherte Token erforderlich ist, legen `maxIssuedTokenCachingTime` Sie das-Attribut für das <`issuedToken`>-Element auf einen geeigneten Wert fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-162">If a time limit is required on cached tokens, set the `maxIssuedTokenCachingTime` attribute on the <`issuedToken`> element to an appropriate value.</span></span> <span data-ttu-id="d35bd-163">Beispiel:</span><span class="sxs-lookup"><span data-stu-id="d35bd-163">For example:</span></span>  
    `<issuedToken maxIssuedTokenCachingTime='00:10:00' />`  
  
4. <span data-ttu-id="d35bd-164">Wenn ein anderer Wert als der Standardwert bevorzugt wird, legen `issuedTokenRenewalThresholdPercentage` Sie das-Attribut für das <`issuedToken`>-Element auf einen geeigneten Wert fest, z. b.:</span><span class="sxs-lookup"><span data-stu-id="d35bd-164">If a value other than the default is preferred, set the `issuedTokenRenewalThresholdPercentage` attribute on the <`issuedToken`> element to an appropriate value, for example:</span></span>  
  
    ```xml  
    <issuedToken issuedTokenRenewalThresholdPercentage = "80" />  
    ```  
  
5. <span data-ttu-id="d35bd-165">Wenn ein anderer Schlüsselentropiemodus als `CombinedEntropy` für eine Bindung erforderlich ist, bei der nicht Nachrichtensicherheit oder Transportsicherheit mit Nachrichtenanmeldeinformationen verwendet wird (beispielsweise eine Bindung, die über kein `SecurityBindingElement` verfügt), dann legen Sie das `defaultKeyEntropyMode`-Attribut für das `<issuedToken>``ServerEntropy` fest.</span><span class="sxs-lookup"><span data-stu-id="d35bd-165">If a key entropy mode other than `CombinedEntropy` is on a binding that does not use message security or transport security with message credentials (for example, the binding does not have a `SecurityBindingElement`), set the `defaultKeyEntropyMode` attribute on the `<issuedToken>` element to a either `ServerEntropy` or `ClientEntropy` as required.</span></span>  
  
    ```xml  
    <issuedToken defaultKeyEntropyMode = "ServerEntropy" />  
    ```  
  
6. <span data-ttu-id="d35bd-166">Optional.</span><span class="sxs-lookup"><span data-stu-id="d35bd-166">Optional.</span></span> <span data-ttu-id="d35bd-167">Konfigurieren Sie jedes Aussteller spezifische benutzerdefinierte Endpunkt Verhalten, indem Sie ein <`issuerChannelBehaviors`>-Element als untergeordnetes Element des <`issuedToken`> Elements erstellen.</span><span class="sxs-lookup"><span data-stu-id="d35bd-167">Configure any issuer-specific custom endpoint behavior by creating an <`issuerChannelBehaviors`> element as a child of the <`issuedToken`> element.</span></span> <span data-ttu-id="d35bd-168">Erstellen Sie für jedes Verhalten ein <`add`>-Element als untergeordnetes Element des <`issuerChannelBehaviors`> Elements.</span><span class="sxs-lookup"><span data-stu-id="d35bd-168">For each behavior, create an <`add`> element as a child of the <`issuerChannelBehaviors`> element.</span></span> <span data-ttu-id="d35bd-169">Geben Sie die Aussteller Adresse des Verhaltens an, indem Sie das- `issuerAddress` Attribut für das <`add`>-Element festlegen.</span><span class="sxs-lookup"><span data-stu-id="d35bd-169">Specify the issuer address of the behavior by setting the `issuerAddress` attribute on the <`add`> element.</span></span> <span data-ttu-id="d35bd-170">Geben Sie das Verhalten selbst an, indem Sie das- `behaviorConfiguration` Attribut für das <`add`>-Element festlegen.</span><span class="sxs-lookup"><span data-stu-id="d35bd-170">Specify the behavior itself by setting the `behaviorConfiguration` attribute on the <`add`> element.</span></span>  
  
    ```xml  
    <issuerChannelBehaviors>  
    <add issuerAddress="http://fabrikam.org/sts" behaviorConfiguration="FabrikamSTS" />  
    </issuerChannelBehaviors>  
    ```  
  
### <a name="to-configure-an-x509certificaterecipientclientcredential-in-code"></a><span data-ttu-id="d35bd-171">So konfigurieren Sie X509CertificateRecipientClientCredential im Code</span><span class="sxs-lookup"><span data-stu-id="d35bd-171">To configure an X509CertificateRecipientClientCredential in code</span></span>  
  
1. <span data-ttu-id="d35bd-172">Greifen Sie über die <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>-Eigenschaft der <xref:System.ServiceModel.Description.ClientCredentials.ServiceCertificate%2A>-Eigenschaft der <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A>-Klasse oder die <xref:System.ServiceModel.ClientBase%601>-Eigenschaft auf <xref:System.ServiceModel.ChannelFactory> zu.</span><span class="sxs-lookup"><span data-stu-id="d35bd-172">Access the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential> through the <xref:System.ServiceModel.Description.ClientCredentials.ServiceCertificate%2A> property of the <xref:System.ServiceModel.ClientBase%601.ClientCredentials%2A> property of the <xref:System.ServiceModel.ClientBase%601> class or the <xref:System.ServiceModel.ChannelFactory> property.</span></span>  
  
     [!code-csharp[c_CreateSTS#18](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#18)]
     [!code-vb[c_CreateSTS#18](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#18)]  
  
2. <span data-ttu-id="d35bd-173">Wenn eine <xref:System.Security.Cryptography.X509Certificates.X509Certificate2>-Instanz für das Zertifikat eines gegebenen Endpunkts verfügbar ist, verwenden Sie die <xref:System.Collections.Generic.ICollection%601.Add%2A>-Methode der Auflistung, die von der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A>-Eigenschaft zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d35bd-173">If an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> instance is available for the certificate for a given endpoint, use the <xref:System.Collections.Generic.ICollection%601.Add%2A> method of the collection returned by the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A> property.</span></span>  
  
     [!code-csharp[c_CreateSTS#19](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#19)]
     [!code-vb[c_CreateSTS#19](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#19)]  
  
3. <span data-ttu-id="d35bd-174">Wenn keine <xref:System.Security.Cryptography.X509Certificates.X509Certificate2>-Instanz verfügbar ist, verwenden Sie die <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetScopedCertificate%2A>-Methode der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>-Klasse, wie im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-174">If an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> instance is not available, use the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetScopedCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential> class as shown in the following example.</span></span>  
  
     [!code-csharp[c_CreateSTS#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_creatests/cs/source.cs#20)]
     [!code-vb[c_CreateSTS#20](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_creatests/vb/source.vb#20)]  
  
### <a name="to-configure-an-x509certificaterecipientclientcredential-in-configuration"></a><span data-ttu-id="d35bd-175">So konfigurieren Sie X509CertificateRecipientClientCredential in der Konfiguration</span><span class="sxs-lookup"><span data-stu-id="d35bd-175">To configure an X509CertificateRecipientClientCredential in configuration</span></span>  
  
1. <span data-ttu-id="d35bd-176">Erstellen Sie ein- [\<scopedCertificates>](../../configure-apps/file-schema/wcf/scopedcertificates-element.md) Element als untergeordnetes [\<serviceCertificate>](../../configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) Element des-Elements, das selbst ein untergeordnetes Element des- [\<clientCredentials>](../../configure-apps/file-schema/wcf/clientcredentials.md) Elements in einem Endpunkt Verhalten ist.</span><span class="sxs-lookup"><span data-stu-id="d35bd-176">Create a [\<scopedCertificates>](../../configure-apps/file-schema/wcf/scopedcertificates-element.md) element as a child of the [\<serviceCertificate>](../../configure-apps/file-schema/wcf/servicecertificate-of-clientcredentials-element.md) element that is itself a child of the [\<clientCredentials>](../../configure-apps/file-schema/wcf/clientcredentials.md) element in an endpoint behavior.</span></span>  
  
2. <span data-ttu-id="d35bd-177">Erstellen Sie ein `<add>`-Element als untergeordnetes Element des `<scopedCertificates>`-Elements.</span><span class="sxs-lookup"><span data-stu-id="d35bd-177">Create an `<add>` element as a child of the `<scopedCertificates>` element.</span></span> <span data-ttu-id="d35bd-178">Geben Sie Werte für die Attribute `storeLocation`, `storeName`, `x509FindType` und `findValue` an, um auf das geeignete Zertifikat zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="d35bd-178">Specify values for the `storeLocation`, `storeName`, `x509FindType`, and `findValue` attributes to refer to the appropriate certificate.</span></span> <span data-ttu-id="d35bd-179">Legen Sie das `targetUri`-Attribut auf einen Wert fest, der die Adresse des Endpunkts angibt, für den das Zertifikat verwendet werden soll. Dies wird im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-179">Set the `targetUri` attribute to a value that provides the address of the endpoint that the certificate is to be used for, as shown in the following example.</span></span>  
  
    ```xml  
    <scopedCertificates>  
     <add targetUri="http://fabrikam.com/sts"
          storeLocation="CurrentUser"  
          storeName="TrustedPeople"  
          x509FindType="FindBySubjectName"  
          findValue="FabrikamSTS" />  
    </scopedCertificates>  
    ```  
  
## <a name="example"></a><span data-ttu-id="d35bd-180">Beispiel</span><span class="sxs-lookup"><span data-stu-id="d35bd-180">Example</span></span>  
 <span data-ttu-id="d35bd-181">Im nächsten Codebeispiel wird eine Instanz der <xref:System.ServiceModel.Security.IssuedTokenClientCredential>-Klasse im Code konfiguriert.</span><span class="sxs-lookup"><span data-stu-id="d35bd-181">The following code sample configures an instance of the <xref:System.ServiceModel.Security.IssuedTokenClientCredential> class in code.</span></span>  
  
 [!code-csharp[c_FederatedClient#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_federatedclient/cs/source.cs#2)]
 [!code-vb[c_FederatedClient#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_federatedclient/vb/source.vb#2)]  
  
## <a name="net-framework-security"></a><span data-ttu-id="d35bd-182">.NET Framework-Sicherheit</span><span class="sxs-lookup"><span data-stu-id="d35bd-182">.NET Framework Security</span></span>  
 <span data-ttu-id="d35bd-183">Um einer möglichen Enthüllung von Informationen vorzubeugen, sollten Clients, die mit dem Tool Svcutil.exe Metadaten von Verbundendpunkten verarbeiten, sicherstellen, dass es sich bei den resultierenden Sicherheitstokendienst-Adressen auch tatsächlich um die erwarteten Adressen handelt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-183">To prevent possible information disclosure, clients that are running the Svcutil.exe tool to process metadata from federated endpoints should ensure that the resulting security token service addresses are what they expect.</span></span> <span data-ttu-id="d35bd-184">Dies ist insbesondere wichtig, wenn ein Sicherheitstokendienst mehrere Endpunkte verfügbar macht, weil das Tool Svcutil.exe die Konfigurationsdatei generiert, die mit einem solchen Endpunkt verwendet werden soll. Sie müssen überprüfen, ob die Konfigurationsdatei für den richtigen Endpunkt erzeugt wurde.</span><span class="sxs-lookup"><span data-stu-id="d35bd-184">This is especially important when a security token service exposes multiple endpoints, because the Svcutil.exe tool generates the resulting configuration file to use the first such endpoint, which may not be the one the client should be using.</span></span>  
  
## <a name="localissuer-required"></a><span data-ttu-id="d35bd-185">LocalIssuer erforderlich</span><span class="sxs-lookup"><span data-stu-id="d35bd-185">LocalIssuer Required</span></span>  
 <span data-ttu-id="d35bd-186">Wenn erwartet wird, dass Clients immer einen lokalen Aussteller verwenden, ist Folgendes zu beachten: Die Standardausgabe von Svcutil.exe resultiert darin, dass der lokale Aussteller nicht verwendet wird, wenn der vorletzte Sicherheitstokendienst in der Kette eine Ausstelleradresse oder eine Ausstellermetaadresse angibt.</span><span class="sxs-lookup"><span data-stu-id="d35bd-186">If clients are expected to always use a local issuer, note the following: the default output of Svcutil.exe results in the local issuer not being used if the second-to-last security token service in the chain specifies an issuer address or issuer metadata address.</span></span>  
  
 <span data-ttu-id="d35bd-187">Weitere Informationen zum Festlegen der <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerAddress%2A> Eigenschaften, <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerBinding%2A> und <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerChannelBehaviors%2A> der- <xref:System.ServiceModel.Security.IssuedTokenClientCredential> Klasse finden Sie unter Vorgehens [Weise: Konfigurieren eines lokalen Ausstellers](how-to-configure-a-local-issuer.md).</span><span class="sxs-lookup"><span data-stu-id="d35bd-187">For more information about setting the <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerAddress%2A>, <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerBinding%2A>, and <xref:System.ServiceModel.Security.IssuedTokenClientCredential.LocalIssuerChannelBehaviors%2A> properties of the <xref:System.ServiceModel.Security.IssuedTokenClientCredential> class, see [How to: Configure a Local Issuer](how-to-configure-a-local-issuer.md).</span></span>  
  
## <a name="scoped-certificates"></a><span data-ttu-id="d35bd-188">Zertifikate mit Gültigkeitsbereich</span><span class="sxs-lookup"><span data-stu-id="d35bd-188">Scoped Certificates</span></span>  
 <span data-ttu-id="d35bd-189">Wenn zur Kommunikation mit einem Sicherheitstokendienst Dienstzertifikate angegeben werden müssen, weil keine Zertifikatsaushandlung verwendet wird, können diese mit der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A>-Eigenschaft der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential>-Klasse angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="d35bd-189">If service certificates must be specified for communicating with any of the security token services, typically because certificate negotiation is not being used, they can be specified using the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A> property of the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential> class.</span></span> <span data-ttu-id="d35bd-190">Die <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetDefaultCertificate%2A>-Methode akzeptiert die beiden Parameter <xref:System.Uri> und <xref:System.Security.Cryptography.X509Certificates.X509Certificate2>.</span><span class="sxs-lookup"><span data-stu-id="d35bd-190">The <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetDefaultCertificate%2A> method takes a <xref:System.Uri> and an <xref:System.Security.Cryptography.X509Certificates.X509Certificate2> as parameters.</span></span> <span data-ttu-id="d35bd-191">Das angegebene Zertifikat wird zur Kommunikation mit Endpunkten beim angegebenen URI verwendet.</span><span class="sxs-lookup"><span data-stu-id="d35bd-191">The specified certificate is used when communicating with endpoints at the specified URI.</span></span> <span data-ttu-id="d35bd-192">Stattdessen können Sie auch mit der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetScopedCertificate%2A>-Methode ein Zertifikat der Auflistung hinzufügen, die von der <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A>-Eigenschaft zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="d35bd-192">Alternatively, you can use the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.SetScopedCertificate%2A> method to add a certificate to the collection returned by the <xref:System.ServiceModel.Security.X509CertificateRecipientClientCredential.ScopedCertificates%2A> property.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="d35bd-193">Das Clientkonzept von Zertifikaten, deren Bereich durch einen gegebenen URI festgelegt wird, gilt nur für Anwendungen, die ausgehende Aufrufe an Dienste durchführen, die bei diesen URIs Endpunkte verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="d35bd-193">The client idea of certificates that are scoped to a given URI applies only to applications that are making outbound calls to services that expose endpoints at those URIs.</span></span> <span data-ttu-id="d35bd-194">Es gilt nicht für Zertifikate, die zum Signieren von ausgestellten Token verwendet werden, wie z. b. die auf dem Server in der vom-Klasse zurückgegebenen Auflistung konfigurierten <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.KnownCertificates%2A> <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> .</span><span class="sxs-lookup"><span data-stu-id="d35bd-194">It does not apply to certificates that are used to sign issued tokens, such as those configured on the server in the collection returned by the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.KnownCertificates%2A> of the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> class.</span></span> <span data-ttu-id="d35bd-195">Weitere Informationen finden Sie unter Vorgehens [Weise: Konfigurieren von Anmelde Informationen auf einem Verbunddienst](how-to-configure-credentials-on-a-federation-service.md).</span><span class="sxs-lookup"><span data-stu-id="d35bd-195">For more information, see [How to: Configure Credentials on a Federation Service](how-to-configure-credentials-on-a-federation-service.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d35bd-196">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="d35bd-196">See also</span></span>

- [<span data-ttu-id="d35bd-197">Verbundbeispiel</span><span class="sxs-lookup"><span data-stu-id="d35bd-197">Federation Sample</span></span>](../samples/federation-sample.md)
- [<span data-ttu-id="d35bd-198">Vorgehensweise: Deaktivieren sicherer Sitzungen auf einer WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="d35bd-198">How to: Disable Secure Sessions on a WSFederationHttpBinding</span></span>](how-to-disable-secure-sessions-on-a-wsfederationhttpbinding.md)
- [<span data-ttu-id="d35bd-199">Vorgehensweise: Erstellen einer WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="d35bd-199">How to: Create a WSFederationHttpBinding</span></span>](how-to-create-a-wsfederationhttpbinding.md)
- [<span data-ttu-id="d35bd-200">Vorgehensweise: Konfigurieren von Anmeldeinformationen auf einem Verbunddienst</span><span class="sxs-lookup"><span data-stu-id="d35bd-200">How to: Configure Credentials on a Federation Service</span></span>](how-to-configure-credentials-on-a-federation-service.md)
- [<span data-ttu-id="d35bd-201">Vorgehensweise: Konfigurieren eines lokalen Ausstellers</span><span class="sxs-lookup"><span data-stu-id="d35bd-201">How to: Configure a Local Issuer</span></span>](how-to-configure-a-local-issuer.md)
- [<span data-ttu-id="d35bd-202">Sicherheitsüberlegungen für Metadaten</span><span class="sxs-lookup"><span data-stu-id="d35bd-202">Security Considerations with Metadata</span></span>](security-considerations-with-metadata.md)
- [<span data-ttu-id="d35bd-203">Vorgehensweise: Sichern von Metadatenendpunkten</span><span class="sxs-lookup"><span data-stu-id="d35bd-203">How to: Secure Metadata Endpoints</span></span>](how-to-secure-metadata-endpoints.md)
