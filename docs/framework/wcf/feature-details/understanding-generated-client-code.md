---
title: Grundlagen des generierten Clientcodes
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: c3f6e4b0-1131-4c94-aa39-a197c5c2f2ca
ms.openlocfilehash: 22cb7a7b4cd6712d509586cb2ae7699d233eff2a
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96281624"
---
# <a name="understanding-generated-client-code"></a><span data-ttu-id="9ac33-102">Grundlagen des generierten Clientcodes</span><span class="sxs-lookup"><span data-stu-id="9ac33-102">Understanding Generated Client Code</span></span>

<span data-ttu-id="9ac33-103">Mit dem [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) werden Clientcode und eine Clientanwendungs-Konfigurationsdatei zum Erstellen von Clientanwendungen generiert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-103">The [ServiceModel Metadata Utility Tool (Svcutil.exe)](../servicemodel-metadata-utility-tool-svcutil-exe.md) generates client code and a client application configuration file for use in building client applications.</span></span> <span data-ttu-id="9ac33-104">Dieses Thema bietet Beispiele für generierten Code für standardmäßige Dienstvertragszenarien.</span><span class="sxs-lookup"><span data-stu-id="9ac33-104">This topic provides a tour of generated code examples for standard service contract scenarios.</span></span> <span data-ttu-id="9ac33-105">Weitere Informationen zum Aufbauen einer Client Anwendung mit dem generierten Code finden Sie unter [Übersicht](../wcf-client-overview.md)über den WCF-Client.</span><span class="sxs-lookup"><span data-stu-id="9ac33-105">For more information about building a client application using the generated code, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
## <a name="overview"></a><span data-ttu-id="9ac33-106">Übersicht</span><span class="sxs-lookup"><span data-stu-id="9ac33-106">Overview</span></span>  

 <span data-ttu-id="9ac33-107">Wenn Sie Visual Studio verwenden, um Windows Communication Foundation (WCF)-Client Typen für Ihr Projekt zu generieren, müssen Sie den generierten Client Code normalerweise nicht untersuchen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-107">If you use Visual Studio to generate Windows Communication Foundation (WCF) client types for your project, you typically do not need to examine the generated client code.</span></span> <span data-ttu-id="9ac33-108">Wenn Sie keine Entwicklungsumgebung verwenden, die die gleichen Dienste für Sie ausführt, können Sie mit einem Tool wie Svcutil.exe Clientcode generieren und dann mithilfe dieses Codes die Clientanwendung erstellen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-108">If you are not using a development environment that performs the same services for you, you can use a tool such as Svcutil.exe to generate client code and then use that code to develop your client application.</span></span>  
  
 <span data-ttu-id="9ac33-109">Da Svcutil.exe über mehrere Optionen zum Ändern der generierten Typinformationen verfügt, werden in diesem Thema nicht alle Szenarien erläutert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-109">Because Svcutil.exe has a number of options that modify the generated type information, this topic does not discuss all scenarios.</span></span> <span data-ttu-id="9ac33-110">Die folgenden Standardaufgaben schließen jedoch die Suche nach generiertem Code ein:</span><span class="sxs-lookup"><span data-stu-id="9ac33-110">However, the following standard tasks involve locating generated code:</span></span>  
  
- <span data-ttu-id="9ac33-111">Das Identifizieren von Dienstvertragsschnittstellen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-111">Identifying service contract interfaces.</span></span>  
  
- <span data-ttu-id="9ac33-112">Identifizieren der WCF-Client Klasse.</span><span class="sxs-lookup"><span data-stu-id="9ac33-112">Identifying the WCF client class.</span></span>  
  
- <span data-ttu-id="9ac33-113">Das Identifizieren von Datentypen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-113">Identifying data types.</span></span>  
  
- <span data-ttu-id="9ac33-114">Das Identifizieren von Rückrufverträgen für Duplexdienste.</span><span class="sxs-lookup"><span data-stu-id="9ac33-114">Identifying callback contracts for duplex services.</span></span>  
  
- <span data-ttu-id="9ac33-115">Das Identifizieren der Hilfsdienstvertrag-Kanalschnittstelle.</span><span class="sxs-lookup"><span data-stu-id="9ac33-115">Identifying the helper service contract channel interface.</span></span>  
  
### <a name="finding-service-contract-interfaces"></a><span data-ttu-id="9ac33-116">Das Suchen von Dienstvertragschnittstellen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-116">Finding Service Contract Interfaces</span></span>  

 <span data-ttu-id="9ac33-117">Suchen Sie bei der Suche nach Schnittstellen für Dienstvertragmodelle mit dem <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> -Attribut markierte Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-117">To locate the interfaces that model service contracts, search for interfaces that are marked with the <xref:System.ServiceModel.ServiceContractAttribute?displayProperty=nameWithType> attribute.</span></span> <span data-ttu-id="9ac33-118">Die Suche nach diesem Attribute mit schnellem Lesen kann wegen des Vorhandenseins anderer Attribute und der für das Attribut selbst festgelegten expliziten Eigenschaften häufig schwierig sein.</span><span class="sxs-lookup"><span data-stu-id="9ac33-118">Often this attribute can be difficult to locate with a quick read due to the presence of other attributes and the explicit properties set on the attribute itself.</span></span> <span data-ttu-id="9ac33-119">Beachten Sie, dass die Dienstvertragschnittstelle und die Clientvertragschnittstelle zwei verschiedene Typen sind.</span><span class="sxs-lookup"><span data-stu-id="9ac33-119">Remember that the service contract interface and the client contract interface are two different types.</span></span> <span data-ttu-id="9ac33-120">Im folgenden Codebeispiel wird der ursprüngliche Dienstvertrag gezeigt.</span><span class="sxs-lookup"><span data-stu-id="9ac33-120">The following code example shows the original service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#22](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#22)]  
  
 <span data-ttu-id="9ac33-121">Im folgenden Codebeispiel wird der gleiche Dienstvertrag gezeigt, wie von Svcutil.exe generiert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-121">The following code example shows the same service contract as generated by Svcutil.exe.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#12)]  
  
 <span data-ttu-id="9ac33-122">Sie können die generierte Dienstvertragschnittstelle zusammen mit der- <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> Klasse verwenden, um ein WCF-Kanal Objekt zu erstellen, mit dem Dienst Vorgänge aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="9ac33-122">You can use the generated service contract interface along with the <xref:System.ServiceModel.ChannelFactory?displayProperty=nameWithType> class to create a WCF channel object with which to invoke service operations.</span></span> <span data-ttu-id="9ac33-123">Weitere Informationen finden Sie unter Gewusst [wie: Verwenden der ChannelFactory](how-to-use-the-channelfactory.md).</span><span class="sxs-lookup"><span data-stu-id="9ac33-123">For more information, see [How to: Use the ChannelFactory](how-to-use-the-channelfactory.md).</span></span>  
  
### <a name="finding-wcf-client-classes"></a><span data-ttu-id="9ac33-124">Suchen von WCF-Clientklassen</span><span class="sxs-lookup"><span data-stu-id="9ac33-124">Finding WCF Client Classes</span></span>  

 <span data-ttu-id="9ac33-125">Um die WCF-Client Klasse zu suchen, die den zu verwendenden Dienstvertrag implementiert, suchen Sie nach einer Erweiterung von <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType> , wobei der Typparameter die Dienstvertragschnittstelle ist, die Sie zuvor gefunden haben und die diese Schnittstelle erweitert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-125">To locate the WCF client class that implements the service contract you want to use, search for an extension of <xref:System.ServiceModel.ClientBase%601?displayProperty=nameWithType>, where the type parameter is the service contract interface that you previously located and that extends that interface.</span></span> <span data-ttu-id="9ac33-126">Im folgenden Codebeispiel wird die <xref:System.ServiceModel.ClientBase%601> -Klasse vom Typ `ISampleService`gezeigt.</span><span class="sxs-lookup"><span data-stu-id="9ac33-126">The following code example shows the <xref:System.ServiceModel.ClientBase%601> class of type `ISampleService`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#14](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#14)]  
  
 <span data-ttu-id="9ac33-127">Sie können diese WCF-Client Klasse verwenden, indem Sie eine neue Instanz davon erstellen und die Methoden aufrufen, die Sie implementiert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-127">You can use this WCF client class by creating a new instance of it and calling the methods it implements.</span></span> <span data-ttu-id="9ac33-128">Diese Methoden rufen den Dienstvorgang auf, der für die Interaktion mit ihr konzipiert und konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="9ac33-128">Those methods invoke the service operation with which it is designed and configured to interact.</span></span> <span data-ttu-id="9ac33-129">Weitere Informationen finden Sie unter [Übersicht über den WCF-Client](../wcf-client-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9ac33-129">For more information, see [WCF Client Overview](../wcf-client-overview.md).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="9ac33-130">Wenn SvcUtil.exe eine WCF-Clientklasse generiert, wird ihr ein <xref:System.Diagnostics.DebuggerStepThroughAttribute> hinzugefügt, das die schrittweise Ausführung der WCF-Clientklasse durch Debugger verhindert.</span><span class="sxs-lookup"><span data-stu-id="9ac33-130">When SvcUtil.exe generates a WCF client class, it adds a <xref:System.Diagnostics.DebuggerStepThroughAttribute> to the client class that prevents debuggers from stepping through the WCF client class.</span></span>  
  
### <a name="finding-data-types"></a><span data-ttu-id="9ac33-131">Suchen von Datentypen</span><span class="sxs-lookup"><span data-stu-id="9ac33-131">Finding Data Types</span></span>  

 <span data-ttu-id="9ac33-132">Die grundlegendste Methode zum Suchen von Datentypen im generierten Code ist die Identifizierung des in einem Vertrag angegebenen Typnamens und die Suche des Codes für diese Typdeklaration.</span><span class="sxs-lookup"><span data-stu-id="9ac33-132">To locate data types in the generated code, the most basic mechanism is to identify the type name specified in a contract and search the code for that type declaration.</span></span> <span data-ttu-id="9ac33-133">Zum Beispiel gibt der folgende Vertrag an, dass `SampleMethod` einen SOAP-Fehler des Typs `microsoft.wcf.documentation.SampleFault`zurückgeben kann.</span><span class="sxs-lookup"><span data-stu-id="9ac33-133">For example, the following contract specifies that the `SampleMethod` can return a SOAP fault of type `microsoft.wcf.documentation.SampleFault`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#11)]  
  
 <span data-ttu-id="9ac33-134">Durch die Suche nach `SampleFault` wird die folgende Typdeklaration gesucht.</span><span class="sxs-lookup"><span data-stu-id="9ac33-134">Searching for `SampleFault` locates the following type declaration.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#30](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#30)]  
  
 <span data-ttu-id="9ac33-135">In diesem Fall ist der Datentyp der durch eine bestimmte Ausnahme auf dem Client ausgelöste Detailtyp, eine <xref:System.ServiceModel.FaultException%601> , wobei der Detailtypparameter `microsoft.wcf.documentation.SampleFault`ist.</span><span class="sxs-lookup"><span data-stu-id="9ac33-135">In this case the data type is the detail type thrown by a specific exception on the client, a <xref:System.ServiceModel.FaultException%601> where the detail type parameter is `microsoft.wcf.documentation.SampleFault`.</span></span> <span data-ttu-id="9ac33-136">Weitere Informationen zu Datentypen finden Sie unter [Angeben von Datenübertragung in Dienstverträgen](specifying-data-transfer-in-service-contracts.md).</span><span class="sxs-lookup"><span data-stu-id="9ac33-136">For more information about data types, see [Specifying Data Transfer in Service Contracts](specifying-data-transfer-in-service-contracts.md).</span></span> <span data-ttu-id="9ac33-137">Weitere Informationen zur Behandlung von Ausnahmen in Clients finden Sie unter [senden und empfangen von Fehlern](../sending-and-receiving-faults.md).</span><span class="sxs-lookup"><span data-stu-id="9ac33-137">For more information about handling exceptions in clients, see [Sending and Receiving Faults](../sending-and-receiving-faults.md).</span></span>  
  
### <a name="finding-callback-contracts-for-duplex-services"></a><span data-ttu-id="9ac33-138">Suchen von Rückrufverträgen für Duplexdienste</span><span class="sxs-lookup"><span data-stu-id="9ac33-138">Finding Callback Contracts for Duplex Services</span></span>  

 <span data-ttu-id="9ac33-139">Wenn Sie einen Dienstvertrag finden, bei dem die Vertragschnittstelle einen Wert für die <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> -Eigenschaft angibt, dann gibt dieser Vertrag einen Duplexvertrag an.</span><span class="sxs-lookup"><span data-stu-id="9ac33-139">If you locate a service contract for which the contract interface specifies a value for the <xref:System.ServiceModel.ServiceContractAttribute.CallbackContract%2A?displayProperty=nameWithType> property, then that contract specifies a duplex contract.</span></span> <span data-ttu-id="9ac33-140">Duplexverträge erfordern, dass die Clientanwendung eine Rückrufklasse erstellt, die den Rückrufvertrag implementiert und eine Instanz dieser Klasse an <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> oder <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> zur Kommunikation mit dem Dienst übergibt.</span><span class="sxs-lookup"><span data-stu-id="9ac33-140">Duplex contracts require the client application to create a callback class that implements the callback contract and pass an instance of that class to the <xref:System.ServiceModel.DuplexClientBase%601?displayProperty=nameWithType> or <xref:System.ServiceModel.DuplexChannelFactory%601?displayProperty=nameWithType> used to communicate with the service.</span></span> <span data-ttu-id="9ac33-141">Weitere Informationen zu Duplex Clients finden Sie unter Gewusst [wie: Zugreifen auf Dienste mit einem Duplex Vertrag](how-to-access-services-with-a-duplex-contract.md).</span><span class="sxs-lookup"><span data-stu-id="9ac33-141">For more information about duplex clients, see [How to: Access Services with a Duplex Contract](how-to-access-services-with-a-duplex-contract.md).</span></span>  
  
 <span data-ttu-id="9ac33-142">Der folgende Vertrag gibt einen Rückrufvertrag vom Typ `SampleDuplexHelloCallback`an.</span><span class="sxs-lookup"><span data-stu-id="9ac33-142">The following contract specifies a callback contract of type `SampleDuplexHelloCallback`.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#2](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#2)]
 [!code-vb[C_GeneratedCodeFiles#2](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#2)]  
  
 <span data-ttu-id="9ac33-143">Durch die Suche nach diesem Rückrufvertrag wird die folgende Schnittstelle gesucht, die die Clientanwendung implementieren muss.</span><span class="sxs-lookup"><span data-stu-id="9ac33-143">Searching for that callback contract locates the following interface that the client application must implement.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#4](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/duplexproxycode.cs#4)]
 [!code-vb[C_GeneratedCodeFiles#4](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_generatedcodefiles/vb/duplexproxycode.vb#4)]  
  
### <a name="finding-service-contract-channel-interfaces"></a><span data-ttu-id="9ac33-144">Suchen von Dienstvertrag-Kanalschnittstellen</span><span class="sxs-lookup"><span data-stu-id="9ac33-144">Finding Service Contract Channel Interfaces</span></span>  

 <span data-ttu-id="9ac33-145">Beim Verwenden der <xref:System.ServiceModel.ChannelFactory> -Klasse mit einer Dienstvertragschnittstelle muss diese in eine <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> -Schnittstelle umgewandelt werden, um den Kanal explizit zu öffnen, zu schließen oder abzubrechen.</span><span class="sxs-lookup"><span data-stu-id="9ac33-145">When using the <xref:System.ServiceModel.ChannelFactory> class with a service contract interface, you must cast to the <xref:System.ServiceModel.IClientChannel?displayProperty=nameWithType> interface to explicitly open, close, or abort the channel.</span></span> <span data-ttu-id="9ac33-146">Zum Erleichtern der Arbeit generiert das Tool Svcutil.exe auch eine Hilfsschnittstelle, die die Dienstvertragschnittstelle und <xref:System.ServiceModel.IClientChannel> implementiert, wodurch die Interaktion mit der Clientkanalinfrastruktur ohne Umwandlung ermöglicht wird.</span><span class="sxs-lookup"><span data-stu-id="9ac33-146">To make it easier to work with, the Svcutil.exe tool also generates a helper interface that implements both the service contract interface and <xref:System.ServiceModel.IClientChannel> to enable you to interact with the client channel infrastructure without having to cast.</span></span> <span data-ttu-id="9ac33-147">Im folgenden Code wird die Definition eines Hilfsclientkanals, der den vorangehenden Dienstvertrag implementiert, veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="9ac33-147">The following code shows the definition of a helper client channel that implements the preceding service contract.</span></span>  
  
 [!code-csharp[C_GeneratedCodeFiles#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_generatedcodefiles/cs/proxycode.cs#13)]  
  
## <a name="see-also"></a><span data-ttu-id="9ac33-148">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="9ac33-148">See also</span></span>

- [<span data-ttu-id="9ac33-149">Übersicht über den WCF-Client</span><span class="sxs-lookup"><span data-stu-id="9ac33-149">WCF Client Overview</span></span>](../wcf-client-overview.md)
