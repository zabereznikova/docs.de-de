---
title: Dienstendpunkte und Adressieren von Warteschlangen
ms.date: 03/30/2017
ms.assetid: 7d2d59d7-f08b-44ed-bd31-913908b83d97
ms.openlocfilehash: f7c3221d466d2599139eb29a8358d726c2b4edda
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96253920"
---
# <a name="service-endpoints-and-queue-addressing"></a><span data-ttu-id="be1b3-102">Dienstendpunkte und Adressieren von Warteschlangen</span><span class="sxs-lookup"><span data-stu-id="be1b3-102">Service Endpoints and Queue Addressing</span></span>

<span data-ttu-id="be1b3-103">In diesem Thema wird erläutert, wie Clients Dienste adressieren, die Daten aus Warteschlangen auslesen, und wie Dienstendpunkte Warteschlangen zugeordnet werden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-103">This topic discusses how clients address services that read from queues and how service endpoints map to queues.</span></span> <span data-ttu-id="be1b3-104">Zur Erinnerung: die folgende Abbildung zeigt die Bereitstellung der Bereitstellung der klassischen Windows Communication Foundation (WCF) in der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="be1b3-104">As a reminder, the following illustration shows the classic Windows Communication Foundation (WCF) queued application deployment.</span></span>  
  
 <span data-ttu-id="be1b3-105">![In die Warteschlange gestelltes Anwendungsdiagramm](media/distributed-queue-figure.jpg "Verteilte Warteschlangen (Abbildung)")</span><span class="sxs-lookup"><span data-stu-id="be1b3-105">![Queued Application Diagram](media/distributed-queue-figure.jpg "Distributed-Queue-Figure")</span></span>  
  
 <span data-ttu-id="be1b3-106">Damit der Client die Nachricht an den Dienst senden kann, richtet der Client die Nachricht an die Zielwarteschlange.</span><span class="sxs-lookup"><span data-stu-id="be1b3-106">For the client to send the message to the service, the client addresses the message to the Target Queue.</span></span> <span data-ttu-id="be1b3-107">Damit der Dienst Nachrichten aus der Warteschlange lesen kann, legt er als Abhöradresse die Zielwarteschlange fest.</span><span class="sxs-lookup"><span data-stu-id="be1b3-107">For the service to read messages from the queue, it sets its listen address to the Target Queue.</span></span> <span data-ttu-id="be1b3-108">Die Adressierung in WCF ist Uniform Resource Identifier (URI)-basiert, während Message Queuing (MSMQ)-Warteschlangen Namen nicht URI-basiert sind.</span><span class="sxs-lookup"><span data-stu-id="be1b3-108">Addressing in WCF is Uniform Resource Identifier (URI)-based while Message Queuing (MSMQ) queue names are not URI-based.</span></span> <span data-ttu-id="be1b3-109">Daher ist es erforderlich, dass Sie wissen, wie in MSMQ mithilfe von WCF erstellte Warteschlangen adressiert werden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-109">It is therefore essential to understand how to address queues created in MSMQ using WCF.</span></span>  
  
## <a name="msmq-addressing"></a><span data-ttu-id="be1b3-110">MSMQ-Adressierung</span><span class="sxs-lookup"><span data-stu-id="be1b3-110">MSMQ Addressing</span></span>  

 <span data-ttu-id="be1b3-111">MSMQ verwendet Pfade und Formatnamen, um eine Warteschlange zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="be1b3-111">MSMQ uses paths and format names to identify a queue.</span></span> <span data-ttu-id="be1b3-112">Pfade geben einen Hostnamen und einen `QueueName` an.</span><span class="sxs-lookup"><span data-stu-id="be1b3-112">Paths specify a host name and a `QueueName`.</span></span> <span data-ttu-id="be1b3-113">Optional kann ein `Private$` zwischen dem Hostnamen und dem `QueueName` vorliegen, um eine private Warteschlange anzugeben, die nicht im Active Directory-Verzeichnisdienst veröffentlicht wird.</span><span class="sxs-lookup"><span data-stu-id="be1b3-113">Optionally, there can be a `Private$` between the host name and the `QueueName` to indicate a private queue that is not published in the Active Directory directory service.</span></span>  
  
 <span data-ttu-id="be1b3-114">Pfadnamen werden "FormatNames" zugeordnet, um weitere Aspekte der Adresse zu bestimmen, einschließlich Routing und Warteschlangen-Manager-Übertragungsprotokoll.</span><span class="sxs-lookup"><span data-stu-id="be1b3-114">Path names are mapped to "FormatNames" to determine additional aspects of the address, including routing and queue manager transfer protocol.</span></span> <span data-ttu-id="be1b3-115">Der Warteschlangen-Manager unterstützt zwei Übertragungsprotokolle: das systemeigene MSMQ-Protokoll und das SOAP Reliable Messaging Protocol (SRMP).</span><span class="sxs-lookup"><span data-stu-id="be1b3-115">The Queue Manager supports two transfer protocols: native MSMQ protocol and SOAP Reliable Messaging Protocol (SRMP).</span></span>  
  
 <span data-ttu-id="be1b3-116">Weitere Informationen zu MSMQ-Pfad-und-Format Namen finden Sie unter [Informationen zu Message Queuing](/previous-versions/windows/desktop/legacy/ms706032(v=vs.85)).</span><span class="sxs-lookup"><span data-stu-id="be1b3-116">For more information about MSMQ path and format names, see [About Message Queuing](/previous-versions/windows/desktop/legacy/ms706032(v=vs.85)).</span></span>  
  
## <a name="netmsmqbinding-and-service-addressing"></a><span data-ttu-id="be1b3-117">NetMsmqBinding und Dienstadressierung</span><span class="sxs-lookup"><span data-stu-id="be1b3-117">NetMsmqBinding and Service Addressing</span></span>  

 <span data-ttu-id="be1b3-118">Bei der Adressierung einer Nachricht an einen Dienst wird das Schema in dem URI anhand des für die Kommunikation verwendeten Transports ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="be1b3-118">When addressing a message to a service, the scheme in the URI is chosen based on the transport used for communication.</span></span> <span data-ttu-id="be1b3-119">Jeder Transport in WCF verfügt über ein eindeutiges Schema.</span><span class="sxs-lookup"><span data-stu-id="be1b3-119">Each transport in WCF has a unique scheme.</span></span> <span data-ttu-id="be1b3-120">Das Schema muss die Art des für die Kommunikation verwendeten Transports wiedergeben,</span><span class="sxs-lookup"><span data-stu-id="be1b3-120">The scheme must reflect the nature of transport used for communication.</span></span> <span data-ttu-id="be1b3-121">z. B. net.tcp, net.pipe, HTTP usw.</span><span class="sxs-lookup"><span data-stu-id="be1b3-121">For example, net.tcp, net.pipe, HTTP, and so on.</span></span>  
  
 <span data-ttu-id="be1b3-122">Der MSMQ-Warteschlangen Transport in WCF macht ein net. msmq-Schema verfügbar.</span><span class="sxs-lookup"><span data-stu-id="be1b3-122">The MSMQ queued transport in WCF exposes a net.msmq scheme.</span></span> <span data-ttu-id="be1b3-123">Alle Nachrichten, die mithilfe des net.msmq-Schemas adressiert werden, werden mithilfe von `NetMsmqBinding` über den MSMQ-Warteschlangen-Transportkanal gesendet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-123">Any message addressed using the net.msmq scheme is sent using the `NetMsmqBinding` over the MSMQ queued transport channel.</span></span>  
  
 <span data-ttu-id="be1b3-124">Die Adressierung einer Warteschlange in WCF basiert auf dem folgenden Muster:</span><span class="sxs-lookup"><span data-stu-id="be1b3-124">The addressing of a queue in WCF is based on the following pattern:</span></span>  
  
 <span data-ttu-id="be1b3-125">NET. MSMQ:// \<*host-name*> /[privat/] \<*queue-name*></span><span class="sxs-lookup"><span data-stu-id="be1b3-125">net.msmq: // \<*host-name*> / [private/] \<*queue-name*></span></span>  
  
 <span data-ttu-id="be1b3-126">Dabei gilt Folgendes:</span><span class="sxs-lookup"><span data-stu-id="be1b3-126">where:</span></span>  
  
- <span data-ttu-id="be1b3-127">\<*host-name*> der Name des Computers, der die Ziel Warteschlange hostet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-127">\<*host-name*> is the name of the machine that hosts the Target Queue.</span></span>  
  
- <span data-ttu-id="be1b3-128">[privat] ist optional.</span><span class="sxs-lookup"><span data-stu-id="be1b3-128">[private] is optional.</span></span> <span data-ttu-id="be1b3-129">Dies wird verwendet, wenn eine Zielwarteschlange adressiert wird, bei der es sich um eine private Warteschlange handelt.</span><span class="sxs-lookup"><span data-stu-id="be1b3-129">It is used when addressing a Target Queue that is a private queue.</span></span> <span data-ttu-id="be1b3-130">Um eine öffentliche Warteschlange zu adressieren, dürfen Sie nicht "privat" angeben.</span><span class="sxs-lookup"><span data-stu-id="be1b3-130">To address a public queue, you must not specify private.</span></span> <span data-ttu-id="be1b3-131">Beachten Sie, dass im Gegensatz zu MSMQ-Pfaden im WCF-URI-Formular kein "$" vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="be1b3-131">Note that, unlike MSMQ paths, there is no "$" in the WCF URI form.</span></span>  
  
- <span data-ttu-id="be1b3-132">\<*queue-name*> der Name der Warteschlange.</span><span class="sxs-lookup"><span data-stu-id="be1b3-132">\<*queue-name*> is the name of the queue.</span></span> <span data-ttu-id="be1b3-133">Der Warteschlangenname kann auch auf eine Unterwarteschlange verweisen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-133">The queue name can also refer to a subqueue.</span></span> <span data-ttu-id="be1b3-134">Daher ist \<*queue-name*>  =  \<*name-of-queue*> [;*unter Warteschlangen Name*].</span><span class="sxs-lookup"><span data-stu-id="be1b3-134">Thus, \<*queue-name*> = \<*name-of-queue*>[;*sub-queue-name*].</span></span>  
  
 <span data-ttu-id="be1b3-135">Beispiel1: Für die Adressierung einer privaten Warteschlange PurchaseOrders, die auf dem Computer abc atadatum.com gehostet wird, wäre der URI net.msmq://abc.adatum.com/private/PurchaseOrders.</span><span class="sxs-lookup"><span data-stu-id="be1b3-135">Example1: To address a private queue PurchaseOrders hosted on computer abc atadatum.com, the URI would be net.msmq://abc.adatum.com/private/PurchaseOrders.</span></span>  
  
 <span data-ttu-id="be1b3-136">Beispiel2: Für die Adressierung einer öffentlichen Warteschlange AccountsPayable, die auf dem Computer def atadatum.com gehostet wird, wäre der URI net.msmq://def.adatum.com/AccountsPayable.</span><span class="sxs-lookup"><span data-stu-id="be1b3-136">Example2: To address a public queue AccountsPayable hosted on computer def atadatum.com, the URI would be net.msmq://def.adatum.com/AccountsPayable.</span></span>  
  
 <span data-ttu-id="be1b3-137">Die Warteschlangenadresse wird vom Listener als Abhör-URI zum Lesen von Nachrichten verwendet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-137">The queue address is used as the Listen URI by the Listener to read messages from.</span></span> <span data-ttu-id="be1b3-138">Mit anderen Worten, die Warteschlangenadresse entspricht dem Abhöranschluss des TCP-Sockets.</span><span class="sxs-lookup"><span data-stu-id="be1b3-138">In other words, the queue address is equivalent to the listen port of TCP socket.</span></span>  
  
 <span data-ttu-id="be1b3-139">Ein Endpunkt, der aus einer Warteschlange liest, muss die Adresse der Warteschlange nach demselben Schema angeben, das zuvor beim Öffnen des ServiceHost angegeben worden war.</span><span class="sxs-lookup"><span data-stu-id="be1b3-139">An endpoint that reads from a queue must specify the address of the queue using the same scheme specified previously when opening the ServiceHost.</span></span> <span data-ttu-id="be1b3-140">Beispiele finden Sie unter [net-MSMQ-Bindung](../samples/net-msmq-binding.md).</span><span class="sxs-lookup"><span data-stu-id="be1b3-140">For examples, see [Net MSMQ Binding](../samples/net-msmq-binding.md).</span></span>  
  
### <a name="multiple-contracts-in-a-queue"></a><span data-ttu-id="be1b3-141">Mehrere Verträge in einer Warteschlange</span><span class="sxs-lookup"><span data-stu-id="be1b3-141">Multiple Contracts in a Queue</span></span>  

 <span data-ttu-id="be1b3-142">Nachrichten in einer Warteschlange können verschiedene Verträge implementieren.</span><span class="sxs-lookup"><span data-stu-id="be1b3-142">Messages in a queue can implement different contracts.</span></span> <span data-ttu-id="be1b3-143">In diesem Fall muss eines der folgenden Szenarien zutreffen, um alle Nachrichten erfolgreich lesen und verarbeiten zu können:</span><span class="sxs-lookup"><span data-stu-id="be1b3-143">In this case, it is essential that one of the following is true to successfully read and process all messages:</span></span>  
  
- <span data-ttu-id="be1b3-144">Geben Sie einen Endpunkt für einen Dienst an, der alle Verträge implementiert.</span><span class="sxs-lookup"><span data-stu-id="be1b3-144">Specify an endpoint for a service that implements all the contracts.</span></span> <span data-ttu-id="be1b3-145">Dies ist die empfohlene Vorgehensweise.</span><span class="sxs-lookup"><span data-stu-id="be1b3-145">This is the recommended approach.</span></span>  
  
- <span data-ttu-id="be1b3-146">Geben Sie mehrere Endpunkte mit verschiedenen Verträgen an, stellen Sie jedoch sicher, dass alle Endpunkte das gleiche `NetMsmqBinding`-Objekt verwenden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-146">Specify multiple endpoints with different contracts, but ensure that all the endpoints use the same `NetMsmqBinding` object.</span></span> <span data-ttu-id="be1b3-147">Die Dispatchlogik in ServiceModel verwendet ein Nachrichtensystem, das Nachrichten aus dem Transportkanal für den Dispatch ausliest, der schließlich für die Nachrichten auf der Grundlage des Vertrags ein De-Multiplexing mit anderen Endpunkten ausführt.</span><span class="sxs-lookup"><span data-stu-id="be1b3-147">The dispatching logic in ServiceModel uses a message pump that reads messages out of the transport channel for dispatch, which eventually de-multiplexes messages based on the contract to different endpoints.</span></span> <span data-ttu-id="be1b3-148">Es wird ein Nachrichtensystem für ein Abhör-URI-/Bindungspaar erstellt.</span><span class="sxs-lookup"><span data-stu-id="be1b3-148">A message pump is created for a listen URI/Binding pair.</span></span> <span data-ttu-id="be1b3-149">Die Warteschlangenadresse wird von dem Warteschlangenlistener als Abhör-URI verwendet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-149">The queue address is used as the Listen URI by the queued listener.</span></span> <span data-ttu-id="be1b3-150">Da alle Endpunkte dasselbe Bindungsobjekt verwenden, wird sichergestellt, dass ein einziges Nachrichtensystem zum Lesen der Nachricht und zum Ausführen von De-Multiplexing für relevante Endpunkte auf der Grundlage des Vertrags verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="be1b3-150">Having all the endpoints use the same binding object ensures that a single message pump is used to read the message and de-multiplex to relevant endpoints based on the contract.</span></span>  
  
### <a name="srmp-messaging"></a><span data-ttu-id="be1b3-151">SRMP-Messaging</span><span class="sxs-lookup"><span data-stu-id="be1b3-151">SRMP Messaging</span></span>  

 <span data-ttu-id="be1b3-152">Wie zuvor erläutert, können Sie das SRMP-Protokoll für Übertragungen zwischen Warteschlangen einsetzen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-152">As previously discussed, you can use the SRMP protocol for queue-to-queue transfers.</span></span> <span data-ttu-id="be1b3-153">Dies wird häufig angewendet, wenn ein HTTP-Transport Nachrichten zwischen der Übertragungswarteschlange und der Zielwarteschlange sendet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-153">This is commonly used when an HTTP transport transmits messages between the Transmission Queue and the Target Queue.</span></span>  
  
 <span data-ttu-id="be1b3-154">Um das SRMP-Übertragungsprotokoll zu verwenden, adressieren Sie Nachrichten mithilfe des net.msmq-URI-Schemas, wie zuvor erwähnt, und geben Sie Ihre Wahl zwischen SRMP oder sicherem SRMP in der `QueueTransferProtocol`-Eigenschaft der `NetMsmqBinding` an.</span><span class="sxs-lookup"><span data-stu-id="be1b3-154">To use the SRMP transfer protocol, address messages using the net.msmq URI scheme, as mentioned previously, and specify the choice of SRMP or Secured SRMP in the `QueueTransferProtocol` property of the `NetMsmqBinding`.</span></span>  
  
 <span data-ttu-id="be1b3-155">Das Angeben der `QueueTransferProtocol`-Eigenschaft wirkt sich nur auf das Senden aus.</span><span class="sxs-lookup"><span data-stu-id="be1b3-155">Specifying the `QueueTransferProtocol` property is a send-only feature.</span></span> <span data-ttu-id="be1b3-156">Dadurch gibt der Client an, welche Art von Warteschlangenübertragungsprotokoll verwendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="be1b3-156">This is an indication by the client which kind of queue transfer protocol to use.</span></span>  
  
### <a name="using-active-directory"></a><span data-ttu-id="be1b3-157">Using Active Directory</span><span class="sxs-lookup"><span data-stu-id="be1b3-157">Using Active Directory</span></span>  

 <span data-ttu-id="be1b3-158">MSMQ wird mit Unterstützung für Active Directory-Integration geliefert.</span><span class="sxs-lookup"><span data-stu-id="be1b3-158">MSMQ comes with support for Active Directory integration.</span></span> <span data-ttu-id="be1b3-159">Wenn MSMQ mit Active Directory-Integration installiert wird, muss der Computer Teil einer Windows-Domäne sein.</span><span class="sxs-lookup"><span data-stu-id="be1b3-159">When MSMQ is installed with Active Directory integration, the machine must be part of a Windows domain.</span></span> <span data-ttu-id="be1b3-160">Active Directory zum Veröffentlichen von Warteschlangen für die Ermittlung verwendet wird. solche Warteschlangen werden als *öffentliche Warteschlangen* bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-160">Active Directory is used to publish queues for discovery; such queues are called *public queues*.</span></span> <span data-ttu-id="be1b3-161">Wenn Sie eine Warteschlange adressieren, kann die Warteschlange mit Active Directory aufgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-161">When addressing a queue, the queue can be resolved using Active Directory.</span></span> <span data-ttu-id="be1b3-162">Dies funktioniert auf ähnliche Weise wie bei der Verwendung des DNS-Systems (Domain Name System) für die Auflösung einer IP-Adresse eines Netzwerknamens.</span><span class="sxs-lookup"><span data-stu-id="be1b3-162">This is similar to how Domain Name System (DNS) is used to resolve the IP address of a network name.</span></span> <span data-ttu-id="be1b3-163">Die `UseActiveDirectory`-Eigenschaft in der `NetMsmqBinding` ist ein boolescher Wert, der angibt, ob der in der Warteschlange stehende Kanal Active Directory verwenden muss, um den URI der Warteschlange aufzulösen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-163">The `UseActiveDirectory` property in `NetMsmqBinding` is a Boolean that indicates whether the queued channel must use Active Directory to resolve the queue URI.</span></span> <span data-ttu-id="be1b3-164">Standardwert: `false`.</span><span class="sxs-lookup"><span data-stu-id="be1b3-164">By default it is set to `false`.</span></span> <span data-ttu-id="be1b3-165">Wenn die `UseActiveDirectory`-Eigenschaft als `true` angegeben wird, verwendet der in der Warteschlange stehende Kanal Active Directory zum Umwandeln des net.msmq://-URI in den Formatnamen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-165">If the `UseActiveDirectory` property is set to `true`, then the queued channel uses Active Directory to convert the net.msmq:// URI to format name.</span></span>  
  
 <span data-ttu-id="be1b3-166">Die `UseActiveDirectory`-Eigenschaft hat nur für den Client Bedeutung, der die Nachricht sendet, da sie beim Senden von Nachrichten zur Auflösung der Adresse der Warteschlange verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="be1b3-166">The `UseActiveDirectory` property is meaningful only for the client that is sending the message because it is used to resolve the address of the queue when sending messages.</span></span>  
  
### <a name="mapping-netmsmq-uri-to-message-queuing-format-names"></a><span data-ttu-id="be1b3-167">Zuordnen des net.msmq-URI zu Message Queuing-Formatnamen</span><span class="sxs-lookup"><span data-stu-id="be1b3-167">Mapping net.msmq URI to Message Queuing Format Names</span></span>  

 <span data-ttu-id="be1b3-168">Der in der Warteschlange stehende Kanal verarbeitet die Zuordnung des net.msmq-URI-Namens, der für den Kanal bereitgestellt wurde, zu MSMQ-Formatnamen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-168">The queued channel handles mapping the net.msmq URI name provided to the channel to MSMQ format names.</span></span> <span data-ttu-id="be1b3-169">In der folgenden Tabelle werden die Regeln, die für die Zuordnung zwischen den Namen verwendet werden, zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="be1b3-169">The following table summarizes the rules used to map between them.</span></span>  
  
|<span data-ttu-id="be1b3-170">WCF URI-basierte Warteschlangenadresse</span><span class="sxs-lookup"><span data-stu-id="be1b3-170">WCF URI-based queue address</span></span>|<span data-ttu-id="be1b3-171">Verwenden Sie die Active Directory-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="be1b3-171">Use Active Directory property</span></span>|<span data-ttu-id="be1b3-172">Warteschlangen-Übertragungsprotokoll-Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="be1b3-172">Queue Transfer Protocol property</span></span>|<span data-ttu-id="be1b3-173">Resultierende MSMQ-Formatnamen</span><span class="sxs-lookup"><span data-stu-id="be1b3-173">Resulting MSMQ format names</span></span>|  
|----------------------------------|-----------------------------------|--------------------------------------|---------------------------------|  
|`Net.msmq://<machine-name>/private/abc`|<span data-ttu-id="be1b3-174">False (Standardwert)</span><span class="sxs-lookup"><span data-stu-id="be1b3-174">False (default)</span></span>|<span data-ttu-id="be1b3-175">Systemeigen (Standardwert)</span><span class="sxs-lookup"><span data-stu-id="be1b3-175">Native (default)</span></span>|`DIRECT=OS:machine-name\private$\abc`|  
|`Net.msmq://<machine-name>/private/abc`|<span data-ttu-id="be1b3-176">False</span><span class="sxs-lookup"><span data-stu-id="be1b3-176">False</span></span>|<span data-ttu-id="be1b3-177">SRMP</span><span class="sxs-lookup"><span data-stu-id="be1b3-177">SRMP</span></span>|`DIRECT=http://machine/msmq/private$/abc`|  
|`Net.msmq://<machine-name>/private/abc`|<span data-ttu-id="be1b3-178">True</span><span class="sxs-lookup"><span data-stu-id="be1b3-178">True</span></span>|<span data-ttu-id="be1b3-179">Systemeigenes Format</span><span class="sxs-lookup"><span data-stu-id="be1b3-179">Native</span></span>|<span data-ttu-id="be1b3-180">`PUBLIC=some-guid` (die GUID der Warteschlange)</span><span class="sxs-lookup"><span data-stu-id="be1b3-180">`PUBLIC=some-guid` (the GUID of the queue)</span></span>|  
  
### <a name="reading-messages-from-the-dead-letter-queue-or-the-poison-message-queue"></a><span data-ttu-id="be1b3-181">Lesen von Nachrichten aus der Warteschlange für unzustellbare Nachrichten oder der Warteschlange für potenziell schädliche Nachrichten</span><span class="sxs-lookup"><span data-stu-id="be1b3-181">Reading Messages from the Dead-Letter Queue or the Poison-Message Queue</span></span>  

 <span data-ttu-id="be1b3-182">Zum Lesen von Nachrichten aus einer Warteschlange für potenziell schädliche Nachrichten, bei der es sich um eine Unterwarteschlange der Zielwarteschlange handelt, öffnen Sie den `ServiceHost` mit der Adresse der Unterwarteschlange.</span><span class="sxs-lookup"><span data-stu-id="be1b3-182">To read messages from a poison-message queue that is a subqueue of the target queue, open the `ServiceHost` with the address of the subqueue.</span></span>  
  
 <span data-ttu-id="be1b3-183">Beispiel: Ein Dienst, der aus der Warteschlange für potenziell schädliche Nachrichten der privaten PurchaseOrders-Warteschlange auf dem lokalen Computer liest, würde net.msmq://localhost/private/PurchaseOrders;poison adressieren.</span><span class="sxs-lookup"><span data-stu-id="be1b3-183">Example: A service that reads from the poison-message queue of the PurchaseOrders private queue from the local machine would address net.msmq://localhost/private/PurchaseOrders;poison.</span></span>  
  
 <span data-ttu-id="be1b3-184">Zum Lesen von Nachrichten aus einer transaktionalen Systemwarteschlange für unzustellbare Nachrichten muss der URI folgendes Format haben: net.msmq://localhost/system$;DeadXact.</span><span class="sxs-lookup"><span data-stu-id="be1b3-184">To read messages from a system transactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadXact.</span></span>  
  
 <span data-ttu-id="be1b3-185">Zum Lesen von Nachrichten aus einer nicht transaktionalen Systemwarteschlange für unzustellbare Nachrichten muss der URI folgendes Format haben: net.msmq://localhost/system$;DeadLetter.</span><span class="sxs-lookup"><span data-stu-id="be1b3-185">To read messages from a system nontransactional dead-letter queue, the URI must be of the form: net.msmq://localhost/system$;DeadLetter.</span></span>  
  
 <span data-ttu-id="be1b3-186">Wenn Sie eine benutzerdefinierte Warteschlange für unzustellbare Nachrichten verwenden, beachten Sie, dass sich die Warteschlange für unzustellbare Nachrichten auf dem lokalen Computer befinden muss.</span><span class="sxs-lookup"><span data-stu-id="be1b3-186">When using a custom dead-letter queue, note that the dead-letter queue must reside on the local computer.</span></span> <span data-ttu-id="be1b3-187">Deshalb ist der URI für die Warteschlange für unzustellbare Nachrichten auf das folgende Format beschränkt:</span><span class="sxs-lookup"><span data-stu-id="be1b3-187">As such, the URI for the dead-letter queue is restricted to the form:</span></span>  
  
 <span data-ttu-id="be1b3-188">NET. MSMQ://localhost/[private/]  \<*custom-dead-letter-queue-name*> .</span><span class="sxs-lookup"><span data-stu-id="be1b3-188">net.msmq: //localhost/ [private/]  \<*custom-dead-letter-queue-name*>.</span></span>  
  
 <span data-ttu-id="be1b3-189">Ein WCF-Dienst überprüft, ob alle empfangenen Nachrichten an die jeweilige Warteschlange adressiert wurden, die er überwacht.</span><span class="sxs-lookup"><span data-stu-id="be1b3-189">A WCF service verifies that all messages it receives were addressed to the particular queue it is listening on.</span></span> <span data-ttu-id="be1b3-190">Wenn die Zielwarteschlange der Nachricht nicht mit der Warteschlange übereinstimmt, in der sie gefunden wird, verarbeitet der Dienst die Nachricht nicht.</span><span class="sxs-lookup"><span data-stu-id="be1b3-190">If the message’s destination queue does not match the queue it is found in, the service does not process the message.</span></span> <span data-ttu-id="be1b3-191">Dies ist ein Problem, das Dienste, die eine Warteschlange für unzustellbare Nachrichten abhören, behandeln müssen, da alle Nachrichten in der Warteschlange für unzustellbare Nachrichten für eine andere Adresse bestimmt waren.</span><span class="sxs-lookup"><span data-stu-id="be1b3-191">This is an issue that services listening to a dead-letter queue must address because any message in the dead-letter queue was meant to be delivered elsewhere.</span></span> <span data-ttu-id="be1b3-192">Um Nachrichten aus einer Warteschlange für unzustellbare Nachrichten oder einer Warteschlange für potenziell schädliche Nachrichten zu lesen, muss ein `ServiceBehavior` mit dem <xref:System.ServiceModel.AddressFilterMode.Any>-Parameter verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-192">To read messages from a dead-letter queue, or from a poison queue, a `ServiceBehavior` with the <xref:System.ServiceModel.AddressFilterMode.Any> parameter must be used.</span></span> <span data-ttu-id="be1b3-193">Ein Beispiel finden Sie unter [Warteschlangen](../samples/dead-letter-queues.md)für unzustellbare Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="be1b3-193">For an example, see [Dead Letter Queues](../samples/dead-letter-queues.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-service-addressing"></a><span data-ttu-id="be1b3-194">NetMsmqBinding und Dienstadressierung</span><span class="sxs-lookup"><span data-stu-id="be1b3-194">MsmqIntegrationBinding and Service Addressing</span></span>  

 <span data-ttu-id="be1b3-195">Die `MsmqIntegrationBinding` wird für die Kommunikation mit herkömmlichen MSMQ-Anwendungen verwendet.</span><span class="sxs-lookup"><span data-stu-id="be1b3-195">The `MsmqIntegrationBinding` is used for communication with traditional MSMQ applications.</span></span> <span data-ttu-id="be1b3-196">Um die Interoperation mit einer vorhandenen MSMQ-Anwendung zu vereinfachen, unterstützt WCF nur die Format Namen Adressierung.</span><span class="sxs-lookup"><span data-stu-id="be1b3-196">To ease interoperation with an existing MSMQ application, WCF supports only format name addressing.</span></span> <span data-ttu-id="be1b3-197">Folglich müssen Nachrichten, die mithilfe dieser Bindung gesendet werden, dem URI-Schema entsprechen:</span><span class="sxs-lookup"><span data-stu-id="be1b3-197">Thus, messages sent using this binding must conform to the URI scheme:</span></span>  
  
 <span data-ttu-id="be1b3-198">MSMQ. Format Name:\<*MSMQ-format-name*>></span><span class="sxs-lookup"><span data-stu-id="be1b3-198">msmq.formatname:\<*MSMQ-format-name*>></span></span>  
  
 <span data-ttu-id="be1b3-199">Der MSMQ-Format-Name hat das von MSMQ in [Informationen zu Message Queuing](/previous-versions/windows/desktop/legacy/ms706032(v=vs.85))angegebene Format.</span><span class="sxs-lookup"><span data-stu-id="be1b3-199">The MSMQ-format-name is of the form specified by MSMQ in [About Message Queuing](/previous-versions/windows/desktop/legacy/ms706032(v=vs.85)).</span></span>  
  
 <span data-ttu-id="be1b3-200">Beachten Sie, dass Sie nur direkte Formatnamen verwenden können und dass Sie öffentliche und private Formatnamen (dies erfordert die Integration von Active Directory) verwenden können, wenn Nachrichten von einer Warteschlange mithilfe von `MsmqIntegrationBinding` empfangen werden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-200">Note that you can only use direct format names, and public and private format names (requires Active Directory integration) when receiving messages from a queue using `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="be1b3-201">Es wird jedoch empfohlen, direkte Formatnamen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-201">However, it is advised that you use direct format names.</span></span> <span data-ttu-id="be1b3-202">Beispielsweise verursacht unter Windows Vista die Verwendung eines beliebigen anderen Format namens einen Fehler, da das System versucht, eine unter Warteschlange zu öffnen, die nur mit direkten Format Namen geöffnet werden kann.</span><span class="sxs-lookup"><span data-stu-id="be1b3-202">For example, on Windows Vista, using any other format name causes an error because the system attempts to open a subqueue, which can only be opened with direct format names.</span></span>  
  
 <span data-ttu-id="be1b3-203">Bei der Adressierung von SRMP mithilfe von `MsmqIntegrationBinding` ist es nicht erforderlich, /msmq/ zu dem direkten Formatnamen hinzuzufügen, um das Senden durch Internetinformationsdienste (Internet Information Services, IIS) zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="be1b3-203">When addressing SRMP using `MsmqIntegrationBinding`, there is no requirement to add /msmq/ in the direct format name to help Internet Information Services (IIS) with dispatching.</span></span> <span data-ttu-id="be1b3-204">Beispiel: Wenn Sie eine Warteschlange abc mithilfe des SRMP-Protokolls adressieren, `DIRECT=http://adatum.com/msmq/private$/abc` sollten Sie anstelle von verwenden `DIRECT=http://adatum.com/private$/abc` .</span><span class="sxs-lookup"><span data-stu-id="be1b3-204">For example: When addressing a queue abc using the SRMP protocol, instead of `DIRECT=http://adatum.com/msmq/private$/abc`, you should use `DIRECT=http://adatum.com/private$/abc`.</span></span>  
  
 <span data-ttu-id="be1b3-205">Beachten Sie, dass Sie net.msmq:// nicht für die Adressierung mit `MsmqIntegrationBinding` verwenden können.</span><span class="sxs-lookup"><span data-stu-id="be1b3-205">Note that you cannot use net.msmq:// addressing with `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="be1b3-206">Da `MsmqIntegrationBinding` unterstützt die Verwendung von MSMQ-Format Namen (Free-Form), können Sie einen WCF-Dienst verwenden, der diese Bindung verwendet, um Multicast-und Verteilerlisten Features in MSMQ zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="be1b3-206">Because `MsmqIntegrationBinding` supports free-form MSMQ format name addressing, you can use a WCF service that uses this binding to use multicast and distribution list features in MSMQ.</span></span> <span data-ttu-id="be1b3-207">Eine Ausnahme ist das Angeben von `CustomDeadLetterQueue` bei der Verwendung von `MsmqIntegrationBinding`.</span><span class="sxs-lookup"><span data-stu-id="be1b3-207">One exception is specifying `CustomDeadLetterQueue` when using the `MsmqIntegrationBinding`.</span></span> <span data-ttu-id="be1b3-208">Das Format muss net.msmq sein:// sein, ähnlich wie bei der Verwendung von `NetMsmqBinding` festgelegt.</span><span class="sxs-lookup"><span data-stu-id="be1b3-208">It must be of the form net.msmq://, similar to how it is specified using the `NetMsmqBinding`.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="be1b3-209">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="be1b3-209">See also</span></span>

- [<span data-ttu-id="be1b3-210">Webhosting einer Anwendung mit Queuing</span><span class="sxs-lookup"><span data-stu-id="be1b3-210">Web Hosting a Queued Application</span></span>](web-hosting-a-queued-application.md)
