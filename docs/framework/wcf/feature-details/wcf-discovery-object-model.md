---
title: Objektmodell der WCF-Suche
ms.date: 03/30/2017
ms.assetid: 8365a152-eacd-4779-9130-bbc48fa5c5d9
ms.openlocfilehash: 06984766fa8199a18197255c57492863a888e3aa
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96281936"
---
# <a name="wcf-discovery-object-model"></a><span data-ttu-id="ec43b-102">Objektmodell der WCF-Suche</span><span class="sxs-lookup"><span data-stu-id="ec43b-102">WCF Discovery Object Model</span></span>

<span data-ttu-id="ec43b-103">Die WCF-Suche besteht aus einem Satz von Typen, die zusammen ein einheitliches Programmiermodell bereitstellen. Damit können Sie Dienste schreiben, die zur Laufzeit erkennbar sind, sowie Clients, die nach diesen Diensten suchen und diese verwenden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-103">WCF Discovery consists of a set of types that provide a unified programming model that allows you to write services that are discoverable at runtime and clients that find and use these services.</span></span>  
  
## <a name="making-a-service-discoverable-and-finding-services"></a><span data-ttu-id="ec43b-104">Erkennbarmachen eines Diensts und Suchen nach Diensten</span><span class="sxs-lookup"><span data-stu-id="ec43b-104">Making a Service Discoverable and Finding Services</span></span>  

 <span data-ttu-id="ec43b-105">Um einen WCF-Dienst erkennbar zu machen, fügen Sie dem <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>-Objekt des Diensthosts ein <xref:System.ServiceModel.Description.ServiceDescription> sowie einen Suchendpunkt hinzu.</span><span class="sxs-lookup"><span data-stu-id="ec43b-105">To make a WCF service discoverable, add a <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> to the <xref:System.ServiceModel.Description.ServiceDescription> of the service host and add a discovery endpoint.</span></span> <span data-ttu-id="ec43b-106">Wenn ein Dienst so konfiguriert wird, dass er Ankündigungsnachrichten sendet (durch das Hinzufügen eines <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>-Objekts), wird die Ankündigung jeweils gesendet, wenn der Diensthost geöffnet oder geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="ec43b-106">If a service is configured to send announcement messages (by adding an <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>) the announcement is sent when the service host is opened and closed.</span></span>  
  
 <span data-ttu-id="ec43b-107">Ein Client, der eine Überwachung auf Ankündigungsnachrichten von Diensten durchführt, hostet einen Ankündigungsdienst und fügt einen oder mehrere Ankündigungsendpunkte hinzu.</span><span class="sxs-lookup"><span data-stu-id="ec43b-107">A client that wants to listen for service announcement messages hosts an announcement service and adds one or more announcement endpoints.</span></span> <span data-ttu-id="ec43b-108">Der Ankündigungsdienst empfängt Ankündigungsnachrichten und löst Ankündigungsereignisse aus.</span><span class="sxs-lookup"><span data-stu-id="ec43b-108">The announcement service receives announcement messages and raises announcement events.</span></span>  
  
 <span data-ttu-id="ec43b-109">Ein Client verwendet die <xref:System.ServiceModel.Discovery.DiscoveryClient>-Klasse, um nach verfügbaren Diensten zu suchen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-109">A client uses the <xref:System.ServiceModel.Discovery.DiscoveryClient> class to search for available services.</span></span> <span data-ttu-id="ec43b-110">Die Clientanwendung instanziiert die <xref:System.ServiceModel.Discovery.DiscoveryClient>-Klasse, indem sie einen Suchendpunkt übergibt. Dieser Suchendpunkt gibt an, wohin die Suchnachrichten gesendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-110">The client application instantiates the <xref:System.ServiceModel.Discovery.DiscoveryClient> class, passing in a discovery endpoint that specifies where to send discovery messages.</span></span> <span data-ttu-id="ec43b-111">Der Client ruft die <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A>-Methode auf, die eine `Probe`-Anforderung sendet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-111">The client calls the <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> method, which sends a `Probe` request.</span></span> <span data-ttu-id="ec43b-112">Dienste, die eine Überwachung auf Suchnachrichten durchführen, empfangen diese `Probe`-Anforderung.</span><span class="sxs-lookup"><span data-stu-id="ec43b-112">Services listening for discovery messages receive this `Probe` request.</span></span> <span data-ttu-id="ec43b-113">Falls der Dienst die unter `Probe` angegebenen Kriterien erfüllt, sendet er eine `ProbeMatch`-Nachricht zurück an den Client.</span><span class="sxs-lookup"><span data-stu-id="ec43b-113">If the service matches the criteria specified in the `Probe`, it sends a `ProbeMatch` message back to the client.</span></span>  
  
## <a name="object-model"></a><span data-ttu-id="ec43b-114">Objektmodell</span><span class="sxs-lookup"><span data-stu-id="ec43b-114">Object Model</span></span>  

 <span data-ttu-id="ec43b-115">Die API der WCF-Suche definiert die folgenden Klassen:</span><span class="sxs-lookup"><span data-stu-id="ec43b-115">The WCF Discovery API defines the following classes:</span></span>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementClient>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>  
  
- <xref:System.ServiceModel.Discovery.AnnouncementService>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryClient>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryEndpoint>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryClientBindingElement>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator>  
  
- <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryProxy>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryService>  
  
- <xref:System.ServiceModel.Discovery.DiscoveryVersion>  
  
- <xref:System.ServiceModel.Discovery.DynamicEndpoint>  
  
- <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>  
  
- <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>  
  
- <xref:System.ServiceModel.Discovery.FindCriteria>  
  
- <xref:System.ServiceModel.Discovery.FindRequestContext>  
  
- <xref:System.ServiceModel.Discovery.FindResponse>  
  
- <xref:System.ServiceModel.Discovery.ResolveCriteria>  
  
- <xref:System.ServiceModel.Discovery.ResolveResponse>  
  
- <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>  

- <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>  
  
- <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>  
  
## <a name="announcementclient"></a><span data-ttu-id="ec43b-116">AnnouncementClient</span><span class="sxs-lookup"><span data-stu-id="ec43b-116">AnnouncementClient</span></span>  

 <span data-ttu-id="ec43b-117">Die <xref:System.ServiceModel.Discovery.AnnouncementClient>-Klasse stellt synchrone und asynchrone Methoden zum Senden von Ankündigungsnachrichten bereit.</span><span class="sxs-lookup"><span data-stu-id="ec43b-117">The <xref:System.ServiceModel.Discovery.AnnouncementClient> class provides synchronous and asynchronous methods for sending announcement messages.</span></span> <span data-ttu-id="ec43b-118">Es gibt zwei Typen von Ankündigungsnachrichten: "Hello" und "Bye".</span><span class="sxs-lookup"><span data-stu-id="ec43b-118">There are two types of announcement messages, Hello and Bye.</span></span> <span data-ttu-id="ec43b-119">Eine Hello-Nachricht wird gesendet, um anzugeben, dass ein Dienst verfügbar geworden ist, und eine Bye-Nachricht wird gesendet, um anzugeben, dass ein vorhandener Dienst nicht mehr verfügbar ist.</span><span class="sxs-lookup"><span data-stu-id="ec43b-119">A Hello message is sent to indicate that a service has become available and a Bye message is sent to indicate that an existing service has become unavailable.</span></span> <span data-ttu-id="ec43b-120">Der Entwickler erstellt eine <xref:System.ServiceModel.Discovery.AnnouncementClient>-Instanz und übergibt eine Instanz von <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> als Konstruktorparameter.</span><span class="sxs-lookup"><span data-stu-id="ec43b-120">The developer creates an <xref:System.ServiceModel.Discovery.AnnouncementClient> instance, passing an instance of <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> as a constructor parameter.</span></span>  
  
## <a name="announcementendpoint"></a><span data-ttu-id="ec43b-121">AnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="ec43b-121">AnnouncementEndpoint</span></span>  

 <span data-ttu-id="ec43b-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> stellt einen Standardendpunkt mit einem festen Ankündigungsvertrag dar.</span><span class="sxs-lookup"><span data-stu-id="ec43b-122"><xref:System.ServiceModel.Discovery.AnnouncementEndpoint> represents a standard endpoint with a fixed announcement contract.</span></span> <span data-ttu-id="ec43b-123">Dieser wird von einem Dienst oder Client zum Senden und Empfangen von Ankündigungsnachrichten verwendet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-123">It is used by a service or client to send and receive announcement messages.</span></span> <span data-ttu-id="ec43b-124">Standardmäßig ist für die <xref:System.ServiceModel.Discovery.AnnouncementEndpoint>-Klasse festgelegt, dass sie die Protokollversion "WS_Discovery 11" verwendet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-124">By default, the <xref:System.ServiceModel.Discovery.AnnouncementEndpoint> class is set to use the WS_Discovery 11 protocol version.</span></span>  
  
## <a name="announcementservice"></a><span data-ttu-id="ec43b-125">AnnouncementService</span><span class="sxs-lookup"><span data-stu-id="ec43b-125">AnnouncementService</span></span>  

 <span data-ttu-id="ec43b-126"><xref:System.ServiceModel.Discovery.AnnouncementService> ist eine vom System bereitgestellte Implementierung eines Ankündigungsdiensts, der Ankündigungsnachrichten empfängt und verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-126"><xref:System.ServiceModel.Discovery.AnnouncementService> is a system-provided implementation of an announcement service that receives and processes announcement messages.</span></span> <span data-ttu-id="ec43b-127">Wenn eine Hello- oder Bye-Nachricht empfangen wird, ruft die <xref:System.ServiceModel.Discovery.AnnouncementService>-Instanz die entsprechende virtuelle <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A>- oder <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>-Methode auf, die Ankündigungsereignisse auslös.</span><span class="sxs-lookup"><span data-stu-id="ec43b-127">When a Hello or Bye message is received, the <xref:System.ServiceModel.Discovery.AnnouncementService> instance calls the appropriate virtual method <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOnlineAnnouncement%2A> or <xref:System.ServiceModel.Discovery.AnnouncementService.OnBeginOfflineAnnouncement%2A>, which raises announcement events.</span></span>  
  
## <a name="discoveryclient"></a><span data-ttu-id="ec43b-128">DiscoveryClient</span><span class="sxs-lookup"><span data-stu-id="ec43b-128">DiscoveryClient</span></span>  

 <span data-ttu-id="ec43b-129">Die <xref:System.ServiceModel.Discovery.DiscoveryClient>-Klasse wird von einer Clientanwendung verwendet, um verfügbare Dienste zu suchen und aufzulösen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-129">The <xref:System.ServiceModel.Discovery.DiscoveryClient> class is used by a client application to find and resolve available services.</span></span> <span data-ttu-id="ec43b-130">Sie stellt synchrone und asynchrone Methoden zum Suchen nach und zum Auflösen von Diensten bereit, die auf dem angegebenen <xref:System.ServiceModel.Discovery.FindCriteria>-Objekt oder <xref:System.ServiceModel.Discovery.ResolveCriteria>-Objekt basieren.</span><span class="sxs-lookup"><span data-stu-id="ec43b-130">It provides synchronous and asynchronous methods for finding and resolving services based on the specified <xref:System.ServiceModel.Discovery.FindCriteria> and <xref:System.ServiceModel.Discovery.ResolveCriteria> respectively.</span></span> <span data-ttu-id="ec43b-131">Der Entwickler erstellt eine <xref:System.ServiceModel.Discovery.DiscoveryClient>-Instanz und stellt eine Instanz von <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> als Konstruktorparameter bereit.</span><span class="sxs-lookup"><span data-stu-id="ec43b-131">The developer creates a <xref:System.ServiceModel.Discovery.DiscoveryClient> instance and provides an instance of <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> as a constructor parameter.</span></span>  
  
 <span data-ttu-id="ec43b-132">Zum Suchen nach einem Dienst ruft der Entwickler die synchrone oder asynchrone `Find`-Methode auf, die eine <xref:System.ServiceModel.Discovery.FindCriteria>-Instanz mit den zu verwendenden Suchkriterien bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-132">To find a service, the developer invokes the synchronous or asynchronous `Find` method, which provides a <xref:System.ServiceModel.Discovery.FindCriteria> instance that contains the search criteria to use.</span></span> <span data-ttu-id="ec43b-133">Das <xref:System.ServiceModel.Discovery.DiscoveryClient>-Objekt erstellt eine `Probe`-Nachricht mit den entsprechenden Headern und sendet die Suchanforderung.</span><span class="sxs-lookup"><span data-stu-id="ec43b-133">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates a `Probe` message with the appropriate headers, and sends the find request.</span></span> <span data-ttu-id="ec43b-134">Da es gleichzeitig mehr als eine ausstehende `Find`-Anforderung geben kann, korreliert der Client die empfangenen Antworten und überprüft jeweils die Antwort.</span><span class="sxs-lookup"><span data-stu-id="ec43b-134">Because there can be more than one outstanding `Find` request at any time, the client correlates the received responses and validates the response.</span></span> <span data-ttu-id="ec43b-135">Anschließend werden die Ergebnisse mithilfe von `Find` an den Aufrufer des <xref:System.ServiceModel.Discovery.FindResponse>-Vorgangs übermittelt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-135">It then delivers the results to the caller of the `Find` operation using <xref:System.ServiceModel.Discovery.FindResponse>.</span></span>  
  
 <span data-ttu-id="ec43b-136">Um einen bekannten Dienst aufzulösen, ruft der Entwickler die synchrone oder asynchrone `Resolve`-Methode auf, die eine Instanz von <xref:System.ServiceModel.Discovery.ResolveCriteria> bereitstellt, die wiederum das <xref:System.ServiceModel.EndpointAddress>-Objekt des bekannten Diensts enthält.</span><span class="sxs-lookup"><span data-stu-id="ec43b-136">To resolve a known service, the developer invokes the synchronous or asynchronous `Resolve` method that provides an instance of <xref:System.ServiceModel.Discovery.ResolveCriteria> that contains the <xref:System.ServiceModel.EndpointAddress> of the known service.</span></span> <span data-ttu-id="ec43b-137">Das <xref:System.ServiceModel.Discovery.DiscoveryClient>-Objekt erstellt eine `Resolve`-Nachricht mit den entsprechenden Headern und sendet die Auflösungsanforderung.</span><span class="sxs-lookup"><span data-stu-id="ec43b-137">The <xref:System.ServiceModel.Discovery.DiscoveryClient> creates the `Resolve` message with the appropriate headers and sends the resolve request.</span></span> <span data-ttu-id="ec43b-138">Die empfangene Antwort wird mit den ausstehenden Auflösungsanforderungen korreliert, und das Ergebnis wird mithilfe von `Resolve` an den Aufrufer des <xref:System.ServiceModel.Discovery.ResolveResponse>-Vorgangs übermittelt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-138">The received response is correlated against the outstanding resolve requests and the result is delivered to the caller of the `Resolve` operation using <xref:System.ServiceModel.Discovery.ResolveResponse>.</span></span>  
  
 <span data-ttu-id="ec43b-139">Wenn im Netzwerk ein Suchproxy vorhanden ist und der <xref:System.ServiceModel.Discovery.DiscoveryClient> die Suchanforderung im Multicastformat sendet, kann der Suchproxy per Multicastunterdrückung mit Hello-Nachricht antworten.</span><span class="sxs-lookup"><span data-stu-id="ec43b-139">If a discovery proxy is present on the network and the <xref:System.ServiceModel.Discovery.DiscoveryClient> sends the discovery request in a multicast fashion, the discovery proxy can respond with the multicast suppression Hello message.</span></span> <span data-ttu-id="ec43b-140">Der <xref:System.ServiceModel.Discovery.DiscoveryClient> löst das `ProxyAvailable`-Ereignis aus, wenn er Hello-Nachrichten als Antwort auf ausstehende `Find`- oder `Resolve`-Anforderungen empfängt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-140">The <xref:System.ServiceModel.Discovery.DiscoveryClient> raises the `ProxyAvailable` event when it receives Hello messages in response to outstanding `Find` or `Resolve` requests.</span></span> <span data-ttu-id="ec43b-141">Das `ProxyAvailable`-Ereignis enthält die <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> zum Suchproxy.</span><span class="sxs-lookup"><span data-stu-id="ec43b-141">The `ProxyAvailable` event contains the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> about the discovery proxy.</span></span> <span data-ttu-id="ec43b-142">Der Entwickler kann entscheiden, ob er diese Informationen zum Wechseln vom Ad-hoc-Modus in den Modus "Verwaltet" verwendet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-142">It is up to the developer to use this information to switch from Ad hoc to Managed mode.</span></span>  
  
## <a name="discoveryendpoint"></a><span data-ttu-id="ec43b-143">DiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="ec43b-143">DiscoveryEndpoint</span></span>  

 <span data-ttu-id="ec43b-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> stellt einen Standardendpunkt mit einem festen Suchvertrag dar.</span><span class="sxs-lookup"><span data-stu-id="ec43b-144"><xref:System.ServiceModel.Discovery.DiscoveryEndpoint> represents a standard endpoint with a fixed discovery contract.</span></span> <span data-ttu-id="ec43b-145">Er wird von einem Dienst oder einem Client verwendet, um Suchnachrichten zu senden oder zu empfangen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-145">It is used by a service or client to send or receive discovery messages.</span></span> <span data-ttu-id="ec43b-146">Standardmäßig wird <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> festgelegt, um den <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType>-Modus und die Version "WSDiscovery11" der WS-Suche zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-146">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Managed?displayProperty=nameWithType> mode and the WSDiscovery11 WS-Discovery version.</span></span>  
  
## <a name="discoverymessagesequencegenerator"></a><span data-ttu-id="ec43b-147">DiscoveryMessageSequenceGenerator</span><span class="sxs-lookup"><span data-stu-id="ec43b-147">DiscoveryMessageSequenceGenerator</span></span>  

 <span data-ttu-id="ec43b-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> wird verwendet, um ein <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>-Objekt zu generieren, wenn der Dienst Such- oder Ankündigungsnachrichten sendet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-148"><xref:System.ServiceModel.Discovery.DiscoveryMessageSequenceGenerator> is used to generate a <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> when the service is sending out Discovery or Announcement messages.</span></span>  
  
## <a name="discoveryservice"></a><span data-ttu-id="ec43b-149">DiscoveryService</span><span class="sxs-lookup"><span data-stu-id="ec43b-149">DiscoveryService</span></span>  

 <span data-ttu-id="ec43b-150">Die abstrakte <xref:System.ServiceModel.Discovery.DiscoveryService>-Klasse stellt ein Framework zum Empfangen und Verarbeiten von `Probe`- und `Resolve`-Nachrichten bereit.</span><span class="sxs-lookup"><span data-stu-id="ec43b-150">The <xref:System.ServiceModel.Discovery.DiscoveryService> abstract class provides a framework for receiving and processing `Probe` and `Resolve` messages.</span></span> <span data-ttu-id="ec43b-151">Wenn eine `Probe`-Nachricht empfangen wird, erstellt <xref:System.ServiceModel.Discovery.DiscoveryService> basierend auf der eingehenden Meldung eine Instanz von <xref:System.ServiceModel.Discovery.FindRequestContext> und ruft die virtuelle <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A>-Methode auf.</span><span class="sxs-lookup"><span data-stu-id="ec43b-151">When a `Probe` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> creates an instance of <xref:System.ServiceModel.Discovery.FindRequestContext> based on the incoming message and invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginFind%2A> virtual method.</span></span> <span data-ttu-id="ec43b-152">Wenn eine `Resolve`-Nachricht empfangen wird, ruft <xref:System.ServiceModel.Discovery.DiscoveryService> die virtuelle <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A>-Methode auf.</span><span class="sxs-lookup"><span data-stu-id="ec43b-152">When a `Resolve` message is received, <xref:System.ServiceModel.Discovery.DiscoveryService> invokes the <xref:System.ServiceModel.Discovery.DiscoveryService.OnBeginResolve%2A> virtual method.</span></span> <span data-ttu-id="ec43b-153">Sie können von dieser Klasse erben, um eine benutzerdefinierte Suchdienstimplementierung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-153">You can inherit from this class to provide a custom Discovery Service implementation.</span></span>  
  
## <a name="discoveryproxy"></a><span data-ttu-id="ec43b-154">DiscoveryProxy</span><span class="sxs-lookup"><span data-stu-id="ec43b-154">DiscoveryProxy</span></span>  

 <span data-ttu-id="ec43b-155">Die abstrakte <xref:System.ServiceModel.Discovery.DiscoveryProxy>-Klasse stellt ein Framework zum Empfangen und Verarbeiten von Suche- und Ankündigungsnachrichten bereit.</span><span class="sxs-lookup"><span data-stu-id="ec43b-155">The <xref:System.ServiceModel.Discovery.DiscoveryProxy> abstract class provides a framework for receiving and processing discovery and announcement messages.</span></span> <span data-ttu-id="ec43b-156">Sie erben von dieser Klasse, wenn Sie einen benutzerdefinierten Suchproxy implementieren.</span><span class="sxs-lookup"><span data-stu-id="ec43b-156">You inherit from this class when you are implementing a custom discovery proxy.</span></span> <span data-ttu-id="ec43b-157">Wenn eine `Probe`-Nachricht per Multicast empfangen wird, ruft die <xref:System.ServiceModel.Discovery.DiscoveryProxy>-Klasse die virtuelle `BeginShouldRedirectFind`-Methode auf, um zu ermitteln, ob eine Multicastunterdrückungsnachricht gesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ec43b-157">When a `Probe` message is received over multicast, the <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `BeginShouldRedirectFind` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="ec43b-158">Wenn sich der Entwickler gegen das Senden einer Multicastunterdrückungsnachricht entscheidet oder wenn die `Probe`-Nachricht per Unicast empfangen wurde, wird basierend auf der eingehenden Nachricht eine Instanz der <xref:System.ServiceModel.Discovery.FindRequestContext>-Klasse erstellt und die virtuelle `OnBeginFind`-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-158">If the developer decides not to send a multicast suppression message or if the `Probe` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.FindRequestContext> class based on the incoming message and invokes the `OnBeginFind` virtual method.</span></span> <span data-ttu-id="ec43b-159">Wenn eine `Resolve`-Nachricht per Multicast empfangen wird, ruft die <xref:System.ServiceModel.Discovery.DiscoveryProxy>-Klasse die virtuelle `ShouldRedirectResolve`-Methode auf, um zu ermitteln, ob eine Multicastunterdrückungsnachricht gesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="ec43b-159">When a `Resolve` message is received over multicast, The <xref:System.ServiceModel.Discovery.DiscoveryProxy> class calls the `ShouldRedirectResolve` virtual method to determine whether a multicast suppression message should to be sent.</span></span> <span data-ttu-id="ec43b-160">Wenn sich der Entwickler gegen das Senden einer Multicastunterdrückungsnachricht entscheidet oder wenn die `Resolve`-Nachricht per Unicast empfangen wurde, wird basierend auf der eingehenden Nachricht eine Instanz der <xref:System.ServiceModel.Discovery.ResolveCriteria>-Klasse erstellt und die virtuelle `OnBeginResolve`-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-160">If the developer decides not to send a multicast suppression message or if the `Resolve` message was received over unicast, it creates an instance of the <xref:System.ServiceModel.Discovery.ResolveCriteria> class based on the incoming message and invokes the `OnBeginResolve` virtual method.</span></span> <span data-ttu-id="ec43b-161">Wenn eine Hello- oder Bye-Nachricht empfangen wird, ruft <xref:System.ServiceModel.Discovery.DiscoveryProxy> die entsprechende virtuelle Methode (`OnBeginOnlineAnnouncement` oder `OnBeingOfflineAnnouncement`) auf, die Ankündigungsereignisse auslöst.</span><span class="sxs-lookup"><span data-stu-id="ec43b-161">When a Hello or Bye message is received, <xref:System.ServiceModel.Discovery.DiscoveryProxy> calls the appropriate virtual method (`OnBeginOnlineAnnouncement` or `OnBeingOfflineAnnouncement`), which raises announcement events.</span></span>  
  
## <a name="discoveryversion"></a><span data-ttu-id="ec43b-162">DiscoveryVersion</span><span class="sxs-lookup"><span data-stu-id="ec43b-162">DiscoveryVersion</span></span>  

 <span data-ttu-id="ec43b-163">Die <xref:System.ServiceModel.Discovery.DiscoveryVersion>-Klasse stellt die zu verwendende Suchprotokollversion dar.</span><span class="sxs-lookup"><span data-stu-id="ec43b-163">The <xref:System.ServiceModel.Discovery.DiscoveryVersion> class represents the discovery protocol version to use.</span></span>  
  
## <a name="endpointdiscoverybehavior"></a><span data-ttu-id="ec43b-164">EndpointDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="ec43b-164">EndpointDiscoveryBehavior</span></span>  

 <span data-ttu-id="ec43b-165">Die <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior>-Klasse wird verwendet, um die Ermittelbarkeit eines Endpunkts zu steuern und um die Erweiterungen, zusätzliche Vertragstypnamen</span><span class="sxs-lookup"><span data-stu-id="ec43b-165">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> class is used to control the discoverability of an endpoint, specify the extensions, additional contract type names.</span></span> <span data-ttu-id="ec43b-166">und die dem Endpunkt zugeordneten Bereiche anzugeben.</span><span class="sxs-lookup"><span data-stu-id="ec43b-166">and the scopes associated with that endpoint.</span></span> <span data-ttu-id="ec43b-167">Dieses Verhalten wird einem Anwendungsendpunkt hinzugefügt, um seine <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="ec43b-167">This behavior is added to an application endpoint to configure its <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="ec43b-168">Wenn das <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> dem Diensthost hinzugefügt wird, werden alle vom Diensthost gehosteten Anwendungsendpunkte standardmäßig erkennbar.</span><span class="sxs-lookup"><span data-stu-id="ec43b-168">When <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> is added to the service host, all the application endpoints hosted by the service host by default become discoverable.</span></span> <span data-ttu-id="ec43b-169">Der Entwickler kann die Suche für einen bestimmten Endpunkt deaktivieren, indem er die <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A>-Eigenschaft auf `false` festlegt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-169">The developer can turn off discovery for a specific endpoint by setting the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior.Enabled%2A> property to `false`.</span></span>  
  
## <a name="endpointdiscoverymetadata"></a><span data-ttu-id="ec43b-170">EndpointDiscoveryMetadata</span><span class="sxs-lookup"><span data-stu-id="ec43b-170">EndpointDiscoveryMetadata</span></span>  

 <span data-ttu-id="ec43b-171">Die <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>-Klasse stellt eine versionsunabhängige Darstellung eines Endpunkts bereit, der vom Dienst veröffentlicht wurde.</span><span class="sxs-lookup"><span data-stu-id="ec43b-171">The <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> class provides a version-independent representation of an endpoint published by the service.</span></span> <span data-ttu-id="ec43b-172">Sie enthält Endpunktadressen, Abhör-URIs, Vertragstypnamen, Bereiche, Metadatenversion und Erweiterungen, die vom Dienstentwickler angegeben wurden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-172">It contains endpoint addresses, listen URIs, contract type names, scopes, metadata version and extensions specified by the service developer.</span></span> <span data-ttu-id="ec43b-173">Das vom Client während eines <xref:System.ServiceModel.Discovery.FindCriteria>-Vorgangs gesendete `Probe`-Objekt wid mit dem <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>-Objekt verglichen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-173">The <xref:System.ServiceModel.Discovery.FindCriteria> sent by the client during a `Probe` operation is matched against the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="ec43b-174">Wenn die Kriterien übereinstimmen, wird das <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>-Objekt an den Client zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ec43b-174">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span> <span data-ttu-id="ec43b-175">Die Endpunktadresse in <xref:System.ServiceModel.Discovery.ResolveCriteria> wird mit der Endpunktadresse von <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> verglichen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-175">The endpoint address in <xref:System.ServiceModel.Discovery.ResolveCriteria> is matched against the endpoint address of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span></span> <span data-ttu-id="ec43b-176">Wenn die Kriterien übereinstimmen, wird das <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>-Objekt an den Client zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ec43b-176">If the criteria matches, then the <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> is returned to the client.</span></span>  
  
## <a name="findcriteria"></a><span data-ttu-id="ec43b-177">FindCriteria</span><span class="sxs-lookup"><span data-stu-id="ec43b-177">FindCriteria</span></span>  

 <span data-ttu-id="ec43b-178">Die <xref:System.ServiceModel.Discovery.FindCriteria>-Klasse ist eine versionsunabhängige Klasse, mit der die Kriterien angegeben werden, die beim Suchen nach einem Dienst verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-178">The <xref:System.ServiceModel.Discovery.FindCriteria> class is a version-independent class used to specify the criteria used when finding a service.</span></span> <span data-ttu-id="ec43b-179">Sie bietet eine vollständige Unterstützung der von der WS-Suche definierten Kriterien zum Vergleichen von Diensten.</span><span class="sxs-lookup"><span data-stu-id="ec43b-179">It fully supports the WS-Discovery-defined criteria for matching services.</span></span> <span data-ttu-id="ec43b-180">Außerdem verfügt sie über Erweiterungen, mit denen Entwickler benutzerdefinierte Werte angeben können, die während des Prozesses zur Ermittlung von Übereinstimmungen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-180">It also has extensions that developers can use to specify custom values that can be used during the matching process.</span></span> <span data-ttu-id="ec43b-181">Der Entwickler kann die Beendigungskriterien für den `Find`-Vorgang bereitstellen, indem er <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A> angibt. Damit wird die Gesamtzahl der Dienste angegeben, nach denen der Entwickler sucht, oder <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>. Dies ist der Wert ist, der angibt, wie lange der Client auf Antworten wartet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-181">The developer can provide the termination criteria for the `Find` operation by specifying the <xref:System.ServiceModel.Discovery.FindCriteria.MaxResults%2A>, which specifies the total number of services the developer is looking for or that specifies the <xref:System.ServiceModel.Discovery.FindCriteria.Duration%2A>, which is the value that specifies how long the client waits for responses.</span></span>  
  
## <a name="findrequestcontext"></a><span data-ttu-id="ec43b-182">FindRequestContext</span><span class="sxs-lookup"><span data-stu-id="ec43b-182">FindRequestContext</span></span>  

 <span data-ttu-id="ec43b-183">Die <xref:System.ServiceModel.Discovery.FindRequestContext>-Klasse wird vom Suchdienst basierend auf der `Probe`-Nachricht instanziiert, die diese empfängt, wenn ein Client einen `Find`-Vorgang initiiert.</span><span class="sxs-lookup"><span data-stu-id="ec43b-183">The <xref:System.ServiceModel.Discovery.FindRequestContext> class is instantiated by the discovery service based on the `Probe` message it receives when a client initiates a `Find` operation.</span></span> <span data-ttu-id="ec43b-184">Sie enthält eine Instanz des <xref:System.ServiceModel.Discovery.FindCriteria>-Objekts, das vom Client angegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="ec43b-184">It contains an instance of <xref:System.ServiceModel.Discovery.FindCriteria> that was specified by the client.</span></span>  
  
## <a name="findresponse"></a><span data-ttu-id="ec43b-185">FindResponse</span><span class="sxs-lookup"><span data-stu-id="ec43b-185">FindResponse</span></span>  

 <span data-ttu-id="ec43b-186">Die <xref:System.ServiceModel.Discovery.FindResponse>-Klasse wird an den Aufrufer von <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> mit den Antworten des `Find`-Vorgangs zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ec43b-186">The <xref:System.ServiceModel.Discovery.FindResponse> class is returned to the caller of <xref:System.ServiceModel.Discovery.DiscoveryClient.Find%2A> with the responses of the `Find` operation.</span></span> <span data-ttu-id="ec43b-187">Sie ist auch in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs> enthalten.</span><span class="sxs-lookup"><span data-stu-id="ec43b-187">It is also present in <xref:System.ServiceModel.Discovery.FindCompletedEventArgs>.</span></span> <span data-ttu-id="ec43b-188">Darin ist eine Auflistung von <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, wobei es sich um die Auflistung ermittelter Endpunkte und ein Wörterbuch für <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> und <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> handelt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-188">It contains a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the collection of discovered endpoints and a dictionary of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> and <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="resolvecriteria"></a><span data-ttu-id="ec43b-189">ResolveCriteria</span><span class="sxs-lookup"><span data-stu-id="ec43b-189">ResolveCriteria</span></span>  

 <span data-ttu-id="ec43b-190">Die <xref:System.ServiceModel.Discovery.ResolveCriteria>-Klasse ist eine versionsunabhängige Klasse, mit der die Kriterien angegeben werden, die beim Auflösen eines bereits bekannten Diensts verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="ec43b-190">The <xref:System.ServiceModel.Discovery.ResolveCriteria> class is a version-independent class used to specify the criteria used when resolving an already known service.</span></span> <span data-ttu-id="ec43b-191">Sie enthält die Endpunktadresse des bekannten Diensts.</span><span class="sxs-lookup"><span data-stu-id="ec43b-191">It contains the endpoint address of the known service.</span></span> <span data-ttu-id="ec43b-192">Der Entwickler kann die Beendigungskriterien für den Auflösungsvorgang bereitstellen, indem er die <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>-Eigenschaft angibt. Diese Eigenschaft legt fest, wie lange der Client auf Antworten wartet.</span><span class="sxs-lookup"><span data-stu-id="ec43b-192">The developer can provide the termination criteria for the resolve operation by specifying the <xref:System.ServiceModel.Discovery.ResolveCriteria.Duration%2A>, which specifies how long the client waits for responses.</span></span>  
  
## <a name="resolveresponse"></a><span data-ttu-id="ec43b-193">ResolveResponse</span><span class="sxs-lookup"><span data-stu-id="ec43b-193">ResolveResponse</span></span>  

 <span data-ttu-id="ec43b-194">Das <xref:System.ServiceModel.Discovery.ResolveResponse>-Objekt wird mit der Antwort des <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A>-Vorgangs an den Aufrufer der `Resolve`-Methode zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="ec43b-194">The <xref:System.ServiceModel.Discovery.ResolveResponse> is returned to the caller of the <xref:System.ServiceModel.Discovery.DiscoveryClient.Resolve%2A> method with the response of the `Resolve` operation.</span></span> <span data-ttu-id="ec43b-195">Sie ist auch in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs> enthalten.</span><span class="sxs-lookup"><span data-stu-id="ec43b-195">It is also present in <xref:System.ServiceModel.Discovery.ResolveCompletedEventArgs>.</span></span> <span data-ttu-id="ec43b-196">Darin ist eine Instanz von <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> enthalten, wobei es sich um die ermittelten Endpunkte und eine Instanz von <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence> handelt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-196">It contains an instance of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>, which is the discovered endpoints and an instance of <xref:System.ServiceModel.Discovery.DiscoveryMessageSequence>.</span></span>  
  
## <a name="servicediscoverybehavior"></a><span data-ttu-id="ec43b-197">ServiceDiscoveryBehavior</span><span class="sxs-lookup"><span data-stu-id="ec43b-197">ServiceDiscoveryBehavior</span></span>  

 <span data-ttu-id="ec43b-198">Mithilfe der <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>-Klasse kann der Entwickler der Suchfunktion einen Dienst hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-198">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class allows the developer to add the discovery feature to a service.</span></span> <span data-ttu-id="ec43b-199">Sie fügen dieses Verhalten dem <xref:System.ServiceModel.ServiceHost>-Objekt hinzu.</span><span class="sxs-lookup"><span data-stu-id="ec43b-199">You add this behavior to the <xref:System.ServiceModel.ServiceHost>.</span></span> <span data-ttu-id="ec43b-200">Die <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior>-Klasse durchläuft die Anwendungsendpunkte, die dem Diensthost hinzugefügt wurden, und erstellt aus den erkennbaren Endpunkten eine Auflistung von <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata>.</span><span class="sxs-lookup"><span data-stu-id="ec43b-200">The <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> class iterates over the application endpoints added to the service host and creates a collection of <xref:System.ServiceModel.Discovery.EndpointDiscoveryMetadata> from the discoverable endpoints.</span></span> <span data-ttu-id="ec43b-201">Alle Endpunkte sind standardmäßig erkennbar.</span><span class="sxs-lookup"><span data-stu-id="ec43b-201">All endpoints are discoverable by default.</span></span> <span data-ttu-id="ec43b-202">Sie können die Erkennbarkeit eines bestimmten Endpunkts steuern, indem Sie dem jeweiligen Endpunkt <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="ec43b-202">The discoverability of a particular endpoint can be controlled by adding the <xref:System.ServiceModel.Discovery.EndpointDiscoveryBehavior> to that particular endpoint.</span></span> <span data-ttu-id="ec43b-203">Falls <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> Ankündigungsendpunkte hinzugefügt werden, wird die Ankündigung aller erkennbaren Endpunkte jeweils über jeden einzelnen Ankündigungsendpunkt gesendet, wenn der Diensthost geöffnet oder geschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="ec43b-203">If announcement endpoints are added to <xref:System.ServiceModel.Discovery.ServiceDiscoveryBehavior> then the announcement of all discoverable endpoints is sent over each of the announcement endpoints when the service host is opened or closed.</span></span>  
  
## <a name="udpannouncementendpoint"></a><span data-ttu-id="ec43b-204">UdpAnnouncementEndpoint</span><span class="sxs-lookup"><span data-stu-id="ec43b-204">UdpAnnouncementEndpoint</span></span>  

 <span data-ttu-id="ec43b-205">Die <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint>-Klasse ist ein standardmäßiger Ankündigungsendpunkt, der für die Ankündigung über eine UDP-Multicastbindung vorkonfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="ec43b-205">The <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> class is a standard announcement endpoint that is pre-configured for announcement over a UDP multicast binding.</span></span> <span data-ttu-id="ec43b-206">Standardmäßig ist <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> auf die Verwendung der WS_Discovery-Version "WSApril2005" festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ec43b-206">By default, <xref:System.ServiceModel.Discovery.UdpAnnouncementEndpoint> is set to use the WSApril2005 WS_Discovery version.</span></span>  
  
## <a name="udpdiscoveryendpoint"></a><span data-ttu-id="ec43b-207">UdpDiscoveryEndpoint</span><span class="sxs-lookup"><span data-stu-id="ec43b-207">UdpDiscoveryEndpoint</span></span>  

 <span data-ttu-id="ec43b-208">Die <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint>-Klasse ist ein Standardsuchendpunkt, der für die Suche über eine UDP-Multicastbindung vorkonfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="ec43b-208">The <xref:System.ServiceModel.Discovery.UdpDiscoveryEndpoint> class is a standard discovery endpoint that is pre-configured for discovery over a UDP multicast binding.</span></span> <span data-ttu-id="ec43b-209">Standardmäßig wird <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> so festgelegt, dass die Version "WSDiscovery11" der WS-Suche und der <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType>-Modus verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ec43b-209">By default, <xref:System.ServiceModel.Discovery.DiscoveryEndpoint> is set to use the WSDiscovery11 WS-Discovery version and <xref:System.ServiceModel.Discovery.ServiceDiscoveryMode.Adhoc?displayProperty=nameWithType> mode.</span></span>
