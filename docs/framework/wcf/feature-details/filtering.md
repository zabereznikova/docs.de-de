---
title: Filtern
ms.date: 03/30/2017
ms.assetid: 4002946c-e34a-4356-8cfb-e25912a4be63
ms.openlocfilehash: 74915a45ed5ca1d13790f64c7921d1f750fa04d3
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/04/2018
ms.locfileid: "43660169"
---
# <a name="filtering"></a><span data-ttu-id="8bbd5-102">Filtern</span><span class="sxs-lookup"><span data-stu-id="8bbd5-102">Filtering</span></span>
<span data-ttu-id="8bbd5-103">Die Windows Communication Foundation (WCF) Filtersystem können deklarative Filtern Nachrichten vergleichen und funktionsbezogene Entscheidungen treffen zu können.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-103">The Windows Communication Foundation (WCF) filtering system can use declarative filters to match messages and make operational decisions.</span></span> <span data-ttu-id="8bbd5-104">Sie können anhand von Filtern einen Teil der Nachricht untersuchen und so bestimmen, was mit der Nachricht geschehen soll.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-104">You can use filters to determine what to do with a message by examining part of the message.</span></span> <span data-ttu-id="8bbd5-105">Ein Warteschlangenprozess kann beispielsweise eine XPath 1.0-Abfrage verwenden, um das Prioritätselement eines bekannten Headers im Hinblick darauf zu prüfen, ob eine Nachricht in der Warteschlange an den Anfang verschoben werden soll.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-105">A queuing process, for example, can use an XPath 1.0 query to check the priority element of a known header to determine whether to move a message to the front of the queue.</span></span>  
  
 <span data-ttu-id="8bbd5-106">Das Filtersystem besteht aus einer Reihe von Klassen, die effizient zu bestimmen, welche der einen Satz von Filtern `true` für eine bestimmte WCF-Nachricht.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-106">The filtering system is composed of a set of classes that can efficiently determine which of a set of filters are `true` for a particular WCF message.</span></span>  
  
 <span data-ttu-id="8bbd5-107">Das Filtersystem ist eine Kernkomponente des WCF-messaging. Es ist äußerst schnell ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-107">The filtering system is a core component of WCF messaging; it is designed to be extremely fast.</span></span> <span data-ttu-id="8bbd5-108">Jede filterimplementierung wurde optimiert, für einen bestimmten Vergleich WCF-Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-108">Each filter implementation has been optimized for a particular kind of matching against WCF messages.</span></span>  
  
 <span data-ttu-id="8bbd5-109">Das Filtersystem ist nicht threadsicher.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-109">The filtering system is not thread safe.</span></span> <span data-ttu-id="8bbd5-110">Sperrsemantik muss von der Anwendung verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-110">The application must handle any locking semantics.</span></span> <span data-ttu-id="8bbd5-111">Es unterstützt jedoch mehrere Reader und einen Writer.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-111">It does, however, support a multi-reader, single writer.</span></span>  
  
## <a name="where-filtering-fits"></a><span data-ttu-id="8bbd5-112">Anwendung des Filtersystems</span><span class="sxs-lookup"><span data-stu-id="8bbd5-112">Where Filtering Fits</span></span>  
 <span data-ttu-id="8bbd5-113">Die Filterung wird nach Eingang einer Nachricht durchgeführt und ist Teil des Prozesses, durch den eine Nachricht an die richtige Anwendungskomponente verteilt wird.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-113">Filtering is performed after a message is received and is part of the process of dispatching the message to the proper application component.</span></span> <span data-ttu-id="8bbd5-114">Der Entwurf das Filtersystem erfüllt die Anforderungen mehrere WCF-Subsysteme, einschließlich messaging, routing, Sicherheit, Ereignisbehandlung und systemverwaltung.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-114">The design of the filtering system addresses the requirements of several WCF subsystems, including messaging, routing, security, event handling, and system management.</span></span>  
  
## <a name="filters"></a><span data-ttu-id="8bbd5-115">Filter</span><span class="sxs-lookup"><span data-stu-id="8bbd5-115">Filters</span></span>  
 <span data-ttu-id="8bbd5-116">Die Filter-Engine besteht aus zwei primären Komponenten: Filtern und Filtertabellen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-116">The filter engine has two primary components, filters and filter tables.</span></span> <span data-ttu-id="8bbd5-117">Ein Filter trifft anhand von benutzerdefinierten logischen Bedingungen boolesche Entscheidungen bezüglich der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-117">A filter makes Boolean decisions about a message based on user-specified logical conditions.</span></span> <span data-ttu-id="8bbd5-118">Filter implementieren die <xref:System.ServiceModel.Dispatcher.MessageFilter>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-118">Filters implement the <xref:System.ServiceModel.Dispatcher.MessageFilter> class.</span></span>  
  
 <span data-ttu-id="8bbd5-119">Mit den <xref:System.ServiceModel.Dispatcher.MessageFilter.Match%2A>-Methoden wird ermittelt, ob eine Nachricht zu einem Filter passt.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-119">The <xref:System.ServiceModel.Dispatcher.MessageFilter.Match%2A> methods are used to determine if a message satisfies a filter.</span></span> <span data-ttu-id="8bbd5-120">Eine der Methoden prüft den Nachrichtenheader, kann jedoch nicht den Nachrichtentext überprüfen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-120">One of the methods tests the message's header, but cannot inspect the message body.</span></span> <span data-ttu-id="8bbd5-121">Die andere Methode nimmt einen *Nachrichtenpuffer* als Eingabeparameter und kann den Nachrichtentext überprüfen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-121">The other method takes a *message buffer* as an input parameter and can inspect the message body.</span></span>  
  
 <span data-ttu-id="8bbd5-122">Filter werden im Allgemeinen nicht einzeln überprüft, sondern als Teil einer Filtertabelle, bei der es sich um eine durch die <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601.CreateFilterTable%2A>-Methode erstellte generische Klasse handelt.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-122">Filters are not usually tested individually, but as part of a filter table, which is a generic class that the <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601.CreateFilterTable%2A> method creates.</span></span>  
  
 <span data-ttu-id="8bbd5-123">Die verschiedenen Filter sind jeweils für den Vergleich einer bestimmten Art von boolescher Bedingung optimiert.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-123">The several kinds of filters each specialize in matching on a particular kind of Boolean condition.</span></span> <span data-ttu-id="8bbd5-124">Nach der Erstellung eines Filters können die vom Filter verwendeten Kriterien nicht mehr geändert werden. Soll ein Filter andere Kriterien verwenden, erstellen Sie einen neuen Filter und löschen den bestehenden.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-124">Once you construct a filter, you cannot change the criteria that a filter uses; to modify a filter's criteria, construct a new one and delete the existing filter.</span></span>  
  
### <a name="action-filters"></a><span data-ttu-id="8bbd5-125">Aktionsfilter</span><span class="sxs-lookup"><span data-stu-id="8bbd5-125">Action Filters</span></span>  
 <span data-ttu-id="8bbd5-126"><xref:System.ServiceModel.Dispatcher.ActionMessageFilter> enthält eine Liste mit Aktionszeichenfolgen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-126">The <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> contains a list of action strings.</span></span> <span data-ttu-id="8bbd5-127">Falls eine der Aktionen in der Filterliste mit dem Action-Header in der Nachricht bzw. im Nachrichtenpuffer übereinstimmt, gibt die `Match`-Methode `true` zurück.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-127">If any of the actions in the filter’s list matches the Action header in the message or message buffer, the `Match` method returns `true`.</span></span> <span data-ttu-id="8bbd5-128">Falls die Liste leer ist, gilt der Filter als ein Filter, bei dem es nur Übereinstimmungen gibt, das heißt, jede Nachricht bzw. jeder Nachrichtenpuffer liefert eine Übereinstimmung, und von `Match` wird `true` zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-128">If the list is empty, the filter is considered a match-all filter and any message or message buffer matches and `Match` returns `true`.</span></span> <span data-ttu-id="8bbd5-129">Falls keine der Aktionen in der Filterliste mit dem Action-Header in der Nachricht bzw. im Nachrichtenpuffer übereinstimmt, gibt die `Match`-Methode `false` zurück.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-129">If none of the actions in the filter’s list matches the Action header in the message or message buffer, `Match` returns `false`.</span></span> <span data-ttu-id="8bbd5-130">Falls die Nachricht keine Aktion enthält und die Filterliste nicht leer ist, gibt die `Match`-Methode `false` zurück.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-130">If there is no action in the message and the filter’s list is non-empty, then `Match` returns `false`.</span></span>  
  
### <a name="endpoint-address-filters"></a><span data-ttu-id="8bbd5-131">Endpunktadressenfilter</span><span class="sxs-lookup"><span data-stu-id="8bbd5-131">Endpoint Address Filters</span></span>  
 <span data-ttu-id="8bbd5-132"><xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filtert Nachrichten und Nachrichtenpuffer auf Grundlage einer Endpunktadresse entsprechend der Headerauflistung.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-132">The <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filters messages and message buffers based on an endpoint address, as represented in their header collection.</span></span> <span data-ttu-id="8bbd5-133">Damit eine Nachricht einen solchen Filter passieren kann, müssen die folgenden Voraussetzungen erfüllt sein:</span><span class="sxs-lookup"><span data-stu-id="8bbd5-133">For a message to pass such a filter, the following conditions must be met:</span></span>  
  
-   <span data-ttu-id="8bbd5-134">Der Adress-URI (Uniform Resource Identifier) des Filters muss dem Adress-URI im To-Header der Nachricht entsprechen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-134">The filter’s address Uniform Resource Identifier (URI) must be the same as the one in the message To header.</span></span>  
  
-   <span data-ttu-id="8bbd5-135">Jedem Endpunktparameter in der Adresse des Filters (`address.Headers`-Auflistung) muss ein Header in der Nachricht zugeordnet werden können.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-135">Each endpoint parameter in the address of the filter (`address.Headers` collection) must find a header in the message to map on.</span></span> <span data-ttu-id="8bbd5-136">Auch bei zusätzlichen Headern in der Nachricht oder im Nachrichtenpuffer bleibt die Übereinstimmung `true`.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-136">Extra headers in the message or message buffer are acceptable for the match to remain `true`.</span></span>  
  
### <a name="prefix-endpoint-address-filters"></a><span data-ttu-id="8bbd5-137">Präfixfilter für Endpunktadressen</span><span class="sxs-lookup"><span data-stu-id="8bbd5-137">Prefix Endpoint Address Filters</span></span>  
  
1.  <span data-ttu-id="8bbd5-138"><xref:System.ServiceModel.Dispatcher.PrefixEndpointAddressMessageFilter> funktioniert wie <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>, mit der Ausnahme, dass sich die Übereinstimmung in einem Präfix des Nachrichten-URIs befinden kann.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-138">The <xref:System.ServiceModel.Dispatcher.PrefixEndpointAddressMessageFilter> functions just like the <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> filter, except that the match can be on a prefix of the message URI.</span></span> <span data-ttu-id="8bbd5-139">Z. B. einen Filter, die Angabe der Adresse http://www.adatum.com entspricht an adressierten http://www.adatum.com/userA.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-139">For example, a filter specifying the address http://www.adatum.com matches messages addressed to http://www.adatum.com/userA.</span></span>  
  
### <a name="xpath-message-filters"></a><span data-ttu-id="8bbd5-140">XPath-Nachrichtenfilter</span><span class="sxs-lookup"><span data-stu-id="8bbd5-140">XPath Message Filters</span></span>  
 <span data-ttu-id="8bbd5-141"><xref:System.ServiceModel.Dispatcher.XPathMessageFilter> überprüft anhand eines XPath-Ausdrucks, ob ein XML-Dokument bestimmte Elemente, Attribute, Text oder andere syntaktische XML-Konstrukte enthält.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-141">An <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> uses an XPath expression to determine whether an XML document contains specific elements, attributes, text, or other XML syntactic constructs.</span></span> <span data-ttu-id="8bbd5-142">Der Filter ist so optimiert, dass er sehr effizient bei einer eng gefassten Teilmenge von XPath funktioniert.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-142">The filter is optimized to be extremely efficient for a strict subset of XPath.</span></span> <span data-ttu-id="8bbd5-143">Die XML Path Language wird beschrieben, der [W3C XML Path Language 1.0-Spezifikation](https://go.microsoft.com/fwlink/?LinkId=94779).</span><span class="sxs-lookup"><span data-stu-id="8bbd5-143">The XML Path Language is described in the [W3C XML Path Language 1.0 specification](https://go.microsoft.com/fwlink/?LinkId=94779).</span></span>  
  
 <span data-ttu-id="8bbd5-144">Im Allgemeinen wird der Inhalt einer SOAP-Nachricht von einer Anwendung mithilfe von <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> an einem Endpunkt abgefragt. Anschließend wird auf Grundlage des Abfrageergebnisses die entsprechende Aktion eingeleitet.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-144">Typically, an application uses an <xref:System.ServiceModel.Dispatcher.XPathMessageFilter> at an endpoint to query the contents of a SOAP message and then takes the appropriate action based on the results of that query.</span></span> <span data-ttu-id="8bbd5-145">Ein Warteschlangenprozess kann beispielsweise mithilfe einer XPath-Abfrage das Prioritätselement eines bekannten Headers im Hinblick darauf untersuchen, ob eine Nachricht in der Warteschlange an den Anfang verschoben werden soll.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-145">A queuing process, for example, may use an XPath query to inspect the priority element of a known header to decide whether to move a message to the front of the queue.</span></span>  
  
## <a name="filter-tables"></a><span data-ttu-id="8bbd5-146">Filtertabellen</span><span class="sxs-lookup"><span data-stu-id="8bbd5-146">Filter Tables</span></span>  
 <span data-ttu-id="8bbd5-147">In Filtertabellen werden Schlüssel-Wert-Paare gespeichert, wobei ein Filter der Schlüssel ist und zugehörige Daten der Wert sind.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-147">Filter tables are used to store key-value pairs, where a filter is the key and some associated data is the value.</span></span> <span data-ttu-id="8bbd5-148">Die Filterdaten können verwendet werden, um die Aktionen anzugeben, die durchgeführt werden, wenn eine Nachricht mit dem Filter übereinstimmt und es sich bei der Art der Filterdaten um den generischen Parameter für die Filtertabellenklasse handelt.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-148">The filter data can be used to indicate what actions to take if a message matches the filter and the type of the filter data is the generic parameter for the filter table class.</span></span> <span data-ttu-id="8bbd5-149">Die Filterdaten können Routingregeln, Sitzungs- und Sicherheitsstatus, Kanallistener usw. umfassen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-149">The filter data can consist of routing rules, session security state, listeners on a channel, and so on.</span></span> <span data-ttu-id="8bbd5-150">Die Daten können verwendet werden, wenn eine Datenflusssteuerung erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-150">The data can be used where data flow control is necessary.</span></span>  
  
 <span data-ttu-id="8bbd5-151">Filtertabellen implementieren die generische Schnittstelle <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-151">Filter tables implement the generic interface <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span></span>  
  
 <span data-ttu-id="8bbd5-152">Filtertabellen verfügen über mehrere Methoden, die eine Nachricht mit allen Filtern in der Tabelle vergleichen und eine nicht sortierte Auflistung der passenden Filter bzw. Daten zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-152">Filter tables have several methods that match a message against all the filters in the table and return an unordered collection of matching filters or data.</span></span> <span data-ttu-id="8bbd5-153">Einige Vergleichsmethoden suchen mehrere Übereinstimmungen und geben alle passenden Elemente zurück.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-153">Some of the match methods are multiple-match and return all matching items.</span></span> <span data-ttu-id="8bbd5-154">Andere Methoden suchen nur eine Übereinstimmung, geben nur ein Element zurück und lösen eine <xref:System.ServiceModel.Dispatcher.MultipleFilterMatchesException> aus, wenn mehr als ein Filter passt.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-154">Others are single-match, returning only one item, and throw a <xref:System.ServiceModel.Dispatcher.MultipleFilterMatchesException> if more than one filter matches.</span></span>  
  
### <a name="message-filter-table"></a><span data-ttu-id="8bbd5-155">Nachrichtenfiltertabelle</span><span class="sxs-lookup"><span data-stu-id="8bbd5-155">Message Filter Table</span></span>  
 <span data-ttu-id="8bbd5-156"><xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> ist die allgemeinste Implementierung von <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-156">The <xref:System.ServiceModel.Dispatcher.MessageFilterTable%601> is the most general implementation of <xref:System.ServiceModel.Dispatcher.IMessageFilterTable%601>.</span></span> <span data-ttu-id="8bbd5-157">Sie können alle Arten von Filtern in der Tabelle speichern.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-157">You can store filters of all types in the table.</span></span>  
  
 <span data-ttu-id="8bbd5-158">Sie können Filtern eine numerische Priorität zuweisen, wobei die höchste Priorität durch die höchste Zahl angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-158">You can assign numeric priorities to filters, where the highest priority is signified by the highest number.</span></span> <span data-ttu-id="8bbd5-159">Verschiedene Arten von Filtern können die gleiche Priorität haben.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-159">Multiple types of filters can have the same priority.</span></span> <span data-ttu-id="8bbd5-160">Ein bestimmter Filtertyp kann auch in verschiedenen Prioritätsstufen erscheinen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-160">A particular type of filter can appear in more than one priority level.</span></span>  
  
 <span data-ttu-id="8bbd5-161">Der Vergleich beginnt mit der höchsten Priorität. Sobald passende Filter mit der angegebenen Priorität gefunden werden, werden keine weiteren Filter mit einer niedrigeren Priorität mehr überprüft.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-161">Matching is done starting with the highest priority, and once matching filters are found with a given priority, no filters with lower priorities are examined.</span></span> <span data-ttu-id="8bbd5-162">Wenn Sie also eine Vergleichsmethode für einen einzelnen Filter verwenden und mehrere Filter mit einer Nachricht übereinstimmen, jedoch verschiedene Prioritätsstufen aufweisen, wird keine Ausnahme ausgelöst, und der Filter mit der höchsten Priorität wird zurückgegeben.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-162">Therefore, if you are using a single-filter match method, and more than one filter matches a message, but each matching filter has a different priority, then no exception is thrown and the filter with the highest priority is returned.</span></span> <span data-ttu-id="8bbd5-163">Ebenso geben Vergleichsmethoden für mehrere Filter nur die passenden Filter mit der höchsten Priorität zurück.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-163">Similarly, a multiple-filter match method returns only those matching filters with the highest priority.</span></span>  
  
### <a name="xpath-message-filter-table"></a><span data-ttu-id="8bbd5-164">XPath-Nachrichtenfiltertabelle</span><span class="sxs-lookup"><span data-stu-id="8bbd5-164">XPath Message Filter Table</span></span>  
 <span data-ttu-id="8bbd5-165"><xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> ist für deklarative XPath-Filter optimiert, daher handelt es sich beim Tabellenschlüssel um einen <xref:System.ServiceModel.Dispatcher.XPathMessageFilter>.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-165">The <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> is optimized for declarative XPath filters, so the table key is a <xref:System.ServiceModel.Dispatcher.XPathMessageFilter>.</span></span>  
  
 <span data-ttu-id="8bbd5-166">Die <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601>-Klasse optimiert den Vergleich für eine XPath-Teilmenge, durch die die meisten Messaging-Szenarien abgedeckt werden und die zudem die vollständige XPath 1.0-Grammatik unterstützt.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-166">The <xref:System.ServiceModel.Dispatcher.XPathMessageFilterTable%601> class optimizes matching for a subset of XPath that covers most of the messaging scenarios and also supports the full XPath 1.0 grammar.</span></span> <span data-ttu-id="8bbd5-167">Sie verfügt über optimierte Algorithmen für einen effizienten Parallelvergleich.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-167">It has optimized algorithms for efficient parallel matching.</span></span>  
  
 <span data-ttu-id="8bbd5-168">Diese Tabelle verfügt über mehrere spezielle `Match`-Methoden, die mit <xref:System.Xml.XPath.XPathNavigator> und <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> arbeiten.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-168">This table has several specialized `Match` methods that operate over an <xref:System.Xml.XPath.XPathNavigator> and a <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator>.</span></span> <span data-ttu-id="8bbd5-169"><xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> erweitert die <xref:System.Xml.XPath.XPathNavigator>-Klasse durch Hinzufügen einer <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator.CurrentPosition%2A>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-169">A <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> extends the <xref:System.Xml.XPath.XPathNavigator> class by adding a <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator.CurrentPosition%2A> property.</span></span> <span data-ttu-id="8bbd5-170">Diese Eigenschaft ermöglicht es, Positionen innerhalb des XML-Dokuments zu speichern und rasch zu laden, ohne den Navigator klonen zu müssen (eine ressourcenintensive Speicherbelegung, die <xref:System.Xml.XPath.XPathNavigator> für einen solchen Vorgang benötigt).</span><span class="sxs-lookup"><span data-stu-id="8bbd5-170">This property allows positions within the XML document to be saved and loaded quickly without having to clone the navigator, an expensive memory allocation that the <xref:System.Xml.XPath.XPathNavigator> requires for such an operation.</span></span> <span data-ttu-id="8bbd5-171">Das WCF-XPath-Modul muss häufig die Position des Cursors im Verlauf der Ausführung von Abfragen von XML-Dokumenten aufzeichnen daher <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> bietet eine wichtige Optimierung der Nachrichtenverarbeitung.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-171">The WCF XPath engine must frequently record the position of the cursor in the course of executing queries on XML documents, so the <xref:System.ServiceModel.Dispatcher.SeekableXPathNavigator> provides an important optimization for message processing.</span></span>  
  
## <a name="customer-scenarios"></a><span data-ttu-id="8bbd5-172">Kundenszenarien</span><span class="sxs-lookup"><span data-stu-id="8bbd5-172">Customer Scenarios</span></span>  
 <span data-ttu-id="8bbd5-173">Sie können die Filterung verwenden, wenn Sie eine Nachricht basierend auf den darin enthaltenen Daten an verschiedene Verarbeitungsmodule senden möchten.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-173">You can use filtering any time you want to send a message to different processing modules depending on data contained in the message.</span></span> <span data-ttu-id="8bbd5-174">Zwei typische Szenarien sind die Weiterleitung einer Nachricht auf Grundlage ihres Aktionscodes und das Demultiplexing eines Nachrichtenstroms basierend auf der Endpunktadresse der Nachricht.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-174">Two typical scenarios are routing a message based on its action code and de-multiplexing a stream of messages based on the messages' endpoint address.</span></span>  
  
### <a name="routing"></a><span data-ttu-id="8bbd5-175">Routing</span><span class="sxs-lookup"><span data-stu-id="8bbd5-175">Routing</span></span>  
 <span data-ttu-id="8bbd5-176">Der Listener eines Endpunkts hört Nachrichten ab, die einen oder mehrere Aktionscodes im SOAP-Header der Nachricht aufweisen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-176">The listener of an endpoint listens for messages that have one or more action codes in the message's SOAP header.</span></span> <span data-ttu-id="8bbd5-177">Diese Funktion wird durch Erstellen eines <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> implementiert, indem ein Array mit den Aktionscodes an den Konstruktor übergeben wird.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-177">You implement this by creating an <xref:System.ServiceModel.Dispatcher.ActionMessageFilter> by passing an array that contains the action codes to its constructor.</span></span> <span data-ttu-id="8bbd5-178">Dieser Filter wird für die Registrierung bei `ListenerFactory` verwendet, das heißt, dass nur Nachrichten, deren Aktion mit einer der Aktionen im Filter übereinstimmt, zu diesem Endpunkt geleitet werden.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-178">It uses that filter to register with the `ListenerFactory`, so only messages whose action matches one of those in the filter get to that particular endpoint.</span></span>  
  
### <a name="de-multiplexing"></a><span data-ttu-id="8bbd5-179">Demultiplexing</span><span class="sxs-lookup"><span data-stu-id="8bbd5-179">De-multiplexing</span></span>  
 <span data-ttu-id="8bbd5-180">Falls ein `ServiceListener` auf mehrere Endpunkte verzweigt, gibt es nur eine Möglichkeit, ein Demultiplexing für die Nachrichten durchzuführen und herauszufinden, ob sie zu einer bestimmten Endpunktadresse gehören: Sie müssen mehrere <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> verwenden, die Nachrichten über eine Suche in den im Header gespeicherten Informationen für die registrierten Endpunkte auswählen.</span><span class="sxs-lookup"><span data-stu-id="8bbd5-180">When multiple endpoints fan out from the same `ServiceListener` off the wire, the only way to de-multiplex messages and know whether they belong to a certain endpoint address, is to use <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>s, which select messages toward the registered endpoints by performing a lookup on the information stored in the headers.</span></span> <span data-ttu-id="8bbd5-181">In diesen Filtern weisen nur die Nachrichten, die passieren dürfen, die notwendigen Header auf, die den folgenden beiden Punkten entsprechen:</span><span class="sxs-lookup"><span data-stu-id="8bbd5-181">In these filters, only those messages that pass have all necessary headers that correspond to both:</span></span>  
  
-   <span data-ttu-id="8bbd5-182">dem URI in der `EndpointAddress`</span><span class="sxs-lookup"><span data-stu-id="8bbd5-182">The URI in the `EndpointAddress`.</span></span>  
  
-   <span data-ttu-id="8bbd5-183">den übrigen Endpunktparametern in der `EndpointAddress`, wie in <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter> angegeben</span><span class="sxs-lookup"><span data-stu-id="8bbd5-183">The rest of the endpoint parameters in the `EndpointAddress` as specified in the <xref:System.ServiceModel.Dispatcher.EndpointAddressMessageFilter>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8bbd5-184">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="8bbd5-184">See Also</span></span>  
 [<span data-ttu-id="8bbd5-185">Datenübertragung und Serialisierung</span><span class="sxs-lookup"><span data-stu-id="8bbd5-185">Data Transfer and Serialization</span></span>](../../../../docs/framework/wcf/feature-details/data-transfer-and-serialization.md)
