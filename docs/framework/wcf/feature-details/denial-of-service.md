---
title: Denial of Service
ms.date: 03/30/2017
helpviewer_keywords:
- denial of service [WCF]
ms.assetid: dfb150f3-d598-4697-a5e6-6779e4f9b600
ms.openlocfilehash: 6bf0dd8af32f50164138092684c4b82f12134718
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96291595"
---
# <a name="denial-of-service"></a><span data-ttu-id="2dc6e-102">Denial of Service</span><span class="sxs-lookup"><span data-stu-id="2dc6e-102">Denial of Service</span></span>

<span data-ttu-id="2dc6e-103">Eine Dienstverweigerung tritt auf, wenn ein System derart überlastet ist, dass Nachrichten nicht verarbeitet werden können oder extrem langsam verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-103">Denial of service occurs when a system is overwhelmed in such a way that messages cannot be processed, or they are processed extremely slowly.</span></span>  
  
## <a name="excess-memory-consumption"></a><span data-ttu-id="2dc6e-104">Übermäßiger Speicherverbrauch</span><span class="sxs-lookup"><span data-stu-id="2dc6e-104">Excess Memory Consumption</span></span>  

 <span data-ttu-id="2dc6e-105">Beim Lesen eines XML-Dokuments mit einer großen Anzahl von eindeutigen lokalen Namen, Namespaces oder Präfixen kann ein Problem auftreten.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-105">A problem can occur when reading an XML document with a large number of unique local names, namespaces, or prefixes.</span></span> <span data-ttu-id="2dc6e-106">Wenn Sie eine von <xref:System.Xml.XmlReader> abgeleitete Klasse verwenden und für jedes Element die Eigenschaft <xref:System.Xml.XmlReader.LocalName%2A>, <xref:System.Xml.XmlReader.Prefix%2A> oder <xref:System.Xml.XmlReader.NamespaceURI%2A> aufrufen, wird die zurückgegebene Zeichenfolge einer <xref:System.Xml.NameTable> hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-106">If you are using a class that derives from <xref:System.Xml.XmlReader>, and you call either the <xref:System.Xml.XmlReader.LocalName%2A>, <xref:System.Xml.XmlReader.Prefix%2A> or <xref:System.Xml.XmlReader.NamespaceURI%2A> property for each item, the returned string is added to a <xref:System.Xml.NameTable>.</span></span> <span data-ttu-id="2dc6e-107">Die Größe der in der <xref:System.Xml.NameTable> gespeicherten Auflistung nimmt nie ab, sodass ein virtueller Speicherverlust an Zeichenfolgenhandles eintritt.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-107">The collection held by the <xref:System.Xml.NameTable> never decreases in size, creating a virtual "memory leak" of the string handles.</span></span>  
  
 <span data-ttu-id="2dc6e-108">Mögliche Entschärfungen:</span><span class="sxs-lookup"><span data-stu-id="2dc6e-108">Mitigations include:</span></span>  
  
- <span data-ttu-id="2dc6e-109">Leiten Sie von der <xref:System.Xml.NameTable>-Klasse ab, und erzwingen Sie ein maximales Größenkontingent.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-109">Derive from the <xref:System.Xml.NameTable> class and enforce a maximum size quota.</span></span> <span data-ttu-id="2dc6e-110">(Die Verwendung einer <xref:System.Xml.NameTable> lässt sich nicht umgehen, und der Austausch einer vollen <xref:System.Xml.NameTable> ist nicht möglich.)</span><span class="sxs-lookup"><span data-stu-id="2dc6e-110">(You cannot prevent the use of a <xref:System.Xml.NameTable> or switch the <xref:System.Xml.NameTable> when it is full.)</span></span>  
  
- <span data-ttu-id="2dc6e-111">Verwenden Sie nach Möglichkeit anstelle der genannten Eigenschaften die <xref:System.Xml.XmlReader.MoveToAttribute%2A>-Methode mit der <xref:System.Xml.XmlReader.IsStartElement%2A>-Methode. Diese Methoden geben keine Zeichenfolgen zurück und umgehen somit das Problem eines Überlaufs der <xref:System.Xml.NameTable>-Auflistung.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-111">Avoid using the properties mentioned and instead use the <xref:System.Xml.XmlReader.MoveToAttribute%2A> method with the <xref:System.Xml.XmlReader.IsStartElement%2A> method where possible; those methods do not return strings and thus avoid the problem of overfilling the <xref:System.Xml.NameTable> collection.</span></span>  
  
## <a name="malicious-client-sends-excessive-license-requests-to-service"></a><span data-ttu-id="2dc6e-112">Ein bösartiger Client sendet übermäßig viele Lizenzanforderungen an den Dienst</span><span class="sxs-lookup"><span data-stu-id="2dc6e-112">Malicious Client Sends Excessive License Requests to Service</span></span>  

 <span data-ttu-id="2dc6e-113">Wenn ein bösartiger Client einen Dienst mit übermäßig vielen Lizenzanforderungen überschwemmt, kann dies eine hohe Speicherauslastung auf dem Server bewirken.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-113">If a malicious client bombards a service with excessive license requests, it can cause the server to use excessive memory.</span></span>  
  
 <span data-ttu-id="2dc6e-114">Entschärfung: Verwenden Sie die folgenden Eigenschaften der <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings>-Klasse:</span><span class="sxs-lookup"><span data-stu-id="2dc6e-114">Mitigation: Use the following properties of the <xref:System.ServiceModel.Channels.LocalServiceSecuritySettings> class:</span></span>  
  
- <span data-ttu-id="2dc6e-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: Steuert die maximale Anzahl zeitlich begrenzter `SecurityContextToken`, die der Server nach einer `SPNego`- oder `SSL`-Aushandlung zwischenspeichert.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-115"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxCachedCookies%2A>: controls the maximum number of time-bounded `SecurityContextToken`s that the server caches after `SPNego` or `SSL` negotiation.</span></span>  
  
- <span data-ttu-id="2dc6e-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: Steuert die Lebensdauer der `SecurityContextTokens`, die der Dienst nach der `SPNego`- oder `SSL`-Aushandlung ausstellt.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-116"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.IssuedCookieLifetime%2A>: controls the lifetime of the `SecurityContextTokens` that the server issues following `SPNego` or `SSL` negotiation.</span></span> <span data-ttu-id="2dc6e-117">Der Server speichert die `SecurityContextToken` für diesen Zeitraum zwischen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-117">The server caches the `SecurityContextToken`s for this period of time.</span></span>  
  
- <span data-ttu-id="2dc6e-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: Steuert die maximale Anzahl sicherer Konversationen, die auf dem Server erstellt werden, für die jedoch keine Anwendungsnachrichten verarbeitet wurden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-118"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.MaxPendingSessions%2A>: controls the maximum number of secure conversations that are established at the server but for which no application messages have been processed.</span></span> <span data-ttu-id="2dc6e-119">Dieses Kontingent verhindert, dass Clients sichere Konversationen auf dem Dienst erstellen, sodass der Dienst den Zustand pro Client beibehält, sie jedoch nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-119">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
- <span data-ttu-id="2dc6e-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>: Steuert die maximale Zeit, die der Dienst eine sichere Konversation aufrechterhält, ohne eine Anwendungsnachricht vom Client für die Konversation zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-120"><xref:System.ServiceModel.Channels.LocalServiceSecuritySettings.InactivityTimeout%2A>:  controls the maximum time the service keeps a secure conversation alive without receiving an application message from the client for the conversation.</span></span> <span data-ttu-id="2dc6e-121">Dieses Kontingent verhindert, dass Clients sichere Konversationen auf dem Dienst erstellen, sodass der Dienst den Zustand pro Client beibehält, sie jedoch nicht verwendet.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-121">This quota prevents clients from establishing secure conversations at the service, thereby causing the service to maintain state per client, but never using them.</span></span>  
  
## <a name="wsdualhttpbinding-or-dual-custom-bindings-require-client-authentication"></a><span data-ttu-id="2dc6e-122">WSDualHttpBinding oder benutzerdefinierte Dualbindungen erfordern Clientauthentifizierung</span><span class="sxs-lookup"><span data-stu-id="2dc6e-122">WSDualHttpBinding or Dual Custom Bindings Require Client Authentication</span></span>  

 <span data-ttu-id="2dc6e-123">Standardmäßig ist die Sicherheit für <xref:System.ServiceModel.WSDualHttpBinding> aktiviert.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-123">By default, the <xref:System.ServiceModel.WSDualHttpBinding> has security enabled.</span></span> <span data-ttu-id="2dc6e-124">Es ist jedoch möglich, dass, wenn die Clientauthentifizierung durch Festlegen der <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A>-Eigenschaft auf <xref:System.ServiceModel.MessageCredentialType.None> deaktiviert ist, ein böswilliger Benutzer einen Denial-of-Service-Angriff auf einen dritten Dienst verursacht.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-124">It is possible, however, that if the client authentication is disabled by setting the <xref:System.ServiceModel.MessageSecurityOverHttp.ClientCredentialType%2A> property to <xref:System.ServiceModel.MessageCredentialType.None>, a malicious user can cause a denial of service attack on a third service.</span></span> <span data-ttu-id="2dc6e-125">Die Ursache dafür ist, dass ein böswilliger Benutzer den Dienst anweisen kann, einen Nachrichtenstream an einen dritten Dienst zu senden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-125">This can occur because a malicious client can direct the service to send a stream of messages to a third service.</span></span>  
  
 <span data-ttu-id="2dc6e-126">Legen Sie die Eigenschaft nicht auf `None` fest, um diese Gefahr zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-126">To mitigate this, do not set the property to `None`.</span></span> <span data-ttu-id="2dc6e-127">Bedenken Sie diese Möglichkeit auch beim Erstellen einer benutzerdefinierten Bindung mit dualem Nachrichtenmuster.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-127">Also be aware of this possibility when creating a custom binding that has a dual message pattern.</span></span>  
  
## <a name="auditing-event-log-can-be-filled"></a><span data-ttu-id="2dc6e-128">Überwachungsereignisprotokoll kann ausgefüllt werden</span><span class="sxs-lookup"><span data-stu-id="2dc6e-128">Auditing Event Log Can Be Filled</span></span>  

 <span data-ttu-id="2dc6e-129">Wenn ein böswilliger Benutzer erkennt, dass die Überwachung aktiviert ist, kann dieser Angreifer ungültige Nachrichten senden, die dazu führen, dass Überwachungseinträge geschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-129">If a malicious user understands that auditing is enabled, that attacker can send invalid messages that cause audit entries to be written.</span></span> <span data-ttu-id="2dc6e-130">Wenn das Überwachungsprotokoll auf diese Weise ausgefüllt wird, schlägt das Überwachungssystem fehl.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-130">If the audit log is filled in this manner, the auditing system fails.</span></span>  
  
 <span data-ttu-id="2dc6e-131">Legen Sie die <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A>-Eigenschaft auf `true` fest, und verwenden Sie die Eigenschaften der Ereignisanzeige zum Steuern des Überwachungsverhaltens, um diese Gefahr zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-131">To mitigate this, set the <xref:System.ServiceModel.Description.ServiceSecurityAuditBehavior.SuppressAuditFailure%2A> property to `true` and use the properties of the Event Viewer to control the auditing behavior.</span></span> <span data-ttu-id="2dc6e-132">Weitere Informationen zum Anzeigen und Verwalten von Ereignisprotokollen mithilfe der Ereignisanzeige finden Sie unter [Ereignisanzeige](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766042(v=ws.11)).</span><span class="sxs-lookup"><span data-stu-id="2dc6e-132">For more information about using the Event Viewer to view and manage event logs, see [Event Viewer](/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc766042(v=ws.11)).</span></span> <span data-ttu-id="2dc6e-133">Weitere Informationen finden Sie unter [Auditing](auditing-security-events.md).</span><span class="sxs-lookup"><span data-stu-id="2dc6e-133">For more information, see [Auditing](auditing-security-events.md).</span></span>  
  
## <a name="invalid-implementations-of-iauthorizationpolicy-can-cause-service-to-become-unresponsive"></a><span data-ttu-id="2dc6e-134">Ungültige Implementierungen von IAuthorizationPolicy können bewirken, dass der Dienst nicht mehr reagiert.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-134">Invalid Implementations of IAuthorizationPolicy Can Cause Service to Become Unresponsive</span></span>  

 <span data-ttu-id="2dc6e-135">Das Aufrufen der- <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> Methode für eine fehlerhafte Implementierung der- <xref:System.IdentityModel.Policy.IAuthorizationPolicy> Schnittstelle kann bewirken, dass der Dienst nicht mehr reagiert.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-135">Calling the <xref:System.IdentityModel.Policy.IAuthorizationPolicy.Evaluate%2A> method on a faulty implementation of the <xref:System.IdentityModel.Policy.IAuthorizationPolicy> interface can cause the service to become unresponsive.</span></span>  
  
 <span data-ttu-id="2dc6e-136">Entschärfung: Verwenden Sie ausschließlich vertrauenswürdigen Code.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-136">Mitigation: Use only trusted code.</span></span> <span data-ttu-id="2dc6e-137">Verwenden Sie also nur selbst geschriebenen und getesteten Code oder Code von einem vertrauenswürdigen Anbieter.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-137">That is, use only code that you have written and tested, or that comes from a trusted provider.</span></span> <span data-ttu-id="2dc6e-138">Lassen Sie nicht ohne gründliche Prüfung zu, dass nicht vertrauenswürdige Erweiterungen der <xref:System.IdentityModel.Policy.IAuthorizationPolicy> in Ihren Code geladen werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-138">Do not allow untrusted extensions of <xref:System.IdentityModel.Policy.IAuthorizationPolicy> to be plugged into your code without due consideration.</span></span> <span data-ttu-id="2dc6e-139">Dies gilt für alle in einer Dienstimplementierung verwendeten Erweiterungen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-139">This applies to all extensions used in a service implementation.</span></span> <span data-ttu-id="2dc6e-140">WCF unterscheidet nicht zwischen Anwendungscode und fremd Code, der mithilfe von Erweiterungs Punkten eingebunden wird.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-140">WCF does not make any distinction between application code and foreign code that is plugged in using extensibility points.</span></span>  
  
## <a name="kerberos-maximum-token-size-may-need-resizing"></a><span data-ttu-id="2dc6e-141">Maximale Größe des Kerberos-Tokens muss möglicherweise geändert werden</span><span class="sxs-lookup"><span data-stu-id="2dc6e-141">Kerberos Maximum Token Size May Need Resizing</span></span>  

 <span data-ttu-id="2dc6e-142">Gehört ein Client zu vielen Gruppen (ungefähr 900, obwohl die tatsächliche Anzahl je nach den Gruppen variiert), kann ein Problem auftreten, wenn ein Nachrichtenheaderblock größer als 64 Kilobyte ist.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-142">If a client belongs to a large number of groups (approximately 900, although the actual number varies depending on the groups), a problem may occur when a message header's block exceeds 64 kilobytes.</span></span> <span data-ttu-id="2dc6e-143">In diesem Fall können Sie die maximale Größe des Kerberos-Tokens erhöhen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-143">In that case, you can increase the maximum Kerberos token size.</span></span> <span data-ttu-id="2dc6e-144">Möglicherweise müssen Sie auch die maximale Größe der WCF-Nachrichten erhöhen, um dem größeren Kerberos-Token Rechnung zu tragen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-144">You may also need to increase the maximum WCF message size to accommodate the larger Kerberos token.</span></span>  
  
## <a name="autoenrollment-results-in-multiple-certificates-with-same-subject-name-for-machine"></a><span data-ttu-id="2dc6e-145">Automatische Registrierung führt zu mehreren Zertifikaten mit gleichem Antragstellernamen für den Computer</span><span class="sxs-lookup"><span data-stu-id="2dc6e-145">Autoenrollment Results in Multiple Certificates with Same Subject Name for Machine</span></span>  

 <span data-ttu-id="2dc6e-146">Die *Automatische* Registrierung ist die Funktion von Windows Server 2003 zum automatischen Registrieren von Benutzern und Computern für Zertifikate.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-146">*Autoenrollment* is the capability of Windows Server 2003 to automatically enroll users and computers for certificates.</span></span> <span data-ttu-id="2dc6e-147">Befindet sich ein Computer in einer Domäne mit aktivierter Funktion, wird ein X.509-Zertifikat mit dem beabsichtigten Zweck der Clientauthentifizierung automatisch erstellt und in den persönlichen Zertifikatspeicher des lokalen Computers eingefügt, wenn ein neuer Computer mit dem Netzwerk verbunden wird.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-147">When a machine is on a domain with the feature enabled, an X.509 certificate with the intended purpose of client authentication is automatically created and inserted into the local computer's Personal certificates store whenever a new machine is joined to the network.</span></span> <span data-ttu-id="2dc6e-148">Die automatische Registrierung verwendet jedoch den gleichen Antragstellernamen für alle Zertifikate, die sie im Cache erstellt.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-148">However, autoenrollment uses the same subject name for all certificates it creates in the cache.</span></span>  
  
 <span data-ttu-id="2dc6e-149">Die Auswirkung ist, dass WCF-Dienste auf Domänen mit automatischer Registrierung möglicherweise nicht geöffnet werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-149">The impact is that WCF services may fail to open on domains with autoenrollment.</span></span> <span data-ttu-id="2dc6e-150">Die Ursache ist, dass die standardmäßigen Suchkriterien des Dienstes für X.509-Anmeldeinformationen mehrdeutig sein können, da mehrere Zertifikate mit dem vollqualifizierten DNS (Domain Name System) des Computers vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-150">This occurs because the default service X.509 credential search criteria might be ambiguous because multiple certificates with the machine's fully qualified Domain Name System (DNS) name exist.</span></span> <span data-ttu-id="2dc6e-151">Ein Zertifikat stammt aus der automatischen Registrierung, das andere kann ein selbst ausgestelltes Zertifikat sein.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-151">One certificate originates from autoenrollment; the other might be a self-issued certificate.</span></span>  
  
 <span data-ttu-id="2dc6e-152">Um dies zu vermeiden, verweisen Sie auf das exakte zu verwendende Zertifikat, indem Sie ein präzisere Suchkriterium für den verwenden [\<serviceCredentials>](../../configure-apps/file-schema/wcf/servicecredentials.md) .</span><span class="sxs-lookup"><span data-stu-id="2dc6e-152">To mitigate this, reference the exact certificate to use by using a more precise search criterion on the [\<serviceCredentials>](../../configure-apps/file-schema/wcf/servicecredentials.md).</span></span> <span data-ttu-id="2dc6e-153">Verwenden Sie z. B. die <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint>-Option, und geben Sie das Zertifikat anhand seines eindeutigen Fingerabdrucks an (Hash).</span><span class="sxs-lookup"><span data-stu-id="2dc6e-153">For example, use the <xref:System.Security.Cryptography.X509Certificates.X509FindType.FindByThumbprint> option, and specify the certificate by its unique thumbprint (hash).</span></span>  
  
 <span data-ttu-id="2dc6e-154">Weitere Informationen zur automatischen anmeldungsfunktion finden Sie unter [automatische Registrierung von Zertifikaten in Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc778954(v=ws.10)).</span><span class="sxs-lookup"><span data-stu-id="2dc6e-154">For more information about the autoenrollment feature, see [Certificate Autoenrollment in Windows Server 2003](/previous-versions/windows/it-pro/windows-server-2003/cc778954(v=ws.10)).</span></span>  
  
## <a name="last-of-multiple-alternative-subject-names-used-for-authorization"></a><span data-ttu-id="2dc6e-155">Der letzte von mehreren für die Autorisierung verwendeten alternativen Antragstellernamen</span><span class="sxs-lookup"><span data-stu-id="2dc6e-155">Last of Multiple Alternative Subject Names Used for Authorization</span></span>  

 <span data-ttu-id="2dc6e-156">In dem seltenen Fall, dass ein X.509-Zertifikat mehrere alternative Antragstellernamen enthält und Sie die Verwendung des alternativen Antragstellernamens autorisieren, kann die Autorisierung fehlschlagen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-156">In the rare case when an X.509 certificate contains multiple alternative subject names, and you authorize using the alternative subject name, authorization may fail.</span></span>  
  
## <a name="protect-configuration-files-with-acls"></a><span data-ttu-id="2dc6e-157">Schutz von Konfigurationsdateien mit Zugriffssteuerungslisten</span><span class="sxs-lookup"><span data-stu-id="2dc6e-157">Protect Configuration Files with ACLs</span></span>  

 <span data-ttu-id="2dc6e-158">Sie können erforderliche und optionale Ansprüche im Code und in Konfigurationsdateien für von CardSpace ausgestellte Token angeben.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-158">You can specify required and optional claims in code and configuration files for CardSpace issued tokens.</span></span> <span data-ttu-id="2dc6e-159">Dies führt dazu, dass entsprechende Elemente in `RequestSecurityToken`-Nachrichten ausgegeben werden, die an den Sicherheitstokendienst gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-159">This results in corresponding elements being emitted in `RequestSecurityToken` messages that are sent to the security token service.</span></span> <span data-ttu-id="2dc6e-160">Ein Angreifer kann den Code oder die Konfiguration ändern, um erforderliche oder optionale Ansprüche zu entfernen, sodass der Sicherheitstokendienst möglicherweise einen Token ausstellt, der keinen Zugriff auf den Zieldienst gewährt.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-160">An attacker can modify code or configuration to remove required or optional claims, potentially getting the security token service to issue a token that does not allow access to the target service.</span></span>  
  
 <span data-ttu-id="2dc6e-161">Erfordern Sie zum Ändern der Konfigurationsdatei den Zugriff auf den Computer, um diese Gefahr zu umgehen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-161">To mitigate: Require access to the computer to modify the configuration file.</span></span> <span data-ttu-id="2dc6e-162">Verwenden Sie Zugriffssteuerungslisten zum Sichern von Konfigurationsdateien.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-162">Use file access control lists (ACLs) to secure configuration files.</span></span> <span data-ttu-id="2dc6e-163">WCF erfordert, dass sich Code im Anwendungsverzeichnis oder im globalen Assemblycache befinden muss, bevor dieser Code aus der Konfiguration geladen werden kann.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-163">WCF requires that code be in the application directory or the global assembly cache before it will allow such code to be loaded from configuration.</span></span> <span data-ttu-id="2dc6e-164">Verwenden Sie Verzeichnis-Zugriffssteuerungslisten zum Sichern von Verzeichnissen.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-164">Use directory ACLs to secure directories.</span></span>  
  
## <a name="maximum-number-of-secure-sessions-for-a-service-is-reached"></a><span data-ttu-id="2dc6e-165">Maximale Anzahl von sicheren Sitzungen für einen Dienst wurde erreicht</span><span class="sxs-lookup"><span data-stu-id="2dc6e-165">Maximum Number of Secure Sessions for a Service Is Reached</span></span>  

 <span data-ttu-id="2dc6e-166">Wenn ein Client erfolgreich durch einen Dienst authentifiziert wird und eine sichere Verbindung mit dem Dienst eingerichtet wird, verfolgt der Dienst die Sitzung, bis sie vom Client abgebrochen wird oder abläuft.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-166">When a client is successfully authenticated by a service and a secure session is established with the service, the service keeps track of the session until the client cancels it or the session expires.</span></span> <span data-ttu-id="2dc6e-167">Jede eingerichtete Sitzung wird auf den Grenzwert für die maximale Anzahl gleichzeitiger aktiver Sitzungen mit dem Dienst angerechnet.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-167">Every established session counts against the limit for the maximum number of active simultaneous sessions with a service.</span></span> <span data-ttu-id="2dc6e-168">Wenn dieser Grenzwert erreicht wird, werden Clients abgelehnt, die versuchen, eine neue Sitzung mit diesem Dienst zu erstellen, bis eine oder mehrere aktive Sitzungen ablaufen oder vom Client abgebrochen werden.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-168">When this limit is reached, clients that attempt to create a new session with that service are rejected until one or more active sessions expire or are canceled by a client.</span></span> <span data-ttu-id="2dc6e-169">Ein Client kann über mehrere Sitzungen mit einem Dienst verfügen, und jede dieser Sitzungen wird auf den Grenzwert angerechnet.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-169">A client can have multiple sessions with a service, and each one of those sessions counts toward the limit.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="2dc6e-170">Wenn Sie zustandsbehaftete Sitzungen verwenden, trifft der vorhergehende Absatz nicht zu.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-170">When you use stateful sessions, the previous paragraph does not apply.</span></span> <span data-ttu-id="2dc6e-171">Weitere Informationen zu Zustands behafteten Sitzungen finden [Sie unter Gewusst wie: Erstellen eines Sicherheitskontext Tokens für eine sichere Sitzung](how-to-create-a-security-context-token-for-a-secure-session.md).</span><span class="sxs-lookup"><span data-stu-id="2dc6e-171">For more information about stateful sessions, see [How to: Create a Security Context Token for a Secure Session](how-to-create-a-security-context-token-for-a-secure-session.md).</span></span>  
  
 <span data-ttu-id="2dc6e-172">Legen Sie den Grenzwert für die maximale Anzahl aktiver Sitzungen und die maximale Lebensdauer für eine Sitzung über die <xref:System.ServiceModel.Channels.SecurityBindingElement>-Eigenschaft der <xref:System.ServiceModel.Channels.SecurityBindingElement>-Klasse fest, wenn Sie dieses Sicherheitsproblem vermeiden möchten.</span><span class="sxs-lookup"><span data-stu-id="2dc6e-172">To mitigate this, set the limit for the maximum number of active sessions and the maximum lifetime for a session by setting the <xref:System.ServiceModel.Channels.SecurityBindingElement> property of the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2dc6e-173">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="2dc6e-173">See also</span></span>

- [<span data-ttu-id="2dc6e-174">Sicherheitshinweise</span><span class="sxs-lookup"><span data-stu-id="2dc6e-174">Security Considerations</span></span>](security-considerations-in-wcf.md)
- [<span data-ttu-id="2dc6e-175">Veröffentlichung von Informationen</span><span class="sxs-lookup"><span data-stu-id="2dc6e-175">Information Disclosure</span></span>](information-disclosure.md)
- [<span data-ttu-id="2dc6e-176">Erhöhung von Rechten</span><span class="sxs-lookup"><span data-stu-id="2dc6e-176">Elevation of Privilege</span></span>](elevation-of-privilege.md)
- [<span data-ttu-id="2dc6e-177">Denial-of-Service</span><span class="sxs-lookup"><span data-stu-id="2dc6e-177">Denial of Service</span></span>](denial-of-service.md)
- [<span data-ttu-id="2dc6e-178">Wiederholungsangriffe</span><span class="sxs-lookup"><span data-stu-id="2dc6e-178">Replay Attacks</span></span>](replay-attacks.md)
- [<span data-ttu-id="2dc6e-179">Manipulation</span><span class="sxs-lookup"><span data-stu-id="2dc6e-179">Tampering</span></span>](tampering.md)
- [<span data-ttu-id="2dc6e-180">Nicht unterstützte Szenarien</span><span class="sxs-lookup"><span data-stu-id="2dc6e-180">Unsupported Scenarios</span></span>](unsupported-scenarios.md)
