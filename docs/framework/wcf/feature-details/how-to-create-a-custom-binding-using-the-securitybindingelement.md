---
title: 'Vorgehensweise: Erstellen einer benutzerdefinierten Bindung mit dem SecurityBindingElement'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- security [WCF], creating custom bindings
ms.assetid: 203a9f9e-3a73-427c-87aa-721c56265b29
ms.openlocfilehash: 15fdd50b05bd2217cb9819373cd1c015da52b15b
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 06/09/2020
ms.locfileid: "84599008"
---
# <a name="how-to-create-a-custom-binding-using-the-securitybindingelement"></a><span data-ttu-id="c2c7e-102">Vorgehensweise: Erstellen einer benutzerdefinierten Bindung mit dem SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-102">How to: Create a Custom Binding Using the SecurityBindingElement</span></span>
<span data-ttu-id="c2c7e-103">Windows Communication Foundation (WCF) umfasst mehrere vom System bereitgestellte Bindungen, die konfiguriert werden können, aber nicht vollständig flexibel sind, wenn alle Sicherheitsoptionen konfiguriert werden, die von WCF unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-103">Windows Communication Foundation (WCF) includes several system-provided bindings that can be configured but do not provide full flexibility when configuring all the security options that WCF supports.</span></span> <span data-ttu-id="c2c7e-104">Dieses Thema veranschaulicht, wie eine benutzerdefinierte Bindung direkt aus individuellen Bindungselementen erstellt wird, und stellt einige der Sicherheitseinstellungen heraus, die bei der Erstellung einer derartigen Bindung festgelegt werden können.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-104">This topic demonstrates how to create a custom binding directly from individual binding elements and highlights some of the security settings that can be specified when creating such a binding.</span></span> <span data-ttu-id="c2c7e-105">Weitere Informationen zum Erstellen von benutzerdefinierten Bindungen finden Sie unter [Erweitern von Bindungen](../extending/extending-bindings.md).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-105">For more information about creating custom bindings, see [Extending Bindings](../extending/extending-bindings.md).</span></span>  
  
> [!WARNING]
> <span data-ttu-id="c2c7e-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> unterstützt die <xref:System.ServiceModel.Channels.IDuplexSessionChannel>-Kanalform nicht, die der standardmäßig vom TCP-Transport verwendeten Kanalform entspricht, wenn <xref:System.ServiceModel.TransferMode> auf <xref:System.ServiceModel.TransferMode.Buffered> festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-106"><xref:System.ServiceModel.Channels.SecurityBindingElement> does not support the <xref:System.ServiceModel.Channels.IDuplexSessionChannel> channel shape, which is the default channel shape use by the TCP transport when <xref:System.ServiceModel.TransferMode> is set to <xref:System.ServiceModel.TransferMode.Buffered>.</span></span> <span data-ttu-id="c2c7e-107">Sie müssen <xref:System.ServiceModel.TransferMode> auf <xref:System.ServiceModel.TransferMode.Streamed> festlegen, um <xref:System.ServiceModel.Channels.SecurityBindingElement> in diesem Szenario verwenden.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-107">You must set <xref:System.ServiceModel.TransferMode> to <xref:System.ServiceModel.TransferMode.Streamed> in order to use <xref:System.ServiceModel.Channels.SecurityBindingElement> in this scenario.</span></span>  
  
## <a name="creating-a-custom-binding"></a><span data-ttu-id="c2c7e-108">Erstellen einer benutzerdefinierten Bindung</span><span class="sxs-lookup"><span data-stu-id="c2c7e-108">Creating a Custom Binding</span></span>  
 <span data-ttu-id="c2c7e-109">In WCF bestehen alle Bindungen aus *Bindungs Elementen*.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-109">In WCF all bindings are made up of *binding elements*.</span></span> <span data-ttu-id="c2c7e-110">Jedes Bindungselement wird von der <xref:System.ServiceModel.Channels.BindingElement>-Klasse abgeleitet.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-110">Each binding element derives from the <xref:System.ServiceModel.Channels.BindingElement> class.</span></span> <span data-ttu-id="c2c7e-111">Bei den standardmäßigen, vom System bereitgestellten Bindungen werden die Bindungselemente für Sie erstellt und konfiguriert, einige der Eigenschaftseinstellungen können jedoch angepasst werden.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-111">For the standard system-provided bindings, the binding elements are created and configured for you, although you can customize some of the property settings.</span></span>  
  
 <span data-ttu-id="c2c7e-112">Im Gegensatz dazu werden zum Erstellen einer benutzerdefinierten Bindung Bindungselemente erstellt und konfiguriert, und aus den Bindungselementen wird eine <xref:System.ServiceModel.Channels.CustomBinding> erstellt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-112">In contrast, to create a custom binding, binding elements are created and configured and a <xref:System.ServiceModel.Channels.CustomBinding> is created from the binding elements.</span></span>  
  
 <span data-ttu-id="c2c7e-113">Fügen Sie hierzu die einzelnen Bindungselemente einer Auflistung hinzu, die durch eine Instanz der <xref:System.ServiceModel.Channels.BindingElementCollection>-Klasse repräsentiert wird, und legen Sie anschließend die `Elements`-Eigenschaft der `CustomBinding` auf dieses Objekt fest.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-113">To do this, you add the individual binding elements to a collection represented by an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class, and then set the `Elements` property of the `CustomBinding` equal to that object.</span></span> <span data-ttu-id="c2c7e-114">Die Bindungselemente müssen in der folgenden Reihenfolge hinzugefügt werden: Transaktionsfluss, zuverlässige Sitzung, Sicherheit, Composite Duplex, Unidirektional, Streamsicherheit, Nachrichtencodierung und Transport.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-114">You must add the binding elements in the following order: Transaction Flow, Reliable Session, Security, Composite Duplex, One-way, Stream Security, Message Encoding, and Transport.</span></span> <span data-ttu-id="c2c7e-115">Beachten Sie, dass nicht alle aufgelisteten Bindungselemente in jeder Bindung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-115">Note that not all the binding elements listed are required in every binding.</span></span>  
  
## <a name="securitybindingelement"></a><span data-ttu-id="c2c7e-116">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-116">SecurityBindingElement</span></span>  
 <span data-ttu-id="c2c7e-117">Drei Bindungselemente beziehen sich auf die Sicherheit auf Nachrichtenebene, wobei alle von der <xref:System.ServiceModel.Channels.SecurityBindingElement>-Klasse abgeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-117">Three binding elements relate to message level security, all of which derive from the <xref:System.ServiceModel.Channels.SecurityBindingElement> class.</span></span> <span data-ttu-id="c2c7e-118">Die drei sind <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> und <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-118">The three are <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>, <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>, and <xref:System.ServiceModel.Channels.AsymmetricSecurityBindingElement>.</span></span> <span data-ttu-id="c2c7e-119">Das <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> wird für Sicherheit im gemischten Modus verwendet.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-119">The <xref:System.ServiceModel.Channels.TransportSecurityBindingElement> is used to provide Mixed mode security.</span></span> <span data-ttu-id="c2c7e-120">Die anderen beiden Elemente werden verwendet, wenn die Nachrichtenebene Sicherheit bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-120">The other two elements are used when the message layer provides security.</span></span>  
  
 <span data-ttu-id="c2c7e-121">Zusätzliche Klassen werden verwendet, wenn Sicherheit auf Transportebene bereitgestellt wird:</span><span class="sxs-lookup"><span data-stu-id="c2c7e-121">Additional classes are used when transport level security is provided:</span></span>  
  
- <xref:System.ServiceModel.Channels.HttpsTransportBindingElement>  
  
- <xref:System.ServiceModel.Channels.SslStreamSecurityBindingElement>  
  
- <xref:System.ServiceModel.Channels.WindowsStreamSecurityBindingElement>  
  
## <a name="required-binding-elements"></a><span data-ttu-id="c2c7e-122">Erforderliche Bindungselemente</span><span class="sxs-lookup"><span data-stu-id="c2c7e-122">Required Binding Elements</span></span>  
 <span data-ttu-id="c2c7e-123">Es gibt eine große Anzahl von möglichen Bindungselementen, die zu einer Bindung kombiniert werden können.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-123">There are a large number of possible binding elements that can be combined into a binding.</span></span> <span data-ttu-id="c2c7e-124">Nicht alle Kombinationen sind zulässig.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-124">Not all of these combinations are valid.</span></span> <span data-ttu-id="c2c7e-125">In diesem Abschnitt werden die für eine Sicherheitsbindung erforderlichen Elemente beschrieben.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-125">This section describes the required elements that must be present in a security binding.</span></span>  
  
 <span data-ttu-id="c2c7e-126">Gültige Sicherheitsbindungen hängen von vielen Faktoren ab, unter anderem von folgenden:</span><span class="sxs-lookup"><span data-stu-id="c2c7e-126">Valid security bindings depend on many factors, including the following:</span></span>  
  
- <span data-ttu-id="c2c7e-127">Sicherheitsmodus</span><span class="sxs-lookup"><span data-stu-id="c2c7e-127">Security mode.</span></span>  
  
- <span data-ttu-id="c2c7e-128">Transportprotokoll</span><span class="sxs-lookup"><span data-stu-id="c2c7e-128">Transport protocol.</span></span>  
  
- <span data-ttu-id="c2c7e-129">Das im Vertrag angegebene Nachrichtenaustauschmuster (MEP)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-129">The message exchange pattern (MEP) specified in the contract.</span></span>  
  
 <span data-ttu-id="c2c7e-130">Die folgende Tabelle enthält die gültigen Konfigurationen von Bindungselementstapeln für jede Kombination der oben genannten Faktoren.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-130">The following table shows the valid binding element stack configurations for each combination of the preceding factors.</span></span> <span data-ttu-id="c2c7e-131">Beachten Sie, dass es sich herbei um Mindestanforderungen handelt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-131">Note that these are minimal requirements.</span></span> <span data-ttu-id="c2c7e-132">Sie können der Bindung weitere Bindungselemente hinzufügen (beispielsweise Elemente zur Nachrichtencodierung, Transaktionsbindungselemente usw.).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-132">You can add additional binding elements to the binding, such as message encoding binding elements, transaction binding elements, and other binding elements.</span></span>  
  
|<span data-ttu-id="c2c7e-133">Sicherheitsmodus</span><span class="sxs-lookup"><span data-stu-id="c2c7e-133">Security Mode</span></span>|<span data-ttu-id="c2c7e-134">Transport</span><span class="sxs-lookup"><span data-stu-id="c2c7e-134">Transport</span></span>|<span data-ttu-id="c2c7e-135">Nachrichtenaustauschmuster des Vertrags</span><span class="sxs-lookup"><span data-stu-id="c2c7e-135">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="c2c7e-136">Nachrichtenaustauschmuster des Vertrags</span><span class="sxs-lookup"><span data-stu-id="c2c7e-136">Contract Message Exchange Pattern</span></span>|<span data-ttu-id="c2c7e-137">Nachrichtenaustauschmuster des Vertrags</span><span class="sxs-lookup"><span data-stu-id="c2c7e-137">Contract Message Exchange Pattern</span></span>|  
|-------------------|---------------|---------------------------------------|---------------------------------------|---------------------------------------|  
|||`Datagram`|`Request Reply`|`Duplex`|  
|<span data-ttu-id="c2c7e-138">Transport</span><span class="sxs-lookup"><span data-stu-id="c2c7e-138">Transport</span></span>|<span data-ttu-id="c2c7e-139">HTTPS</span><span class="sxs-lookup"><span data-stu-id="c2c7e-139">Https</span></span>||||  
|||<span data-ttu-id="c2c7e-140">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-140">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="c2c7e-141">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-141">HttpsTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-142">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-142">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="c2c7e-143">TCP</span><span class="sxs-lookup"><span data-stu-id="c2c7e-143">TCP</span></span>||||  
|||<span data-ttu-id="c2c7e-144">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-144">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="c2c7e-145">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-145">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-146">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-146">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-147">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-147">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="c2c7e-148">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-148">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-149">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-149">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-150">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-150">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="c2c7e-151">`Message`</span><span class="sxs-lookup"><span data-stu-id="c2c7e-151">Message</span></span>|<span data-ttu-id="c2c7e-152">Http</span><span class="sxs-lookup"><span data-stu-id="c2c7e-152">Http</span></span>|<span data-ttu-id="c2c7e-153">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-153">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-154">SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-154">SymmetricSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-155">SymmetricSecurityBindingElement (Authentifizierungsmodus = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-155">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||||<span data-ttu-id="c2c7e-156">CompositeDuplexBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-156">CompositeDuplexBindingElement</span></span>|  
|||<span data-ttu-id="c2c7e-157">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-157">OneWayBindingElement</span></span>||<span data-ttu-id="c2c7e-158">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-158">OneWayBindingElement</span></span>|  
|||<span data-ttu-id="c2c7e-159">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-159">HttpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-160">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-160">HttpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-161">HttpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-161">HttpTransportBindingElement</span></span>|  
||<span data-ttu-id="c2c7e-162">Tcp</span><span class="sxs-lookup"><span data-stu-id="c2c7e-162">Tcp</span></span>|<span data-ttu-id="c2c7e-163">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-163">SecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-164">SecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-164">SecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-165">SymmetricSecurityBindingElement (Authentifizierungsmodus = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-165">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="c2c7e-166">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-166">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-167">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-167">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-168">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-168">TcpTransportBindingElement</span></span>|  
|<span data-ttu-id="c2c7e-169">Gemischt (Transport mit Nachrichtenanmeldeinformationen)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-169">Mixed (transport with message credentials)</span></span>|<span data-ttu-id="c2c7e-170">HTTPS</span><span class="sxs-lookup"><span data-stu-id="c2c7e-170">Https</span></span>|<span data-ttu-id="c2c7e-171">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-171">TransportSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-172">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-172">TransportSecurityBindingElement</span></span>||  
|||<span data-ttu-id="c2c7e-173">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-173">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="c2c7e-174">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-174">HttpsTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-175">HttpsTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-175">HttpsTransportBindingElement</span></span>||  
||<span data-ttu-id="c2c7e-176">TCP</span><span class="sxs-lookup"><span data-stu-id="c2c7e-176">TCP</span></span>|<span data-ttu-id="c2c7e-177">TransportSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-177">TransportSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-178">SymmetricSecurityBindingElement (Authentifizierungsmodus = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-178">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|<span data-ttu-id="c2c7e-179">SymmetricSecurityBindingElement (Authentifizierungsmodus = SecureConversation)</span><span class="sxs-lookup"><span data-stu-id="c2c7e-179">SymmetricSecurityBindingElement (authentication mode = SecureConversation)</span></span>|  
|||<span data-ttu-id="c2c7e-180">OneWayBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-180">OneWayBindingElement</span></span>|||  
|||<span data-ttu-id="c2c7e-181">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-181">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-182">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-182">SSL or Windows StreamSecurityBindingElement</span></span>|<span data-ttu-id="c2c7e-183">SSL oder Windows-StreamSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-183">SSL or Windows StreamSecurityBindingElement</span></span>|  
|||<span data-ttu-id="c2c7e-184">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-184">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-185">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-185">TcpTransportBindingElement</span></span>|<span data-ttu-id="c2c7e-186">TcpTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-186">TcpTransportBindingElement</span></span>|  
  
 <span data-ttu-id="c2c7e-187">Beachten Sie, dass für SecurityBindingElements eine Vielzahl konfigurierbarer Einstellungen zur Verfügung stehen.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-187">Note that there are many configurable settings on the SecurityBindingElements.</span></span> <span data-ttu-id="c2c7e-188">Weitere Informationen finden Sie unter [SecurityBindingElement-Authentifizierungs Modi](securitybindingelement-authentication-modes.md).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-188">For more information, see [SecurityBindingElement Authentication Modes](securitybindingelement-authentication-modes.md).</span></span>  
  
 <span data-ttu-id="c2c7e-189">Weitere Informationen finden Sie unter [Sichere Konversationen und sichere Sitzungen](secure-conversations-and-secure-sessions.md).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-189">For more information, see [Secure Conversations and Secure Sessions](secure-conversations-and-secure-sessions.md).</span></span>  
  
## <a name="procedures"></a><span data-ttu-id="c2c7e-190">Prozeduren</span><span class="sxs-lookup"><span data-stu-id="c2c7e-190">Procedures</span></span>  
  
#### <a name="to-create-a-custom-binding-that-uses-a-symmetricsecuritybindingelement"></a><span data-ttu-id="c2c7e-191">So erstellen Sie eine benutzerdefinierte Bindung mit dem SymmetricSecurityBindingElement</span><span class="sxs-lookup"><span data-stu-id="c2c7e-191">To create a custom binding that uses a SymmetricSecurityBindingElement</span></span>  
  
1. <span data-ttu-id="c2c7e-192">Erstellen Sie eine Instanz der <xref:System.ServiceModel.Channels.BindingElementCollection>-Klasse mit dem Namen `outputBec`.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-192">Create an instance of the <xref:System.ServiceModel.Channels.BindingElementCollection> class with the name `outputBec`.</span></span>  
  
2. <span data-ttu-id="c2c7e-193">Rufen Sie die statische `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`-Methode auf, durch die eine Instanz der <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>-Klasse zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-193">Call the static method `M:System.ServiceModel.Channels.SecurityBindingElement.CreateSspiNegotiationBindingElement(true)`, which returns an instance of the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> class.</span></span>  
  
3. <span data-ttu-id="c2c7e-194">Fügen Sie das <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> zur Sammlung hinzu (`outputBec`), indem Sie die `Add`-Methode der <xref:System.Collections.ObjectModel.Collection%601> der <xref:System.ServiceModel.Channels.BindingElement>-Klasse aufrufen.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-194">Add the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> to the collection (`outputBec`) by calling the `Add` method of the <xref:System.Collections.ObjectModel.Collection%601> of <xref:System.ServiceModel.Channels.BindingElement> class.</span></span>  
  
4. <span data-ttu-id="c2c7e-195">Erstellen Sie eine Instanz der <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement>-Klasse, und fügen Sie diese der Sammlung hinzu (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-195">Create an instance of the <xref:System.ServiceModel.Channels.TextMessageEncodingBindingElement> class and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="c2c7e-196">Dies gibt die von der Bindung verwendete Codierung an.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-196">This specifies the encoding used by the binding.</span></span>  
  
5. <span data-ttu-id="c2c7e-197">Erstellen Sie ein <xref:System.ServiceModel.Channels.HttpTransportBindingElement>, und fügen Sie es der Sammlung hinzu (`outputBec`).</span><span class="sxs-lookup"><span data-stu-id="c2c7e-197">Create a <xref:System.ServiceModel.Channels.HttpTransportBindingElement> and add it to the collection (`outputBec`).</span></span> <span data-ttu-id="c2c7e-198">Dadurch wird angegeben, dass die Bindung den HTTP-Transport nutzt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-198">This specifies that the binding uses the HTTP transport.</span></span>  
  
6. <span data-ttu-id="c2c7e-199">Erstellen Sie eine neue benutzerdefinierte Bindung, indem Sie eine Instanz der <xref:System.ServiceModel.Channels.CustomBinding>-Klasse erstellen und die Sammlung `outputBec` an den Konstruktor weitergeben.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-199">Create a new custom binding by creating an instance of the <xref:System.ServiceModel.Channels.CustomBinding> class and passing the collection `outputBec` to the constructor.</span></span>  
  
7. <span data-ttu-id="c2c7e-200">Die resultierenden benutzerdefinierten Bindungen teilen sich viele Eigenschaften mit dem Standard <xref:System.ServiceModel.WSHttpBinding>.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-200">The resulting custom binding shares many of the same characteristics as the standard <xref:System.ServiceModel.WSHttpBinding>.</span></span> <span data-ttu-id="c2c7e-201">Sicherheit wird auf Nachrichtenebene und Windows-Anmeldeinformationen festgelegt, aber sichere Sitzungen werden deaktiviert, eine Out-of-Band-Festlegung der Dienstanmeldeinformationen ist erforderlich und Signaturen werden nicht verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-201">It specifies message-level security and Windows credentials but disables secure sessions, requires that the service credential be specified out-of-band, and does not encrypt signatures.</span></span> <span data-ttu-id="c2c7e-202">Die letzte kann nur durch Festlegen der <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A>-Eigenschaft gesteuert werden, wie in Schritt 4 angezeigt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-202">The last can be controlled only by setting the <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement.MessageProtectionOrder%2A> property as shown in step 4.</span></span> <span data-ttu-id="c2c7e-203">Die anderen beiden können über Einstellungen auf der Standardbindung kontrolliert werden.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-203">The other two can be controlled using settings on the standard binding.</span></span>  
  
## <a name="example"></a><span data-ttu-id="c2c7e-204">Beispiel</span><span class="sxs-lookup"><span data-stu-id="c2c7e-204">Example</span></span>  
  
### <a name="description"></a><span data-ttu-id="c2c7e-205">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="c2c7e-205">Description</span></span>  
 <span data-ttu-id="c2c7e-206">Das folgende Beispiel veranschaulicht eine vollständige Funktion zur Erstellung einer benutzerdefinierten Bindung, die ein <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement> nutzt.</span><span class="sxs-lookup"><span data-stu-id="c2c7e-206">The following example provides a complete function to create a custom binding that uses a <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>.</span></span>  
  
### <a name="code"></a><span data-ttu-id="c2c7e-207">Code</span><span class="sxs-lookup"><span data-stu-id="c2c7e-207">Code</span></span>  
 [!code-csharp[c_CustomBinding#20](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_custombinding/cs/c_custombinding.cs#20)]
 [!code-vb[c_CustomBinding#20](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_custombinding/vb/source.vb#20)]  
  
## <a name="see-also"></a><span data-ttu-id="c2c7e-208">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c2c7e-208">See also</span></span>

- <xref:System.ServiceModel.Channels.SecurityBindingElement>
- <xref:System.ServiceModel.Channels.TransportSecurityBindingElement>
- <xref:System.ServiceModel.Channels.SymmetricSecurityBindingElement>
- <xref:System.ServiceModel.Channels.CustomBinding>
- [<span data-ttu-id="c2c7e-209">Erweitern von Bindungen</span><span class="sxs-lookup"><span data-stu-id="c2c7e-209">Extending Bindings</span></span>](../extending/extending-bindings.md)
- [<span data-ttu-id="c2c7e-210">Vom System bereitgestellte Bindungen</span><span class="sxs-lookup"><span data-stu-id="c2c7e-210">System-Provided Bindings</span></span>](../system-provided-bindings.md)
