---
title: Endpunktadressen
ms.date: 03/30/2017
helpviewer_keywords:
- addresses [WCF]
- Windows Communication Foundation [WCF], addresses
- WCF [WCF], addresses
ms.assetid: 13f269e3-ebb1-433c-86cf-54fbd866a627
ms.openlocfilehash: cc81e7ad45c308f5ecf476641dfd65fe47b36098
ms.sourcegitcommit: 3c1c3ba79895335ff3737934e39372555ca7d6d0
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/06/2018
ms.locfileid: "43855714"
---
# <a name="endpoint-addresses"></a><span data-ttu-id="cd90a-102">Endpunktadressen</span><span class="sxs-lookup"><span data-stu-id="cd90a-102">Endpoint Addresses</span></span>
<span data-ttu-id="cd90a-103">Jedem Endpunkt ist eine Adresse zugeordnet, um den Endpunkt suchen und identifizieren zu können.</span><span class="sxs-lookup"><span data-stu-id="cd90a-103">Every endpoint has an address associated with it, which is used to locate and identify the endpoint.</span></span> <span data-ttu-id="cd90a-104">Diese Adresse besteht hauptsächlich aus einem Uniform Resource Identifier (URI), der den Speicherort des Endpunkts angibt.</span><span class="sxs-lookup"><span data-stu-id="cd90a-104">This address consists primarily of a Uniform Resource Identifier (URI), which specifies the location of the endpoint.</span></span> <span data-ttu-id="cd90a-105">Die Adresse des Endpunkts wird dargestellt, in der Windows Communication Foundation (WCF)-Programmiermodell von der <xref:System.ServiceModel.EndpointAddress> -Klasse, die ein optionales enthält <xref:System.ServiceModel.EndpointAddress.Identity%2A> -Eigenschaft, die die Authentifizierung des Endpunkts durch andere Endpunkte ermöglicht, austauschen, mit denen er Meldungen und einen Satz Optionaler <xref:System.ServiceModel.EndpointAddress.Headers%2A> Eigenschaften, die alle anderen zum Erreichen des Diensts erforderlichen SOAP-Header festlegen.</span><span class="sxs-lookup"><span data-stu-id="cd90a-105">The endpoint address is represented in the Windows Communication Foundation (WCF) programming model by the <xref:System.ServiceModel.EndpointAddress> class, which contains an optional <xref:System.ServiceModel.EndpointAddress.Identity%2A> property that enables the authentication of the endpoint by other endpoints that exchange messages with it, and a set of optional <xref:System.ServiceModel.EndpointAddress.Headers%2A> properties, which define any other SOAP headers required to reach the service.</span></span> <span data-ttu-id="cd90a-106">Die optionalen Header stellen zusätzliche und ausführlichere Adressinformationen bereit, um den Dienstendpunkt zu identifizieren oder mit ihm zu interagieren.</span><span class="sxs-lookup"><span data-stu-id="cd90a-106">The optional headers provide additional and more detailed addressing information to identify or interact with the service endpoint.</span></span> <span data-ttu-id="cd90a-107">Die Adresse eines Endpunkts wird während der Übertragung als WS-Adressierungsendpunktverweis (Endpoint Reference, EPR) dargestellt.</span><span class="sxs-lookup"><span data-stu-id="cd90a-107">The address of an endpoint is represented on the wire as a WS-Addressing endpoint reference (EPR).</span></span>  
  
## <a name="uri-structure-of-an-address"></a><span data-ttu-id="cd90a-108">URI-Struktur einer Adresse</span><span class="sxs-lookup"><span data-stu-id="cd90a-108">URI Structure of an Address</span></span>  
 <span data-ttu-id="cd90a-109">Der Adress-URI besteht für die meisten Transporte aus vier Teilen.</span><span class="sxs-lookup"><span data-stu-id="cd90a-109">The address URI for most transports has four parts.</span></span> <span data-ttu-id="cd90a-110">Z. B. die vier Teile des URIS http://www.fabrikam.com:322/mathservice.svc/secureEndpoint können wie folgt aufgeführt werden:</span><span class="sxs-lookup"><span data-stu-id="cd90a-110">For example, the four parts of the URI http://www.fabrikam.com:322/mathservice.svc/secureEndpoint can be itemized as follows:</span></span>  
  
-   <span data-ttu-id="cd90a-111">Schema: http:</span><span class="sxs-lookup"><span data-stu-id="cd90a-111">Scheme: http:</span></span>  
  
-   <span data-ttu-id="cd90a-112">Computer: `www.fabrikam.com`</span><span class="sxs-lookup"><span data-stu-id="cd90a-112">Machine: `www.fabrikam.com`</span></span>  
  
-   <span data-ttu-id="cd90a-113">(optional) Port: 322</span><span class="sxs-lookup"><span data-stu-id="cd90a-113">(optional) Port: 322</span></span>  
  
-   <span data-ttu-id="cd90a-114">Pfad: /mathservice.svc/secureEndpoint</span><span class="sxs-lookup"><span data-stu-id="cd90a-114">Path: /mathservice.svc/secureEndpoint</span></span>  
  
## <a name="defining-an-address-for-a-service"></a><span data-ttu-id="cd90a-115">Definieren einer Adresse für einen Dienst</span><span class="sxs-lookup"><span data-stu-id="cd90a-115">Defining an Address for a Service</span></span>  
 <span data-ttu-id="cd90a-116">Die Endpunktadresse für einen Dienst kann entweder imperativ über Code oder deklarativ über die Konfiguration angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-116">The endpoint address for a service can be specified either imperatively using code or declaratively through configuration.</span></span> <span data-ttu-id="cd90a-117">Die Definition von Endpunkten im Code ist normalerweise nicht geeignet, da die Bindungen und Adressen für einen bereitgestellten Dienst sich in der Regel von denen unterscheiden, die während der Entwicklung des Diensts verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-117">Defining endpoints in code is usually not practical because the bindings and addresses for a deployed service are typically different from those used while the service is being developed.</span></span> <span data-ttu-id="cd90a-118">Im Allgemeinen ist es praktischer, Dienstendpunkte nicht mit Code, sondern mit Konfiguration zu definieren.</span><span class="sxs-lookup"><span data-stu-id="cd90a-118">Generally, it is more practical to define service endpoints using configuration rather than code.</span></span> <span data-ttu-id="cd90a-119">Werden die Bindung und die Adressinformationen nicht in den Code integriert, ist eine Änderung ohne Neukompilierung oder eine erneute Bereitstellung der Anwendung möglich.</span><span class="sxs-lookup"><span data-stu-id="cd90a-119">Keeping the binding and addressing information out of the code allows them to change without having to recompile or redeploy the application.</span></span>  
  
### <a name="defining-an-address-in-configuration"></a><span data-ttu-id="cd90a-120">Definieren einer Adresse in der Konfiguration</span><span class="sxs-lookup"><span data-stu-id="cd90a-120">Defining an Address in Configuration</span></span>  
 <span data-ttu-id="cd90a-121">Verwenden Sie zum Definieren eines Endpunkts in einer Konfigurationsdatei das [ \<Endpunkt >](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) Element.</span><span class="sxs-lookup"><span data-stu-id="cd90a-121">To define an endpoint in a configuration file, use the [\<endpoint>](../../../../docs/framework/configure-apps/file-schema/wcf/endpoint-element.md) element.</span></span> <span data-ttu-id="cd90a-122">Weitere Informationen und ein Beispiel finden Sie unter [angeben einer Endpunktadresse](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="cd90a-122">For details and an example, see [Specifying an Endpoint Address](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span></span>  
  
### <a name="defining-an-address-in-code"></a><span data-ttu-id="cd90a-123">Definieren einer Adresse im Code</span><span class="sxs-lookup"><span data-stu-id="cd90a-123">Defining an Address in Code</span></span>  
 <span data-ttu-id="cd90a-124">Eine Endpunktadresse kann mit der <xref:System.ServiceModel.EndpointAddress>-Klasse im Code erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-124">An endpoint address can be created in code with the <xref:System.ServiceModel.EndpointAddress> class.</span></span> <span data-ttu-id="cd90a-125">Weitere Informationen und ein Beispiel finden Sie unter [angeben einer Endpunktadresse](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="cd90a-125">For details and an example, see [Specifying an Endpoint Address](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span></span>  
  
### <a name="endpoints-in-wsdl"></a><span data-ttu-id="cd90a-126">Endpunkt in WSDL</span><span class="sxs-lookup"><span data-stu-id="cd90a-126">Endpoints in WSDL</span></span>  
 <span data-ttu-id="cd90a-127">Eine Endpunktadresse kann auch in WSDL (Web Services Description Language) als ein WS-Addressierungs-EPR-Element innerhalb des `wsdl:port`-Elements des entsprechenden Endpunkts dargestellt werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-127">An endpoint address can also be represented in WSDL as a WS-Addressing EPR element inside the corresponding endpoint's `wsdl:port` element.</span></span> <span data-ttu-id="cd90a-128">Der EPR enthält die Endpunktadresse sowie eventuelle Adresseigenschaften.</span><span class="sxs-lookup"><span data-stu-id="cd90a-128">The EPR contains the endpoint's address as well as any address properties.</span></span> <span data-ttu-id="cd90a-129">Weitere Informationen und ein Beispiel finden Sie unter [angeben einer Endpunktadresse](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span><span class="sxs-lookup"><span data-stu-id="cd90a-129">For details and an example, see [Specifying an Endpoint Address](../../../../docs/framework/wcf/specifying-an-endpoint-address.md).</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-35"></a><span data-ttu-id="cd90a-130">Mehrere IIS-Bindungen Unterstützung in .NET Framework 3.5</span><span class="sxs-lookup"><span data-stu-id="cd90a-130">Multiple IIS Binding Support in .NET Framework 3.5</span></span>  
 <span data-ttu-id="cd90a-131">Internetdienstanbieter hosten oftmals viele Anwendungen auf demselben Server und derselben Website, um die Websitedichte zu erhöhen und die Gesamtkosten (TCO) zu senken.</span><span class="sxs-lookup"><span data-stu-id="cd90a-131">Internet service providers often host many applications on the same server and site to increase the site density and lower total cost of ownership.</span></span> <span data-ttu-id="cd90a-132">Diese Anwendungen werden i.&#160;d.&#160;R. an unterschiedliche Basisadressen gebunden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-132">These applications are typically bound to different base addresses.</span></span> <span data-ttu-id="cd90a-133">Eine Internetinformationsdienste(IIS)-Website kann mehrere Anwendungen enthalten.</span><span class="sxs-lookup"><span data-stu-id="cd90a-133">An Internet Information Services (IIS) Web site can contain multiple applications.</span></span> <span data-ttu-id="cd90a-134">Auf die Anwendungen auf einer Website kann über eine oder mehrere IIS-Bindungen zugegriffen werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-134">The applications in a site can be accessed through one or more IIS bindings.</span></span>  
  
 <span data-ttu-id="cd90a-135">IIS-Bindungen stellen zwei Angaben bereit: ein Bindungsprotokoll und Bindungsinformationen.</span><span class="sxs-lookup"><span data-stu-id="cd90a-135">IIS bindings provide two pieces of information: a binding protocol, and binding information.</span></span> <span data-ttu-id="cd90a-136">Das Bindungsprotokoll definiert das Schema, das für die Kommunikation verwendet wird, und die Bindungsinformationen dienen dem Zugriff auf die Website.</span><span class="sxs-lookup"><span data-stu-id="cd90a-136">The binding protocol defines the scheme over which communication occurs, and binding information is the information used to access the site.</span></span>  
  
 <span data-ttu-id="cd90a-137">Das folgende Beispiel zeigt die Komponenten, die in einer IIS-Bindung enthalten sein können:</span><span class="sxs-lookup"><span data-stu-id="cd90a-137">The following example shows the components that can be present in an IIS binding:</span></span>  
  
-   <span data-ttu-id="cd90a-138">Bindungsprotokoll: HTTP</span><span class="sxs-lookup"><span data-stu-id="cd90a-138">Binding protocol: HTTP</span></span>  
  
-   <span data-ttu-id="cd90a-139">Bindungsinformationen: IP-Adresse, Anschluss, Hostheader</span><span class="sxs-lookup"><span data-stu-id="cd90a-139">Binding Information: IP Address, Port, Host header</span></span>  
  
 <span data-ttu-id="cd90a-140">IIS kann mehrere Bindungen für jede Site angeben, was zu mehreren Basisadressen für jedes Schema führt.</span><span class="sxs-lookup"><span data-stu-id="cd90a-140">IIS can specify multiple bindings for each site, which results in multiple base addresses for each scheme.</span></span> <span data-ttu-id="cd90a-141">Vor dem [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)], WCF mehrere Adressen für ein Schema wurde nicht unterstützt und wenn sie angegeben wurden, hat eine <xref:System.ArgumentException> während der Aktivierung.</span><span class="sxs-lookup"><span data-stu-id="cd90a-141">Prior to [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)], WCF did not support multiple addresses for a schema and, if they were specified, threw a <xref:System.ArgumentException> during activation.</span></span>  
  
 <span data-ttu-id="cd90a-142">[!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)] ermöglicht es Internetdienstanbietern, mehrere Anwendungen mit unterschiedlichen Basisadressen für dasselbe Schema auf derselben Website zu hosten.</span><span class="sxs-lookup"><span data-stu-id="cd90a-142">The [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)] enables Internet service providers to host multiple applications with different base addresses for the same scheme on the same site.</span></span>  
  
 <span data-ttu-id="cd90a-143">Eine Website kann beispielsweise die folgenden Basisadressen enthalten:</span><span class="sxs-lookup"><span data-stu-id="cd90a-143">For example, a site could contain the following base addresses:</span></span>  
  
-   http://payroll.myorg.com/Service.svc  
  
-   http://shipping.myorg.com/Service.svc  
  
 <span data-ttu-id="cd90a-144">Bei [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)] geben Sie in der Konfigurationsdatei auf der AppDomain-Ebene einen Präfixfilter an.</span><span class="sxs-lookup"><span data-stu-id="cd90a-144">With [!INCLUDE[netfx35_short](../../../../includes/netfx35-short-md.md)], you specify a prefix filter at the AppDomain level in the configuration file.</span></span> <span data-ttu-id="cd90a-145">Dies erledigen Sie über die [ \<BaseAddressPrefixFilters >](../../../../docs/framework/configure-apps/file-schema/wcf/baseaddressprefixfilters.md) Element, das eine Liste der Präfixe enthält.</span><span class="sxs-lookup"><span data-stu-id="cd90a-145">You do this with the [\<baseAddressPrefixFilters>](../../../../docs/framework/configure-apps/file-schema/wcf/baseaddressprefixfilters.md) element, which contains a list of prefixes.</span></span> <span data-ttu-id="cd90a-146">Die eingehenden, von IIS angegebenen Basisadressen werden anhand der optionalen Präfixliste gefiltert.</span><span class="sxs-lookup"><span data-stu-id="cd90a-146">The incoming base addresses, supplied by IIS, are filtered based on the optional prefix list.</span></span> <span data-ttu-id="cd90a-147">Standardmäßig werden alle Adressen übergeben, wenn ein Präfix nicht angegeben ist.</span><span class="sxs-lookup"><span data-stu-id="cd90a-147">By default, when a prefix is not specified, all addresses are passed through.</span></span> <span data-ttu-id="cd90a-148">Wenn die Präfixergebnisse angegeben werden, wird nur die Basisadresse übergeben, die dem Schema entspricht.</span><span class="sxs-lookup"><span data-stu-id="cd90a-148">Specifying the prefix results in only the matching base address for that scheme to be passed through.</span></span>  
  
 <span data-ttu-id="cd90a-149">Es folgt ein Beispiel für Konfigurationscode, der die Präfixfilter verwendet.</span><span class="sxs-lookup"><span data-stu-id="cd90a-149">The following is an example of configuration code that uses the prefix filters.</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment>  
     <baseAddressPrefixFilters>  
        <add prefix="net.tcp://payroll.myorg.com:8000"/>  
        <add prefix="http://shipping.myorg.com:8000"/>  
    </baseAddressPrefixFilters>  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="cd90a-150">Im vorherigen Beispiel TCP://Payroll.myorg.com: 8000 und http://shipping.myorg.com:8000 sind die einzigen Basisadressen für die jeweiligen Schemata, die übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-150">In the preceding example, net.tcp://payroll.myorg.com:8000 and http://shipping.myorg.com:8000 are the only base addresses, for their respective schemes, which are passed through.</span></span>  
  
 <span data-ttu-id="cd90a-151">Der `baseAddressPrefixFilter` unterstützt keine Platzhalter.</span><span class="sxs-lookup"><span data-stu-id="cd90a-151">The `baseAddressPrefixFilter` does not support wildcards.</span></span>  
  
 <span data-ttu-id="cd90a-152">Die von IIS angegebenen Basisadressen verfügen möglicherweise über Adressen, die an andere, nicht in der `baseAddressPrefixFilters`-Liste vorhandene Schemas gebunden sind.</span><span class="sxs-lookup"><span data-stu-id="cd90a-152">The base addresses supplied by IIS may have addresses bound to other schemes not present in `baseAddressPrefixFilters` list.</span></span> <span data-ttu-id="cd90a-153">Diese Adressen werden nicht herausgefiltert.</span><span class="sxs-lookup"><span data-stu-id="cd90a-153">These addresses are not filtered out.</span></span>  
  
## <a name="multiple-iis-binding-support-in-net-framework-4-and-later"></a><span data-ttu-id="cd90a-154">Unterstützung für mehrere IIS-Bindungen in .NET Framework 4 und höher</span><span class="sxs-lookup"><span data-stu-id="cd90a-154">Multiple IIS Binding Support in .NET Framework 4 and later</span></span>  
 <span data-ttu-id="cd90a-155">Ab .NET 4 können Sie die Unterstützung für mehrere Bindungen in IIS aktivieren, ohne eine Basisadresse auswählen zu müssen. Legen Sie dazu die Einstellung <xref:System.ServiceModel.ServiceHostingEnvironment> von <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> auf True fest.</span><span class="sxs-lookup"><span data-stu-id="cd90a-155">Starting in .NET 4, you can enable support for multiple bindings in IIS without having to pick a single base address, by setting <xref:System.ServiceModel.ServiceHostingEnvironment>’s <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A> setting to true.</span></span> <span data-ttu-id="cd90a-156">Die Unterstützung ist auf HTTP-Protokollschemas begrenzt.</span><span class="sxs-lookup"><span data-stu-id="cd90a-156">This support is limited to HTTP protocol schemes.</span></span>  
  
 <span data-ttu-id="cd90a-157">Folgendes ist ein Beispiel für Konfigurationscode, der MultipleSiteBindingsEnabled verwendet [ \<ServiceHostingEnvironment >](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md).</span><span class="sxs-lookup"><span data-stu-id="cd90a-157">The following is an example of configuration code that uses multipleSiteBindingsEnabled on [\<serviceHostingEnvironment>](../../../../docs/framework/configure-apps/file-schema/wcf/servicehostingenvironment.md).</span></span>  
  
```xml  
<system.serviceModel>  
  <serviceHostingEnvironment multipleSiteBindingsEnabled="true" >  
  </serviceHostingEnvironment>  
</system.serviceModel>  
```  
  
 <span data-ttu-id="cd90a-158">Wenn mehrere Websitebindungen mit dieser Einstellung aktiviert wurden, werden alle Einstellungen von baseAddressPrefixFilters sowohl für HTTP-Protokolle als auch für andere Protokolle ignoriert.</span><span class="sxs-lookup"><span data-stu-id="cd90a-158">Any baseAddressPrefixFilters settings are ignored, for both HTTP and non-HTTP protocols, when multiple site bindings are enabled using this setting.</span></span>  
  
 <span data-ttu-id="cd90a-159">Weitere Informationen und Beispiele finden Sie unter [unterstützen mehrerer IIS-Sitebindungen](../../../../docs/framework/wcf/feature-details/supporting-multiple-iis-site-bindings.md) und <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A>.</span><span class="sxs-lookup"><span data-stu-id="cd90a-159">For details and examples, see [Supporting Multiple IIS Site Bindings](../../../../docs/framework/wcf/feature-details/supporting-multiple-iis-site-bindings.md) and <xref:System.ServiceModel.ServiceHostingEnvironment.MultipleSiteBindingsEnabled%2A>.</span></span>  
  
## <a name="extending-addressing-in-wcf-services"></a><span data-ttu-id="cd90a-160">Erweitern der Adressierung in WCF-Diensten</span><span class="sxs-lookup"><span data-stu-id="cd90a-160">Extending Addressing in WCF Services</span></span>  
 <span data-ttu-id="cd90a-161">Das Adressierungsmodell der WCF-Dienste verwendet des endpunktadress-URI für folgende Zwecke:</span><span class="sxs-lookup"><span data-stu-id="cd90a-161">The default addressing model of WCF services uses the endpoint address URI for the following purposes:</span></span>  
  
-   <span data-ttu-id="cd90a-162">Um die Abhöradresse des Diensts anzugeben, d.&#160;h. den Speicherort, den der Endpunkt auf Nachrichten abhört</span><span class="sxs-lookup"><span data-stu-id="cd90a-162">To specify the service listening address, the location at which the endpoint listens for messages,</span></span>  
  
-   <span data-ttu-id="cd90a-163">Um den SOAP-Adressfilter anzugeben, d.&#160;h. die Adresse, die ein Endpunkt als SOAP-Header erwartet</span><span class="sxs-lookup"><span data-stu-id="cd90a-163">To specify the SOAP address filter, the address an endpoint expects as a SOAP header.</span></span>  
  
 <span data-ttu-id="cd90a-164">Die Werte für beide Situationen können separat angegeben werden. Dadurch werden mehrere Adressierungserweiterungen für nützliche Szenarien möglich:</span><span class="sxs-lookup"><span data-stu-id="cd90a-164">The values for each of these purposes can be specified separately, allowing several extensions of addressing that cover useful scenarios:</span></span>  
  
-   <span data-ttu-id="cd90a-165">SOAP-Vermittler: Eine von einem Client gesendete Nachricht durchläuft einen oder mehrere zusätzliche Dienste, die die Nachricht verarbeiten, bevor sie ihr endgültiges Ziel erreicht.</span><span class="sxs-lookup"><span data-stu-id="cd90a-165">SOAP intermediaries: a message sent by a client traverses one or more additional services that process the message before it reaches its final destination.</span></span> <span data-ttu-id="cd90a-166">SOAP-Vermittler können verschiedene Aufgaben ausführen, z.&#160;B. Caching, Routing, Lastenausgleich oder Schemavalidierung für Nachrichten.</span><span class="sxs-lookup"><span data-stu-id="cd90a-166">SOAP intermediaries can perform various tasks, such as caching, routing, load-balancing, or schema validation on the messages.</span></span> <span data-ttu-id="cd90a-167">Dieses Szenario wird durch das Senden von Nachrichten an eine separate physische Adresse erreicht (`via`), die auf den Vermittler verweist, anstatt nur an eine logische Adresse (`wsa:To`), die auf das endgültige Ziel verweist.</span><span class="sxs-lookup"><span data-stu-id="cd90a-167">This scenario is accomplished by sending messages to a separate physical address (`via`) that targets the intermediary rather than just to a logical address (`wsa:To`) that targets the ultimate destination.</span></span>  
  
-   <span data-ttu-id="cd90a-168">Die Abhöradresse des Endpunkts ist ein privater URI und wird auf einen anderen Wert als seine `listenURI`-Eigenschaft festgelegt.</span><span class="sxs-lookup"><span data-stu-id="cd90a-168">The listening address of the endpoint is a private URI and is set to a different value than its `listenURI` property.</span></span>  
  
 <span data-ttu-id="cd90a-169">Nachrichten sollten zunächst an die Transportadresse gesendet werden, die von `via` angegeben wird, bevor sie an eine andere Remoteadresse gesendet werden, die vom `to`-Parameter angegeben wird und an der sich der Dienst befindet.</span><span class="sxs-lookup"><span data-stu-id="cd90a-169">The transport address that the `via` specifies is the location to which a message should initially be sent on its way to some other remote address specified by the `to` parameter at which the service is located.</span></span> <span data-ttu-id="cd90a-170">In den meisten Internetszenarien sind der `via`-URI der <xref:System.ServiceModel.EndpointAddress.Uri%2A>-Eigenschaft und die endgültige `to`-Adresse des Diensts identisch.</span><span class="sxs-lookup"><span data-stu-id="cd90a-170">In most Internet scenarios, the `via` URI is the same as the <xref:System.ServiceModel.EndpointAddress.Uri%2A> property of the final `to` address of the service.</span></span> <span data-ttu-id="cd90a-171">Eine Unterscheidung zwischen den beiden Adressen ist nur beim manuellen Routing erforderlich.</span><span class="sxs-lookup"><span data-stu-id="cd90a-171">You only distinguish between these two addresses when you must do manual routing.</span></span>  
  
### <a name="addressing-headers"></a><span data-ttu-id="cd90a-172">Adressierungsheader</span><span class="sxs-lookup"><span data-stu-id="cd90a-172">Addressing Headers</span></span>  
 <span data-ttu-id="cd90a-173">Ein Endpunkt kann neben seinem Basis-URI von einem oder mehreren SOAP-Headern adressiert werden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-173">An endpoint can be addressed by one or more SOAP headers in addition to its basic URI.</span></span> <span data-ttu-id="cd90a-174">Dies ist beispielsweise in SOAP-Vermittlerszenarien nützlich, in denen ein Endpunkt es erfordert, dass seine Clients SOAP-Header einfügen, die sich an Vermittler richten.</span><span class="sxs-lookup"><span data-stu-id="cd90a-174">One set of scenarios where this is useful is a set of SOAP intermediary scenarios where an endpoint requires clients of that endpoint to include SOAP headers targeted at intermediaries.</span></span>  
  
 <span data-ttu-id="cd90a-175">Sie können benutzerdefinierte Adressheader auf zweierlei Weise definieren &#8211; entweder mit Code oder einer Konfiguration:</span><span class="sxs-lookup"><span data-stu-id="cd90a-175">You can define custom address headers in two ways—by using either code or configuration:</span></span>  
  
-   <span data-ttu-id="cd90a-176">Im Code werden benutzerdefinierte Adressheader mithilfe der <xref:System.ServiceModel.Channels.AddressHeader>-Klasse erstellt und dann bei der Erstellung einer <xref:System.ServiceModel.EndpointAddress> verwendet.</span><span class="sxs-lookup"><span data-stu-id="cd90a-176">In code, create custom address headers by using the <xref:System.ServiceModel.Channels.AddressHeader> class, and then used in the construction of an <xref:System.ServiceModel.EndpointAddress>.</span></span>  
  
-   <span data-ttu-id="cd90a-177">In der benutzerdefinierten Konfiguration [ \<Header >](../../../../docs/framework/configure-apps/file-schema/wcf/headers.md) werden als untergeordnete Elemente des angegebenen die [ \<Endpunkt >](https://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017) Element.</span><span class="sxs-lookup"><span data-stu-id="cd90a-177">In configuration, custom [\<headers>](../../../../docs/framework/configure-apps/file-schema/wcf/headers.md) are specified as children of the [\<endpoint>](https://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017) element.</span></span>  
  
 <span data-ttu-id="cd90a-178">Die Konfiguration ist im Allgemeinen dem Code vorzuziehen, da sie es Ihnen ermöglicht, die Header nach der Bereitstellung zu ändern.</span><span class="sxs-lookup"><span data-stu-id="cd90a-178">Configuration is generally preferable to code, as it allows you to change the headers after deployment.</span></span>  
  
### <a name="custom-listening-addresses"></a><span data-ttu-id="cd90a-179">Benutzerdefinierte Abhöradressen</span><span class="sxs-lookup"><span data-stu-id="cd90a-179">Custom Listening Addresses</span></span>  
 <span data-ttu-id="cd90a-180">Sie können die Abhöradresse auf einen anderen Wert als den URI des Endpunkts festlegen.</span><span class="sxs-lookup"><span data-stu-id="cd90a-180">You can set the listening address to a different value than the endpoint’s URI.</span></span> <span data-ttu-id="cd90a-181">Das ist in Vermittlerszenarios nützlich, in denen die SOAP-Adresse, die verfügbar gemacht werden soll, die eines öffentlichen SOAP-Vermittlers ist, während die Adresse, an der der Endpunkt lauscht, eine private Netzwerkadresse ist.</span><span class="sxs-lookup"><span data-stu-id="cd90a-181">This is useful in intermediary scenarios where the SOAP address to be exposed is that of a public SOAP intermediary, whereas the address where the endpoint actually listens is a private network address.</span></span>  
  
 <span data-ttu-id="cd90a-182">Sie können eine benutzerdefinierte Abhöradresse angeben, indem Sie entweder Code oder eine Konfiguration verwenden:</span><span class="sxs-lookup"><span data-stu-id="cd90a-182">You can specify a custom listening address by using either code or configuration:</span></span>  
  
-   <span data-ttu-id="cd90a-183">Im Code geben Sie eine benutzerdefinierte Abhöradresse durch Hinzufügen einer <xref:System.ServiceModel.Description.ClientViaBehavior>-Klasse zur Verhaltensauflistung des Endpunkts an.</span><span class="sxs-lookup"><span data-stu-id="cd90a-183">In code, specify a custom listening address by adding a <xref:System.ServiceModel.Description.ClientViaBehavior> class to the endpoint’s behavior collection.</span></span>  
  
-   <span data-ttu-id="cd90a-184">In einer Konfiguration geben Sie eine benutzerdefinierte lauschadresse mit dem `ListenUri` Attribut des Diensts [ \<Endpunkt >](https://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017) Element.</span><span class="sxs-lookup"><span data-stu-id="cd90a-184">In configuration, specify a custom listening address with the `ListenUri` attribute of the service [\<endpoint>](https://msdn.microsoft.com/library/13aa23b7-2f08-4add-8dbf-a99f8127c017) element.</span></span>  
  
### <a name="custom-soap-address-filter"></a><span data-ttu-id="cd90a-185">Benutzerdefinierter SOAP-Adressenfilter</span><span class="sxs-lookup"><span data-stu-id="cd90a-185">Custom SOAP Address Filter</span></span>  
 <span data-ttu-id="cd90a-186">Der <xref:System.ServiceModel.EndpointAddress.Uri%2A> wird in Verbindung mit einer beliebigen <xref:System.ServiceModel.EndpointAddress.Headers%2A>-Eigenschaft zur Definition des SOAP-Adressfilters eines Endpunkts verwendet (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span><span class="sxs-lookup"><span data-stu-id="cd90a-186">The <xref:System.ServiceModel.EndpointAddress.Uri%2A> is used in conjunction with any <xref:System.ServiceModel.EndpointAddress.Headers%2A> property to define an endpoint’s SOAP address filter (<xref:System.ServiceModel.Dispatcher.EndpointDispatcher.AddressFilter%2A>).</span></span> <span data-ttu-id="cd90a-187">Standardmäßig prüft dieser Filter, ob eine eingehende Nachricht über einen `To`-Nachrichtenheader verfügt, der mit dem URI des Endpunkts übereinstimmt, und ob alle erforderlichen Endpunktheader in der Nachricht vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="cd90a-187">By default, this filter verifies that an incoming message has a `To` message header that matches the endpoint’s URI and that all of the required endpoint headers are present in the message.</span></span>  
  
 <span data-ttu-id="cd90a-188">In einigen Szenarien empfängt ein Endpunkt alle Nachrichten, die mit dem zugrunde liegenden Transport ankommen, und nicht nur die mit dem entsprechenden `To`-Header.</span><span class="sxs-lookup"><span data-stu-id="cd90a-188">In some scenarios, an endpoint receives all messages that arrive on the underlying transport, and not just those with the appropriate `To` header.</span></span> <span data-ttu-id="cd90a-189">Um dies zu aktivieren, kann der Benutzer die <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter>-Klasse verwenden.</span><span class="sxs-lookup"><span data-stu-id="cd90a-189">To enable this, the user can use the <xref:System.ServiceModel.Dispatcher.MatchAllMessageFilter> class.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="cd90a-190">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="cd90a-190">See Also</span></span>  
 [<span data-ttu-id="cd90a-191">Angeben einer Endpunktadresse</span><span class="sxs-lookup"><span data-stu-id="cd90a-191">Specifying an Endpoint Address</span></span>](../../../../docs/framework/wcf/specifying-an-endpoint-address.md)  
 [<span data-ttu-id="cd90a-192">Dienstidentität und Authentifizierung</span><span class="sxs-lookup"><span data-stu-id="cd90a-192">Service Identity and Authentication</span></span>](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md)
