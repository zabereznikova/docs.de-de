---
title: Veröffentlichung von Informationen
ms.date: 03/30/2017
ms.assetid: 4064c89f-afa6-444a-aa7e-807ef072131c
ms.openlocfilehash: 0bcf1aa04d7ba7477a6c3f1559a77bbda1f974af
ms.sourcegitcommit: 09b4090b78f52fd09b0e430cd4b26576f1fdf96e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 01/17/2020
ms.locfileid: "76211955"
---
# <a name="information-disclosure"></a><span data-ttu-id="18529-102">Veröffentlichung von Informationen</span><span class="sxs-lookup"><span data-stu-id="18529-102">Information Disclosure</span></span>

<span data-ttu-id="18529-103">Die Veröffentlichung von Informationen ermöglicht Angreifern, an wertvolle Informationen über ein System zu gelangen.</span><span class="sxs-lookup"><span data-stu-id="18529-103">Information disclosure enables an attacker to gain valuable information about a system.</span></span> <span data-ttu-id="18529-104">Daher sollten Sie immer genau überlegen, welche Informationen offengelegt werden und ob sie von anderen Personen böswillig missbraucht werden könnten.</span><span class="sxs-lookup"><span data-stu-id="18529-104">Therefore, always consider what information you are revealing and whether it can be used by a malicious user.</span></span> <span data-ttu-id="18529-105">Im Folgenden finden Sie eine Übersicht über mögliche Angriffe auf veröffentlichte Informationen mit den entsprechenden Entschärfungen.</span><span class="sxs-lookup"><span data-stu-id="18529-105">The following lists possible information disclosure attacks and provides mitigations for each.</span></span>

## <a name="message-security-and-http"></a><span data-ttu-id="18529-106">Nachrichtensicherheit und HTTP</span><span class="sxs-lookup"><span data-stu-id="18529-106">Message Security and HTTP</span></span>

<span data-ttu-id="18529-107">Falls Sie die Sicherheit auf Nachrichtenebene mit einer HTTP-Transportschicht verwenden, dürfen Sie nicht vergessen, dass bei dieser Sicherheitsstufe HTTP-Header nicht geschützt sind.</span><span class="sxs-lookup"><span data-stu-id="18529-107">If you are using message-level security over an HTTP transport layer, be aware that message-level security does not protect HTTP headers.</span></span> <span data-ttu-id="18529-108">HTTP-Header lassen sich nur durch einen HTTPS-Transport, nicht jedoch durch HTTP schützen.</span><span class="sxs-lookup"><span data-stu-id="18529-108">The only way to protect HTTP headers is to use HTTPS transport instead of HTTP.</span></span> <span data-ttu-id="18529-109">Beim HTTPS-Transport wird die gesamte Nachricht einschließlich der HTTP-Header mit dem SSL-Protokoll (Secure Sockets Layer) verschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="18529-109">HTTPS transport causes the entire message, including the HTTP headers, to be encrypted using the Secure Sockets Layer (SSL) protocol.</span></span>

## <a name="policy-information"></a><span data-ttu-id="18529-110">Richtlinieninformationen</span><span class="sxs-lookup"><span data-stu-id="18529-110">Policy Information</span></span>

<span data-ttu-id="18529-111">Der Schutz von Richtlinien ist sehr wichtig, vor allem in Verbundszenarien, bei denen die Richtlinien auch vertrauliche Informationen zu den Anforderungen für ausgegebene Token und zu den Tokenausstellern enthalten.</span><span class="sxs-lookup"><span data-stu-id="18529-111">Keeping policy secure is important, especially in federation scenarios where sensitive issued-token requirements or token-issuer information is exposed in policy.</span></span> <span data-ttu-id="18529-112">In diesen Fällen sollte möglichst der Richtlinienendpunkt des Verbunddiensts gesichert werden, damit Angreifer keine Informationen zum Dienst, wie zum Beispiel Informationen zur Art der Ansprüche, die in das ausgegebene Token aufgenommen werden müssen, einholen oder keine Clients an bösartige Tokenaussteller umleiten können.</span><span class="sxs-lookup"><span data-stu-id="18529-112">In these cases, the recommendation is to secure the federated service's policy endpoint to prevent attackers from obtaining information about the service, such as the type of claims to put in the issued token, or redirecting clients to malicious token issuers.</span></span> <span data-ttu-id="18529-113">So können Angreifer beispielsweise Benutzernamen-/Kennwortkombinationen ermitteln, indem sie die Vertrauenskette des Verbunds so umkonfigurieren, dass sie bei einem Aussteller endet, der einen Man-In-The-Middle-Angriff (MITM-Angriff, Janusangriff) durchgeführt hat.</span><span class="sxs-lookup"><span data-stu-id="18529-113">For example, an attacker could discover user name/password pairs by reconfiguring the federated trust chain to terminate in an issuer that executed a man-in-the-middle attack.</span></span> <span data-ttu-id="18529-114">Auch sollte von Verbundclients, die ihre Bindungen über den Abruf einer Richtlinie erhalten, überprüft werden, ob die Aussteller in der bezogenen Vertrauenskette des Verbunds tatsächlich vertrauenswürdig sind.</span><span class="sxs-lookup"><span data-stu-id="18529-114">It is also recommended that federated clients who obtain their bindings through policy retrieval verify that they trust the issuers in the obtained federated trust chain.</span></span> <span data-ttu-id="18529-115">Weitere Informationen zu Verbund Szenarien finden Sie unter [Federation](../../../../docs/framework/wcf/feature-details/federation.md).</span><span class="sxs-lookup"><span data-stu-id="18529-115">For more information about federation scenarios, see [Federation](../../../../docs/framework/wcf/feature-details/federation.md).</span></span>

## <a name="memory-dumps-can-reveal-claim-information"></a><span data-ttu-id="18529-116">Anspruchsinformationen in Speicherabbildern</span><span class="sxs-lookup"><span data-stu-id="18529-116">Memory Dumps Can Reveal Claim Information</span></span>

<span data-ttu-id="18529-117">Falls in einer Anwendung ein Fehler auftritt, können Protokolldateien (wie zum Beispiel die von Dr. Watson erzeugten Protokolldateien) Anspruchsinformationen enthalten.</span><span class="sxs-lookup"><span data-stu-id="18529-117">When an application fails, log files, such as those produced by Dr. Watson, can contain the claim information.</span></span> <span data-ttu-id="18529-118">Diese Informationen sollten nicht für andere Einheiten in der Organisation wie Supportteams exportiert werden, da sonst auch die Anspruchsinformationen mit persönlichen Daten exportiert werden.</span><span class="sxs-lookup"><span data-stu-id="18529-118">This information should not be exported to other entities, such as support teams; otherwise, the claim information that contains private data is also exported.</span></span> <span data-ttu-id="18529-119">Sie können diese Gefahr umgehen, indem Sie keine Protokolldateien an Unbekannte senden.</span><span class="sxs-lookup"><span data-stu-id="18529-119">You can mitigate this by not sending the log files to unknown entities.</span></span>

## <a name="endpoint-addresses"></a><span data-ttu-id="18529-120">Endpunktadressen</span><span class="sxs-lookup"><span data-stu-id="18529-120">Endpoint Addresses</span></span>

<span data-ttu-id="18529-121">Eine Endpunktadresse enthält die für die Kommunikation mit einem Endpunkt erforderlichen Informationen.</span><span class="sxs-lookup"><span data-stu-id="18529-121">An endpoint address contains the information needed to communicate with an endpoint.</span></span> <span data-ttu-id="18529-122">Bei der SOAP-Sicherheit muss die vollständige Adresse in den gesendeten Sicherheitsaushandlungsnachrichten enthalten sein, damit zwischen Client und Server ein symmetrischer Schlüssel ausgehandelt werden kann.</span><span class="sxs-lookup"><span data-stu-id="18529-122">SOAP security must include the address in full in the security negotiation messages that are exchanged in order to negotiate a symmetric key between a client and a server.</span></span> <span data-ttu-id="18529-123">Da es sich bei der Sicherheitsaushandlung um einen Bootstrapprozess handelt, können die Adressheader während des Prozesses nicht verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="18529-123">Because security negotiation is a bootstrap process, the address headers cannot be encrypted during this process.</span></span> <span data-ttu-id="18529-124">Daher sollte die Adresse keine vertraulichen Daten enthalten, da dies zu Angriffen auf veröffentlichte Informationen führen kann.</span><span class="sxs-lookup"><span data-stu-id="18529-124">Therefore, the address should not contain any confidential data; otherwise, it leads to information disclosure attacks.</span></span>

## <a name="certificates-transferred-unencrypted"></a><span data-ttu-id="18529-125">Unverschlüsselt übertragene Zertifikate</span><span class="sxs-lookup"><span data-stu-id="18529-125">Certificates Transferred Unencrypted</span></span>

<span data-ttu-id="18529-126">Wenn Sie für die Authentifizierung eines Clients ein X.509-Zertifikat verwenden, wird das Zertifikat unverschlüsselt im SOAP-Header übertragen.</span><span class="sxs-lookup"><span data-stu-id="18529-126">When you use an X.509 certificate to authenticate a client, the certificate is transferred in the clear, inside the SOAP header.</span></span> <span data-ttu-id="18529-127">Beachten Sie, dass es sich hierbei um eine mögliche Veröffentlichung personenbezogener Informationen (PII, Personally Identifiable Information) handelt.</span><span class="sxs-lookup"><span data-stu-id="18529-127">Be aware of this as a potential personally identifiable information (PII) disclosure.</span></span> <span data-ttu-id="18529-128">Dies ist kein Problem beim `TransportWithMessageCredential`-Modus, bei dem die gesamte Nachricht mithilfe von Sicherheit auf Transportebene verschlüsselt wird.</span><span class="sxs-lookup"><span data-stu-id="18529-128">This is not an issue for `TransportWithMessageCredential` mode, where the entire message is encrypted with transport-level security.</span></span>

## <a name="service-references"></a><span data-ttu-id="18529-129">Dienstverweise</span><span class="sxs-lookup"><span data-stu-id="18529-129">Service References</span></span>

<span data-ttu-id="18529-130">Bei einem Dienstverweis handelt es sich um einen Verweis auf einen anderen Dienst.</span><span class="sxs-lookup"><span data-stu-id="18529-130">A service reference is a reference to another service.</span></span> <span data-ttu-id="18529-131">So kann zum Beispiel ein Dienst im Laufe eines Vorgangs einen Dienstverweis an einen Client übergeben.</span><span class="sxs-lookup"><span data-stu-id="18529-131">For example, a service may pass a service reference to a client in the course of an operation.</span></span> <span data-ttu-id="18529-132">Der Dienst Verweis wird auch mit einer *Vertrauensstellungs Identität*verwendet. Dies ist eine interne Komponente, die die Identität des Ziel Prinzipals sicherstellt, bevor Informationen wie Anwendungsdaten oder Anmelde Informationen für das Ziel offenlegen werden.</span><span class="sxs-lookup"><span data-stu-id="18529-132">The service reference is also used with a *trust identity verifier*, an internal component that ensures the identity of the target principal before disclosing information such as application data or credentials to the target.</span></span> <span data-ttu-id="18529-133">Falls die Remotevertrauensidentität nicht überprüft werden kann oder falsch ist, sollte sich der Sender vergewissern, dass keine Daten veröffentlicht wurden, die den Sender, die Anwendung oder den Benutzer gefährden könnten.</span><span class="sxs-lookup"><span data-stu-id="18529-133">If the remote trust identity cannot be verified or is incorrect, the sender should ensure that no data was disclosed that could compromise itself, the application, or the user.</span></span>

<span data-ttu-id="18529-134">Folgende Maßnahmen mindern das Risiko:</span><span class="sxs-lookup"><span data-stu-id="18529-134">Mitigations include the following:</span></span>

- <span data-ttu-id="18529-135">Dienstverweise werden als vertrauenswürdig angesehen.</span><span class="sxs-lookup"><span data-stu-id="18529-135">Service references are assumed to be trustworthy.</span></span> <span data-ttu-id="18529-136">Falls Sie Dienstverweisinstanzen übertragen, sollten Sie daher sicherstellen, dass diese nicht manipuliert wurden.</span><span class="sxs-lookup"><span data-stu-id="18529-136">Take care whenever transferring service reference instances to ensure that they have not been tampered with.</span></span>

- <span data-ttu-id="18529-137">Bei einigen Anwendungen haben Benutzer die Möglichkeit, die Vertrauenswürdigkeit interaktiv basierend auf Daten im Dienstverweis und anhand von vertrauenswürdigen Daten, die durch den Remotehost belegt wurden, herzustellen.</span><span class="sxs-lookup"><span data-stu-id="18529-137">Some applications can present a user experience that allows interactive establishment of trust based on data in the service reference and trust data proven by the remote host.</span></span> <span data-ttu-id="18529-138">WCF bietet Erweiterbarkeits Punkte für eine solche Funktion, der Benutzer muss Sie jedoch implementieren.</span><span class="sxs-lookup"><span data-stu-id="18529-138">WCF provides extensibility points for such a facility, but the user must implemented them.</span></span>

## <a name="ntlm"></a><span data-ttu-id="18529-139">NTLM</span><span class="sxs-lookup"><span data-stu-id="18529-139">NTLM</span></span>

<span data-ttu-id="18529-140">In der Windows-Domänenumgebung wird zur Authentifizierung und Autorisierung von Benutzern über die Windows-Authentifizierung standardmäßig das Kerberos-Protokoll verwendet.</span><span class="sxs-lookup"><span data-stu-id="18529-140">By default, in the Windows domain environment, Windows authentication uses the Kerberos protocol to authenticate and authorize users.</span></span> <span data-ttu-id="18529-141">Falls das Kerberos-Protokoll nicht verwendet werden kann, wird für diesen Zweck NT LAN Manager (NTLM) herangezogen.</span><span class="sxs-lookup"><span data-stu-id="18529-141">If the Kerberos protocol cannot be used for some reason, NT LAN Manager (NTLM) is used as a fallback.</span></span> <span data-ttu-id="18529-142">Sie können dieses Verhalten deaktivieren, indem Sie die <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A>-Eigenschaft auf `false` festlegen.</span><span class="sxs-lookup"><span data-stu-id="18529-142">You can disable this behavior by setting the <xref:System.ServiceModel.Security.WindowsClientCredential.AllowNtlm%2A> property to `false`.</span></span> <span data-ttu-id="18529-143">Beachten Sie unter anderem folgende Punkte, wenn Sie NTLM zulassen:</span><span class="sxs-lookup"><span data-stu-id="18529-143">Issues to be aware of when allowing NTLM include:</span></span>

- <span data-ttu-id="18529-144">NTLM gibt den Clientbenutzernamen bekannt.</span><span class="sxs-lookup"><span data-stu-id="18529-144">NTLM exposes the client user name.</span></span> <span data-ttu-id="18529-145">Falls der Benutzername vertraulich behandelt werden muss, legen Sie die `AllowNTLM`-Eigenschaft für die Bindung auf `false` fest.</span><span class="sxs-lookup"><span data-stu-id="18529-145">If the user name needs to be kept confidential, then set the `AllowNTLM` property on the binding to `false`.</span></span>

- <span data-ttu-id="18529-146">NTLM stellt keine Serverauthentifizierung bereit.</span><span class="sxs-lookup"><span data-stu-id="18529-146">NTLM does not provide server authentication.</span></span> <span data-ttu-id="18529-147">Daher hat der Client bei Verwendung von NTLM als Authentifizierungsprotokoll keine Möglichkeit sicherzustellen, dass die Kommunikation mit dem richtigen Dienst erfolgt.</span><span class="sxs-lookup"><span data-stu-id="18529-147">Therefore, the client cannot ensure that it is communicating with the right service when you use NTLM as an authentication protocol.</span></span>

### <a name="specifying-client-credentials-or-invalid-identity-forces-ntlm-usage"></a><span data-ttu-id="18529-148">Die Angabe von Clientanmeldeinformationen oder eine ungültige Identität erzwingt die Verwendung von NTLM</span><span class="sxs-lookup"><span data-stu-id="18529-148">Specifying Client Credentials or Invalid Identity Forces NTLM Usage</span></span>

<span data-ttu-id="18529-149">Werden beim Erstellen eines Clients Clientanmeldeinformationen ohne Domänennamen oder eine ungültige Serveridentität angegeben, wird NTLM anstelle des Kerberos-Protokolls verwendet (sofern die `AllowNtlm`-Eigenschaft auf `true` festgelegt wurde).</span><span class="sxs-lookup"><span data-stu-id="18529-149">When creating a client, specifying client credentials without a domain name, or specifying an invalid server identity, causes NTLM to be used instead of the Kerberos protocol (if the `AllowNtlm` property is set to `true`).</span></span> <span data-ttu-id="18529-150">Da NTLM keine Serverauthentifizierung durchführt, können Informationen potenziell offengelegt werden.</span><span class="sxs-lookup"><span data-stu-id="18529-150">Because  NTLM does not do server authentication, information can potentially be disclosed.</span></span>

<span data-ttu-id="18529-151">Beispielsweise ist es möglich, Windows-Client Anmelde Informationen ohne Domänen Namen anzugeben, wie im folgenden visuellen C# Code dargestellt.</span><span class="sxs-lookup"><span data-stu-id="18529-151">For example, it is possible to specify Windows client credentials without a domain name, as shown in the following Visual C# code.</span></span>

```csharp
MyChannelFactory.Credentials.Windows.ClientCredential = new System.Net.NetworkCredential("username", "password");
```

<span data-ttu-id="18529-152">Da im Code kein Domänenname angegeben wird, wird NTLM verwendet.</span><span class="sxs-lookup"><span data-stu-id="18529-152">The code does not specify a domain name, and therefore NTLM will be used.</span></span>

<span data-ttu-id="18529-153">Falls bei Verwendung der Funktion für die Endpunktidentität zwar eine Domäne, jedoch ein ungültiger Dienstprinzipalname angegeben wird, wird NTLM verwendet.</span><span class="sxs-lookup"><span data-stu-id="18529-153">If the domain is specified, but an invalid service principal name is specified using the endpoint identity feature, then NTLM is used.</span></span> <span data-ttu-id="18529-154">Weitere Informationen zur Angabe der Endpunkt Identität finden Sie unter [Dienst Identität und-Authentifizierung](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span><span class="sxs-lookup"><span data-stu-id="18529-154">For more information about how endpoint identity is specified, see [Service Identity and Authentication](../../../../docs/framework/wcf/feature-details/service-identity-and-authentication.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="18529-155">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="18529-155">See also</span></span>

- [<span data-ttu-id="18529-156">Sicherheitsüberlegungen</span><span class="sxs-lookup"><span data-stu-id="18529-156">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)
- [<span data-ttu-id="18529-157">Erhöhen der Berechtigungen</span><span class="sxs-lookup"><span data-stu-id="18529-157">Elevation of Privilege</span></span>](../../../../docs/framework/wcf/feature-details/elevation-of-privilege.md)
- [<span data-ttu-id="18529-158">Denial-of-Service-Angriffe</span><span class="sxs-lookup"><span data-stu-id="18529-158">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)
- [<span data-ttu-id="18529-159">Manipulation</span><span class="sxs-lookup"><span data-stu-id="18529-159">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)
- [<span data-ttu-id="18529-160">Nicht unterstützte Szenarien</span><span class="sxs-lookup"><span data-stu-id="18529-160">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)
- [<span data-ttu-id="18529-161">Replayangriffe</span><span class="sxs-lookup"><span data-stu-id="18529-161">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)
