---
title: Ausgeben von Benutzercode-Ablaufverfolgungen
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: fa54186a-8ffa-4332-b0e7-63867126fd49
caps.latest.revision: "9"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: d743ae68955bba844f84fed71047d9331fd349af
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 10/18/2017
---
# <a name="emitting-user-code-traces"></a><span data-ttu-id="a6ddb-102">Ausgeben von Benutzercode-Ablaufverfolgungen</span><span class="sxs-lookup"><span data-stu-id="a6ddb-102">Emitting User-Code Traces</span></span>
<span data-ttu-id="a6ddb-103">Zusätzlich zum Aktivieren der Ablaufverfolgung in der Konfiguration zum Sammeln von Instrumentationsdaten, die von [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)] generiert wurden, lassen sich Ablaufverfolgungen auch programmgesteuert in Benutzercode ausgeben.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-103">In addition to enabling tracing in configuration to collect instrumentation data generated by [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)], you can also emit traces programmatically in user code.</span></span> <span data-ttu-id="a6ddb-104">Auf diese Weise können proaktiv Instrumentationsdaten zur späteren Analyse erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-104">In this way, you can proactively create instrumentation data that you can peruse later for diagnostic purpose.</span></span> <span data-ttu-id="a6ddb-105">Die entsprechende Vorgehensweise wird in diesem Thema erläutert.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-105">This topic discusses how you can do this.</span></span>  
  
 <span data-ttu-id="a6ddb-106">Darüber hinaus die [erweitern Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md) Beispiel enthält den Code, die in den folgenden Abschnitten veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-106">In addition, the [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md) sample includes all the code demonstrated in the following sections.</span></span>  
  
## <a name="creating-a-trace-source"></a><span data-ttu-id="a6ddb-107">Erstellen einer Ablaufverfolgungsquelle</span><span class="sxs-lookup"><span data-stu-id="a6ddb-107">Creating a Trace Source</span></span>  
 <span data-ttu-id="a6ddb-108">Mithilfe des folgenden Codes können Sie eine Ablaufverfolgungsquelle für Benutzer erstellen:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-108">You can use the following code to create a user trace source.</span></span>  
  
```  
TraceSource ts = new TraceSource("myUserTraceSource");  
```  
  
## <a name="creating-activities"></a><span data-ttu-id="a6ddb-109">Erstellen von Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="a6ddb-109">Creating Activities</span></span>  
 <span data-ttu-id="a6ddb-110">Bei Aktivitäten handelt es sich um logische Verarbeitungseinheiten.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-110">Activities are logical unit of processing.</span></span> <span data-ttu-id="a6ddb-111">Für jede größere Verarbeitungseinheit, in der Ablaufverfolgungen gruppiert werden sollen, kann eine Aktivität erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-111">You can create one activity for each major processing unit in which you want traces to be grouped together.</span></span> <span data-ttu-id="a6ddb-112">So können Sie beispielsweise eine Aktivität für jede Anforderung an den Dienst erstellen.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-112">For example, you can create one activity for each request to the service.</span></span> <span data-ttu-id="a6ddb-113">Gehen Sie hierzu folgendermaßen vor:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-113">To do so, perform the following steps.</span></span>  
  
1.  <span data-ttu-id="a6ddb-114">Speichern Sie die Aktivitäts-ID des Bereichs.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-114">Save the activity ID in scope.</span></span>  
  
2.  <span data-ttu-id="a6ddb-115">Erstellen Sie eine neue Aktivitäts-ID.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-115">Create a new activity ID.</span></span>  
  
3.  <span data-ttu-id="a6ddb-116">Wechseln Sie von der Aktivität des Bereichs zur neuen Aktivität, legen Sie die neue Aktivität für den Bereich fest, und geben Sie für diese Aktivität eine Start-Ablaufverfolgung aus.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-116">Transfer from the activity in scope to the new one, set the new activity in scope and emit a start trace for that activity.</span></span>  
  
 <span data-ttu-id="a6ddb-117">Im folgenden Codebeispiel wird die hierfür erforderliche Vorgehensweise veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-117">The following code demonstrates how to do this.</span></span>  
  
```  
Guid oldID = Trace.CorrelationManager.ActivityId;  
Guid traceID = Guid.NewGuid();  
ts.TraceTransfer(0, "transfer", traceID);  
Trace.CorrelationManager.ActivityId = traceID; // Trace is static  
ts.TraceEvent(TraceEventType.Start, 0, "Add request");  
```  
  
## <a name="emitting-traces-within-a-user-activity"></a><span data-ttu-id="a6ddb-118">Ausgeben von Ablaufverfolgungen innerhalb einer Benutzeraktivität</span><span class="sxs-lookup"><span data-stu-id="a6ddb-118">Emitting Traces within a User Activity</span></span>  
 <span data-ttu-id="a6ddb-119">Der folgende Code dient zum Ausgeben von Ablaufverfolgungen innerhalb einer Benutzeraktivität:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-119">The following code emits traces within a user activity.</span></span>  
  
```  
double value1 = 100.00D;  
double value2 = 15.99D;  
ts.TraceInformation("Client sends message to Add " + value1 + ", " + value2);  
double result = client.Add(value1, value2);  
ts.TraceInformation("Client receives Add response '" + result + "'");  
```  
  
## <a name="stopping-the-activities"></a><span data-ttu-id="a6ddb-120">Beenden der Aktivitäten</span><span class="sxs-lookup"><span data-stu-id="a6ddb-120">Stopping the Activities</span></span>  
 <span data-ttu-id="a6ddb-121">Wechseln Sie zum Beenden der Aktivitäten zur vorherigen Aktivität zurück, beenden Sie die aktuelle Aktivitäts-ID, und legen Sie für den Bereich wieder die vorherige Aktivitäts-ID fest.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-121">To stop the activities, transfer back to the old activity, stop the current activity id, and reset the old activity id in scope.</span></span>  
  
 <span data-ttu-id="a6ddb-122">Im folgenden Codebeispiel wird die hierfür erforderliche Vorgehensweise veranschaulicht:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-122">The following code demonstrates how to do this.</span></span>  
  
```  
ts.TraceTransfer(0, "transfer", oldID);  
ts.TraceEvent(TraceEventType.Stop, 0, "Add request");  
Trace.CorrelationManager.ActivityId = oldID;  
```  
  
## <a name="propagating-the-activity-id-to-a-service"></a><span data-ttu-id="a6ddb-123">Weitergeben der Aktivitäts-ID an einen Dienst</span><span class="sxs-lookup"><span data-stu-id="a6ddb-123">Propagating the Activity ID to A Service</span></span>  
 <span data-ttu-id="a6ddb-124">Wird das `propagateActivity`-Attribut für die `true`-Ablaufverfolgungsquelle sowohl in der Konfigurationsdatei des Clients als auch in der Konfigurationsdatei des Diensts auf `System.ServiceModel` festgelegt, erfolgt die Dienstverarbeitung für die Add-Anforderung in der Aktivität, die auch für den Client definiert ist.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-124">If you set the `propagateActivity` attribute to `true` for the `System.ServiceModel` trace source in both the client and service configuration files, the service processing for the Add request occurs in the same activity as the one defined in the client.</span></span> <span data-ttu-id="a6ddb-125">Werden vom Dienst eigene Aktivitäten und Übertragungen definiert, erscheinen die Dienstablaufverfolgungen nicht in der vom Client weitergegebenen Aktivität.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-125">If the service defines its own activities and transfers, the service traces do not appear in the client-propagated activity.</span></span> <span data-ttu-id="a6ddb-126">Stattdessen erscheinen sie in einer Aktivität, die anhand von Übertragungsablaufverfolgungen mit der Aktivität korreliert wird, deren ID vom Client weitergegeben wird.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-126">Instead, they appear in an activity correlated by transfer traces to the activity whose ID is propagated by the client.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a6ddb-127">Ist das `propagateActivity`-Attribut sowohl für den Client als auch für den Dienst auf `true` festgelegt, wird die Umgebungsaktivität im Vorgangsbereich des Diensts von [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-127">If the `propagateActivity` attribute is set to `true` on both the client and service, the ambient activity in the operation scope of the service is set by [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)].</span></span>  
  
 <span data-ttu-id="a6ddb-128">Mithilfe des folgenden Codes können Sie überprüfen, ob eine Aktivität von [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] im Bereich festgelegt wurde:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-128">You can use the following code to check whether an activity was set in scope by [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)].</span></span>  
  
```  
// Check if an activity was set in scope by WCF, if it was   
// propagated from the client. If not, ( ambient activity is   
// equal to Guid.Empty), create a new one.  
if(Trace.CorrelationManager.ActivityId == Guid.Empty)  
{  
    Guid newGuid = Guid.NewGuid();  
    Trace.CorrelationManager.ActivityId = newGuid;  
}  
// Emit your Start trace.  
ts.TraceEvent(TraceEventType.Start, 0, "Add Activity");  
  
// Emit the processing traces for that request.  
serviceTs.TraceInformation("Service receives Add "   
                            + n1 + ", " + n2);  
// double result = n1 + n2;  
serviceTs.TraceInformation("Service sends Add result" + result);  
  
// Emit the Stop trace and exit the method scope.  
ts.TraceEvent(TraceEventType.Stop, 0, "Add Activity");  
// return result;  
```  
  
## <a name="tracing-exceptions-thrown-in-code"></a><span data-ttu-id="a6ddb-129">Verfolgen von im Code ausgelösten Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="a6ddb-129">Tracing Exceptions Thrown in Code</span></span>  
 <span data-ttu-id="a6ddb-130">Wird im Code eine Ausnahme ausgelöst, kann diese Ausnahme mithilfe des folgenden Codes auch ab der Warnstufe verfolgt werden:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-130">When you throw an exception in code, you can also trace the exception at Warning level or up using the following code.</span></span>  
  
```  
ts.TraceEvent(TraceEventType.Warning, 0, "Throwing exception " + "exceptionMessage");  
```  
  
## <a name="viewing-user-traces-in-the-service-trace-viewer-tool"></a><span data-ttu-id="a6ddb-131">Anzeigen von Benutzerablaufverfolgungen im Service Trace Viewer-Tool</span><span class="sxs-lookup"><span data-stu-id="a6ddb-131">Viewing User Traces in the Service Trace Viewer Tool</span></span>  
 <span data-ttu-id="a6ddb-132">Dieser Abschnitt enthält Screenshots von ablaufverfolgungen, die durch die Ausführung generiert der [erweitern Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md) Beispiel, bei der Anzeige mithilfe der [Service Trace Viewer-Tool (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span><span class="sxs-lookup"><span data-stu-id="a6ddb-132">This section contains screenshots of traces generated by running the [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md) sample, when viewed using the [Service Trace Viewer Tool (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span></span>  
  
 <span data-ttu-id="a6ddb-133">In der folgenden Abbildung wird die zuvor erstellte "Add Request"-Aktivität im linken Bereich ausgewählt.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-133">In the following diagram, the "Add request" activity created previously is selected on the left panel.</span></span> <span data-ttu-id="a6ddb-134">Sie wird zusammen mit drei anderen mathematischen Operationen (Divide, Subtract, Multiply) aufgeführt. Diese stellen das Anwendungsclientprogramm dar.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-134">It is listed with three other Math operation activities (Divide, Subtract, Multiply) that constitute the application client program.</span></span> <span data-ttu-id="a6ddb-135">Durch den Benutzercode wurde für jede Operation eine neue Aktivität definiert, um potenzielle Fehler in verschiedenen Anforderungen zu isolieren.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-135">The user code has defined one new activity for each operation to isolate potential error occurrences in different requests.</span></span>  
  
 <span data-ttu-id="a6ddb-136">Zur Veranschaulichung der Verwendung von Übertragungen in die [Tracing erweitern](../../../../../docs/framework/wcf/samples/extending-tracing.md) Beispiel eine Calculator-Aktivität, die die vier vorgangsanforderungen kapselt wird auch erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-136">To demonstrate the use of transfers in the [Extending Tracing](../../../../../docs/framework/wcf/samples/extending-tracing.md) sample, a Calculator activity that encapsulates the four operation requests is also created.</span></span> <span data-ttu-id="a6ddb-137">Für jede Anforderung findet eine Übertragung von der Berechnungsaktivität zur Anforderungsaktivität und umgekehrt statt (die Ablaufverfolgung ist im rechten oberen Bereich der Abbildung hervorgehoben).</span><span class="sxs-lookup"><span data-stu-id="a6ddb-137">For each request, there is a transfer back and forth from the Calculator activity to the request activity (trace is highlighted in the upper right panel in the figure).</span></span>  
  
 <span data-ttu-id="a6ddb-138">Wird im linken Bereich eine Aktivität ausgewählt, werden die in dieser Aktivität enthaltenen Ablaufverfolgungen im rechten oberen Bereich angezeigt.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-138">When you select an activity on the left panel, the traces included by this activity are shown on the upper right panel.</span></span> <span data-ttu-id="a6ddb-139">Wenn `propagateActivity` ist `true` an jedem Endpunkt des anforderungspfads, werden die ablaufverfolgungen in der Anforderungsaktivität von allen Prozessen, die in der Anforderung beteiligt sind.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-139">If `propagateActivity` is `true` at every endpoint in the request path, traces in the request activity are from all processes that participate in the request.</span></span> <span data-ttu-id="a6ddb-140">In diesem Beispiel sind sowohl Ablaufverfolgungen vom Client als auch vom Dienst enthalten (siehe 4. Spalte des Bereichs).</span><span class="sxs-lookup"><span data-stu-id="a6ddb-140">In this example, you can see traces from both the client and service in the 4th column in the panel.</span></span>  
  
 <span data-ttu-id="a6ddb-141">Diese Aktivität weist die folgende Verarbeitungsreihenfolge auf:</span><span class="sxs-lookup"><span data-stu-id="a6ddb-141">This activity shows the following order of processing:</span></span>  
  
1.  <span data-ttu-id="a6ddb-142">Client sendet Nachricht an Add.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-142">Client sends message to Add.</span></span>  
  
2.  <span data-ttu-id="a6ddb-143">Dienst empfängt Nachricht mit Add-Anforderung.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-143">Service receives Add request message.</span></span>  
  
3.  <span data-ttu-id="a6ddb-144">Dienst sendet Add-Antwort.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-144">Service sends Add response.</span></span>  
  
4.  <span data-ttu-id="a6ddb-145">Client empfängt Add-Antwort.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-145">Client receives Add response.</span></span>  
  
 <span data-ttu-id="a6ddb-146">All diese Ablaufverfolgungen werden auf Informationsebene ausgegeben.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-146">All these traces were emitted at Information level.</span></span> <span data-ttu-id="a6ddb-147">Durch Klicken auf eine Ablaufverfolgung im rechten oberen Bereich werden im rechten unteren Bereich die Details der entsprechenden Ablaufverfolgung angezeigt.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-147">Clicking a trace in the upper-right panel shows the details of that trace in the lower-right panel.</span></span>  
  
 <span data-ttu-id="a6ddb-148">Im folgenden Diagramm sind auch Übertragungsablaufverfolgungen von der und zur Berechnungsaktivität sowie zwei Paare von Start- und Stop-Ablaufverfolgungen pro Anforderungsaktivität enthalten (eins für den Client, eins für den Dienst, also jeweils eins für jede Ablaufverfolgungsquelle).</span><span class="sxs-lookup"><span data-stu-id="a6ddb-148">In the following diagram, we also see transfer traces from and to the Calculator activity, as well as two pairs of Start and Stop traces per request activity, one for the client and one for the service (one for each trace source).</span></span>  
  
 <span data-ttu-id="a6ddb-149">![Trace Viewer: Ausgeben von User &#45; code ablaufverfolgungen](../../../../../docs/framework/wcf/diagnostics/tracing/media/242c9358-475a-4baf-83f3-4227aa942fcd.gif "242c9358-475a-4baf-83f3-4227aa942fcd")</span><span class="sxs-lookup"><span data-stu-id="a6ddb-149">![Trace Viewer: Emitting User&#45;code traces](../../../../../docs/framework/wcf/diagnostics/tracing/media/242c9358-475a-4baf-83f3-4227aa942fcd.gif "242c9358-475a-4baf-83f3-4227aa942fcd")</span></span>  
<span data-ttu-id="a6ddb-150">Liste der Aktivitäten nach Erstellungszeit (linker Bereich) und deren geschachtelter Aktivitäten (Bereich rechts oben)</span><span class="sxs-lookup"><span data-stu-id="a6ddb-150">List of activities by creation time (left panel) and their nested activities (upper-right panel)</span></span>  
  
 <span data-ttu-id="a6ddb-151">Wird vom Dienstcode eine Ausnahme ausgelöst, durch die auch vom Client eine Ausnahme ausgelöst wird (beispielsweise bei Ausbleiben einer Antwort auf eine Anforderung), erscheinen sowohl die Warn- oder Fehlermeldung des Diensts als auch die des Clients in der gleichen Aktivität, um das Herstellen eines direkten Zusammenhangs zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-151">If the service code throws an exception that causes the client to throw as well (for example, when the client did not get the response to its request), both the service and client warning or error messages occur in the same activity for direct correlation.</span></span> <span data-ttu-id="a6ddb-152">Im folgenden Diagramm ist eine Ausnahme, die besagt, "der Dienst zum Verarbeiten dieser Anforderung im Benutzercode verweigert." löst der Dienst aus.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-152">In the following diagram, the service throws an exception that states "The service refuses to process this request in user code."</span></span> <span data-ttu-id="a6ddb-153">Der Client löst eine Ausnahme, die besagt, "der Server die Anforderung aufgrund eines internen Fehlers nicht verarbeiten konnte." auch aus.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-153">The client also throws an exception that states "The server was unable to process the request due to an internal error."</span></span>  
  
 <span data-ttu-id="a6ddb-154">![Verwenden von Trace Viewer zum Ausgeben von User &#45; Code verfolgt](../../../../../docs/framework/wcf/diagnostics/tracing/media/e2etrace2.gif "e2eTrace2")</span><span class="sxs-lookup"><span data-stu-id="a6ddb-154">![Using Trace Viewer to emit user&#45;code traces](../../../../../docs/framework/wcf/diagnostics/tracing/media/e2etrace2.gif "e2eTrace2")</span></span>  
<span data-ttu-id="a6ddb-155">Endpunktübergreifende Fehler für eine bestimmte Anforderung erscheinen in der gleichen Aktivität, wenn die Anforderungsaktivitäts-ID weitergegeben wurde.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-155">Errors across endpoints for a given request appear in the same activity if the request activity id was propagated</span></span>  
  
 <span data-ttu-id="a6ddb-156">Durch Doppelklicken auf die Multiply-Aktivität im linken Bereich wird das folgende Diagramm angezeigt. Dieses enthält die Ablaufverfolgungen für die Multiply-Aktivität für jeden beteiligten Prozess.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-156">Double-clicking the Multiply activity on the left panel shows the following graph, with the traces for the Multiply activity for each process involved.</span></span> <span data-ttu-id="a6ddb-157">Es ist zu sehen, dass zunächst eine Warnung für den Service aufgetreten ist (Ausnahme ausgelöst). Daraufhin kommt es auch auf dem Client zu Warnungen und Fehlern, da die Anforderung nicht verarbeitet werden konnte.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-157">We can see a warning first occurred at the service (exception thrown), which is followed by warnings and errors on the client because the request could not be processed.</span></span> <span data-ttu-id="a6ddb-158">Somit lassen sich die kausale Fehlerbeziehung zwischen Endpunkten sowie die Grundursache des Fehlers ableiten.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-158">Therefore, we can imply the causal error relationship between endpoints and derive the root cause of the error.</span></span>  
  
 <span data-ttu-id="a6ddb-159">![Verwenden von Trace Viewer zum Ausgeben von User &#45; Code verfolgt](../../../../../docs/framework/wcf/diagnostics/tracing/media/e2etrace3.gif "e2eTrace3")</span><span class="sxs-lookup"><span data-stu-id="a6ddb-159">![Using Trace Viewer to emit user&#45;code traces](../../../../../docs/framework/wcf/diagnostics/tracing/media/e2etrace3.gif "e2eTrace3")</span></span>  
<span data-ttu-id="a6ddb-160">Diagrammansicht der Fehlerkorrelation</span><span class="sxs-lookup"><span data-stu-id="a6ddb-160">Graph view of error correlation</span></span>  
  
 <span data-ttu-id="a6ddb-161">Zum Abrufen der vorherigen Ablaufverfolgungen wird `ActivityTracing` für die Benutzerablaufverfolgungsquellen und `propagateActivity=true` für die `System.ServiceModel`-Ablaufverfolgungsquelle festgelegt.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-161">To obtain the previous traces, we set `ActivityTracing` for the user trace sources and `propagateActivity=true` for the `System.ServiceModel` trace source.</span></span> <span data-ttu-id="a6ddb-162">`ActivityTracing` wurde nicht für die `System.ServiceModel`-Ablaufverfolgungsquelle festgelegt, um die Aktivitätsweitergabe von Benutzercode an Benutzercode zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-162">We did not set `ActivityTracing` for the `System.ServiceModel` trace source to enable user code to user code activity propagation.</span></span> <span data-ttu-id="a6ddb-163">(Bei aktivierter ServiceModel-Ablaufverfolgung wird die im Client definierte Aktivitäts-ID nicht bis zum Dienstbenutzercode weitergegeben. Von Übertragungen werden dagegen die Benutzercodeaktivitäten von Client und Dienst mit den Zwischenaktivitäten von [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] korreliert.)</span><span class="sxs-lookup"><span data-stu-id="a6ddb-163">(When ServiceModel activity tracing is on, the activity ID defined in the client is not propagated all the way to the service user code; Transfers, however, correlate the client and service user code activities to the intermediate [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] activities.)</span></span>  
  
 <span data-ttu-id="a6ddb-164">Das Definieren von Aktivitäten und das Weitergeben der Aktivitäts-ID ermöglicht das endpunktübergreifende Herstellen eines direkten Fehlerzusammenhangs.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-164">Defining activities and propagating the activity ID enables us to perform direct error correlation across endpoints.</span></span> <span data-ttu-id="a6ddb-165">Dadurch lässt sich die Grundursache eines Fehlers schneller ermitteln.</span><span class="sxs-lookup"><span data-stu-id="a6ddb-165">In this way, we can locate the root cause of an error more quickly.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a6ddb-166">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="a6ddb-166">See Also</span></span>  
 [<span data-ttu-id="a6ddb-167">Erweitern der Ablaufverfolgung</span><span class="sxs-lookup"><span data-stu-id="a6ddb-167">Extending Tracing</span></span>](../../../../../docs/framework/wcf/samples/extending-tracing.md)
