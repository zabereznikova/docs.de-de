---
title: Erweitern von Clients
ms.date: 03/30/2017
helpviewer_keywords:
- proxy extensions [WCF]
ms.assetid: 1328c61c-06e5-455f-9ebd-ceefb59d3867
ms.openlocfilehash: b3bbbdb895576b4a6d9167bcf321a99d10d378cc
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96249292"
---
# <a name="extending-clients"></a><span data-ttu-id="17315-102">Erweitern von Clients</span><span class="sxs-lookup"><span data-stu-id="17315-102">Extending Clients</span></span>

<span data-ttu-id="17315-103">Die Dienstmodellebene ist dafür verantwortlich, Methodenaufrufe per Anwendungscode in ausgehende Nachrichten zu übersetzen, sie in den zugrunde liegenden Kanälen abzulegen, die Ergebnisse zurück in Rückgabewerte und out-Parameter in Anwendungscode zu übersetzen sowie die Ergebnisse an den Aufrufer zurückzugeben.</span><span class="sxs-lookup"><span data-stu-id="17315-103">In a calling application, the service model layer is responsible for translating method invocations in application code into outbound messages, pushing them to the underlying channels, translating results back into return values and out parameters in application code, and returning the results back to the caller.</span></span> <span data-ttu-id="17315-104">Dienstmodellerweiterungen ändern bzw. implementieren Ausführungs- oder Kommunikationsverhalten und Funktionen wie Verteileroptionen, benutzerdefiniertes Verhalten, Nachrichten- oder Parameterinterceptoren und andere Erweiterbarkeitsfunktionen.</span><span class="sxs-lookup"><span data-stu-id="17315-104">Service model extensions modify or implement execution or communication behavior and features involving client or dispatcher functionality, custom behaviors, message and parameter interception, and other extensibility functionality.</span></span>  
  
 <span data-ttu-id="17315-105">In diesem Thema wird beschrieben, wie <xref:System.ServiceModel.Dispatcher.ClientRuntime> Sie die-Klasse und die- <xref:System.ServiceModel.Dispatcher.ClientOperation> Klasse in einer Windows Communication Foundation (WCF)-Client Anwendung verwenden, um das Standard Ausführungs Verhalten eines WCF-Clients zu ändern oder um Nachrichten, Parameter oder Rückgabewerte abzufangen oder zu ändern, bevor Sie von der Kanal Schicht gesendet oder abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="17315-105">This topic describes how to use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> and <xref:System.ServiceModel.Dispatcher.ClientOperation> classes in a Windows Communication Foundation (WCF) client application to modify the default execution behavior of a WCF client or to intercept or modify messages, parameters, or return values prior to or subsequent to sending or retrieving them from the channel layer.</span></span> <span data-ttu-id="17315-106">Weitere Informationen zum Erweitern der Dienst Laufzeit finden Sie unter [Erweitern von Dispatchern](extending-dispatchers.md).</span><span class="sxs-lookup"><span data-stu-id="17315-106">For more information about extending the service runtime, see [Extending Dispatchers](extending-dispatchers.md).</span></span> <span data-ttu-id="17315-107">Weitere Informationen zu den Verhaltensweisen, die Anpassungs Objekte in der Client Laufzeit ändern und einfügen, finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="17315-107">For more information about the behaviors that modify and insert customization objects into the client runtime, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="clients"></a><span data-ttu-id="17315-108">Clients</span><span class="sxs-lookup"><span data-stu-id="17315-108">Clients</span></span>  

 <span data-ttu-id="17315-109">Auf einem Client konvertiert ein WCF-Client Objekt oder Client Kanal Methodenaufrufe in ausgehende Nachrichten und eingehende Nachrichten in Vorgangs Ergebnisse, die an die aufrufende Anwendung zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="17315-109">On a client, a WCF client object or client channel converts method invocations into outgoing messages and incoming messages to operation results that are returned to the calling application.</span></span> <span data-ttu-id="17315-110">(Weitere Informationen zu Client Typen finden Sie unter [WCF-Client Architektur](../feature-details/client-architecture.md).)</span><span class="sxs-lookup"><span data-stu-id="17315-110">(For more information about client types, see [WCF Client Architecture](../feature-details/client-architecture.md).)</span></span>  
  
 <span data-ttu-id="17315-111">WCF-Client Typen verfügen über Lauf Zeit Typen, die diese Funktionen auf Endpunkt-und Vorgangs Ebene verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="17315-111">WCF client types have runtime types that handle this endpoint- and operation-level functionality.</span></span> <span data-ttu-id="17315-112">Wenn ein Vorgang von einer Anwendung aufgerufen wird, übersetzt <xref:System.ServiceModel.Dispatcher.ClientOperation> die ausgehenden Objekte in eine Nachricht, verarbeitet Interceptoren, bestätigt, dass der ausgehende Aufruf dem Zielvertrag entspricht, und übergibt die ausgehende Nachricht an <xref:System.ServiceModel.Dispatcher.ClientRuntime>, die für das Erstellen und Verwalten von ausgehenden Kanälen (und eingehenden Kanälen im Falle von Duplexdiensten), das Verarbeiten von zusätzlichen ausgehenden Nachrichten (wie Headeränderungen), die Verarbeitung von Nachrichteninterceptoren in beide Richtungen sowie das Leiten von eingehenden Duplexaufrufen an das entsprechende clientseitige <xref:System.ServiceModel.Dispatcher.DispatchRuntime>-Objekt verantwortlich ist.</span><span class="sxs-lookup"><span data-stu-id="17315-112">When an application calls an operation, the <xref:System.ServiceModel.Dispatcher.ClientOperation> translates the outbound objects into a message, processes interceptors, confirms that the outbound call conforms to the target contract, and hands the outbound message to the <xref:System.ServiceModel.Dispatcher.ClientRuntime>, which is responsible for creating and managing outbound channels (and inbound channels in the case of duplex services), handling extra outbound message processing (such as header modification), processing message interceptors in both directions, and routing inbound duplex calls to the appropriate client-side <xref:System.ServiceModel.Dispatcher.DispatchRuntime> object.</span></span> <span data-ttu-id="17315-113">Sowohl <xref:System.ServiceModel.Dispatcher.ClientOperation> als auch <xref:System.ServiceModel.Dispatcher.ClientRuntime> stellen ähnliche Dienste bereit, wenn dem Client Nachrichten (einschließlich Fehler) zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="17315-113">Both the <xref:System.ServiceModel.Dispatcher.ClientOperation> and <xref:System.ServiceModel.Dispatcher.ClientRuntime> provide similar services when messages (including faults) are returned to the client.</span></span>  
  
 <span data-ttu-id="17315-114">Diese beiden Lauf Zeit Klassen sind die Haupt Erweiterung zum Anpassen der Verarbeitung von WCF-Client Objekten und-Kanälen.</span><span class="sxs-lookup"><span data-stu-id="17315-114">These two runtime classes are the main extension to customize the processing of WCF client objects and channels.</span></span> <span data-ttu-id="17315-115">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Klasse ermöglicht Benutzern, die Clientausführung über alle Nachrichten im Vertrag hinweg abzufangen und zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="17315-115">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class allows users to intercept and extend client execution across all messages in the contract.</span></span> <span data-ttu-id="17315-116">Die <xref:System.ServiceModel.Dispatcher.ClientOperation>-Klasse ermöglicht Benutzern, die Clientausführung für alle Nachrichten eines bestimmten Vorgangs abzufangen und zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="17315-116">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class allows users to intercept and extend client execution for all messages in a given operation.</span></span>  
  
 <span data-ttu-id="17315-117">Das Ändern der Eigenschaften oder Einfügen von Anpassungen wird auf der Grundlage von Vertrags-, Endpunkt- und Vorgangsverhalten durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="17315-117">Modifying the properties or inserting customizations are done by using contract, endpoint, and operation behaviors.</span></span> <span data-ttu-id="17315-118">Weitere Informationen zur Verwendung dieser Verhaltenstypen zum Ausführen von Client Lauf Zeit Anpassungen finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="17315-118">For more information about how to use these types of behaviors to perform client runtime customizations, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="scenarios"></a><span data-ttu-id="17315-119">Szenarien</span><span class="sxs-lookup"><span data-stu-id="17315-119">Scenarios</span></span>  

 <span data-ttu-id="17315-120">Es gibt viele Gründe, das Clientsystem zu erweitern:</span><span class="sxs-lookup"><span data-stu-id="17315-120">There a number of reasons to extend the client system, including:</span></span>  
  
- <span data-ttu-id="17315-121">Benutzerdefinierte Nachrichtenvalidierung.</span><span class="sxs-lookup"><span data-stu-id="17315-121">Custom Message Validation.</span></span> <span data-ttu-id="17315-122">Ein Benutzer möchte durchsetzen, dass eine Nachricht für ein bestimmtes Schema gültig ist.</span><span class="sxs-lookup"><span data-stu-id="17315-122">A user may want to enforce that a message is valid for a certain schema.</span></span> <span data-ttu-id="17315-123">Dies kann durch Implementieren der <xref:System.ServiceModel.Dispatcher.IClientMessageInspector>-Schnittstelle und Zuweisen der Implementierung an die <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A>-Eigenschaft erfolgen.</span><span class="sxs-lookup"><span data-stu-id="17315-123">This can be done by implementing the <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> interface and assigning the implementation to the <xref:System.ServiceModel.Dispatcher.DispatchRuntime.MessageInspectors%2A> property.</span></span> <span data-ttu-id="17315-124">Beispiele finden Sie unter Gewusst [wie: Überprüfen oder Ändern von Nachrichten auf dem](how-to-inspect-or-modify-messages-on-the-client.md) Client und Gewusst [wie: Überprüfen oder Ändern von Nachrichten auf dem Client](how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="17315-124">For examples, see [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md) and [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
- <span data-ttu-id="17315-125">Benutzerdefinierte Nachrichtenprotokollierung.</span><span class="sxs-lookup"><span data-stu-id="17315-125">Custom Message Logging.</span></span> <span data-ttu-id="17315-126">Ein Benutzer möchte eventuell einige Anwendungsnachrichten prüfen und protokollieren, die durch einen Endpunkt fließen.</span><span class="sxs-lookup"><span data-stu-id="17315-126">A user may want to inspect and log some set of application messages that flow through an endpoint.</span></span> <span data-ttu-id="17315-127">Dies kann ebenfalls mit den Nachrichteninterceptorschnittstellen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="17315-127">This can also be accomplished with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="17315-128">Benutzerdefinierte Nachrichtentransformationen.</span><span class="sxs-lookup"><span data-stu-id="17315-128">Custom Message Transformations.</span></span> <span data-ttu-id="17315-129">Anstatt den Anwendungscode zu ändern, möchte der Benutzer vielleicht bestimmte Transformationen (wie Versionsverwaltung) auf die Nachricht in der Laufzeit anwenden.</span><span class="sxs-lookup"><span data-stu-id="17315-129">Rather than modifying application code, the user may want to apply certain transformations to the message in the runtime (for example, for versioning).</span></span> <span data-ttu-id="17315-130">Auch dies kann mit den Nachrichteninterceptorschnittstellen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="17315-130">This can be accomplished, again, with the message interceptor interfaces.</span></span>  
  
- <span data-ttu-id="17315-131">Benutzerdefiniertes Datenmodell.</span><span class="sxs-lookup"><span data-stu-id="17315-131">Custom Data Model.</span></span> <span data-ttu-id="17315-132">Ein Benutzer möchte möglicherweise ein Daten-oder Serialisierungsmodell aufweisen, das nicht standardmäßig in WCF unterstützt wird (nämlich,, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType> <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType> und- <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> Objekte).</span><span class="sxs-lookup"><span data-stu-id="17315-132">A user may want to have a data or serialization model other than those supported by default in WCF (namely, <xref:System.Runtime.Serialization.DataContractSerializer?displayProperty=nameWithType>, <xref:System.Xml.Serialization.XmlSerializer?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.Message?displayProperty=nameWithType> objects).</span></span> <span data-ttu-id="17315-133">Dies kann über die Implementierung der Nachrichtenformatierungsschnittstellen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="17315-133">This can be done by implementing the message formatter interfaces.</span></span> <span data-ttu-id="17315-134">Weitere Informationen finden Sie in der <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType>-Eigenschaft und in der <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType>-Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="17315-134">For more information, see <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter?displayProperty=nameWithType> and the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A?displayProperty=nameWithType> property.</span></span>  
  
- <span data-ttu-id="17315-135">Benutzerdefinierte Parametervalidierung.</span><span class="sxs-lookup"><span data-stu-id="17315-135">Custom Parameter Validation.</span></span> <span data-ttu-id="17315-136">Ein Benutzer möchte durchsetzen, dass typisierte Parameter gültig sind (im Gegensatz zu XML).</span><span class="sxs-lookup"><span data-stu-id="17315-136">A user may want to enforce that typed parameters are valid (as opposed to XML).</span></span> <span data-ttu-id="17315-137">Dies kann mit den Parameterinspektorschnittstellen erreicht werden.</span><span class="sxs-lookup"><span data-stu-id="17315-137">This can be done using the parameter inspector interfaces.</span></span> <span data-ttu-id="17315-138">Ein Beispiel finden Sie unter Gewusst [wie: Überprüfen oder Ändern von Parametern](how-to-inspect-or-modify-parameters.md) oder [Client Validierung](../samples/client-validation.md).</span><span class="sxs-lookup"><span data-stu-id="17315-138">For an example, see [How to: Inspect or Modify Parameters](how-to-inspect-or-modify-parameters.md) or [Client Validation](../samples/client-validation.md).</span></span>  
  
### <a name="using-the-clientruntime-class"></a><span data-ttu-id="17315-139">Verwenden der ClientRuntime-Klasse</span><span class="sxs-lookup"><span data-stu-id="17315-139">Using the ClientRuntime Class</span></span>  

 <span data-ttu-id="17315-140">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Klasse ist ein Erweiterungspunkt, an den Sie Erweiterungsobjekte anhängen können, die Nachrichten abfangen und das Clientverhalten ausdehnen.</span><span class="sxs-lookup"><span data-stu-id="17315-140">The <xref:System.ServiceModel.Dispatcher.ClientRuntime> class is an extensibility point to which you can add extension objects that intercept messages and extend client behavior.</span></span> <span data-ttu-id="17315-141">Abfangobjekte können alle Nachrichten in einem bestimmten Vertrag verarbeiten, nur Nachrichten für bestimmte Vorgänge verarbeiten, eine benutzerdefinierte Kanalinitialisierung durchführen und sonstiges benutzerdefiniertes Verhalten von Clientanwendungen implementieren.</span><span class="sxs-lookup"><span data-stu-id="17315-141">Interception objects can process all messages in a particular contract, process only messages for particular operations, perform custom channel initialization, and implement other custom client application behavior.</span></span>  
  
- <span data-ttu-id="17315-142">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A>-Eigenschaft gibt das DispatchRuntime-Objekt für durch Dienste initiierte Rückrufvorgangsclients zurück.</span><span class="sxs-lookup"><span data-stu-id="17315-142">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A> property returns the dispatch run-time object for service-initiated callback clients.</span></span>  
  
- <span data-ttu-id="17315-143">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A>-Eigenschaft akzeptiert ein benutzerdefiniertes Vorgangsauswahlobjekt.</span><span class="sxs-lookup"><span data-stu-id="17315-143">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.OperationSelector%2A> property accepts a custom operation selector object.</span></span>  
  
- <span data-ttu-id="17315-144">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A>-Eigenschaft ermöglicht das Hinzufügen eines Kanalinitialisierers, der den Clientkanal prüfen oder abändern kann.</span><span class="sxs-lookup"><span data-stu-id="17315-144">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ChannelInitializers%2A> property enables the addition of a channel initializer that can inspect or modify the client channel.</span></span>  
  
- <span data-ttu-id="17315-145">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A>-Eigenschaft ruft eine Auflistung von <xref:System.ServiceModel.Dispatcher.ClientOperation>-Objekten ab, denen Sie benutzerdefinierte Nachrichteninterceptoren hinzufügen können, die spezielle Funktionen für die Nachrichten dieses Vorgangs bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="17315-145">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.ClientOperation> objects to which you can add custom message interceptors that provide functionality specific to the messages of that operation.</span></span>  
  
- <span data-ttu-id="17315-146">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A>-Eigenschaft ermöglicht einer Anwendung, bestimmte automatische Adressierungsheader zu deaktivieren, um die Adressierung direkt zu steuern.</span><span class="sxs-lookup"><span data-stu-id="17315-146">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.ManualAddressing%2A> property enables an application to turn off some automatic addressing headers to directly control addressing.</span></span>  
  
- <span data-ttu-id="17315-147">Die <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A>-Eigenschaft legt den Wert des Ziels der Nachricht auf der Transportebene fest, um Vermittler und andere Szenarien zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="17315-147">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.Via%2A> property sets the value of the destination of the message at the transport level to support intermediaries and other scenarios.</span></span>  
  
- <span data-ttu-id="17315-148">Die- <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> Eigenschaft ruft eine Auflistung von-Objekten ab <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> , denen Sie benutzerdefinierte nachrichteninterceptors für alle Nachrichten hinzufügen können, die über einen WCF-Client laufen.</span><span class="sxs-lookup"><span data-stu-id="17315-148">The <xref:System.ServiceModel.Dispatcher.ClientRuntime.MessageInspectors%2A> property gets a collection of <xref:System.ServiceModel.Dispatcher.IClientMessageInspector> objects to which you can add custom message interceptors for all messages traveling through a WCF client.</span></span>  
  
 <span data-ttu-id="17315-149">Außerdem gibt es eine Reihe weiterer Eigenschaften, die die Clientvertragsinformationen abrufen:</span><span class="sxs-lookup"><span data-stu-id="17315-149">In addition, there are a number of other properties that retrieve the contract information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractName%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractNamespace%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.ContractClientType%2A>  
  
 <span data-ttu-id="17315-150">Wenn der WCF-Client ein Duplex-WCF-Client ist, rufen die folgenden Eigenschaften auch die Rückruf-WCF-Client Informationen ab:</span><span class="sxs-lookup"><span data-stu-id="17315-150">If the WCF client is a duplex WCF client, the following properties also retrieve the callback WCF client information:</span></span>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackClientType%2A>  
  
- <xref:System.ServiceModel.Dispatcher.ClientRuntime.CallbackDispatchRuntime%2A>  
  
 <span data-ttu-id="17315-151">Wenn Sie die Ausführung des WCF-Clients auf einem gesamten WCF-Client erweitern möchten, überprüfen Sie die in der-Klasse verfügbaren Eigenschaften, <xref:System.ServiceModel.Dispatcher.ClientRuntime> um festzustellen, ob das Ändern einer Eigenschaft oder das Implementieren einer Schnittstelle und hinzufügen zu einer Eigenschaft die von Ihnen gesuchte</span><span class="sxs-lookup"><span data-stu-id="17315-151">To extend WCF client execution across an entire WCF client, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="17315-152">Sobald Sie eine bestimmte Erweiterung ausgewählt haben, müssen Sie Ihre Erweiterung in die geeignete <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Eigenschaft einfügen, indem Sie ein Clientverhalten implementieren, das Zugriff auf die <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Klasse bietet, sobald diese aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="17315-152">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientRuntime> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class when invoked.</span></span>  
  
 <span data-ttu-id="17315-153">Sie können benutzerdefinierte Erweiterungsobjekte in eine Auflistung einfügen. Verwenden Sie dazu ein Vorgangsverhalten (ein Objekt, das <xref:System.ServiceModel.Description.IOperationBehavior> implementiert), ein Vertragsverhalten (ein Objekt, das <xref:System.ServiceModel.Description.IContractBehavior> implementiert) oder ein Endpunktverhalten (ein Objekt, das <xref:System.ServiceModel.Description.IEndpointBehavior> implementiert).</span><span class="sxs-lookup"><span data-stu-id="17315-153">You can insert custom extension objects into a collection using an operation behavior (an object that implements <xref:System.ServiceModel.Description.IOperationBehavior>), a contract behavior (an object that implements <xref:System.ServiceModel.Description.IContractBehavior>), or an endpoint behavior (an object that implements <xref:System.ServiceModel.Description.IEndpointBehavior>).</span></span> <span data-ttu-id="17315-154">Das installierende Verhaltensobjekt wird der entsprechenden Auflistung der Verhalten entweder programmatisch, deklarativ (durch Implementierung eines benutzerdefinierten Attributs) oder durch Implementierung eines benutzerdefinierten <xref:System.ServiceModel.Configuration.BehaviorExtensionElement>-Objekts hinzugefügt, um das Verhalten, das eingefügt werden soll, anhand einer Anwendungskonfigurationsdatei zu aktivieren.</span><span class="sxs-lookup"><span data-stu-id="17315-154">The installing behavior object is added to the appropriate collection of behaviors either programmatically, declaratively (by implementing a custom attribute), or by implementing a custom <xref:System.ServiceModel.Configuration.BehaviorExtensionElement> object to enable the behavior to be inserted using an application configuration file.</span></span> <span data-ttu-id="17315-155">Weitere Informationen finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="17315-155">For details, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="17315-156">Beispiele zur Veranschaulichung der Abfang Funktion für einen WCF-Client finden Sie unter Vorgehens [Weise: Überprüfen oder Ändern von Nachrichten auf dem Client](how-to-inspect-or-modify-messages-on-the-client.md).</span><span class="sxs-lookup"><span data-stu-id="17315-156">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Messages on the Client](how-to-inspect-or-modify-messages-on-the-client.md).</span></span>  
  
### <a name="using-the-clientoperation-class"></a><span data-ttu-id="17315-157">Verwenden der ClientOperation-Klasse</span><span class="sxs-lookup"><span data-stu-id="17315-157">Using the ClientOperation Class</span></span>  

 <span data-ttu-id="17315-158">Die <xref:System.ServiceModel.Dispatcher.ClientOperation>-Klasse ist der Ort für Änderungen an der Clientlaufzeit und die Einfügemarke für benutzerdefinierte Erweiterungen, die nur auf einen Dienstvorgang abzielen.</span><span class="sxs-lookup"><span data-stu-id="17315-158">The <xref:System.ServiceModel.Dispatcher.ClientOperation> class is the location for client run-time modifications and insertion point for custom extensions that are scoped to only one service operation.</span></span> <span data-ttu-id="17315-159">(Um das Clientlaufzeitverhalten für alle Nachrichten in einem Vertrag zu ändern, verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Klasse.)</span><span class="sxs-lookup"><span data-stu-id="17315-159">(To modify client run-time behavior for all messages in a contract, use the <xref:System.ServiceModel.Dispatcher.ClientRuntime> class.)</span></span>  
  
 <span data-ttu-id="17315-160">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A>-Eigenschaft, um das <xref:System.ServiceModel.Dispatcher.ClientOperation>-Objekt zu suchen, das einen bestimmten Dienstvorgang darstellt.</span><span class="sxs-lookup"><span data-stu-id="17315-160">Use the <xref:System.ServiceModel.Dispatcher.ClientRuntime.Operations%2A> property to locate the <xref:System.ServiceModel.Dispatcher.ClientOperation> object that represents a particular service operation.</span></span> <span data-ttu-id="17315-161">Die folgenden Eigenschaften ermöglichen es Ihnen, benutzerdefinierte Objekte in das WCF-Client System einzufügen:</span><span class="sxs-lookup"><span data-stu-id="17315-161">The following properties enable you to insert custom objects into the WCF client system:</span></span>  
  
- <span data-ttu-id="17315-162">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A>-Eigenschaft, um eine benutzerdefinierte <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter>-Implementierung für einen Vorgang einzufügen oder das aktuelle Formatierungsprogramm zu ändern.</span><span class="sxs-lookup"><span data-stu-id="17315-162">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> implementation for an operation or modify the current formatter.</span></span>  
  
- <span data-ttu-id="17315-163">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A>-Eigenschaft, um eine benutzerdefinierte <xref:System.ServiceModel.Dispatcher.IParameterInspector>-Implementierung einzufügen oder die aktuelle Implementierung zu ändern.</span><span class="sxs-lookup"><span data-stu-id="17315-163">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.ParameterInspectors%2A> property to insert a custom <xref:System.ServiceModel.Dispatcher.IParameterInspector> implementation or to modify the current one.</span></span>  
  
 <span data-ttu-id="17315-164">Mit den folgenden Eigenschaften können Sie das System in Interaktion mit dem Formatierungsprogramm und benutzerdefinierten Parameterinspektoren ändern:</span><span class="sxs-lookup"><span data-stu-id="17315-164">The following properties enable you to modify the system in interaction with the formatter and custom parameter inspectors:</span></span>  
  
- <span data-ttu-id="17315-165">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A>-Eigenschaft, um die Serialisierung einer ausgehenden Nachricht zu steuern.</span><span class="sxs-lookup"><span data-stu-id="17315-165">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SerializeRequest%2A> property to control the serialization of an outbound message.</span></span>  
  
- <span data-ttu-id="17315-166">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A>-Eigenschaft, um die Deserialisierung einer eingehenden Nachricht zu steuern.</span><span class="sxs-lookup"><span data-stu-id="17315-166">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.DeserializeReply%2A> property to control the deserialization of an inbound message.</span></span>  
  
- <span data-ttu-id="17315-167">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A>-Eigenschaft, um die WS-Adressierungsaktion der Anforderungsnachricht zu steuern.</span><span class="sxs-lookup"><span data-stu-id="17315-167">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Action%2A> property to control the WS-Addressing action of the request message.</span></span>  
  
- <span data-ttu-id="17315-168">Verwenden <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> Sie und <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> , um anzugeben, welche WCF-Client Methoden einem asynchronen Vorgang zugeordnet sind.</span><span class="sxs-lookup"><span data-stu-id="17315-168">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.BeginMethod%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.EndMethod%2A> to specify which WCF client methods are associated with an asynchronous operation.</span></span>  
  
- <span data-ttu-id="17315-169">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A>-Eigenschaft, um eine Auflistung der angegebenen Typen abzurufen, die als Detailtyp in SOAP-Fehlern erscheinen können.</span><span class="sxs-lookup"><span data-stu-id="17315-169">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.FaultContractInfos%2A> property to get a collection that contains the types that can appear in SOAP faults as the detail type.</span></span>  
  
- <span data-ttu-id="17315-170">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A>-Eigenschaft und die <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A>-Eigenschaft, um zu steuern, ob eine Sitzung initiiert bzw. abgebrochen wird, wenn der Vorgang aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="17315-170">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsInitiating%2A> and <xref:System.ServiceModel.Dispatcher.ClientOperation.IsTerminating%2A> properties to control whether a session is initiated or is torn down, respectively, when the operation is called.</span></span>  
  
- <span data-ttu-id="17315-171">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A>-Eigenschaft, um zu steuern, ob es sich bei dem Vorgang um einen unidirektionalen Vorgang handelt.</span><span class="sxs-lookup"><span data-stu-id="17315-171">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.IsOneWay%2A> property to control whether the operation is a one-way operation.</span></span>  
  
- <span data-ttu-id="17315-172">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A>-Eigenschaft, um das darin enthaltene <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Objekt zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="17315-172">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Parent%2A> property to obtain the containing <xref:System.ServiceModel.Dispatcher.ClientRuntime> object.</span></span>  
  
- <span data-ttu-id="17315-173">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A>-Eigenschaft, um den Namen des Vorgangs abzurufen.</span><span class="sxs-lookup"><span data-stu-id="17315-173">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.Name%2A> property to get the name of the operation.</span></span>  
  
- <span data-ttu-id="17315-174">Verwenden Sie die <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A>-Eigenschaft, um zu steuern, welche Methode dem Vorgang zugeordnet wird.</span><span class="sxs-lookup"><span data-stu-id="17315-174">Use the <xref:System.ServiceModel.Dispatcher.ClientOperation.SyncMethod%2A> property to control which method is mapped to the operation.</span></span>  
  
 <span data-ttu-id="17315-175">Um die Ausführung des WCF-Clients über nur einen Dienst Vorgang zu erweitern, überprüfen Sie die in der-Klasse verfügbaren Eigenschaften, <xref:System.ServiceModel.Dispatcher.ClientOperation> um festzustellen, ob das Ändern einer Eigenschaft oder das Implementieren einer Schnittstelle und das Hinzufügen zu einer Eigenschaft die von Ihnen gesuchte Funktionalität</span><span class="sxs-lookup"><span data-stu-id="17315-175">To extend WCF client execution across only one service operation, review the properties available on the <xref:System.ServiceModel.Dispatcher.ClientOperation> class to see whether modifying a property or implementing an interface and adding it to a property creates the functionality you are seeking.</span></span> <span data-ttu-id="17315-176">Sobald Sie eine bestimmte Erweiterung ausgewählt haben, müssen Sie Ihre Erweiterung in die geeignete <xref:System.ServiceModel.Dispatcher.ClientOperation>-Eigenschaft einfügen, indem Sie ein Clientverhalten implementieren, das Zugriff auf die <xref:System.ServiceModel.Dispatcher.ClientOperation>-Klasse bietet, sobald diese aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="17315-176">Once you have chosen a particular extension to build, insert your extension into the appropriate <xref:System.ServiceModel.Dispatcher.ClientOperation> property by implementing a client behavior that provides access to the <xref:System.ServiceModel.Dispatcher.ClientOperation> class when invoked.</span></span> <span data-ttu-id="17315-177">In diesem Verhalten können Sie dann die <xref:System.ServiceModel.Dispatcher.ClientRuntime>-Eigenschaft ändern, um sie Ihren Anforderungen anzupassen.</span><span class="sxs-lookup"><span data-stu-id="17315-177">Inside that behavior you can then modify the <xref:System.ServiceModel.Dispatcher.ClientRuntime> property to fit your requirements.</span></span>  
  
 <span data-ttu-id="17315-178">In der Regel reicht die Implementierung eines Vorgangsverhaltens (ein Objekt, das die <xref:System.ServiceModel.Description.IOperationBehavior>-Schnittstelle implementiert) aus, Sie können jedoch auch Endpunktverhalten und Vertragsverhalten verwenden, um dasselbe zu erreichen, indem Sie <xref:System.ServiceModel.Description.OperationDescription> für einen bestimmten Vorgang suchen und dort das Verhalten anfügen.</span><span class="sxs-lookup"><span data-stu-id="17315-178">Typically, implementing an operation behavior (an object that implements the <xref:System.ServiceModel.Description.IOperationBehavior> interface) suffices, but you can also use endpoint behaviors and contract behaviors to accomplish the same thing by locating the <xref:System.ServiceModel.Description.OperationDescription> for a particular operation and attaching the behavior there.</span></span> <span data-ttu-id="17315-179">Weitere Informationen finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="17315-179">For details, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
 <span data-ttu-id="17315-180">Um das benutzerdefinierte Verhalten der Konfiguration zu verwenden, installieren Sie das Verhalten mit einem benutzerdefinierten Verhaltenskonfigurationsabschnitts-Handler.</span><span class="sxs-lookup"><span data-stu-id="17315-180">To use your custom behavior from configuration, install your behavior using a custom behavior configuration section handler.</span></span> <span data-ttu-id="17315-181">Sie können auch das Verhalten installieren, indem Sie ein benutzerdefiniertes Attribut erstellen.</span><span class="sxs-lookup"><span data-stu-id="17315-181">You can also install your behavior by creating a custom attribute.</span></span>  
  
 <span data-ttu-id="17315-182">Beispiele zur Veranschaulichung der Abfang Funktion für einen WCF-Client finden Sie unter Gewusst [wie: Überprüfen oder Ändern von Parametern](how-to-inspect-or-modify-parameters.md).</span><span class="sxs-lookup"><span data-stu-id="17315-182">For examples that demonstrate interception across a WCF client, see [How to: Inspect or Modify Parameters](how-to-inspect-or-modify-parameters.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="17315-183">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="17315-183">See also</span></span>

- <xref:System.ServiceModel.Dispatcher.ClientRuntime>
- <xref:System.ServiceModel.Dispatcher.ClientOperation>
- [<span data-ttu-id="17315-184">Vorgehensweise: Überprüfen oder Ändern von Nachrichten auf dem Client</span><span class="sxs-lookup"><span data-stu-id="17315-184">How to: Inspect or Modify Messages on the Client</span></span>](how-to-inspect-or-modify-messages-on-the-client.md)
- [<span data-ttu-id="17315-185">Vorgehensweise: Überprüfen oder Ändern von Parametern</span><span class="sxs-lookup"><span data-stu-id="17315-185">How to: Inspect or Modify Parameters</span></span>](how-to-inspect-or-modify-parameters.md)
