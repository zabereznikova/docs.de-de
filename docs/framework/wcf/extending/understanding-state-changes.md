---
title: Grundlegendes zu Zustandsänderungen
ms.date: 03/30/2017
ms.assetid: a79ed2aa-e49a-47a8-845a-c9f436ec9987
ms.openlocfilehash: babc62206fc700fe68c2220c4f2cd717cd758d56
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96294040"
---
# <a name="understanding-state-changes"></a><span data-ttu-id="ac241-102">Grundlegendes zu Zustandsänderungen</span><span class="sxs-lookup"><span data-stu-id="ac241-102">Understanding State Changes</span></span>

<span data-ttu-id="ac241-103">In diesem Thema werden die Zustände und Übergänge in Kanälen, die Typen zum Strukturieren von Kanalzuständen und deren Implementierung erläutert.</span><span class="sxs-lookup"><span data-stu-id="ac241-103">This topic discusses the states and transitions that channels have, the types used to structure channel states, and how to implement them.</span></span>  
  
## <a name="state-machines-and-channels"></a><span data-ttu-id="ac241-104">Zustandsautomaten und Kanäle</span><span class="sxs-lookup"><span data-stu-id="ac241-104">State Machines and Channels</span></span>  

 <span data-ttu-id="ac241-105">Objekte, die die Kommunikation behandeln, wie z.&#160;B. Sockets, weisen in der Regel einen Zustandsautomaten auf, dessen Zustandsübergänge sich auf das Zuordnen von Netzwerkressourcen, Herstellen oder Annehmen von Verbindungen oder das Schließen und Beenden einer Kommunikation beziehen.</span><span class="sxs-lookup"><span data-stu-id="ac241-105">Objects that deal with communication, for example sockets, usually present a state machine whose state transitions relate to allocating network resources, making or accepting connections, closing connections and terminating communication.</span></span> <span data-ttu-id="ac241-106">Der Kanalzustandsautomat stellt ein einheitliches Modell der Zustände eines Kommunikationsobjekt bereit, das die zugrunde liegende Implementierung dieses Objekts abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="ac241-106">The channel state machine provides a uniform model of the states of a communication object that abstracts the underlying implementation of that object.</span></span> <span data-ttu-id="ac241-107">Die <xref:System.ServiceModel.ICommunicationObject>-Schnittstelle umfasst eine Reihe von Zuständen, Zustandsübergangsmethoden und Zustandsübergangsereignisse.</span><span class="sxs-lookup"><span data-stu-id="ac241-107">The <xref:System.ServiceModel.ICommunicationObject> interface provides a set of states, state transition methods and state transition events.</span></span> <span data-ttu-id="ac241-108">Alle Kanäle, Kanalfactorys und Kanallistener implementieren den Kanalzustandsautomaten.</span><span class="sxs-lookup"><span data-stu-id="ac241-108">All channels, channel factories and channel listeners implement the channel state machine.</span></span>  
  
 <span data-ttu-id="ac241-109">Die Ereignisse Closed, Closing, Faulted, Opened und Opening informieren einen externen Beobachter über einen stattgefundenen Zustandsübergang.</span><span class="sxs-lookup"><span data-stu-id="ac241-109">The events Closed, Closing, Faulted, Opened and Opening signal an external observer after a state transition occurs.</span></span>  
  
 <span data-ttu-id="ac241-110">Die Methoden Abort, Close und Open (und deren asynchrone Entsprechungen) verursachen Zustandsübergänge.</span><span class="sxs-lookup"><span data-stu-id="ac241-110">The methods Abort, Close, and Open (and their asynchronous equivalents) cause state transitions.</span></span>  
  
 <span data-ttu-id="ac241-111">Die Zustandseigenschaft gibt den von <xref:System.ServiceModel.CommunicationState> definierten aktuellen Zustand zurück:</span><span class="sxs-lookup"><span data-stu-id="ac241-111">The state property returns the current state as defined by <xref:System.ServiceModel.CommunicationState>:</span></span>  
  
## <a name="icommunicationobject-communicationobject-and-states-and-state-transition"></a><span data-ttu-id="ac241-112">ICommunicationObject, CommunicationObject, Zustände und Zustandsübergänge</span><span class="sxs-lookup"><span data-stu-id="ac241-112">ICommunicationObject, CommunicationObject, and States and State Transition</span></span>  

 <span data-ttu-id="ac241-113">Ein <xref:System.ServiceModel.ICommunicationObject> beginnt im Created-Zustand, in dem seine verschiedenen Eigenschaften konfiguriert werden können.</span><span class="sxs-lookup"><span data-stu-id="ac241-113">An <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state where its various properties can be configured.</span></span> <span data-ttu-id="ac241-114">Sobald sich das Objekt im Opened-Zustand befindet, kann es zum Senden und Empfangen von Nachrichten verwendet werden, seine Eigenschaften sind jedoch unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="ac241-114">Once in the Opened state, the object is usable for sending and receiving messages but its properties are considered immutable.</span></span> <span data-ttu-id="ac241-115">Im Closing-Zustand kann das Objekt keine neuen Anforderungen senden oder empfangen. Vorhandene Anforderungen können jedoch abgeschlossen werden, sofern der Close-Timeout nicht überschritten wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-115">Once in the Closing state, the object can no longer process new send or receive requests, but existing requests have a chance to complete until the Close timeout is reached.</span></span>  <span data-ttu-id="ac241-116">Bei einem nicht behebbaren Fehler geht das Objekt in den Faulted-Zustand über und kann auf Informationen zum Fehler überprüft und letztendlich geschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-116">If an unrecoverable error occurs, the object transitions to the Faulted state where it can be inspected for information about the error and ultimately closed.</span></span> <span data-ttu-id="ac241-117">Im Closed-Zustand hat das Objekt im Wesentlichen das Ende des Zustandsautomats erreicht.</span><span class="sxs-lookup"><span data-stu-id="ac241-117">When in the Closed state the object has essentially reached the end of the state machine.</span></span> <span data-ttu-id="ac241-118">Nachdem ein Objekt aus einen Zustand in den nächsten übergegangen ist, wechselt es nicht mehr zurück in einen früheren Zustand.</span><span class="sxs-lookup"><span data-stu-id="ac241-118">Once an object transitions from one state to the next, it does not go back to a previous state.</span></span>  
  
 <span data-ttu-id="ac241-119">Das folgende Diagramm veranschaulicht die Zustände und Zustandsübergänge von <xref:System.ServiceModel.ICommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="ac241-119">The following diagram shows the <xref:System.ServiceModel.ICommunicationObject> states and state transitions.</span></span> <span data-ttu-id="ac241-120">Zustandsübergänge können durch einen Aufruf der folgenden drei Methoden verursacht werden: Abort, Open oder Close.</span><span class="sxs-lookup"><span data-stu-id="ac241-120">State transitions can be caused by calling one of the three methods: Abort, Open, or Close.</span></span> <span data-ttu-id="ac241-121">Sie können auch durch einen Aufruf anderer Methoden, die von der Implementierung abhängen, verursacht werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-121">They could also be caused by calling other implementation-specific methods.</span></span> <span data-ttu-id="ac241-122">Ein Übergang in den Faulted-Zustand kann das Ergebnis von Fehlern beim oder nach dem Öffnen eines Kommunikationsobjekts sein.</span><span class="sxs-lookup"><span data-stu-id="ac241-122">Transitioning to the Faulted state could happen as a result of errors while opening or after having opened the communication object.</span></span>  
  
 <span data-ttu-id="ac241-123">Jedes <xref:System.ServiceModel.ICommunicationObject> beginnt im Created-Zustand.</span><span class="sxs-lookup"><span data-stu-id="ac241-123">Every <xref:System.ServiceModel.ICommunicationObject> starts out in the Created state.</span></span> <span data-ttu-id="ac241-124">In diesem Zustand kann eine Anwendung das Objekt konfigurieren, indem dessen Eigenschaften festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-124">In this state, an application can configure the object by setting its properties.</span></span> <span data-ttu-id="ac241-125">Sobald sich ein Objekt in einen anderen Zustand als Created befindet, gilt es als unveränderlich.</span><span class="sxs-lookup"><span data-stu-id="ac241-125">Once an object is in a state other than Created, it is considered immutable.</span></span>  
  
 ![DataFlow-Diagramm des channelstatusübergangs.](./media/understanding-state-changes/channel-state-transitions.gif)  
<span data-ttu-id="ac241-127">Abbildung 1.</span><span class="sxs-lookup"><span data-stu-id="ac241-127">Figure 1.</span></span> <span data-ttu-id="ac241-128">Der ICommunicationObject-Zustandsautomat.</span><span class="sxs-lookup"><span data-stu-id="ac241-128">The ICommunicationObject State Machine.</span></span>  
  
 <span data-ttu-id="ac241-129">Windows Communication Foundation (WCF) stellt eine abstrakte Basisklasse mit <xref:System.ServiceModel.Channels.CommunicationObject> dem Namen bereit, die <xref:System.ServiceModel.ICommunicationObject> und den Kanal Zustands Automat implementiert.</span><span class="sxs-lookup"><span data-stu-id="ac241-129">Windows Communication Foundation (WCF) provides an abstract base class named <xref:System.ServiceModel.Channels.CommunicationObject> that implements <xref:System.ServiceModel.ICommunicationObject> and the channel state machine.</span></span> <span data-ttu-id="ac241-130">In der folgenden Grafik wird ein Diagramm mit Zustandsänderungen dargestellt, das sich auf <xref:System.ServiceModel.Channels.CommunicationObject> bezieht.</span><span class="sxs-lookup"><span data-stu-id="ac241-130">The following graphic is a modified state diagram that is specific to <xref:System.ServiceModel.Channels.CommunicationObject>.</span></span> <span data-ttu-id="ac241-131">Neben dem <xref:System.ServiceModel.ICommunicationObject>-Zustandsautomaten zeigt es die zeitliche Steuerung, nach der weitere <xref:System.ServiceModel.Channels.CommunicationObject>-Methoden aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-131">In addition to the <xref:System.ServiceModel.ICommunicationObject> state machine, it shows the timing when additional <xref:System.ServiceModel.Channels.CommunicationObject> methods are invoked.</span></span>  
  
 <span data-ttu-id="ac241-132">![DataFlow-Diagramm der CommunicationObject-Implementierungs Statusänderungen.](./media/understanding-state-changes/communicationobject-implementation-state-machine.gif)</span><span class="sxs-lookup"><span data-stu-id="ac241-132">![Dataflow diagram of CommunicationObject implementation state changes.](./media/understanding-state-changes/communicationobject-implementation-state-machine.gif)</span></span>
<span data-ttu-id="ac241-133">Abbildung 2.</span><span class="sxs-lookup"><span data-stu-id="ac241-133">Figure 2.</span></span> <span data-ttu-id="ac241-134">Die CommunicationObject-Implementierung des ICommunicationObject-Zustandsautomats, einschließlich Aufrufe von Ereignissen und geschützte Methoden.</span><span class="sxs-lookup"><span data-stu-id="ac241-134">The CommunicationObject implementation of the ICommunicationObject state machine including calls to events and protected methods.</span></span>  
  
### <a name="icommunicationobject-events"></a><span data-ttu-id="ac241-135">ICommunicationObject-Ereignisse</span><span class="sxs-lookup"><span data-stu-id="ac241-135">ICommunicationObject Events</span></span>  

 <span data-ttu-id="ac241-136"><xref:System.ServiceModel.Channels.CommunicationObject> macht die fünf von <xref:System.ServiceModel.ICommunicationObject> definierten Ereignisse verfügbar.</span><span class="sxs-lookup"><span data-stu-id="ac241-136"><xref:System.ServiceModel.Channels.CommunicationObject> exposes the five events defined by <xref:System.ServiceModel.ICommunicationObject>.</span></span> <span data-ttu-id="ac241-137">Diese Ereignisse sind für Code vorgesehen, in dem das Kommunikationsobjekt für eine Benachrichtigung über Zustandsübergänge verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-137">These events are designed for code using the communication object to be notified of state transitions.</span></span> <span data-ttu-id="ac241-138">Wie oben in Abbildung 2 dargestellt, wird jedes Ereignis einmal ausgelöst, nachdem der Zustand des Objekts in den durch das Ereignis bezeichneten Zustand übergegangen ist.</span><span class="sxs-lookup"><span data-stu-id="ac241-138">As shown in Figure 2 above, each event is fired once after the object’s state transitions to the state named by the event.</span></span> <span data-ttu-id="ac241-139">Alle fünf Ereignisse sind vom Typ `EventHandler`, der folgendermaßen definiert wird:</span><span class="sxs-lookup"><span data-stu-id="ac241-139">All five events are of the `EventHandler` type which is defined as:</span></span>  
  
 `public delegate void EventHandler(object sender, EventArgs e);`  
  
 <span data-ttu-id="ac241-140">In der <xref:System.ServiceModel.Channels.CommunicationObject>-Implementierung ist der Absender entweder <xref:System.ServiceModel.Channels.CommunicationObject> direkt oder das, was darin als Absender an den <xref:System.ServiceModel.Channels.CommunicationObject>-Konstruktor übergeben wurde (wenn diese Konstruktorüberladung verwendet wurde).</span><span class="sxs-lookup"><span data-stu-id="ac241-140">In the <xref:System.ServiceModel.Channels.CommunicationObject> implementation, the sender is either the <xref:System.ServiceModel.Channels.CommunicationObject> itself or whatever was passed in as the sender to the <xref:System.ServiceModel.Channels.CommunicationObject> constructor (if that constructor overload was used).</span></span> <span data-ttu-id="ac241-141">Der EventArgs-Parameter `e` ist immer `EventArgs.Empty`.</span><span class="sxs-lookup"><span data-stu-id="ac241-141">The EventArgs parameter, `e`, is always `EventArgs.Empty`.</span></span>  
  
### <a name="derived-object-callbacks"></a><span data-ttu-id="ac241-142">Abgeleitete Objektrückrufe</span><span class="sxs-lookup"><span data-stu-id="ac241-142">Derived Object Callbacks</span></span>  

 <span data-ttu-id="ac241-143">Abgesehen von den fünf Ereignissen deklariert <xref:System.ServiceModel.Channels.CommunicationObject> acht geschützte virtuelle Methoden, mit denen ein abgeleitetes Objekt vor und nach dem Eintreten eines Zustandsübergang zurückgerufen werden kann.</span><span class="sxs-lookup"><span data-stu-id="ac241-143">In addition to the five events, <xref:System.ServiceModel.Channels.CommunicationObject> declares eight protected virtual methods designed to allow a derived object to be called back before and after state transitions occur.</span></span>  
  
 <span data-ttu-id="ac241-144">Den Methoden <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> sind jeweils drei solcher Rückrufe zugeordnete.</span><span class="sxs-lookup"><span data-stu-id="ac241-144">The <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> methods have three such callbacks associated with each of them.</span></span> <span data-ttu-id="ac241-145">Beispielsweise gehören zu <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> die Rückrufe <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="ac241-145">For example, corresponding to <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A?displayProperty=nameWithType> there is <xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="ac241-146"><xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> sind die Methoden <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="ac241-146">Associated with <xref:System.ServiceModel.Channels.CommunicationObject.Close%2A?displayProperty=nameWithType> are the <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> methods.</span></span>  
  
 <span data-ttu-id="ac241-147">Entsprechend verfügt die <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType>-Methode über eine zugehörige <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>-Methode.</span><span class="sxs-lookup"><span data-stu-id="ac241-147">Similarly, the <xref:System.ServiceModel.Channels.CommunicationObject.Abort%2A?displayProperty=nameWithType> method has a corresponding <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="ac241-148"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> weisen keine Standardimplementierung auf. Die anderen Rückrufe besitzen hingegen eine Standardimplementierung, die für die Richtigkeit des Zustandsautomats erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="ac241-148">While <xref:System.ServiceModel.Channels.CommunicationObject.OnOpen%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClose%2A?displayProperty=nameWithType>, and <xref:System.ServiceModel.Channels.CommunicationObject.OnAbort%2A?displayProperty=nameWithType> have no default implementation, the other callbacks do have a default implementation which is necessary for state machine correctness.</span></span> <span data-ttu-id="ac241-149">Stellen Sie beim Überschreiben dieser Methoden sicher, dass Sie die Basisimplementierung aufrufen oder ordnungsgemäß ersetzen.</span><span class="sxs-lookup"><span data-stu-id="ac241-149">If you override those methods be sure to call the base implementation or correctly replace it.</span></span>  
  
 <span data-ttu-id="ac241-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> lösen das entsprechende Ereignis <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-150"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpening%2A?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.OnClosing%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnFaulted%2A?displayProperty=nameWithType> fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opening?displayProperty=nameWithType>, <xref:System.ServiceModel.Channels.CommunicationObject.Closing?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Faulted?displayProperty=nameWithType> events.</span></span> <span data-ttu-id="ac241-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> legen den Objektstatus auf jeweils Opened und Closed fest und lösen dann die entsprechenden Ereignisse <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> und <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-151"><xref:System.ServiceModel.Channels.CommunicationObject.OnOpened%2A?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.OnClosed%2A?displayProperty=nameWithType> set the object state to Opened and Closed respectively then fire the corresponding <xref:System.ServiceModel.Channels.CommunicationObject.Opened?displayProperty=nameWithType> and <xref:System.ServiceModel.Channels.CommunicationObject.Closed?displayProperty=nameWithType> events.</span></span>  
  
### <a name="state-transition-methods"></a><span data-ttu-id="ac241-152">Zustandsübergangsmethoden</span><span class="sxs-lookup"><span data-stu-id="ac241-152">State Transition Methods</span></span>  

 <span data-ttu-id="ac241-153"><xref:System.ServiceModel.Channels.CommunicationObject> stellt Implementierungen von Abort, Close und Open bereit.</span><span class="sxs-lookup"><span data-stu-id="ac241-153"><xref:System.ServiceModel.Channels.CommunicationObject> provides implementations of Abort, Close and Open.</span></span> <span data-ttu-id="ac241-154">Bereitgestellt wird außerdem eine Fault-Methode, die einen Zustandsübergang in den Faulted-Zustand verursacht.</span><span class="sxs-lookup"><span data-stu-id="ac241-154">It also provides a Fault method which causes a state transition to the Faulted state.</span></span> <span data-ttu-id="ac241-155">Abbildung 2 zeigt den <xref:System.ServiceModel.ICommunicationObject>-Zustandsautomaten. Dabei wird jeder Übergang durch die Methode bezeichnet, die ihn verursacht hat (nicht bezeichnete Übergänge treten innerhalb der Implementierung der Methode auf, die den letzten bezeichneten Übergang verursacht hat).</span><span class="sxs-lookup"><span data-stu-id="ac241-155">Figure 2 shows the <xref:System.ServiceModel.ICommunicationObject> state machine with each transition labeled by the method that causes it (unlabeled transitions happen inside the implementation of the method that caused the last labeled transition).</span></span>  
  
> [!NOTE]
> <span data-ttu-id="ac241-156">Bei allen <xref:System.ServiceModel.Channels.CommunicationObject>-Implementierungen des Kommunikationszustands gets/sets sind die Threads synchronisiert.</span><span class="sxs-lookup"><span data-stu-id="ac241-156">All <xref:System.ServiceModel.Channels.CommunicationObject> implementations of communication state gets/sets are thread-synchronized.</span></span>  
  
 <span data-ttu-id="ac241-157">Konstruktor</span><span class="sxs-lookup"><span data-stu-id="ac241-157">Constructor</span></span>  
  
 <span data-ttu-id="ac241-158"><xref:System.ServiceModel.Channels.CommunicationObject> stellt drei Konstruktoren bereit, von denen alle das Objekt im Created-Zustand belassen.</span><span class="sxs-lookup"><span data-stu-id="ac241-158"><xref:System.ServiceModel.Channels.CommunicationObject> provides three constructors, all of which leave the object in the Created state.</span></span> <span data-ttu-id="ac241-159">Die Konstruktoren werden wie folgt definiert:</span><span class="sxs-lookup"><span data-stu-id="ac241-159">The constructors are defined as:</span></span>  
  
 <span data-ttu-id="ac241-160">Der erste Konstruktor ist ein Parameter loser Konstruktor, der an die Konstruktorüberladung delegiert, die ein Objekt annimmt:</span><span class="sxs-lookup"><span data-stu-id="ac241-160">The first constructor is a parameterless constructor that delegates to the constructor overload that takes an object:</span></span>  
  
 `protected CommunicationObject() : this(new object()) { … }`  
  
 <span data-ttu-id="ac241-161">Der Konstruktor, der ein Objekt akzeptiert, verwendet diesen Parameter als das zu sperrende Objekt, wenn der Zugriff auf den Zustand des Kommunikationsobjekts synchronisiert wird:</span><span class="sxs-lookup"><span data-stu-id="ac241-161">The constructor that takes an object uses that parameter as the object to be locked when synchronizing access to communication object state:</span></span>  
  
 `protected CommunicationObject(object mutex) { … }`  
  
 <span data-ttu-id="ac241-162">Ein dritter Konstruktor akzeptiert einen weiteren Parameter, der als Absenderargument verwendet, wenn <xref:System.ServiceModel.ICommunicationObject>-Ereignisse ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-162">Finally, a third constructor takes an additional parameter that is used as the sender argument when <xref:System.ServiceModel.ICommunicationObject> events are fired.</span></span>  
  
 `protected CommunicationObject(object mutex, object eventSender) { … }`  
  
 <span data-ttu-id="ac241-163">Die vorherigen beiden Konstruktoren legen den Absender auf dieses Argument fest.</span><span class="sxs-lookup"><span data-stu-id="ac241-163">The previous two constructors set the sender to this.</span></span>  
  
 <span data-ttu-id="ac241-164">Open-Methode</span><span class="sxs-lookup"><span data-stu-id="ac241-164">Open Method</span></span>  
  
 <span data-ttu-id="ac241-165">Vorbedingung: Der Zustand ist Created.</span><span class="sxs-lookup"><span data-stu-id="ac241-165">Precondition: State is Created.</span></span>  
  
 <span data-ttu-id="ac241-166">Nachbedingung: Der Zustand ist Opened oder Faulted.</span><span class="sxs-lookup"><span data-stu-id="ac241-166">Post-condition: State is Opened or Faulted.</span></span> <span data-ttu-id="ac241-167">Möglicherweise wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-167">May throw an exception.</span></span>  
  
 <span data-ttu-id="ac241-168">Die Open()-Methode versucht, das Kommunikationsobjekt zu öffnen und den Zustand auf Opened festzulegen.</span><span class="sxs-lookup"><span data-stu-id="ac241-168">The Open() method will try to open the communication object and set the state to Opened.</span></span> <span data-ttu-id="ac241-169">Falls ein Fehler auftritt, legt sie den Zustand auf Faulted festgelegt.</span><span class="sxs-lookup"><span data-stu-id="ac241-169">If it encounters an error, it will set the state to Faulted.</span></span>  
  
 <span data-ttu-id="ac241-170">Die Methode, überprüft zuerst, ob Created der aktuelle Zustand ist.</span><span class="sxs-lookup"><span data-stu-id="ac241-170">The method first checks that the current state is Created.</span></span> <span data-ttu-id="ac241-171">Wenn der aktuelle Zustand Opening oder Opened lautet, löst sie <xref:System.InvalidOperationException> aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-171">If the current state is Opening or Opened it throws an <xref:System.InvalidOperationException>.</span></span> <span data-ttu-id="ac241-172">Ist Closing oder Closed der aktuelle Zustand, löst sie <xref:System.ServiceModel.CommunicationObjectAbortedException> aus, wenn das Objekt beendet worden ist, andernfalls löst sie <xref:System.ObjectDisposedException> aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-172">If the current state is Closing or Closed, it throws a <xref:System.ServiceModel.CommunicationObjectAbortedException> if the object has been terminated and <xref:System.ObjectDisposedException> otherwise.</span></span> <span data-ttu-id="ac241-173">Ist Faulted der aktuelle Zustand, löst sie <xref:System.ServiceModel.CommunicationObjectFaultedException> aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-173">If the current state is Faulted, it throws a <xref:System.ServiceModel.CommunicationObjectFaultedException>.</span></span>  
  
 <span data-ttu-id="ac241-174">Anschließend legt sie den Zustand auf Opening fest und ruft OnOpening() (wodurch das Opening-Ereignis ausgelöst wird), OnOpen() und OnOpened() in dieser Reihenfolge auf.</span><span class="sxs-lookup"><span data-stu-id="ac241-174">It then sets the state to Opening and calls OnOpening() (which raises the Opening event), OnOpen() and OnOpened() in that order.</span></span> <span data-ttu-id="ac241-175">OnOpened() legt den Zustand auf Opened fest und löst das Opened-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-175">OnOpened() sets the state to Opened and raises the Opened event.</span></span> <span data-ttu-id="ac241-176">Wenn währenddessen eine Ausnahme ausgelöst wird, ruft Open() Fault() auf und übergibt die Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="ac241-176">If any of these throws an exception, Open()calls Fault() and lets the exception bubble up.</span></span> <span data-ttu-id="ac241-177">Das folgende Diagramm zeigt den Open-Prozess im Detail.</span><span class="sxs-lookup"><span data-stu-id="ac241-177">The following diagram shows the Open process in more detail.</span></span>  
  
 ![DataFlow-Diagramm der ICommunicationObject. Open-Statusänderungen.](./media/understanding-state-changes/ico-open-process-override-onopen.gif)  
<span data-ttu-id="ac241-179">Überschreiben Sie die OnOpen-Methode, und implementieren Sie eine benutzerdefinierte Open-Logik, z.&#160;B. das Öffnen eines inneren Kommunikationsobjekts.</span><span class="sxs-lookup"><span data-stu-id="ac241-179">Override the OnOpen method to implement custom open logic such as opening an inner communication object.</span></span>  
  
 <span data-ttu-id="ac241-180">Close-Methode</span><span class="sxs-lookup"><span data-stu-id="ac241-180">Close Method</span></span>  
  
 <span data-ttu-id="ac241-181">Vorbedingung: Keine.</span><span class="sxs-lookup"><span data-stu-id="ac241-181">Precondition: None.</span></span>  
  
 <span data-ttu-id="ac241-182">Nachbedingung: Der Zustand ist Closed.</span><span class="sxs-lookup"><span data-stu-id="ac241-182">Post-condition: State is Closed.</span></span> <span data-ttu-id="ac241-183">Möglicherweise wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-183">May throw an exception.</span></span>  
  
 <span data-ttu-id="ac241-184">Die Close()-Methode kann bei jedem Zustand aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ac241-184">The Close() method can be called at any state.</span></span> <span data-ttu-id="ac241-185">Sie versucht, das Objekt ordnungsgemäß zu schließen.</span><span class="sxs-lookup"><span data-stu-id="ac241-185">It tries to close the object normally.</span></span> <span data-ttu-id="ac241-186">Bei einem Fehler beendet sie das Objekt.</span><span class="sxs-lookup"><span data-stu-id="ac241-186">If an error is encountered, it terminates the object.</span></span> <span data-ttu-id="ac241-187">Die Methode bewirkt nichts, wenn der aktuelle Zustand Closing oder Closed lautet.</span><span class="sxs-lookup"><span data-stu-id="ac241-187">The method does nothing if the current state is Closing or Closed.</span></span> <span data-ttu-id="ac241-188">Andernfalls legt sie den Zustand auf Closing fest.</span><span class="sxs-lookup"><span data-stu-id="ac241-188">Otherwise it sets the state to Closing.</span></span> <span data-ttu-id="ac241-189">Wenn der ursprüngliche Zustand Created, Opening oder Faulted lautete, ruft sie Abort() auf (siehe folgendes Diagramm).</span><span class="sxs-lookup"><span data-stu-id="ac241-189">If the original state was Created, Opening or Faulted, it calls Abort() (see the following diagram).</span></span> <span data-ttu-id="ac241-190">Wenn der ursprüngliche Zustand Opened lautete, ruft sie OnClosing (wodurch das Opening-Ereignis ausgelöst wird), OnOpen() und OnOpened() in dieser Reihenfolge auf.</span><span class="sxs-lookup"><span data-stu-id="ac241-190">If the original state was Opened, it calls OnClosing() (which raises the Closing event), OnClose() and OnClosed() in that order.</span></span> <span data-ttu-id="ac241-191">Wenn währenddessen eine Ausnahme ausgelöst wird, ruft Close() Abort() auf und übergibt die Ausnahme.</span><span class="sxs-lookup"><span data-stu-id="ac241-191">If any of these throws an exception, Close()calls Abort() and lets the exception bubble up.</span></span> <span data-ttu-id="ac241-192">OnClosed() legt den Zustand auf Closed fest und löst das Closed-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-192">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="ac241-193">Das folgende Diagramm zeigt den Close-Prozess im Detail.</span><span class="sxs-lookup"><span data-stu-id="ac241-193">The following diagram shows the Close process in more detail.</span></span>  
  
 ![DataFlow-Diagramm der ICommunicationObject. Close-Statusänderungen.](./media/understanding-state-changes/ico-close-process-override-onclose.gif)  
<span data-ttu-id="ac241-195">Überschreiben Sie die OnClose-Methode und implementieren Sie eine benutzerdefinierte Close-Logik, z.&#160;B. das Schließen eines inneren Kommunikationsobjekts.</span><span class="sxs-lookup"><span data-stu-id="ac241-195">Override the OnClose method to implement custom close logic, such as closing an inner communication object.</span></span> <span data-ttu-id="ac241-196">Jede ordnungsgemäß schließende Logik, die eine längere Blockierung mit sich bringt (z.&#160;B. das Warten auf eine Antwort) sollte in OnClose() implementiert werden, da diese Methode einen Timeoutparameter akzeptiert und nicht als Teil von Abort() aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-196">All graceful closing logic that may block for a long time (for example, waiting for the other side to respond) should be implemented in OnClose() because it takes a timeout parameter and because it is not called as part of Abort().</span></span>  
  
 <span data-ttu-id="ac241-197">Abbruch</span><span class="sxs-lookup"><span data-stu-id="ac241-197">Abort</span></span>  
  
 <span data-ttu-id="ac241-198">Vorbedingung: Keine.</span><span class="sxs-lookup"><span data-stu-id="ac241-198">Precondition: None.</span></span>  
<span data-ttu-id="ac241-199">Nachbedingung: Der Zustand ist Closed.</span><span class="sxs-lookup"><span data-stu-id="ac241-199">Post-condition: State is Closed.</span></span> <span data-ttu-id="ac241-200">Möglicherweise wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-200">May throw an exception.</span></span>  
  
 <span data-ttu-id="ac241-201">Die Abort()-Methode bewirkt nichts, wenn der aktuelle Zustand Closed lautet oder wenn das Objekt zuvor beendet worden ist (z.&#160;B. indem Abort() für einen anderen Thread ausgeführt wird).</span><span class="sxs-lookup"><span data-stu-id="ac241-201">The Abort() method does nothing if the current state is Closed or if the object has been terminated before (for example, possibly by having Abort() executing on another thread).</span></span> <span data-ttu-id="ac241-202">Andernfalls legt sie den Zustand auf Closing fest und ruft OnClosing() (wodurch das Closing-Ereignis ausgelöst wird), OnAbort() und OnClosed() in dieser Reihenfolge auf. (OnClose wird nicht aufgerufen, da das Objekt beendet, nicht geschlossen wird.)</span><span class="sxs-lookup"><span data-stu-id="ac241-202">Otherwise it sets the state to Closing and calls OnClosing() (which raises the Closing event), OnAbort(), and OnClosed() in that order (does not call OnClose because the object is being terminated, not closed).</span></span> <span data-ttu-id="ac241-203">OnClosed() legt den Zustand auf Closed fest und löst das Closed-Ereignis aus.</span><span class="sxs-lookup"><span data-stu-id="ac241-203">OnClosed() sets the state to Closed and raises the Closed event.</span></span> <span data-ttu-id="ac241-204">Wenn währenddessen eine Ausnahme ausgelöst wird, wird sie erneut für den Aufrufer von Abort ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-204">If any of these throw an exception, it is re-thrown to the caller of Abort.</span></span> <span data-ttu-id="ac241-205">Implementierungen von OnClosing(), OnClosed() und OnAbort() sollten keine Blockierung hervorrufen (z.&#160;B. bei Ein-/Ausgaben).</span><span class="sxs-lookup"><span data-stu-id="ac241-205">Implementations of OnClosing(), OnClosed() and OnAbort() should not block (for example, on input/output).</span></span> <span data-ttu-id="ac241-206">Das folgende Diagramm zeigt den Abort-Prozess im Detail.</span><span class="sxs-lookup"><span data-stu-id="ac241-206">The following diagram shows the Abort process in more detail.</span></span>  
  
 ![DataFlow-Diagramm des ICommunicationObject. Abort-Zustands ändert sich.](./media/understanding-state-changes/ico-abort-process-override-onabort.gif)  
<span data-ttu-id="ac241-208">Überschreiben Sie die OnAbort-Methode, und implementieren Sie eine benutzerdefinierte Terminate-Logik, z.&#160;B. das Beenden eines inneren Kommunikationsobjekts.</span><span class="sxs-lookup"><span data-stu-id="ac241-208">Override the OnAbort method to implement custom terminate logic such as terminating an inner communication object.</span></span>  
  
 <span data-ttu-id="ac241-209">Fehler</span><span class="sxs-lookup"><span data-stu-id="ac241-209">Fault</span></span>  
  
 <span data-ttu-id="ac241-210">Die Fault-Methode bezieht sich speziell auf <xref:System.ServiceModel.Channels.CommunicationObject> und ist kein Bestandteil der <xref:System.ServiceModel.ICommunicationObject>-Schnittstelle.</span><span class="sxs-lookup"><span data-stu-id="ac241-210">The Fault method is specific to <xref:System.ServiceModel.Channels.CommunicationObject> and is not part of the <xref:System.ServiceModel.ICommunicationObject> interface.</span></span> <span data-ttu-id="ac241-211">Sie wird hier nur aus Gründen der Vollständigkeit aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="ac241-211">It is included here for completeness.</span></span>  
  
 <span data-ttu-id="ac241-212">Vorbedingung: Keine.</span><span class="sxs-lookup"><span data-stu-id="ac241-212">Precondition: None.</span></span>  
  
 <span data-ttu-id="ac241-213">Nachbedingung: Der Zustand ist Faulted.</span><span class="sxs-lookup"><span data-stu-id="ac241-213">Post-condition: State is Faulted.</span></span> <span data-ttu-id="ac241-214">Möglicherweise wird eine Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-214">May throw an exception.</span></span>  
  
 <span data-ttu-id="ac241-215">Die Fault()-Methode bewirkt nichts, wenn der aktuelle Zustand Faulted oder Closed lautet.</span><span class="sxs-lookup"><span data-stu-id="ac241-215">The Fault() method does nothing if the current state is Faulted or Closed.</span></span> <span data-ttu-id="ac241-216">Andernfalls legt sie den Zustand auf Faulted fest und ruft OnFaulted() auf, wodurch das Faulted-Ereignis ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-216">Otherwise it sets the state to Faulted and call OnFaulted(), which raises the Faulted event.</span></span> <span data-ttu-id="ac241-217">Wenn OnFaulted eine Ausnahme auslöst, wird sie erneut ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-217">If OnFaulted throws an exception it is re-thrown.</span></span>  
  
### <a name="throwifxxx-methods"></a><span data-ttu-id="ac241-218">ThrowIfXxx-Methoden</span><span class="sxs-lookup"><span data-stu-id="ac241-218">ThrowIfXxx Methods</span></span>  

 <span data-ttu-id="ac241-219">CommunicationObject verfügt über drei geschützte Methoden, mit denen Ausnahmen ausgelöst werden können, wenn sich das Objekt in einem bestimmten Zustand befindet.</span><span class="sxs-lookup"><span data-stu-id="ac241-219">CommunicationObject has three protected methods that can be used to throw exceptions if the object is in a specific state.</span></span>  
  
 <span data-ttu-id="ac241-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> löst eine Ausnahme aus, wenn der Zustand Closing, Closed oder Faulted lautet.</span><span class="sxs-lookup"><span data-stu-id="ac241-220"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposed%2A> throws an exception if the state is Closing, Closed or Faulted.</span></span>  
  
 <span data-ttu-id="ac241-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> löst eine Ausnahme aus, wenn der Zustand nicht Created lautet.</span><span class="sxs-lookup"><span data-stu-id="ac241-221"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrImmutable%2A> throws an exception if the state is not Created.</span></span>  
  
 <span data-ttu-id="ac241-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> löst eine Ausnahme aus, wenn der Zustand nicht Opened lautet.</span><span class="sxs-lookup"><span data-stu-id="ac241-222"><xref:System.ServiceModel.Channels.CommunicationObject.ThrowIfDisposedOrNotOpen%2A> throws an exception if the state is not Opened.</span></span>  
  
 <span data-ttu-id="ac241-223">Die ausgelösten Ausnahmen hängen vom Zustand ab.</span><span class="sxs-lookup"><span data-stu-id="ac241-223">The exceptions thrown depend on the state.</span></span> <span data-ttu-id="ac241-224">Die folgende Tabelle enthält die verschiedenen Zustände und den entsprechende Ausnahmetyp, der durch einen Aufruf von ThrowIfXxx zu diesem Zustand ausgelöst wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-224">The following table shows the different states and the corresponding exception type thrown by calling a ThrowIfXxx that throws on that state.</span></span>  
  
|<span data-ttu-id="ac241-225">State</span><span class="sxs-lookup"><span data-stu-id="ac241-225">State</span></span>|<span data-ttu-id="ac241-226">Wurde Abort aufgerufen?</span><span class="sxs-lookup"><span data-stu-id="ac241-226">Has Abort been called?</span></span>|<span data-ttu-id="ac241-227">Ausnahme</span><span class="sxs-lookup"><span data-stu-id="ac241-227">Exception</span></span>|  
|-----------|----------------------------|---------------|  
|<span data-ttu-id="ac241-228">Erstellt</span><span class="sxs-lookup"><span data-stu-id="ac241-228">Created</span></span>|<span data-ttu-id="ac241-229">N/V</span><span class="sxs-lookup"><span data-stu-id="ac241-229">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-230">Öffnen</span><span class="sxs-lookup"><span data-stu-id="ac241-230">Opening</span></span>|<span data-ttu-id="ac241-231">N/V</span><span class="sxs-lookup"><span data-stu-id="ac241-231">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-232">Geöffnet</span><span class="sxs-lookup"><span data-stu-id="ac241-232">Opened</span></span>|<span data-ttu-id="ac241-233">N/V</span><span class="sxs-lookup"><span data-stu-id="ac241-233">N/A</span></span>|<xref:System.InvalidOperationException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-234">Schließen</span><span class="sxs-lookup"><span data-stu-id="ac241-234">Closing</span></span>|<span data-ttu-id="ac241-235">Ja</span><span class="sxs-lookup"><span data-stu-id="ac241-235">Yes</span></span>|<xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-236">Schließen</span><span class="sxs-lookup"><span data-stu-id="ac241-236">Closing</span></span>|<span data-ttu-id="ac241-237">Nein </span><span class="sxs-lookup"><span data-stu-id="ac241-237">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-238">Geschlossen</span><span class="sxs-lookup"><span data-stu-id="ac241-238">Closed</span></span>|<span data-ttu-id="ac241-239">Ja</span><span class="sxs-lookup"><span data-stu-id="ac241-239">Yes</span></span>|<span data-ttu-id="ac241-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> im Fall, dass ein Objekt durch einen vorherigen, expliziten Aufruf von Abort geschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="ac241-240"><xref:System.ServiceModel.CommunicationObjectAbortedException?displayProperty=nameWithType> in the case that an object was closed by a previous and explicit call of Abort.</span></span> <span data-ttu-id="ac241-241">Wenn Sie Close für das Objekt aufrufen, wird <xref:System.ObjectDisposedException?displayProperty=nameWithType> ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="ac241-241">If you call Close on the object then an <xref:System.ObjectDisposedException?displayProperty=nameWithType> is thrown.</span></span>|  
|<span data-ttu-id="ac241-242">Geschlossen</span><span class="sxs-lookup"><span data-stu-id="ac241-242">Closed</span></span>|<span data-ttu-id="ac241-243">Nein </span><span class="sxs-lookup"><span data-stu-id="ac241-243">No</span></span>|<xref:System.ObjectDisposedException?displayProperty=nameWithType>|  
|<span data-ttu-id="ac241-244">Fehlerhaft</span><span class="sxs-lookup"><span data-stu-id="ac241-244">Faulted</span></span>|<span data-ttu-id="ac241-245">N/V</span><span class="sxs-lookup"><span data-stu-id="ac241-245">N/A</span></span>|<xref:System.ServiceModel.CommunicationObjectFaultedException?displayProperty=nameWithType>|  
  
### <a name="timeouts"></a><span data-ttu-id="ac241-246">Zeitlimits</span><span class="sxs-lookup"><span data-stu-id="ac241-246">Timeouts</span></span>  

 <span data-ttu-id="ac241-247">Mehrere der besprochenen Methoden akzeptieren Timeoutparameter.</span><span class="sxs-lookup"><span data-stu-id="ac241-247">Several of the methods we discussed take timeout parameters.</span></span> <span data-ttu-id="ac241-248">Dazu gehören Close, Open (bestimmte Überladungen und asynchrone Versionen), OnClose und OnOpen.</span><span class="sxs-lookup"><span data-stu-id="ac241-248">These are Close, Open (certain overloads and asynchronous versions), OnClose and OnOpen.</span></span> <span data-ttu-id="ac241-249">Diese Methoden wurden für langwierige Vorgänge entwickelt (z.&#160;B. das Blockieren bei Ein-/Ausgaben beim ordnungsgemäßen Schließen einer Verbindung)), damit mit dem Timeoutparameter angegeben werden kann, wie lange dieser Vorgang dauern darf, bevor er unterbrochen wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-249">These methods are designed to allow for lengthy operations (for example, blocking on input/output while gracefully closing down a connection) so the timeout parameter indicates how long such operations can take before being interrupted.</span></span> <span data-ttu-id="ac241-250">Implementierungen dieser Methoden sollten den bereitgestellten Timeoutwert verwenden, um sicherzustellen, dass die Rückgabe an den Aufrufer innerhalb dieses Timeouts erfolgt.</span><span class="sxs-lookup"><span data-stu-id="ac241-250">Implementations of any of these methods should use the supplied timeout value to ensure it returns to the caller within that timeout.</span></span> <span data-ttu-id="ac241-251">Implementierungen anderer Methoden, die keinen Timeoutwert akzeptieren, sind nicht für langwierige Vorgänge bestimmt und sollten bei Ein-/Ausgaben keine Blockierung verursachen.</span><span class="sxs-lookup"><span data-stu-id="ac241-251">Implementations of other methods that do not take a timeout are not designed for lengthy operations and should not block on input/output.</span></span>  
  
 <span data-ttu-id="ac241-252">Zu den Ausnahmen zählen die Überladungen Open() und Close(), die keinen Timeout akzeptieren.</span><span class="sxs-lookup"><span data-stu-id="ac241-252">The exception are the Open() and Close() overloads that do not take a timeout.</span></span> <span data-ttu-id="ac241-253">Diese Überladungen verwenden einen Timeoutwert, der von der abgeleiteten Klasse bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="ac241-253">These use a default timeout value supplied by the derived class.</span></span> <span data-ttu-id="ac241-254"><xref:System.ServiceModel.Channels.CommunicationObject> macht zwei geschützte abstrakte Eigenschaften mit der Bezeichnung <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> und <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> verfügbar, die wie folgt definiert werden:</span><span class="sxs-lookup"><span data-stu-id="ac241-254"><xref:System.ServiceModel.Channels.CommunicationObject> exposes two protected abstract properties named <xref:System.ServiceModel.Channels.CommunicationObject.DefaultCloseTimeout%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.DefaultOpenTimeout%2A> defined as:</span></span>  
  
 `protected abstract TimeSpan DefaultCloseTimeout { get; }`  
  
 `protected abstract TimeSpan DefaultOpenTimeout { get; }`  
  
 <span data-ttu-id="ac241-255">Eine abgeleitete Klasse implementiert diese Eigenschaften, um für die Überladungen Open() und Close(), die keinen Timeoutwert akzeptieren, den Standardtimeout bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ac241-255">A derived class implements these properties to provide the default timeout for the Open() and Close() overloads that do not take a timeout value.</span></span> <span data-ttu-id="ac241-256">Dann führen die Implementierungen von Open() und Close() eine Delegierung an die Überladung aus, die einen Timeout akzeptiert und übergeben ihr den Standardtimeoutwert. Beispiel:</span><span class="sxs-lookup"><span data-stu-id="ac241-256">Then the Open() and Close() implementations delegate to the overload that takes a timeout passing it the default timeout value, for example:</span></span>  
  
 `public void Open()`  
  
 `{`  
  
 `this.Open(this.DefaultOpenTimeout);`  
  
 `}`  
  
#### <a name="idefaultcommunicationtimeouts"></a><span data-ttu-id="ac241-257">IDefaultCommunicationTimeouts</span><span class="sxs-lookup"><span data-stu-id="ac241-257">IDefaultCommunicationTimeouts</span></span>  

 <span data-ttu-id="ac241-258">Diese Schnittstelle verfügt über vier schreibgeschützte Eigenschaften, um Standardtimeoutwerte für Open, Send, Receive und Close bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="ac241-258">This interface has four read-only properties for providing default timeout values for open, send, receive, and close.</span></span> <span data-ttu-id="ac241-259">Jede Implementierung muss die Standardwerte auf die entsprechend angebrachte Weise implementieren.</span><span class="sxs-lookup"><span data-stu-id="ac241-259">Each implementation is responsible for obtaining the default values in whatever manner appropriate.</span></span> <span data-ttu-id="ac241-260">Zur Vereinfachung lege <xref:System.ServiceModel.Channels.ChannelFactoryBase> und <xref:System.ServiceModel.Channels.ChannelListenerBase> diese Werte standardmäßig auf jeweils 1 Minute fest.</span><span class="sxs-lookup"><span data-stu-id="ac241-260">As a convenience, <xref:System.ServiceModel.Channels.ChannelFactoryBase> and <xref:System.ServiceModel.Channels.ChannelListenerBase> default these values to 1 minute each.</span></span>
