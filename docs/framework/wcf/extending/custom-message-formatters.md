---
title: Benutzerdefinierte Nachrichtenformatierung
ms.date: 03/30/2017
ms.assetid: c07435f3-5214-4791-8961-2c2b61306d71
ms.openlocfilehash: e238eb134772c0a95934a460edda62ca9dba2518
ms.sourcegitcommit: bc293b14af795e0e999e3304dd40c0222cf2ffe4
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/26/2020
ms.locfileid: "96254752"
---
# <a name="custom-message-formatters"></a><span data-ttu-id="c32a7-102">Benutzerdefinierte Nachrichtenformatierung</span><span class="sxs-lookup"><span data-stu-id="c32a7-102">Custom Message Formatters</span></span>

<span data-ttu-id="c32a7-103">Der Inhalt einer Nachricht weist häufig das XML-Format auf, also kein gängiges Format für eine Anwendung.</span><span class="sxs-lookup"><span data-stu-id="c32a7-103">The content in a message is often in the form of XML, which is usually not a convenient format for an application.</span></span> <span data-ttu-id="c32a7-104">Anwendungen bearbeiten Objekte, indem sie ihre Eigenschaften abrufen und festlegen.</span><span class="sxs-lookup"><span data-stu-id="c32a7-104">Applications manipulate objects, getting and setting their properties.</span></span> <span data-ttu-id="c32a7-105">Windows Communication Foundation (WCF) verwendet den *Datenvertrag* , um ein-Objekt in ein Objekt zu konvertieren, das <xref:System.ServiceModel.Channels.Message> von einer Anwendung problemlos behandelt werden soll.</span><span class="sxs-lookup"><span data-stu-id="c32a7-105">Windows Communication Foundation (WCF) uses the *Data Contract* to convert a <xref:System.ServiceModel.Channels.Message> object into an object easily handled by an application.</span></span> <span data-ttu-id="c32a7-106">Diese Prozesse werden als Serialisierung und Deserialisierung bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="c32a7-106">These processes are called serialization and deserialization.</span></span> <span data-ttu-id="c32a7-107">Beachten Sie, dass diese Begriffe auch verwendet werden, um die Serialisierung und Deserialisierung einer Transportebene in das bzw. aus dem Nachrichtensendeformat zu beschreiben. Dabei handelt es sich um einen nicht verwandten Prozess.</span><span class="sxs-lookup"><span data-stu-id="c32a7-107">Note that these same terms are used to describe the serialization and deserialization done by the transport layer to and from the message wire format, which is an unrelated process.</span></span>  
  
 <span data-ttu-id="c32a7-108">Sie können eine benutzerdefinierte Nachrichtenformatierung verwenden, wenn Sie eine spezielle Konvertierung zwischen Nachrichten und Objekten implementieren müssen, die Sie mithilfe eines Datenvertrags nicht durchführen können.</span><span class="sxs-lookup"><span data-stu-id="c32a7-108">You can use a custom message formatter if you need to implement a specialized conversion between messages and objects that you cannot accomplish by means of a Data Contract.</span></span> <span data-ttu-id="c32a7-109">Ändern bzw. erweitern Sie dazu das Ausführungsverhalten eines bestimmten Vertragsvorgangs auf einem Client oder für einen Dienst.</span><span class="sxs-lookup"><span data-stu-id="c32a7-109">Do this by modifying or extending the execution behavior of a specific contract operation on a client or a service.</span></span>  
  
## <a name="custom-message-formatters-on-the-client"></a><span data-ttu-id="c32a7-110">Benutzerdefinierte Nachrichtenformatierungen auf dem Client</span><span class="sxs-lookup"><span data-stu-id="c32a7-110">Custom Message Formatters on the Client</span></span>  

 <span data-ttu-id="c32a7-111">Die <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter>-Schnittstelle definiert Methoden, die verwendet werden, um für Clientanwendungen die Konvertierung von Nachrichten in Objekte und von Objekten in Nachrichten zu steuern.</span><span class="sxs-lookup"><span data-stu-id="c32a7-111">The <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> interface defines methods that are used to control the conversion of messages into objects and objects into messages for client applications.</span></span>  
  
 <span data-ttu-id="c32a7-112">Sie müssen diese Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-112">You must implement this interface.</span></span> <span data-ttu-id="c32a7-113">Überschreiben Sie zuerst die <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A>-Methode, um eine Nachricht zu deserialisieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-113">First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message.</span></span> <span data-ttu-id="c32a7-114">Diese Methode wird aufgerufen, nachdem eine eingehende Nachricht empfangen wurde, aber bevor sie an den Clientvorgang gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="c32a7-114">This method is called after an incoming message is received, but before it is dispatched to the client operation.</span></span>  
  
 <span data-ttu-id="c32a7-115">Überschreiben Sie im nächsten Schritt die <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A>-Methode, um ein Objekt zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-115">Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object.</span></span> <span data-ttu-id="c32a7-116">Diese Methode wird vor dem Senden einer ausgehenden Nachricht aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="c32a7-116">This method is called prior to sending an outgoing message.</span></span>  
  
 <span data-ttu-id="c32a7-117">Um die benutzerdefinierte Formatierung in die Dienstanwendung einzufügen, müssen Sie das <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter>-Objekt der <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A>-Eigenschaft zuweisen, indem Sie ein Vorgangsverhalten verwenden.</span><span class="sxs-lookup"><span data-stu-id="c32a7-117">To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.ClientOperation.Formatter%2A> property using an operation behavior.</span></span> <span data-ttu-id="c32a7-118">Weitere Informationen zu Verhalten finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c32a7-118">For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="custom-message-formatters-on-the-service"></a><span data-ttu-id="c32a7-119">Benutzerdefinierte Nachrichtenformatierungen für den Dienst</span><span class="sxs-lookup"><span data-stu-id="c32a7-119">Custom Message Formatters on the Service</span></span>  

 <span data-ttu-id="c32a7-120">Die <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter>-Schnittstelle definiert Methoden, die ein <xref:System.ServiceModel.Channels.Message>-Objekt in Parameter für einen Vorgang bzw. aus Parametern in ein <xref:System.ServiceModel.Channels.Message>-Objekt in einer Dienstanwendung konvertieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-120">The <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> interface defines methods that convert a <xref:System.ServiceModel.Channels.Message> object into parameters for an operation and from parameters into a <xref:System.ServiceModel.Channels.Message> object in a service application.</span></span>  
  
 <span data-ttu-id="c32a7-121">Sie müssen diese Schnittstelle implementieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-121">You must implement this interface.</span></span> <span data-ttu-id="c32a7-122">Überschreiben Sie zuerst die <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A>-Methode, um eine Nachricht zu deserialisieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-122">First override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.DeserializeReply%2A> method to deserialize a message.</span></span> <span data-ttu-id="c32a7-123">Diese Methode wird aufgerufen, nachdem eine eingehende Nachricht empfangen wurde, aber bevor sie an den Clientvorgang gesendet wurde.</span><span class="sxs-lookup"><span data-stu-id="c32a7-123">This method is called after an incoming message is received, but before it is dispatched to the client operation.</span></span>  
  
 <span data-ttu-id="c32a7-124">Überschreiben Sie im nächsten Schritt die <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A>-Methode, um ein Objekt zu serialisieren.</span><span class="sxs-lookup"><span data-stu-id="c32a7-124">Next, override the <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter.SerializeRequest%2A> method to serialize an object.</span></span> <span data-ttu-id="c32a7-125">Diese Methode wird vor dem Senden einer ausgehenden Nachricht aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="c32a7-125">This method is called prior to sending an outgoing message.</span></span>  
  
 <span data-ttu-id="c32a7-126">Um die benutzerdefinierte Formatierung in die Dienstanwendung einzufügen, müssen Sie das <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter>-Objekt der <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A>-Eigenschaft zuweisen, indem Sie ein Vorgangsverhalten verwenden.</span><span class="sxs-lookup"><span data-stu-id="c32a7-126">To insert the custom formatter into the service application, assign the <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter> object to the <xref:System.ServiceModel.Dispatcher.DispatchOperation.Formatter%2A> property using an operation behavior.</span></span> <span data-ttu-id="c32a7-127">Weitere Informationen zu Verhalten finden Sie unter [Konfigurieren und Erweitern der Laufzeit mit Verhalten](configuring-and-extending-the-runtime-with-behaviors.md).</span><span class="sxs-lookup"><span data-stu-id="c32a7-127">For information about behaviors, see [Configuring and Extending the Runtime with Behaviors](configuring-and-extending-the-runtime-with-behaviors.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c32a7-128">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c32a7-128">See also</span></span>

- <xref:System.ServiceModel.Dispatcher.IClientMessageFormatter>
- <xref:System.ServiceModel.Dispatcher.IDispatchMessageFormatter>
- [<span data-ttu-id="c32a7-129">Konfigurieren und Erweitern der Laufzeit mit Verhalten</span><span class="sxs-lookup"><span data-stu-id="c32a7-129">Configuring and Extending the Runtime with Behaviors</span></span>](configuring-and-extending-the-runtime-with-behaviors.md)
