---
title: WCF-Vereinfachungsfunktionen
ms.date: 03/30/2017
ms.assetid: 4535a511-6064-4da0-b361-80262a891663
ms.openlocfilehash: d582c075377cf53d75ddf1bb9f37764e24e486ec
ms.sourcegitcommit: 27a15a55019f6b5f2733961738babe94aec0def3
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 09/15/2020
ms.locfileid: "90545076"
---
# <a name="wcf-simplification-features"></a><span data-ttu-id="d5e99-102">WCF-Vereinfachungsfunktionen</span><span class="sxs-lookup"><span data-stu-id="d5e99-102">WCF Simplification Features</span></span>

<span data-ttu-id="d5e99-103">In diesem Thema werden neue Funktionen erörtert, die das Schreiben von WCF-Anwendungen vereinfachen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-103">This topic discusses new features that make writing WCF applications simpler.</span></span>

## <a name="simplified-generated-configuration-files"></a><span data-ttu-id="d5e99-104">Vereinfachte generierte Konfigurationsdateien</span><span class="sxs-lookup"><span data-stu-id="d5e99-104">Simplified Generated Configuration Files</span></span>

<span data-ttu-id="d5e99-105">Wenn Sie einen Dienstverweis in Visual Studio hinzufügen oder das SvcUtil.exe-Tool verwenden, wird eine Clientkonfigurationsdatei generiert.</span><span class="sxs-lookup"><span data-stu-id="d5e99-105">When you add a service reference in Visual Studio or use the SvcUtil.exe tool a client configuration file is generated.</span></span> <span data-ttu-id="d5e99-106">In früheren Versionen von WCF enthielten diese Konfigurationsdateien den Wert jeder Bindungseigenschaft, auch wenn deren Wert dem Standardwert entsprach.</span><span class="sxs-lookup"><span data-stu-id="d5e99-106">In previous versions of WCF these configuration files contained the value of every binding property even if its value is the default value.</span></span> <span data-ttu-id="d5e99-107">In WCF 4.5 enthalten die generierten Konfigurationsdateien nur die Bindungseigenschaften, die auf einen nicht standardmäßigen Wert festgelegt sind.</span><span class="sxs-lookup"><span data-stu-id="d5e99-107">In WCF 4.5 the generated configuration files contain only those binding properties that are set to a non-default value.</span></span>

<span data-ttu-id="d5e99-108">Im folgenden Beispiel wird eine mit WCF 3.0 generierte Konfigurationsdatei gezeigt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-108">The following is an example of a configuration file generated by WCF 3.0.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" closeTimeout="00:01:00"
                    openTimeout="00:01:00" receiveTimeout="00:10:00" sendTimeout="00:01:00"
                    allowCookies="false" bypassProxyOnLocal="false"
                    hostNameComparisonMode="StrongWildcard" maxBufferSize="65536"
                    maxBufferPoolSize="524288" maxReceivedMessageSize="65536"
                    messageEncoding="Text" textEncoding="utf-8" transferMode="Buffered"
                    useDefaultWebProxy="true">
                    <readerQuotas maxDepth="32" maxStringContentLength="8192"
                        maxArrayLength="16384" maxBytesPerRead="4096"
                        maxNameTableCharCount="16384" />
                    <security mode="None">
                        <transport clientCredentialType="None" proxyCredentialType="None"
                            realm="" />
                        <message clientCredentialType="UserName" algorithmSuite="Default" />
                    </security>
                </binding>
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

<span data-ttu-id="d5e99-109">Im folgenden Beispiel wird eine mit WCF 4.5 generierte Konfigurationsdatei gezeigt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-109">The following is an example of the same configuration file generated by WCF 4.5.</span></span>

```xml
<?xml version="1.0" encoding="utf-8"?>
<configuration>
    <system.serviceModel>
        <bindings>
            <basicHttpBinding>
                <binding name="BasicHttpBinding_IService1" />
            </basicHttpBinding>
        </bindings>
        <client>
            <endpoint address="http://localhost:36906/Service1.svc" binding="basicHttpBinding"
                bindingConfiguration="BasicHttpBinding_IService1" contract="IService1"
                name="BasicHttpBinding_IService1" />
        </client>
    </system.serviceModel>
</configuration>
```

## <a name="contract-first-development"></a><span data-ttu-id="d5e99-110">Vertrag zuerst-Entwicklung</span><span class="sxs-lookup"><span data-stu-id="d5e99-110">Contract-First Development</span></span>

<span data-ttu-id="d5e99-111">WCF unterstützt jetzt die Vertrag zuerst-Entwicklung.</span><span class="sxs-lookup"><span data-stu-id="d5e99-111">WCF now has support for contract-first development.</span></span> <span data-ttu-id="d5e99-112">Das svcutil.exe Tool verfügt über einen/ServiceContract-Schalter-Switch, mit dem Sie Dienst-und Datenverträge aus einem WSDL-Dokument generieren können.</span><span class="sxs-lookup"><span data-stu-id="d5e99-112">The svcutil.exe tool has a /serviceContract switch which allows you to generate service and data contracts from a WSDL document.</span></span>

## <a name="add-service-reference-from-a-portable-subset-project"></a><span data-ttu-id="d5e99-113">Hinzufügen eines Dienstverweises aus einem Projekt für die portable Teilmenge</span><span class="sxs-lookup"><span data-stu-id="d5e99-113">Add Service Reference From a Portable Subset Project</span></span>

<span data-ttu-id="d5e99-114">Projekte für Portable Teilmengen ermöglichen es .net-assemblyprogrammierern, eine einzelne Quell Struktur und ein Buildsystem zu verwalten, während mehrere .net-Implementierungen (Desktop, Silverlight, Windows Phone und Xbox) unterstützt werden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-114">Portable subset projects enable .NET assembly programmers to maintain a single source tree and build system while still supporting multiple .NET implementations (desktop, Silverlight, Windows Phone, and Xbox).</span></span> <span data-ttu-id="d5e99-115">Projekte für Portable Teilmengen verweisen nur auf Portable .NET-Bibliotheken, die Assemblys sind, die für beliebige .net-Implementierungen verwendet werden können.</span><span class="sxs-lookup"><span data-stu-id="d5e99-115">Portable subset projects only reference .NET portable libraries that are assemblies that can be used on any .NET implementation.</span></span> <span data-ttu-id="d5e99-116">Die Entwicklererfahrung ist identisch mit dem Hinzufügen eines Dienstverweises innerhalb einer beliebigen anderen WCF-Clientanwendung.</span><span class="sxs-lookup"><span data-stu-id="d5e99-116">The developer experience is the same as adding a service reference within any other WCF client application.</span></span> <span data-ttu-id="d5e99-117">Weitere Informationen finden Sie unter [Dienstverweis hinzufügen in einem Projekt für eine Portable Teilmenge](add-service-reference-in-a-portable-subset-project.md).</span><span class="sxs-lookup"><span data-stu-id="d5e99-117">For more information, see [Add Service Reference in a Portable Subset Project](add-service-reference-in-a-portable-subset-project.md).</span></span>

## <a name="aspnet-compatibility-mode-default-changed"></a><span data-ttu-id="d5e99-118">Geänderter Standard für den ASP.NET-Kompatibilitätsmodus</span><span class="sxs-lookup"><span data-stu-id="d5e99-118">ASP.NET Compatibility Mode Default Changed</span></span>

<span data-ttu-id="d5e99-119">WCF bietet einen ASP.NET-Kompatibilitätsmodus, der Entwicklern beim Schreiben von WCF-Diensten vollständigen Zugriff auf die Funktionen in der ASP.NET-HTTP-Pipeline gewährt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-119">WCF provides ASP.NET compatibility mode to grant developers full access to the features in the ASP.NET HTTP pipeline when writing WCF services.</span></span> <span data-ttu-id="d5e99-120">Wenn Sie diesen Modus verwenden möchten, müssen Sie das- `aspNetCompatibilityEnabled` Attribut im- [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) Abschnitt web.config auf true festlegen. Außerdem muss für jeden Dienst in dieser AppDomain die- `RequirementsMode` Eigenschaft auf <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> oder festgelegt sein <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required> .</span><span class="sxs-lookup"><span data-stu-id="d5e99-120">To use this mode, you must set the `aspNetCompatibilityEnabled` attribute to true in the [\<serviceHostingEnvironment>](../configure-apps/file-schema/wcf/servicehostingenvironment.md) section of web.config. Additionally, any service in this appDomain needs to have the `RequirementsMode` property on its <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> or <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Required>.</span></span> <span data-ttu-id="d5e99-121">Standardmäßig <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> ist auf festgelegt, <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> und die Standardvorlage WCF-Dienst Anwendung legt das- `aspNetCompatibilityEnabled` Attribut auf fest `true` .</span><span class="sxs-lookup"><span data-stu-id="d5e99-121">By default <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsAttribute> is now set to <xref:System.ServiceModel.Activation.AspNetCompatibilityRequirementsMode.Allowed> and the default WCF service application template sets the `aspNetCompatibilityEnabled` attribute to `true`.</span></span> <span data-ttu-id="d5e99-122">Weitere Informationen finden Sie unter [Neues in Windows Communication Foundation 4,5](whats-new.md) und WCF- [Dienste und ASP.net](./feature-details/wcf-services-and-aspnet.md).</span><span class="sxs-lookup"><span data-stu-id="d5e99-122">For more information, see [What's New in Windows Communication Foundation 4.5](whats-new.md) and [WCF Services and ASP.NET](./feature-details/wcf-services-and-aspnet.md).</span></span>

## <a name="streaming-improvements"></a><span data-ttu-id="d5e99-123">Verbesserungen beim Streaming</span><span class="sxs-lookup"><span data-stu-id="d5e99-123">Streaming Improvements</span></span>

- <span data-ttu-id="d5e99-124">Der WCF wurde neue Unterstützung für asynchrones Streaming hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-124">New support for asynchronous streaming has been added to WCF.</span></span> <span data-ttu-id="d5e99-125">Um das asynchrone Streaming zu aktivieren, fügen Sie dem Diensthost das <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior>-Endpunktverhalten hinzu und legen dessen <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A>-Eigenschaft auf `true` fest.</span><span class="sxs-lookup"><span data-stu-id="d5e99-125">To enable asynchronous streaming, add the  <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior> endpoint behavior to the service host and set its <xref:System.ServiceModel.Description.DispatcherSynchronizationBehavior.AsynchronousSendEnabled%2A> property to `true`.</span></span> <span data-ttu-id="d5e99-126">Dies begünstigt die Skalierbarkeit, wenn ein Dienst gestreamte Nachrichten an mehrere Clients mit niedriger Lesegeschwindigkeit sendet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-126">This can benefit scalability when a service is sending streamed messages to multiple clients which are reading slowly.</span></span> <span data-ttu-id="d5e99-127">Von WCF wird nicht mehr ein Thread pro Client blockiert; der Thread steht für weitere Clients zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="d5e99-127">WCF does not block one thread per client anymore and will free up the thread to service another client.</span></span>

- <span data-ttu-id="d5e99-128">Einschränkungen im Hinblick auf die Nachrichtenpufferung bei von IIS gehosteten Diensten wurden aufgehoben.</span><span class="sxs-lookup"><span data-stu-id="d5e99-128">Removed limitations around buffering of messages when a service is IIS hosted.</span></span> <span data-ttu-id="d5e99-129">Wenn in früheren WCF-Versionen eine Nachricht für einen IIS-gehosteten Dienst einging, der die Nachrichtenübertragung per Stream nutzte, wurde die gesamte Nachricht vor der Übertragung an WCF von ASP.NET gepuffert.</span><span class="sxs-lookup"><span data-stu-id="d5e99-129">In previous versions of WCF when receiving a message for an IIS-hosted service that used streaming message transfer, ASP.NET would buffer the entire message before sending it to WCF.</span></span> <span data-ttu-id="d5e99-130">Dieser Vorgang beanspruchte viel Arbeitsspeicher.</span><span class="sxs-lookup"><span data-stu-id="d5e99-130">This would cause large memory consumption.</span></span> <span data-ttu-id="d5e99-131">Da diese Pufferung in .NET 4.5 entfernt wurde, können IIS-gehostete WCF-Dienste jetzt mit der Verarbeitung des eingehenden Datenstroms beginnen, bevor die Nachricht vollständig empfangen wurde. Das schafft die Voraussetzungen für echtes Streaming.</span><span class="sxs-lookup"><span data-stu-id="d5e99-131">This buffering has been removed in .NET 4.5 and now IIS-hosted WCF services can start processing the incoming stream before the entire message has been received, thereby enabling true streaming.</span></span> <span data-ttu-id="d5e99-132">Dadurch kann WCF sofort auf Nachrichten reagieren, was eine verbesserte Leistung bedeutet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-132">This allows WCF to respond immediately to messages and allows improved performance.</span></span> <span data-ttu-id="d5e99-133">Außerdem muss für das ASP.NET-Größenlimit für eingehende Anforderungen `maxRequestLength` kein Wert mehr angegeben werden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-133">In addition, you no longer have to specify a value for `maxRequestLength`, the ASP.NET size limit on incoming requests.</span></span> <span data-ttu-id="d5e99-134">Wenn diese Eigenschaft festgelegt ist, wird sie ignoriert.</span><span class="sxs-lookup"><span data-stu-id="d5e99-134">If this property is set, it is ignored.</span></span> <span data-ttu-id="d5e99-135">Weitere Informationen zum `maxRequestLength` [ \<httpRuntime> Konfigurationselement](/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71))finden Sie unter.</span><span class="sxs-lookup"><span data-stu-id="d5e99-135">For more information about `maxRequestLength` see [\<httpRuntime> configuration element](/previous-versions/dotnet/netframework-1.1/e1f13641(v=vs.71)).</span></span> <span data-ttu-id="d5e99-136">Sie müssen weiterhin maxzuordwedcontentlength konfigurieren. Weitere Informationen finden Sie unter Einschränkungen für [IIS-Anforderungen](/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span><span class="sxs-lookup"><span data-stu-id="d5e99-136">You will still need to configure the maxAllowedContentLength, For more information, see [IIS Request Limits](/previous-versions/iis/settings-schema/ms689462(v=vs.90)).</span></span>

## <a name="new-transport-default-values"></a><span data-ttu-id="d5e99-137">Neue Standardwerte für Transporte</span><span class="sxs-lookup"><span data-stu-id="d5e99-137">New Transport Default Values</span></span>

<span data-ttu-id="d5e99-138">Anhand der folgenden Tabelle erfahren Sie, welche Einstellungen geändert wurden und wo Sie zusätzliche Informationen finden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-138">The following table describes the settings that have changed and where to find additional information.</span></span>

|<span data-ttu-id="d5e99-139">Eigenschaft</span><span class="sxs-lookup"><span data-stu-id="d5e99-139">Property</span></span>|<span data-ttu-id="d5e99-140">Ein</span><span class="sxs-lookup"><span data-stu-id="d5e99-140">On</span></span>|<span data-ttu-id="d5e99-141">Neuer Standard</span><span class="sxs-lookup"><span data-stu-id="d5e99-141">New Default</span></span>|<span data-ttu-id="d5e99-142">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="d5e99-142">More Information</span></span>|
|--------------|--------|-----------------|----------------------|
|<span data-ttu-id="d5e99-143">channelInitializationTimeout</span><span class="sxs-lookup"><span data-stu-id="d5e99-143">channelInitializationTimeout</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="d5e99-144">30 Sekunden</span><span class="sxs-lookup"><span data-stu-id="d5e99-144">30 seconds</span></span>|<span data-ttu-id="d5e99-145">Diese Eigenschaft bestimmt, wie lange eine TCP-Verbindung zum Authentifizieren mit dem .NET-Rahmen Protokoll verwenden kann.</span><span class="sxs-lookup"><span data-stu-id="d5e99-145">This property determines how long a TCP connection can take to authenticate itself using the .NET Framing protocol.</span></span> <span data-ttu-id="d5e99-146">Ein Client muss vorab einige Daten senden, bevor der Server über genügend Informationen zum Ausführen der Authentifizierung verfügt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-146">A client needs to send some initial data before the server has enough information to perform authentication.</span></span> <span data-ttu-id="d5e99-147">Für dieses Timeout wurde bewusst ein geringerer Wert als für ReceiveTimeout (10 Minuten) festgelegt, damit Serververbindungen von böswilligen, nicht authentifizierten Clients nicht zu lange aufrechterhalten werden können.</span><span class="sxs-lookup"><span data-stu-id="d5e99-147">This timeout is intentionally made smaller than the ReceiveTimeout (10 min) so that malicious unauthenticated clients do not keep the connections tied up to the server for long.</span></span> <span data-ttu-id="d5e99-148">Der Standardwert ist 30 Sekunden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-148">The default value is 30 seconds.</span></span> <span data-ttu-id="d5e99-149">Weitere Informationen zu <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span><span class="sxs-lookup"><span data-stu-id="d5e99-149">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.ChannelInitializationTimeout%2A></span></span>|
|<span data-ttu-id="d5e99-150">listenBacklog</span><span class="sxs-lookup"><span data-stu-id="d5e99-150">listenBacklog</span></span>|<xref:System.ServiceModel.NetTcpBinding>|<span data-ttu-id="d5e99-151">16 \* Anzahl von Prozessoren</span><span class="sxs-lookup"><span data-stu-id="d5e99-151">16 \* number of processors</span></span>|<span data-ttu-id="d5e99-152">Diese Eigenschaft auf Socketebene gibt an, wie viele Anforderungen, deren Annahme aussteht, in die Warteschlange eingereiht werden dürfen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-152">This socket-level property describes the number of "pending accept" requests to be queued.</span></span> <span data-ttu-id="d5e99-153">Sobald die listenBacklog-Warteschlange voll ist, werden neue Socketanforderungen abgelehnt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-153">If the listen backlog queue fills up, new socket requests will be rejected.</span></span> <span data-ttu-id="d5e99-154">Weitere Informationen zu <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span><span class="sxs-lookup"><span data-stu-id="d5e99-154">For more information about <xref:System.ServiceModel.NetTcpBinding.ListenBacklog%2A></span></span>|
|<span data-ttu-id="d5e99-155">maxPendingAccepts</span><span class="sxs-lookup"><span data-stu-id="d5e99-155">maxPendingAccepts</span></span>|<span data-ttu-id="d5e99-156">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="d5e99-156">ConnectionOrientedTransportBindingElement</span></span><br /><br /> <span data-ttu-id="d5e99-157">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="d5e99-157">SMSvcHost.exe</span></span>|<span data-ttu-id="d5e99-158">2 \* Anzahl der Prozessoren für den Transport</span><span class="sxs-lookup"><span data-stu-id="d5e99-158">2 \* number of processors for transport</span></span><br /><br /> <span data-ttu-id="d5e99-159">4 \* Prozessoren für SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="d5e99-159">4 \* number of processors for SMSvcHost.exe</span></span>|<span data-ttu-id="d5e99-160">Diese Eigenschaft begrenzt die Anzahl der Kanäle, die auf dem Server auf einen Listener warten können.</span><span class="sxs-lookup"><span data-stu-id="d5e99-160">This property limits the number of channels that the server can have waiting on a listener.</span></span> <span data-ttu-id="d5e99-161">Weist MaxPendingAccepts einen zu geringen Wert auf, ist der Zeitraum, in dem alle wartenden Kanäle mit der Verarbeitung von Verbindungen begonnen haben, zu kurz, als dass neue Kanäle das Lauschen gestartet haben könnten.</span><span class="sxs-lookup"><span data-stu-id="d5e99-161">When MaxPendingAccepts is too low, there will be a small interval of time in which all of the waiting channels have started servicing connections, but no new channels have begun listening.</span></span> <span data-ttu-id="d5e99-162">Wenn während dieses Zeitraums eine Verbindungsanforderung eingeht, wird sie fehlschlagen, da auf dem Server noch nicht auf neue Verbindungen gelauscht wird.</span><span class="sxs-lookup"><span data-stu-id="d5e99-162">A connection can arrive during this interval and will fail because nothing is waiting for it on the server.</span></span> <span data-ttu-id="d5e99-163">Diese Eigenschaft kann konfiguriert werden, indem die <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A>-Eigenschaft auf einen höheren Wert festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="d5e99-163">This property can be configured by setting the <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A> property to a larger number.</span></span> <span data-ttu-id="d5e99-164">Weitere Informationen finden Sie unter <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> und [Konfigurieren des net. TCP-Port Freigabe Dienstanbieter](./feature-details/configuring-the-net-tcp-port-sharing-service.md) .</span><span class="sxs-lookup"><span data-stu-id="d5e99-164">For more information, see <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingAccepts%2A> and [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md)</span></span>|
|<span data-ttu-id="d5e99-165">maxPendingConnections</span><span class="sxs-lookup"><span data-stu-id="d5e99-165">maxPendingConnections</span></span>|<span data-ttu-id="d5e99-166">ConnectionOrientedTransportBindingElement</span><span class="sxs-lookup"><span data-stu-id="d5e99-166">ConnectionOrientedTransportBindingElement</span></span>|<span data-ttu-id="d5e99-167">12 \* Anzahl der Prozessoren</span><span class="sxs-lookup"><span data-stu-id="d5e99-167">12 \* number of processors</span></span>|<span data-ttu-id="d5e99-168">Diese Eigenschaft steuert, wie viele Verbindungen von einem Transport akzeptiert, vom ServiceModel-Verteiler jedoch noch nicht ausgewählt wurden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-168">This property controls how many connections a transport has accepted but have not been picked up by the ServiceModel Dispatcher.</span></span> <span data-ttu-id="d5e99-169">Um diesen Wert festzulegen, verwenden Sie `MaxConnections` für die Bindung oder `maxOutboundConnectionsPerEndpoint` für das Bindungselement.</span><span class="sxs-lookup"><span data-stu-id="d5e99-169">To set this value, use `MaxConnections` on the binding or `maxOutboundConnectionsPerEndpoint` on the binding element.</span></span> <span data-ttu-id="d5e99-170">Weitere Informationen zu <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span><span class="sxs-lookup"><span data-stu-id="d5e99-170">For more information about <xref:System.ServiceModel.Channels.ConnectionOrientedTransportBindingElement.MaxPendingConnections%2A></span></span>|
|<span data-ttu-id="d5e99-171">receiveTimeout</span><span class="sxs-lookup"><span data-stu-id="d5e99-171">receiveTimeout</span></span>|<span data-ttu-id="d5e99-172">SMSvcHost.exe</span><span class="sxs-lookup"><span data-stu-id="d5e99-172">SMSvcHost.exe</span></span>|<span data-ttu-id="d5e99-173">30 Sekunden</span><span class="sxs-lookup"><span data-stu-id="d5e99-173">30 seconds</span></span>|<span data-ttu-id="d5e99-174">Diese Eigenschaft gibt das Timeout für das Lesen der TCP-Rahmendaten und das Verteilen der zugrunde liegenden Verbindungen an.</span><span class="sxs-lookup"><span data-stu-id="d5e99-174">This property specifies the timeout for reading the TCP framing data and performing connection dispatching from the underlying connections.</span></span> <span data-ttu-id="d5e99-175">Dadurch wird die Dauer beschränkt, die der SMSvcHost.exe-Dienst mit dem Lesen der Präambel einer eingehenden Verbindung beschäftigt ist.</span><span class="sxs-lookup"><span data-stu-id="d5e99-175">This exists to put a cap on the amount of time SMSvcHost.exe service is kept engaged to read the preamble data from an incoming connection.</span></span> <span data-ttu-id="d5e99-176">Weitere Informationen finden Sie unter [Konfigurieren des net. TCP-Port Freigabe Dienstanbieter](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span><span class="sxs-lookup"><span data-stu-id="d5e99-176">For more information, see [Configuring the Net.TCP Port Sharing Service](./feature-details/configuring-the-net-tcp-port-sharing-service.md).</span></span>|

> [!NOTE]
> <span data-ttu-id="d5e99-177">Diese neuen Standardwerte werden nur verwendet, wenn Sie den WCF-Dienst auf einem Computer mit .NET Framework 4.5 bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-177">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="d5e99-178">Wenn Sie denselben Dienst auf einem Computer mit .NET Framework 4.0 bereitstellen, werden die Standardwerte von .NET Framework 4.0 verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-178">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="d5e99-179">In solchen Fällen wird empfohlen, die Einstellungen explizit zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="d5e99-179">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="xmldictionaryreaderquotas"></a><span data-ttu-id="d5e99-180">XmlDictionaryReaderQuotas</span><span class="sxs-lookup"><span data-stu-id="d5e99-180">XmlDictionaryReaderQuotas</span></span>

<span data-ttu-id="d5e99-181"><xref:System.Xml.XmlDictionaryReaderQuotas> enthält konfigurierbare Kontingentwerte für XML-Wörterbuchreader, die den Arbeitsspeicher begrenzen, der beim Erstellen einer Nachricht von einem Encoder verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="d5e99-181"><xref:System.Xml.XmlDictionaryReaderQuotas> contains configurable quota values for XML dictionary readers which limit the amount of memory utilized by an encoder while creating a message.</span></span> <span data-ttu-id="d5e99-182">Während diese Kontingente konfigurierbar sind, wurden die Standardwerte geändert, um die Wahrscheinlichkeit zu vermindern, dass sie von einem Entwickler explizit festgelegt werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-182">While these quotas are configurable, the default values have changed to lessen the possibility that a developer will need to set them explicitly.</span></span> <span data-ttu-id="d5e99-183">Das `MaxReceivedMessageSize`-Kontingent wurde nicht geändert und kann den Arbeitsspeicherverbrauch weiterhin einschränken. So entfällt die Notwendigkeit, komplexe <xref:System.Xml.XmlDictionaryReaderQuotas> zu überwachen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-183">`MaxReceivedMessageSize` quota has not been changed so that it can still limit memory consumption preventing the need for you to deal with the complexity of the <xref:System.Xml.XmlDictionaryReaderQuotas>.</span></span> <span data-ttu-id="d5e99-184">In der folgenden Tabelle sind die Kontingente, die neuen Standardwerte und eine kurze Erläuterung zum Verwendungszweck der einzelnen Kontingente enthalten.</span><span class="sxs-lookup"><span data-stu-id="d5e99-184">The following table shows the quotas, their new default values and a brief explanation of what each quota is used for.</span></span>

|<span data-ttu-id="d5e99-185">Namen des Kontingents</span><span class="sxs-lookup"><span data-stu-id="d5e99-185">Quota Name</span></span>|<span data-ttu-id="d5e99-186">Standardwert</span><span class="sxs-lookup"><span data-stu-id="d5e99-186">Default Value</span></span>|<span data-ttu-id="d5e99-187">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="d5e99-187">Description</span></span>|
|----------------|-------------------|-----------------|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>|<span data-ttu-id="d5e99-188">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="d5e99-188">Int32.MaxValue</span></span>|<span data-ttu-id="d5e99-189">Ruft die maximal zulässige Arraylänge ab und legt sie fest.</span><span class="sxs-lookup"><span data-stu-id="d5e99-189">Gets and sets the maximum allowed array length.</span></span> <span data-ttu-id="d5e99-190">Dieses Kontingent schränkt die maximale Größe eines Arrays von Primitiven ein, einschließlich Bytearrays, die vom XML-Reader zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-190">This quota limits the maximum size of an array of primitives that the XML reader returns, including byte arrays.</span></span> <span data-ttu-id="d5e99-191">Der Arbeitsspeicherverbrauch im XML-Reader selbst wird mit diesem Kontingent nicht eingeschränkt, jedoch in der Komponente, die den Reader verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-191">This quota does not limit memory consumption in the XML reader itself, but in whatever component that is using the reader.</span></span> <span data-ttu-id="d5e99-192">Wenn <xref:System.Runtime.Serialization.DataContractSerializer> z.&#160;B. einen Reader verwendet, der mit <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>gesichert ist, werden keine Bytearrays deserialisiert, deren Größe dieses Kontingent überschreitet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-192">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxArrayLength%2A>, it does not deserialize byte arrays larger than this quota.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>|<span data-ttu-id="d5e99-193">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="d5e99-193">Int32.MaxValue</span></span>|<span data-ttu-id="d5e99-194">Ruft die bei jedem Lesevorgang zurückgegebenen maximal zulässigen Bytes ab und legt sie fest.</span><span class="sxs-lookup"><span data-stu-id="d5e99-194">Gets and sets the maximum allowed bytes returned for each read.</span></span> <span data-ttu-id="d5e99-195">Dieses Kontingent beschränkt die Anzahl der Bytes, die in einem einzelnen Vorgang beim Lesen des Starttags des Elements und dessen Attributen gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-195">This quota limits the number of bytes that are read in a single Read operation when reading the element start tag and its attributes.</span></span> <span data-ttu-id="d5e99-196">(In Fällen ohne Streaming wird der Elementname selbst nicht in die Berechnung des Kontingents einbezogen.)</span><span class="sxs-lookup"><span data-stu-id="d5e99-196">(In non-streamed cases, the element name itself is not counted against the quota).</span></span> <span data-ttu-id="d5e99-197">Bei zu vielen XML-Attributen kann die Verarbeitungszeit übermäßig lange dauern, da die Attributnamen auf Eindeutigkeit überprüft werden müssen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-197">Having too many XML attributes may use up disproportionate processing time because attribute names have to be checked for uniqueness.</span></span> <span data-ttu-id="d5e99-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mindert dieses Risiko.</span><span class="sxs-lookup"><span data-stu-id="d5e99-198"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A> mitigates this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A>|<span data-ttu-id="d5e99-199">Tiefe von 128 Knoten</span><span class="sxs-lookup"><span data-stu-id="d5e99-199">128 nodes deep</span></span>|<span data-ttu-id="d5e99-200">Diese Kontingent schränkt die maximale Schachtelungstiefe von XML-Elementen ein.</span><span class="sxs-lookup"><span data-stu-id="d5e99-200">This quota limits the maximum nesting depth of XML elements.</span></span> <span data-ttu-id="d5e99-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interagiert mit <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: Der Reader behält stets Daten für das aktuelle Element und alle seiner übergeordneten Elemente im Arbeitsspeicher, weshalb der maximale Arbeitsspeicherverbrauch proportional zum Produkt aus diesen beiden Einstellungen ist.</span><span class="sxs-lookup"><span data-stu-id="d5e99-201"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> interacts with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxBytesPerRead%2A>: the reader always keeps data in memory for the current element and all of its ancestors, so the maximum memory consumption of the reader is proportional to the product of these two settings.</span></span> <span data-ttu-id="d5e99-202">Wenn Sie ein tief geschachteltes Objektdiagramm deserialisieren, ist das Deserialisierungsprogramm gezwungen, auf den gesamten Stapel zuzugreifen und eine nicht behebbare <xref:System.StackOverflowException>auszulösen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-202">When deserializing a deeply-nested object graph, the deserializer is forced to access the entire stack and throw an unrecoverable <xref:System.StackOverflowException>.</span></span> <span data-ttu-id="d5e99-203">Ein direkter Zusammenhang besteht zwischen der XML-Schachtelung und der Objektschachtelung sowohl für <xref:System.Runtime.Serialization.DataContractSerializer> als auch für <xref:System.Xml.Serialization.XmlSerializer>.</span><span class="sxs-lookup"><span data-stu-id="d5e99-203">A direct correlation exists between XML nesting and object nesting for both the <xref:System.Runtime.Serialization.DataContractSerializer> and the <xref:System.Xml.Serialization.XmlSerializer>.</span></span> <span data-ttu-id="d5e99-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> wird verwendet, um dieses Risiko zu mindern.</span><span class="sxs-lookup"><span data-stu-id="d5e99-204"><xref:System.Xml.XmlDictionaryReaderQuotas.MaxDepth%2A> is used to mitigate this threat.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxNameTableCharCount%2A>|<span data-ttu-id="d5e99-205">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="d5e99-205">Int32.MaxValue</span></span>|<span data-ttu-id="d5e99-206">Dieses Kontingent beschränkt die maximale Anzahl von Zeichen, die in einer Nametable zulässig sind.</span><span class="sxs-lookup"><span data-stu-id="d5e99-206">This quota limits the maximum number of characters allowed in a nametable.</span></span> <span data-ttu-id="d5e99-207">Die Nametable enthält bestimmte Zeichenfolgen (z. B. Namespaces and Präfixe), die beim Verarbeiten von XML-Dokumenten auftreten.</span><span class="sxs-lookup"><span data-stu-id="d5e99-207">The nametable contains certain strings (such as namespaces and prefixes) that are encountered when processing an XML document.</span></span> <span data-ttu-id="d5e99-208">Da diese Zeichenfolgen im Arbeitsspeicher gepuffert werden, kann mit diesem Kontingent eine übermäßige Pufferung verhindert werden, wenn die Zeichenfolgen erwartungsgemäß gestreamt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-208">As these strings are buffered in memory, this quota is used to prevent excessive buffering when streaming is expected.</span></span>|
|<xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>|<span data-ttu-id="d5e99-209">Int32.MaxValue</span><span class="sxs-lookup"><span data-stu-id="d5e99-209">Int32.MaxValue</span></span>|<span data-ttu-id="d5e99-210">Dieses Kontingent schränkt die maximale Größe der Zeichenfolgen ein, die vom XML-Reader zurückgegeben werden.</span><span class="sxs-lookup"><span data-stu-id="d5e99-210">This quota limits the maximum string size that the XML reader returns.</span></span> <span data-ttu-id="d5e99-211">Der Arbeitsspeicherverbrauch im XML-Reader selbst wird mit diesem Kontingent nicht eingeschränkt, jedoch in der Komponente, die den Reader verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-211">This quota does not limit memory consumption in the XML reader itself, but in the component that is using the reader.</span></span> <span data-ttu-id="d5e99-212">Wenn <xref:System.Runtime.Serialization.DataContractSerializer> z.&#160;B. einen Reader verwendet, der mit <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>gesichert ist, werden keine Zeichenfolgen deserialisiert, deren Größe dieses Kontingent überschreitet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-212">For example, when the <xref:System.Runtime.Serialization.DataContractSerializer> uses a reader secured with <xref:System.Xml.XmlDictionaryReaderQuotas.MaxStringContentLength%2A>, it does not deserialize strings larger than this quota.</span></span>|

> [!IMPORTANT]
> <span data-ttu-id="d5e99-213">Weitere Informationen zum Sichern Ihrer Daten finden Sie unter "Sicheres Verwenden von XML" unter [Sicherheitsüberlegungen für-Daten](./feature-details/security-considerations-for-data.md) .</span><span class="sxs-lookup"><span data-stu-id="d5e99-213">Refer to "Using XML Safely" under [Security Considerations for Data](./feature-details/security-considerations-for-data.md) for more information about securing your data.</span></span>

> [!NOTE]
> <span data-ttu-id="d5e99-214">Diese neuen Standardwerte werden nur verwendet, wenn Sie den WCF-Dienst auf einem Computer mit .NET Framework 4.5 bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="d5e99-214">These new defaults are used only if you deploy the WCF service on a machine with .NET Framework 4.5.</span></span> <span data-ttu-id="d5e99-215">Wenn Sie denselben Dienst auf einem Computer mit .NET Framework 4.0 bereitstellen, werden die Standardwerte von .NET Framework 4.0 verwendet.</span><span class="sxs-lookup"><span data-stu-id="d5e99-215">If you deploy the same service on a machine with .NET Framework 4.0, then the .NET Framework 4.0 defaults are used.</span></span> <span data-ttu-id="d5e99-216">In solchen Fällen wird empfohlen, die Einstellungen explizit zu konfigurieren.</span><span class="sxs-lookup"><span data-stu-id="d5e99-216">In such cases it is recommended to configure these settings explicitly.</span></span>

## <a name="wcf-configuration-validation"></a><span data-ttu-id="d5e99-217">WCF-Konfigurationsvalidierung</span><span class="sxs-lookup"><span data-stu-id="d5e99-217">WCF Configuration Validation</span></span>

<span data-ttu-id="d5e99-218">Im Rahmen des Buildvorgangs innerhalb von Visual Studio werden WCF-Konfigurationsdateien jetzt überprüft.</span><span class="sxs-lookup"><span data-stu-id="d5e99-218">As part of the build process within Visual Studio, WCF configuration files are now validated.</span></span> <span data-ttu-id="d5e99-219">Eine Liste mit Validierungsfehlern oder Warnungen wird in Visual Studio angezeigt, wenn die Validierung fehlschlägt.</span><span class="sxs-lookup"><span data-stu-id="d5e99-219">A list of validation errors or warnings are displayed in Visual Studio if the validation fails.</span></span>

## <a name="xml-editor-tooltips"></a><span data-ttu-id="d5e99-220">XML-Editor-QuickInfos</span><span class="sxs-lookup"><span data-stu-id="d5e99-220">XML Editor Tooltips</span></span>

<span data-ttu-id="d5e99-221">Um neuen und bereits erfahrenen Entwicklern von WCF-Diensten die Konfiguration zu erleichtern, zeigt der XML-Editor in Visual Studio nun QuickInfos für jedes Konfigurationselement, das Teil der Dienstkonfigurationsdatei ist, und dessen Eigenschaften an.</span><span class="sxs-lookup"><span data-stu-id="d5e99-221">In order to help new and existing WCF service developers to configure their services, the Visual Studio XML editor now provides tooltips for every configuration element and its properties that is part of the service configuration file.</span></span>

## <a name="basichttpbinding-improvements"></a><span data-ttu-id="d5e99-222">BasicHttpBinding-Verbesserungen</span><span class="sxs-lookup"><span data-stu-id="d5e99-222">BasicHttpBinding Improvements</span></span>

1. <span data-ttu-id="d5e99-223">Ermöglicht es einem einzelnen WCF-Endpunkt, auf verschiedene Authentifizierungsmodi zu reagieren.</span><span class="sxs-lookup"><span data-stu-id="d5e99-223">Enables a single WCF endpoint to respond to different authentication modes.</span></span>

2. <span data-ttu-id="d5e99-224">Ermöglicht die Steuerung der Sicherheitseinstellungen eines WCF-Diensts durch IIS.</span><span class="sxs-lookup"><span data-stu-id="d5e99-224">Enables a WCF service’s security settings to be controlled by IIS</span></span>
