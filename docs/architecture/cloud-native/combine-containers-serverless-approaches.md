---
title: Kombinieren von Containern und Server losen Ansätzen für cloudnative Dienste
description: Kombinieren von Containern und Kubernetes mit Server losen Ansätzen
ms.date: 04/23/2020
ms.openlocfilehash: a6ae17543c9075ca84126a4c19f9f51887f7fe9a
ms.sourcegitcommit: 957c49696eaf048c284ef8f9f8ffeb562357ad95
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 05/07/2020
ms.locfileid: "82895638"
---
# <a name="combining-containers-and-serverless-approaches"></a><span data-ttu-id="b6647-103">Kombinieren von Containern und serverlosen Ansätzen</span><span class="sxs-lookup"><span data-stu-id="b6647-103">Combining containers and serverless approaches</span></span>

[!INCLUDE [book-preview](../../../includes/book-preview.md)]

<span data-ttu-id="b6647-104">Native Cloud-Anwendungen implementieren normalerweise Dienste, die Container und Orchestrierung nutzen.</span><span class="sxs-lookup"><span data-stu-id="b6647-104">Cloud-native applications typically implement services leveraging containers and orchestration.</span></span> <span data-ttu-id="b6647-105">Es gibt oft Möglichkeiten, einige der Dienste der Anwendung als Azure Functions verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="b6647-105">There are often opportunities to expose some of the application's services as Azure Functions.</span></span> <span data-ttu-id="b6647-106">Bei einer in Kubernetes bereitgestellten cloudbasierten App wäre es jedoch sinnvoll, Azure Functions innerhalb desselben Toolsets zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="b6647-106">However, with a cloud-native app deployed to Kubernetes, it would be nice to leverage Azure Functions within this same toolset.</span></span> <span data-ttu-id="b6647-107">Glücklicherweise können Sie Azure Functions in docker-Containern einschließen und diese mithilfe der gleichen Prozesse und Tools bereitstellen, wie Sie es auch im Rest ihrer Kubernetes-basierten APP tun.</span><span class="sxs-lookup"><span data-stu-id="b6647-107">Fortunately, you can wrap Azure Functions inside Docker containers and deploy them using the same processes and tools as the rest of your Kubernetes-based app.</span></span>

## <a name="when-does-it-make-sense-to-use-containers-with-serverless"></a><span data-ttu-id="b6647-108">Wann ist es sinnvoll, Container mit Serverless zu verwenden?</span><span class="sxs-lookup"><span data-stu-id="b6647-108">When does it make sense to use containers with serverless?</span></span>

<span data-ttu-id="b6647-109">Ihre Azure-Funktion kennt die Plattform, auf der Sie bereitgestellt ist, nicht.</span><span class="sxs-lookup"><span data-stu-id="b6647-109">Your Azure Function has no knowledge of the platform on which it's deployed.</span></span> <span data-ttu-id="b6647-110">In einigen Szenarien haben Sie möglicherweise bestimmte Anforderungen und müssen die Umgebung anpassen, in der der Funktionscode ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b6647-110">For some scenarios, you may have specific requirements and need to customize the environment on which your function code will run.</span></span> <span data-ttu-id="b6647-111">Sie benötigen ein benutzerdefiniertes Image, das Abhängigkeiten oder eine Konfiguration unterstützt, die vom Standard Image nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="b6647-111">You'll need a custom image that supports dependencies or a configuration not supported by the default image.</span></span> <span data-ttu-id="b6647-112">In diesen Fällen ist es sinnvoll, ihre Funktion in einem benutzerdefinierten docker-Container bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="b6647-112">In these cases, it makes sense to deploy your function in a custom Docker container.</span></span>

## <a name="when-should-you-avoid-using-containers-with-azure-functions"></a><span data-ttu-id="b6647-113">Wann sollten Sie die Verwendung von Containern mit Azure Functions vermeiden?</span><span class="sxs-lookup"><span data-stu-id="b6647-113">When should you avoid using containers with Azure Functions?</span></span>

<span data-ttu-id="b6647-114">Wenn Sie die Verbrauchs Abrechnung verwenden möchten, können Sie die Funktion nicht in einem Container ausführen.</span><span class="sxs-lookup"><span data-stu-id="b6647-114">If you want to use consumption billing, you won't be able to run your function in a container.</span></span> <span data-ttu-id="b6647-115">Wenn Sie Ihre Funktion in einem Kubernetes-Cluster bereitstellen, profitieren Sie nicht mehr von der integrierten Skalierung, die von Azure Functions bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="b6647-115">What's more, if you deploy your function to a Kubernetes cluster, you'll no longer benefit from the built-in scaling provided by Azure Functions.</span></span> <span data-ttu-id="b6647-116">Sie müssen die Skalierungs Features von Kubernetes verwenden, die weiter oben in diesem Kapitel beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="b6647-116">You'll need to use Kubernetes' scaling features, described earlier in this chapter.</span></span>

## <a name="how-to-combine-serverless-and-docker-containers"></a><span data-ttu-id="b6647-117">Kombinieren von Server losen und docker-Containern</span><span class="sxs-lookup"><span data-stu-id="b6647-117">How to combine serverless and Docker containers</span></span>

<span data-ttu-id="b6647-118">Wenn Sie eine Azure-Funktion in einem docker-Container einbinden möchten, installieren Sie die [Azure Functions Core Tools](https://github.com/Azure/azure-functions-core-tools) , und führen Sie dann den folgenden Befehl aus:</span><span class="sxs-lookup"><span data-stu-id="b6647-118">To wrap an Azure Function in a Docker container, install the [Azure Functions Core Tools](https://github.com/Azure/azure-functions-core-tools) and then run the following command:</span></span>

```console
func init ProjectName --worker-runtime dotnet --docker
```

<span data-ttu-id="b6647-119">Wenn das Projekt erstellt wird, enthält es eine dockerfile-Datei und die Worker-Laufzeit `dotnet`, die für konfiguriert ist.</span><span class="sxs-lookup"><span data-stu-id="b6647-119">When the project is created, it will include a Dockerfile and the worker runtime configured to `dotnet`.</span></span> <span data-ttu-id="b6647-120">Nun können Sie Ihre Funktion lokal erstellen und testen.</span><span class="sxs-lookup"><span data-stu-id="b6647-120">Now, you can create and test your function locally.</span></span> <span data-ttu-id="b6647-121">Erstellen Sie Sie, und führen `docker build` Sie `docker run` Sie mit den Befehlen und aus.</span><span class="sxs-lookup"><span data-stu-id="b6647-121">Build and run it using the  `docker build` and `docker run` commands.</span></span> <span data-ttu-id="b6647-122">Ausführliche Schritte zum Erstellen von Azure Functions mit der Docker-Unterstützung finden Sie im Tutorial [Erstellen einer Funktion unter Linux mithilfe eines benutzerdefinierten Images](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) .</span><span class="sxs-lookup"><span data-stu-id="b6647-122">For detailed steps to get started building Azure Functions with Docker support, see the [Create a function on Linux using a custom image](https://docs.microsoft.com/azure/azure-functions/functions-create-function-linux-custom-image) tutorial.</span></span>

## <a name="how-to-combine-serverless-and-kubernetes-with-keda"></a><span data-ttu-id="b6647-123">Kombinieren von Server lose und Kubernetes mit Keda</span><span class="sxs-lookup"><span data-stu-id="b6647-123">How to combine serverless and Kubernetes with KEDA</span></span>

<span data-ttu-id="b6647-124">In diesem Kapitel haben Sie gesehen, dass die Azure Functions-Plattform automatisch horizontal hochskaliert wird, um die Nachfrage zu erfüllen.</span><span class="sxs-lookup"><span data-stu-id="b6647-124">In this chapter, you've seen that the Azure Functions' platform automatically scales out to meet demand.</span></span> <span data-ttu-id="b6647-125">Beim Bereitstellen von containerisierten Funktionen in AKS verlieren Sie jedoch die integrierte Skalierungs Funktionalität.</span><span class="sxs-lookup"><span data-stu-id="b6647-125">When deploying containerized functions to AKS, however, you lose the built-in scaling functionality.</span></span> <span data-ttu-id="b6647-126">Zur Rettung kommt [Kubernetes-basiertes ereignisgesteuert (Keda)](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda)vor.</span><span class="sxs-lookup"><span data-stu-id="b6647-126">To the rescue comes [Kubernetes-based Event Driven (KEDA)](https://docs.microsoft.com/azure/azure-functions/functions-kubernetes-keda).</span></span> <span data-ttu-id="b6647-127">Sie ermöglicht eine fein abgestimmte automatische Skalierung `event-driven Kubernetes workloads,` für das Einschließen von containerisierten Funktionen.</span><span class="sxs-lookup"><span data-stu-id="b6647-127">It enables fine-grained autoscaling for `event-driven Kubernetes workloads,` including containerized functions.</span></span>

<span data-ttu-id="b6647-128">Keda bietet eine ereignisgesteuerte Skalierungs Funktion für die Functions-Laufzeit in einem docker-Container.</span><span class="sxs-lookup"><span data-stu-id="b6647-128">KEDA provides event-driven scaling functionality to the Functions' runtime in a Docker container.</span></span> <span data-ttu-id="b6647-129">Keda kann auf der Grundlage der Auslastung von 0 (null) Instanzen skaliert `n instances`werden (wenn keine Ereignisse eintreten).</span><span class="sxs-lookup"><span data-stu-id="b6647-129">KEDA can scale from zero instances (when no events are occurring) out to `n instances`, based on load.</span></span> <span data-ttu-id="b6647-130">Sie ermöglicht die automatische Skalierung durch das verfügbar machen von benutzerdefinierten Metriken für die Kubernetes automatische Skalierungs Funktion (horizontale Pod automatische Skalierungs Funktion).</span><span class="sxs-lookup"><span data-stu-id="b6647-130">It enables autoscaling by exposing custom metrics to the Kubernetes autoscaler (Horizontal Pod Autoscaler).</span></span> <span data-ttu-id="b6647-131">Durch Verwendung von Functions-Container mit KEDA können serverlose Funktionen in jedem Kubernetes-Cluster repliziert werden.</span><span class="sxs-lookup"><span data-stu-id="b6647-131">Using Functions containers with KEDA makes it possible to replicate serverless function capabilities in any Kubernetes cluster.</span></span>

<span data-ttu-id="b6647-132">Beachten Sie, dass das Keda-Projekt jetzt von der Cloud Native Computing Foundation (cncf) verwaltet wird.</span><span class="sxs-lookup"><span data-stu-id="b6647-132">It is worth noting that the KEDA project is now managed by the Cloud Native Computing Foundation (CNCF).</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="b6647-133">[Zurück](leverage-serverless-functions.md)
>[Weiter](deploy-containers-azure.md)</span><span class="sxs-lookup"><span data-stu-id="b6647-133">[Previous](leverage-serverless-functions.md)
[Next](deploy-containers-azure.md)</span></span>
