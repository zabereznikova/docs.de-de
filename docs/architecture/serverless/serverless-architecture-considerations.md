---
title: 'Überlegungen zur serverlosen Architektur: Serverlose Apps'
description: Verstehen der Herausforderungen der Architektur von serverlosen Anwendungen, von Zustandsverwaltung und persistentem Speicher über Skalierung, Protokollierung, Ablaufverfolgung bis hin zu Diagnose.
author: JEREMYLIKNESS
ms.author: jeliknes
ms.date: 06/26/2018
ms.openlocfilehash: c856683cf6910be98661e634246cd003b93a6d76
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/08/2019
ms.locfileid: "72522425"
---
# <a name="serverless-architecture-considerations"></a><span data-ttu-id="7e474-103">Überlegungen zur serverlosen Architektur</span><span class="sxs-lookup"><span data-stu-id="7e474-103">Serverless architecture considerations</span></span>

<span data-ttu-id="7e474-104">Die Nutzung einer serverlosen Architektur bringt bestimmte Herausforderungen mit sich.</span><span class="sxs-lookup"><span data-stu-id="7e474-104">Adopting a serverless architecture does come with certain challenges.</span></span> <span data-ttu-id="7e474-105">In diesem Abschnitt werden einige der gängigeren Überlegungen erläutert, die Sie kennen sollten.</span><span class="sxs-lookup"><span data-stu-id="7e474-105">This section explores some of the more common considerations to be aware of.</span></span> <span data-ttu-id="7e474-106">Für alle diese Herausforderungen gibt es Lösungen.</span><span class="sxs-lookup"><span data-stu-id="7e474-106">All of these challenges have solutions.</span></span> <span data-ttu-id="7e474-107">Wie bei allen Architekturoptionen sollte die Entscheidung, eine serverlose Implementierung zu verwenden, erst nach sorgfältiger Untersuchung der Vor- und Nachteile getroffen werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-107">As with all architecture choices, the decision to go serverless should be made only after carefully considering the pros and cons.</span></span> <span data-ttu-id="7e474-108">Abhängig von den Anforderungen Ihrer Anwendung können Sie die Erkenntnis gewinnen, dass eine serverlose Implementierung nicht die richtige Lösung für bestimmte Komponenten ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-108">Depending on the needs of your application, you may decide a serverless implementation isn't the right solution for certain components.</span></span>

## <a name="managing-state"></a><span data-ttu-id="7e474-109">Verwalten des Zustands</span><span class="sxs-lookup"><span data-stu-id="7e474-109">Managing state</span></span>

<span data-ttu-id="7e474-110">Serverlose Funktionen sind (wie Microservices allgemein) standardmäßig zustandslos.</span><span class="sxs-lookup"><span data-stu-id="7e474-110">Serverless functions, as with microservices in general, are stateless by default.</span></span> <span data-ttu-id="7e474-111">Durch das Vermeiden des Zustands kann eine serverlose Bereitstellung kurzlebig sein, horizontal hochskaliert werden und Resilienz ohne einen zentralen Fehlerpunkt bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="7e474-111">Avoiding state enables serverless to be ephemeral, to scale out, and to provide resiliency without a central point of failure.</span></span> <span data-ttu-id="7e474-112">In einigen Fällen ist für Geschäftsprozesse ein Zustand erforderlich.</span><span class="sxs-lookup"><span data-stu-id="7e474-112">In some circumstances, business processes require state.</span></span> <span data-ttu-id="7e474-113">Wenn Ihr Prozess einen Zustand erfordert, haben Sie zwei Möglichkeiten.</span><span class="sxs-lookup"><span data-stu-id="7e474-113">If your process requires state, you have two options.</span></span> <span data-ttu-id="7e474-114">Sie können ein anderes Modell als eine serverlose Bereitstellung verwenden oder mit einem separaten Dienst interagieren, der einen Zustand bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7e474-114">You can adopt a model other than serverless, or interact with a separate service that provides state.</span></span> <span data-ttu-id="7e474-115">Das Hinzufügen eines Zustands kann die Lösung komplizierter gestalten, die Skalierung erschweren und potenziell zu einem Single Point of Failure führen.</span><span class="sxs-lookup"><span data-stu-id="7e474-115">Adding state can complicate the solution and make it harder to scale, and potentially create a single point of failure.</span></span> <span data-ttu-id="7e474-116">Überlegen Sie sorgfältig, ob Ihre Funktion unbedingt einen Zustand erfordert.</span><span class="sxs-lookup"><span data-stu-id="7e474-116">Carefully consider whether your function absolutely requires state.</span></span> <span data-ttu-id="7e474-117">Wenn die Antwort „Ja“ lautet, überlegen Sie, ob es immer noch sinnvoll ist, eine serverlose Lösung zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="7e474-117">If the answer is "yes," determine whether it still makes sense to implement it with serverless.</span></span>

<span data-ttu-id="7e474-118">Es gibt mehrere Lösungen, die einen Zustand bereitstellen, ohne die Vorteile einer serverlosen Implementierung zu gefährden.</span><span class="sxs-lookup"><span data-stu-id="7e474-118">There are several solutions to adopt state without compromising the benefits of serverless.</span></span> <span data-ttu-id="7e474-119">Zu den beliebtesten Lösungen gehören:</span><span class="sxs-lookup"><span data-stu-id="7e474-119">Some of the more popular solutions include:</span></span>

- <span data-ttu-id="7e474-120">Verwenden eines temporären Datenspeichers oder verteilten Caches wie Redis</span><span class="sxs-lookup"><span data-stu-id="7e474-120">Use a temporary data store or distributed cache, like Redis</span></span>
- <span data-ttu-id="7e474-121">Speichern des Zustands in einer Datenbank, z.B. SQL oder CosmosDB</span><span class="sxs-lookup"><span data-stu-id="7e474-121">Store state in a database, like SQL or CosmosDB</span></span>
- <span data-ttu-id="7e474-122">Verarbeiten des Zustands durch eine Workflow-Engine wie Durable Functions</span><span class="sxs-lookup"><span data-stu-id="7e474-122">Handle state through a workflow engine like durable functions</span></span>

<span data-ttu-id="7e474-123">Fazit: Sie sollten die Notwendigkeit einer Zustandsverwaltung in Prozessen beachten, für die Sie eine serverlose Implementierung in Erwägung ziehen.</span><span class="sxs-lookup"><span data-stu-id="7e474-123">The bottom line is that you should be aware of the need for any state management within processes you're considering to implement with serverless.</span></span>

## <a name="long-running-processes"></a><span data-ttu-id="7e474-124">Prozesse mit langer Ausführungszeit</span><span class="sxs-lookup"><span data-stu-id="7e474-124">Long-running processes</span></span>

<span data-ttu-id="7e474-125">Viele Vorteile von serverlosen Lösungen basieren auf kurzlebigen Prozessen.</span><span class="sxs-lookup"><span data-stu-id="7e474-125">Many benefits of serverless rely on the processes being ephemeral.</span></span> <span data-ttu-id="7e474-126">Kurze Ausführungszeiten vereinfachen es dem Anbieter einer serverlosen Lösung, Ressourcen freizugeben, wenn Funktionen beendet werden, und Funktionen hostübergreifend gemeinsam zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="7e474-126">Short run times make it easier for the serverless provider to free up resources as functions end and share functions across hosts.</span></span> <span data-ttu-id="7e474-127">Die meisten Cloudanbieter beschränken die Gesamtausführungsdauer Ihrer Funktion auf ungefähr 10 Minuten.</span><span class="sxs-lookup"><span data-stu-id="7e474-127">Most cloud providers limit the total time your function can run to around 10 minutes.</span></span> <span data-ttu-id="7e474-128">Wenn Ihr Prozess mehr Zeit in Anspruch nimmt, können Sie eine alternative Implementierung in Erwägung ziehen.</span><span class="sxs-lookup"><span data-stu-id="7e474-128">If your process may take longer, you might consider an alternative implementation.</span></span>

<span data-ttu-id="7e474-129">Es gibt einige Ausnahmen und Lösungen.</span><span class="sxs-lookup"><span data-stu-id="7e474-129">There are a few exceptions and solutions.</span></span> <span data-ttu-id="7e474-130">Eine Lösung kann darin bestehen, den Prozess in kleinere Komponenten zu unterteilen, deren einzelne Ausführung weniger Zeit in Anspruch nimmt.</span><span class="sxs-lookup"><span data-stu-id="7e474-130">One solution may be to break your process into smaller components that individually take less time to run.</span></span> <span data-ttu-id="7e474-131">Wenn Ihr Prozess aufgrund von Abhängigkeiten zur einer langen Ausführungszeit führt, können Sie auch einen asynchronen Workflow mithilfe einer Lösung wie Durable Functions in Erwägung ziehen.</span><span class="sxs-lookup"><span data-stu-id="7e474-131">If your process runs long because of dependencies, you can also consider an asynchronous workflow using a solution like durable functions.</span></span> <span data-ttu-id="7e474-132">Durable Functions werden angehalten und behalten den Zustand des Prozesses bei, während darauf gewartet wird, dass ein externer Prozess beendet wird.</span><span class="sxs-lookup"><span data-stu-id="7e474-132">Durable functions pause and maintain the state of your process while it's waiting on an external process to finish.</span></span> <span data-ttu-id="7e474-133">Die asynchrone Verarbeitung verringert die Zeit, die der tatsächliche Prozess ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="7e474-133">Asynchronous handling reduces the time the actual process runs.</span></span>

## <a name="startup-time"></a><span data-ttu-id="7e474-134">Startzeit</span><span class="sxs-lookup"><span data-stu-id="7e474-134">Startup time</span></span>

<span data-ttu-id="7e474-135">Ein mögliches Problem bei serverlosen Implementierungen ist die Startzeit.</span><span class="sxs-lookup"><span data-stu-id="7e474-135">One potential concern with serverless implementations is startup time.</span></span> <span data-ttu-id="7e474-136">Um Ressourcen zu sparen, erstellen viele Anbieter von serverlosen Lösungen die Infrastruktur „bei Bedarf“.</span><span class="sxs-lookup"><span data-stu-id="7e474-136">To conserve resources, many serverless providers create infrastructure "on demand."</span></span> <span data-ttu-id="7e474-137">Wenn eine serverlose Funktion nach einer gewissen Zeit ausgelöst wird, müssen möglicherweise die Ressourcen zum Hosten der Funktion erstellt oder neu gestartet werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-137">When a serverless function is triggered after a period of time, the resources to host the function may need to be created or restarted.</span></span> <span data-ttu-id="7e474-138">In einigen Fällen kann es zu Verzögerungen bei einem Kaltstart kommen, die mehrere Sekunden dauern.</span><span class="sxs-lookup"><span data-stu-id="7e474-138">In some situations, cold starts may result in delays of several seconds.</span></span> <span data-ttu-id="7e474-139">Die Startzeit variiert je nach Anbieter und Dienstebene.</span><span class="sxs-lookup"><span data-stu-id="7e474-139">Startup time varies across providers and service levels.</span></span> <span data-ttu-id="7e474-140">Es gibt einige Ansätze, um die Startzeit zu verkürzen, wenn dies für den Erfolg der App wichtig ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-140">There are a few approaches to address startup time if it's important to minimize for the success of the app.</span></span>

- <span data-ttu-id="7e474-141">Einige Anbieter ermöglichen es Benutzern, für Dienstebenen zu zahlen, die eine Infrastruktur garantieren, die „immer aktiv“ ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-141">Some providers allow users to pay for service levels that guarantee infrastructure is "always on".</span></span>
- <span data-ttu-id="7e474-142">Implementieren Sie einen Keep-Alive-Mechanismus (pingen Sie den Endpunkt, um seine „Aktivität“ zu gewährleisten).</span><span class="sxs-lookup"><span data-stu-id="7e474-142">Implement a keep-alive mechanism (ping the endpoint to keep it "awake").</span></span>
- <span data-ttu-id="7e474-143">Verwenden Sie eine Orchestrierung wie Kubernetes mit einem Ansatz für eine containerisierte Funktion (der Host wird bereits ausgeführt, sodass das Einrichten neuer Instanzen äußerst schnell erfolgt).</span><span class="sxs-lookup"><span data-stu-id="7e474-143">Use orchestration like Kubernetes with a containerized function approach (the host is already running so spinning up new instances is extremely fast).</span></span>

## <a name="database-updates-and-migrations"></a><span data-ttu-id="7e474-144">Datenbankaktualisierungen und -migrationen</span><span class="sxs-lookup"><span data-stu-id="7e474-144">Database updates and migrations</span></span>

<span data-ttu-id="7e474-145">Ein Vorteil von serverlosem Code besteht darin, dass Sie neue Funktionen freigeben können, ohne die gesamte Anwendung erneut bereitstellen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="7e474-145">An advantage of serverless code is that you can release new functions without having to redeploy the entire application.</span></span> <span data-ttu-id="7e474-146">Dieser Vorteil kann zu einem Nachteil werden, wenn eine relationale Datenbank beteiligt ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-146">This advantage can become a disadvantage when there's a relational database involved.</span></span> <span data-ttu-id="7e474-147">Änderungen an Datenbankschemas sind schwer mit serverlosen Aktualisierungen zu synchronisieren.</span><span class="sxs-lookup"><span data-stu-id="7e474-147">Changes to database schemas are difficult to synchronize with serverless updates.</span></span> <span data-ttu-id="7e474-148">Weitere Herausforderungen ergeben sich, wenn ein Fehler auftritt und für die Änderungen ein Rollback ausgeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="7e474-148">Additional challenges are posed when things go wrong and the changes must be rolled back.</span></span> <span data-ttu-id="7e474-149">Datenintegrität ist ein Grund dafür, dass eine bewährte Methode für Microservices und serverlose Funktionen darin besteht, dass sie Besitzer ihrer eigenen Daten sind.</span><span class="sxs-lookup"><span data-stu-id="7e474-149">Data integrity is one reason that a best practice for microservices and serverless functions is that they own their own data.</span></span> <span data-ttu-id="7e474-150">Es ist möglich, Änderungen als eine einzelne Einheit von Compute und Daten bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="7e474-150">It is possible to deploy changes as a single unit of compute and data.</span></span> <span data-ttu-id="7e474-151">Die Realität sieht so aus, dass viele Legacysysteme über eine große Back-End-Datenbank verfügen, die mit der serverlosen Architektur abgestimmt werden muss.</span><span class="sxs-lookup"><span data-stu-id="7e474-151">The reality is that many legacy systems feature a large back-end database that must be reconciled with the serverless architecture.</span></span>

<span data-ttu-id="7e474-152">Ein beliebter Ansatz zum Lösen der Schemaversionsverwaltung besteht darin, niemals vorhandene Eigenschaften und Spalten zu ändern, sondern stattdessen neue Informationen hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="7e474-152">A popular approach to solve schema versioning is to never modify existing properties and columns, but instead add new information.</span></span> <span data-ttu-id="7e474-153">Nehmen Sie beispielsweise eine Änderung an, bei der von einem booleschen Flag „Abgeschlossen“ für eine Aufgabenliste zu einem „Abschlussdatum“ gewechselt wird.</span><span class="sxs-lookup"><span data-stu-id="7e474-153">For example, consider a change to move from a Boolean "completed" flag for a todo list to a "completed date."</span></span> <span data-ttu-id="7e474-154">Anstatt das alte Feld zu entfernen, wird die Datenbankänderung wie folgt durchführt:</span><span class="sxs-lookup"><span data-stu-id="7e474-154">Instead of removing the old field, the database change will:</span></span>

1. <span data-ttu-id="7e474-155">Fügen Sie ein neues Feld „Abschlussdatum“ hinzu.</span><span class="sxs-lookup"><span data-stu-id="7e474-155">Add a new "completed date" field.</span></span>
1. <span data-ttu-id="7e474-156">Transformieren Sie das boolesche Feld „Abgeschlossen“ in eine berechnete Funktion, die auswertet, ob das Abschlussdatum nach dem aktuellen Datum liegt.</span><span class="sxs-lookup"><span data-stu-id="7e474-156">Transform the "completed" Boolean field to a computed function that evaluates whether the completed date is after the current date.</span></span>
1. <span data-ttu-id="7e474-157">Fügen Sie einen Trigger hinzu, um das Abschlussdatum auf das aktuelle Datum festzulegen, wenn der boolesche Wert „Abgeschlossen“ auf TRUE festgelegt wird.</span><span class="sxs-lookup"><span data-stu-id="7e474-157">Add a trigger to set the completed date to the current date when the completed Boolean is set to true.</span></span>

<span data-ttu-id="7e474-158">Die Sequenz der Änderungen stellt sicher, dass der Legacycode weiterhin „unverändert“ ausgeführt wird, während neuere serverlose Funktionen das neue Feld nutzen können.</span><span class="sxs-lookup"><span data-stu-id="7e474-158">The sequence of changes ensures that legacy code continues to run "as is" while newer serverless functions can take advantage of the new field.</span></span>

<span data-ttu-id="7e474-159">Weitere Informationen zu Daten in serverlosen Architekturen finden Sie unter [Herausforderungen und Lösungen für verteilte Datenverwaltung](../microservices/architect-microservice-container-applications/distributed-data-management.md).</span><span class="sxs-lookup"><span data-stu-id="7e474-159">For more information about data in serverless architectures, see [Challenges and solutions for distributed data management](../microservices/architect-microservice-container-applications/distributed-data-management.md).</span></span>

## <a name="scaling"></a><span data-ttu-id="7e474-160">Skalieren</span><span class="sxs-lookup"><span data-stu-id="7e474-160">Scaling</span></span>

<span data-ttu-id="7e474-161">Es ist ein gängiges Missverständnis, dass serverlos „kein Server“ bedeutet.</span><span class="sxs-lookup"><span data-stu-id="7e474-161">It's a common misconception that serverless means "no server."</span></span> <span data-ttu-id="7e474-162">Tatsächlich geht es um „weniger Server“.</span><span class="sxs-lookup"><span data-stu-id="7e474-162">It's in fact "less server."</span></span> <span data-ttu-id="7e474-163">Die Tatsache, dass es eine unterstützende Infrastruktur gibt, ist wichtig zu verstehen, wenn es um Skalierung geht.</span><span class="sxs-lookup"><span data-stu-id="7e474-163">The fact there is a backing infrastructure is important to understand when it comes to scaling.</span></span> <span data-ttu-id="7e474-164">Die meisten serverlosen Plattformen bieten eine Reihe von Steuermöglichkeiten, wie die Infrastruktur bei zunehmender Ereignisdichte skaliert werden soll.</span><span class="sxs-lookup"><span data-stu-id="7e474-164">Most serverless platforms provide a set of controls to handle how the infrastructure should scale when event density increases.</span></span> <span data-ttu-id="7e474-165">Sie können aus einer Vielzahl von Optionen auswählen, aber ihre Strategie kann je nach Funktion unterschiedlich sein.</span><span class="sxs-lookup"><span data-stu-id="7e474-165">You can choose from a variety of options, but your strategy may vary depending on the function.</span></span> <span data-ttu-id="7e474-166">Außerdem werden Funktionen in der Regel auf einem verwandten Host ausgeführt, sodass Funktionen auf demselben Host über die gleichen Skalierungsoptionen verfügen.</span><span class="sxs-lookup"><span data-stu-id="7e474-166">Furthermore, functions are typically run under a related host, so that functions on the same host have the same scale options.</span></span> <span data-ttu-id="7e474-167">Daher ist es erforderlich, zu organisieren und strategisch festzulegen, welche Funktionen aufgrund von Skalierungsanforderungen gemeinsam gehostet werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-167">Therefore it is necessary to organize and strategize which functions are hosted together based on scale requirements.</span></span>

<span data-ttu-id="7e474-168">Regeln geben häufig an, wie das zentrale Hochskalieren (Erhöhen der Hostressourcen) und die horizontale Skalierung (Erhöhen der Anzahl der Hostinstanzen) basierend auf verschiedenen Parametern erfolgen soll.</span><span class="sxs-lookup"><span data-stu-id="7e474-168">Rules often specify how to scale-up (increase the host resources) and scale-out (increase the number of host instances) based on varying parameters.</span></span> <span data-ttu-id="7e474-169">Trigger für Skalierungen können einen Zeitplan, Anforderungsraten, die CPU-Auslastung und die Speicherauslastung umfassen.</span><span class="sxs-lookup"><span data-stu-id="7e474-169">Triggers for scales may include schedule, request rates, CPU utilization, and memory usage.</span></span> <span data-ttu-id="7e474-170">Höhere Leistung ist häufig mit höheren Kosten verbunden.</span><span class="sxs-lookup"><span data-stu-id="7e474-170">Higher performance often comes at a greater cost.</span></span> <span data-ttu-id="7e474-171">Die kostengünstigeren, verbrauchsbasierten Ansätze können ggf. nicht so schnell skaliert werden, wenn sich die Anforderungsrate plötzlich erhöht.</span><span class="sxs-lookup"><span data-stu-id="7e474-171">The less expensive, consumption-based approaches may not scale as quickly when the request rate suddenly increases.</span></span> <span data-ttu-id="7e474-172">Es gibt einen Kompromiss zwischen der Zahlung von „Versicherungskosten“ im Voraus und der strikten „nutzungsbasierten“ Zahlung mit der Gefahr, dass Reaktionen aufgrund plötzlich steigender Nachfrage langsamer werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-172">There is a trade-off between paying up front "insurance cost" versus paying strictly "as you go" and risking slower responses due to sudden increases in demand.</span></span>

## <a name="monitoring-tracing-and-logging"></a><span data-ttu-id="7e474-173">Überwachung, Ablaufverfolgung und Protokollierung</span><span class="sxs-lookup"><span data-stu-id="7e474-173">Monitoring, tracing, and logging</span></span>

<span data-ttu-id="7e474-174">Ein häufig übersehener Aspekt von DevOps ist die Überwachung von Anwendungen nach der Bereitstellung.</span><span class="sxs-lookup"><span data-stu-id="7e474-174">An often overlooked aspect of DevOps is monitoring applications once deployed.</span></span> <span data-ttu-id="7e474-175">Es ist wichtig, dass Sie über eine Strategie zum Überwachen von serverlosen Funktionen verfügen.</span><span class="sxs-lookup"><span data-stu-id="7e474-175">It's important to have a strategy for monitoring serverless functions.</span></span> <span data-ttu-id="7e474-176">Die größte Herausforderung besteht häufig in der Korrelation oder dem Erkennen, wenn ein Benutzer mehrere Funktionen als Teil derselben Interaktion aufruft.</span><span class="sxs-lookup"><span data-stu-id="7e474-176">The biggest challenge is often correlation, or recognizing when a user calls multiple functions as part of the same interaction.</span></span> <span data-ttu-id="7e474-177">Die meisten serverlosen Plattformen ermöglichen Konsolenprotokollierung, die in Tools von Drittanbietern importiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="7e474-177">Most serverless platforms allow console logging that can be imported into third-party tools.</span></span> <span data-ttu-id="7e474-178">Es gibt auch Optionen zum Automatisieren der Erfassung von Telemetriedaten, Generieren und Nachverfolgen von Korrelations-IDs und Überwachen spezifischer Aktionen, um detaillierte Einblicke zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="7e474-178">There are also options to automate collection of telemetry, generate and track correlation IDs, and monitor specific actions to provide detailed insights.</span></span> <span data-ttu-id="7e474-179">Azure bietet die erweiterte [Application Insights-Plattform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) für Überwachung und Analysen.</span><span class="sxs-lookup"><span data-stu-id="7e474-179">Azure provides the advanced [Application Insights platform](https://docs.microsoft.com/azure/azure-functions/functions-monitoring) for monitoring and analytics.</span></span>

## <a name="inter-service-dependencies"></a><span data-ttu-id="7e474-180">Abhängigkeiten zwischen Diensten</span><span class="sxs-lookup"><span data-stu-id="7e474-180">Inter-service dependencies</span></span>

<span data-ttu-id="7e474-181">Eine serverlose Architektur kann Funktionen enthalten, die von anderen Funktionen abhängen.</span><span class="sxs-lookup"><span data-stu-id="7e474-181">A serverless architecture may include functions that rely on other functions.</span></span> <span data-ttu-id="7e474-182">Tatsächlich ist es in einer serverlosen Architektur nicht ungewöhnlich, dass mehrere Dienste einander als Teil einer Interaktion oder verteilten Transaktion aufrufen.</span><span class="sxs-lookup"><span data-stu-id="7e474-182">In fact, it isn't uncommon in a serverless architecture to have multiple services call each other as part of an interaction or distributed transaction.</span></span> <span data-ttu-id="7e474-183">Um eine starke Kopplung zu vermeiden, wird empfohlen, dass Dienste nicht direkt aufeinander verweisen.</span><span class="sxs-lookup"><span data-stu-id="7e474-183">To avoid strong coupling, it's recommended that services don't reference each other directly.</span></span> <span data-ttu-id="7e474-184">Wenn sich der Endpunkt für einen Dienst ändern muss, können direkte Verweise zu umfangreichem Refactoring führen.</span><span class="sxs-lookup"><span data-stu-id="7e474-184">When the endpoint for a service needs to change, direct references could result in major refactoring.</span></span> <span data-ttu-id="7e474-185">Eine vorgeschlagene Lösung besteht darin, einen Dienstermittlungsmechanismus (z.B. eine Registrierung) bereitzustellen, der den entsprechenden Endpunkt für einen Anforderungstyp bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="7e474-185">A suggested solution is to provide a service discovery mechanism, such as a registry, that provides the appropriate end point for a request type.</span></span> <span data-ttu-id="7e474-186">Eine weitere Lösung besteht darin, Messagingdienste wie Warteschlangen oder Themen für die Kommunikation zwischen Diensten zu nutzen.</span><span class="sxs-lookup"><span data-stu-id="7e474-186">Another solution is to leverage messaging services like queues or topics for communication between services.</span></span>

## <a name="managing-failure-and-providing-resiliency"></a><span data-ttu-id="7e474-187">Verwalten von Fehlern und Bereitstellen von Resilienz</span><span class="sxs-lookup"><span data-stu-id="7e474-187">Managing failure and providing resiliency</span></span>

<span data-ttu-id="7e474-188">Es ist auch wichtig, das *Sicherungsmuster* zu berücksichtigen: Wenn ein Dienst aus irgendeinem Grund wiederholt ausfällt, empfiehlt es sich nicht, diesen Dienst wiederholt aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="7e474-188">It's also important to consider the *circuit-breaker pattern*: If, for some reason, a service continues to fail, it isn't advisable to call that service repeatedly.</span></span> <span data-ttu-id="7e474-189">Stattdessen wird ein alternativer Dienst aufgerufen, oder es wird eine Nachricht zurückgegeben, bis die Integrität des abhängigen Diensts wiederhergestellt ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-189">Instead, an alternative service is called or a message returned until the health of the dependent service is re-established.</span></span> <span data-ttu-id="7e474-190">Die serverlose Architektur muss eine Strategie zum Auflösen und Verwalten von Abhängigkeiten zwischen Diensten berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="7e474-190">The serverless architecture needs to take into account the strategy for resolving and managing inter-service dependencies.</span></span>

<span data-ttu-id="7e474-191">Um das Sicherungsmuster fortzusetzen, müssen Dienste fehlertolerant und robust sein.</span><span class="sxs-lookup"><span data-stu-id="7e474-191">To continue the circuit-breaker pattern, services need to be fault tolerant and resilient.</span></span> <span data-ttu-id="7e474-192">Fehlertoleranz bezieht sich auf die Fähigkeit Ihrer Anwendung, weiterhin ausgeführt zu werden, auch wenn unerwartete Ausnahmen oder ungültige Zustände aufgetreten sind.</span><span class="sxs-lookup"><span data-stu-id="7e474-192">Fault tolerance refers to the ability of your application to continue running even after unexpected exceptions or invalid states are encountered.</span></span> <span data-ttu-id="7e474-193">Fehlertoleranz ist in der Regel eine Funktion des Codes selbst und hängt davon ab, wie er geschrieben wurde, um Ausnahmen zu behandeln.</span><span class="sxs-lookup"><span data-stu-id="7e474-193">Fault tolerance is typically a function of the code itself and how it's written to handle exceptions.</span></span> <span data-ttu-id="7e474-194">Resilienz bezieht sich darauf, wie leistungsfähig die App bei der Wiederherstellung nach Fehlern ist.</span><span class="sxs-lookup"><span data-stu-id="7e474-194">Resiliency refers to how capable the app is at recovering from failures.</span></span> <span data-ttu-id="7e474-195">Resilienz wird häufig von der serverlosen Plattform verwaltet.</span><span class="sxs-lookup"><span data-stu-id="7e474-195">Resiliency is often managed by the serverless platform.</span></span> <span data-ttu-id="7e474-196">Die Plattform sollte in der Lage sein, eine neue Instanz der serverlosen Funktion zu starten, wenn in der vorhandenen Instanz ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="7e474-196">The platform should be able to spin up a new serverless function instance when the existing one fails.</span></span> <span data-ttu-id="7e474-197">Die Plattform sollte auch intelligent genug sein, um das Einrichten neuer Instanzen zu beenden, wenn für jede neue Instanz ein Fehler auftritt.</span><span class="sxs-lookup"><span data-stu-id="7e474-197">The platform should also be intelligent enough to stop spinning up new instances when every new instance fails.</span></span>

<span data-ttu-id="7e474-198">Weitere Informationen finden Sie unter [Implementieren des Sicherungsmusters](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span><span class="sxs-lookup"><span data-stu-id="7e474-198">For more information, see [Implementing the Circuit Breaker pattern](../microservices/implement-resilient-applications/implement-circuit-breaker-pattern.md).</span></span>

## <a name="versioning-and-greenblue-deployments"></a><span data-ttu-id="7e474-199">Versionsverwaltung und grüne/blaue Bereitstellungen</span><span class="sxs-lookup"><span data-stu-id="7e474-199">Versioning and green/blue deployments</span></span>

<span data-ttu-id="7e474-200">Ein großer Vorteil von serverlosen Bereitstellungen ist die Möglichkeit, eine bestimmte Funktion zu aktualisieren, ohne die gesamte Anwendung erneut bereitstellen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="7e474-200">A major benefit of serverless is the ability to upgrade a specific function without having to redeploy the entire application.</span></span> <span data-ttu-id="7e474-201">Damit Upgrades erfolgreich sind, muss auf Funktionen Versionsverwaltung angewendet werden, damit Dienste, die sie aufrufen, an die richtige Version des Codes weitergeleitet werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-201">For upgrades to be successful, functions must be versioned so that services calling them are routed to the correct version of code.</span></span> <span data-ttu-id="7e474-202">Eine Strategie für die Bereitstellung neuer Versionen ist ebenfalls wichtig.</span><span class="sxs-lookup"><span data-stu-id="7e474-202">A strategy for deploying new versions is also important.</span></span> <span data-ttu-id="7e474-203">Eine gängige Methode ist die Verwendung von „grünen/blauen Bereitstellungen“.</span><span class="sxs-lookup"><span data-stu-id="7e474-203">A common approach is to use "green/blue deployments."</span></span> <span data-ttu-id="7e474-204">Die grüne Bereitstellung ist die aktuelle Funktion.</span><span class="sxs-lookup"><span data-stu-id="7e474-204">The green deployment is the current function.</span></span> <span data-ttu-id="7e474-205">Eine neue „blaue“ Version wird in der Produktionsumgebung bereitgestellt und getestet.</span><span class="sxs-lookup"><span data-stu-id="7e474-205">A new "blue" version is deployed to production and tested.</span></span> <span data-ttu-id="7e474-206">Wenn die Tests bestanden werden, werden die grünen und blauen Versionen ausgetauscht, sodass die neue Version online geschaltet wird.</span><span class="sxs-lookup"><span data-stu-id="7e474-206">When testing passes, the green and blue versions are swapped so the new version comes live.</span></span> <span data-ttu-id="7e474-207">Wenn Probleme auftreten, können die Versionen zurückgetauscht werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-207">If any issues are encountered, they can be swapped back.</span></span> <span data-ttu-id="7e474-208">Die Unterstützung der Versionsverwaltung und der grünen/blauen Bereitstellungen erfordert eine Kombination aus der Erstellung der Funktionen, um Versionsänderungen zu unterstützen, und dem Arbeiten mit der serverlosen Plattform zum Verarbeiten von Bereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="7e474-208">Supporting versioning and green/blue deployments requires a combination of authoring the functions to accommodate version changes and working with the serverless platform to handle deployments.</span></span> <span data-ttu-id="7e474-209">Ein möglicher Ansatz besteht darin, Proxys zu verwenden, die im Kapitel [Serverlose Azure-Plattform](azure-functions.md#proxies) beschrieben werden.</span><span class="sxs-lookup"><span data-stu-id="7e474-209">One possible approach is to use proxies, which are described in the [Azure serverless platform](azure-functions.md#proxies) chapter.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="7e474-210">[Zurück](serverless-architecture.md)
>[Weiter](serverless-design-examples.md)</span><span class="sxs-lookup"><span data-stu-id="7e474-210">[Previous](serverless-architecture.md)
[Next](serverless-design-examples.md)</span></span>
