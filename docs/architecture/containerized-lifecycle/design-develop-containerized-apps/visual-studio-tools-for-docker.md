---
title: Visual Studio-Tools für Docker unter Windows
description: Lernen Sie die in Visual Studio 2017, Version 15.7 und höher, verfügbaren Docker-Tools kennen.
ms.date: 08/06/2020
ms.custom: vs-dotnet
ms.openlocfilehash: ae20ebf7c3c27d7f2ebe51c33719b82048f86241
ms.sourcegitcommit: 0802ac583585110022beb6af8ea0b39188b77c43
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/25/2020
ms.locfileid: "96032189"
---
# <a name="use-docker-tools-in-visual-studio-on-windows"></a><span data-ttu-id="0e268-103">Verwenden von Docker-Tools in Visual Studio unter Windows</span><span class="sxs-lookup"><span data-stu-id="0e268-103">Use Docker Tools in Visual Studio on Windows</span></span>

<span data-ttu-id="0e268-104">Der Entwicklerworkflow beim Verwenden der in Visual Studio 2017, Version 15.7 und höher, enthaltenen Docker-Tools ist ähnlich wie bei Visual Studio Code und Docker CLI (er basiert tatsächlich auf der gleichen Docker-CLI), der Einstieg ist jedoch leichter, der Prozess ist vereinfacht, und es steht bessere Produktivität für die Erstellungs-, Ausführungs- und Zusammenstellungsaufgaben zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="0e268-104">The developer workflow when using the Docker Tools included in Visual Studio 2017 version 15.7 and later, is similar to using Visual Studio Code and Docker CLI (in fact, it's based on the same Docker CLI), but it's easier to get started, simplifies the process, and provides greater productivity for the build, run, and compose tasks.</span></span> <span data-ttu-id="0e268-105">Er ermöglicht außerdem das Ausführen und Debuggen Ihrer Container mithilfe der gewohnten Tasten `F5` und `Ctrl+F5` aus Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="0e268-105">It can also run and debug your containers via the usual `F5` and `Ctrl+F5` keys from Visual Studio.</span></span> <span data-ttu-id="0e268-106">Sie können sogar eine komplette Projektmappe debuggen, wenn ihre Container in der gleichen `docker-compose.yml`-Datei auf Projektmappenebene definiert sind.</span><span class="sxs-lookup"><span data-stu-id="0e268-106">You can even debug a whole solution if its containers are defined in the same `docker-compose.yml` file at the solution level.</span></span>

## <a name="configure-your-local-environment"></a><span data-ttu-id="0e268-107">Konfigurieren Ihrer lokalen Umgebung</span><span class="sxs-lookup"><span data-stu-id="0e268-107">Configure your local environment</span></span>

<span data-ttu-id="0e268-108">Mit den neuesten Versionen von Docker für Windows ist es einfacher denn je, Docker-Anwendungen zu entwickeln, da die Einrichtung geradlinig ist, wie in den folgenden Referenzen erläutert wird.</span><span class="sxs-lookup"><span data-stu-id="0e268-108">With the latest versions of Docker for Windows, it's easier than ever to develop Docker applications because the setup is straightforward, as explained in the following references.</span></span>

> [!TIP]
> <span data-ttu-id="0e268-109">Weitere Informationen zum Installieren von Docker für Windows finden Sie unter (<https://docs.docker.com/docker-for-windows/>).</span><span class="sxs-lookup"><span data-stu-id="0e268-109">To learn more about installing Docker for Windows, go to (<https://docs.docker.com/docker-for-windows/>).</span></span>

## <a name="docker-support-in-visual-studio"></a><span data-ttu-id="0e268-110">Docker-Unterstützung in Visual Studio</span><span class="sxs-lookup"><span data-stu-id="0e268-110">Docker support in Visual Studio</span></span>

<span data-ttu-id="0e268-111">Es gibt zwei Ebenen von Docker-Unterstützung, die Sie einem Projekt hinzufügen können.</span><span class="sxs-lookup"><span data-stu-id="0e268-111">There are two levels of Docker support you can add to a project.</span></span> <span data-ttu-id="0e268-112">In ASP.NET Core-Projekten können Sie dem Projekt einfach eine `Dockerfile`-Datei hinzufügen, indem Sie Docker-Unterstützung aktivieren.</span><span class="sxs-lookup"><span data-stu-id="0e268-112">In ASP.NET Core projects, you can just add a `Dockerfile` file to the project by enabling Docker support.</span></span> <span data-ttu-id="0e268-113">Die nächste Ebene ist die Orchestrierungsunterstützung für Container, die dem Projekt ein `Dockerfile` (wenn dort noch keins vorhanden ist) und eine `docker-compose.yml`-Datei auf Projektmappenebene hinzufügt.</span><span class="sxs-lookup"><span data-stu-id="0e268-113">The next level is container orchestration support, which adds a `Dockerfile` to the project (if it doesn't already exist) and a `docker-compose.yml` file at the solution level.</span></span> <span data-ttu-id="0e268-114">Orchstrierungsunterstützung für Container mithilfe von Docker Compose wird in Visual Studio 2017, Versionen 15.0 bis 15.7, standardmäßig hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="0e268-114">Container orchestration support, via Docker Compose, is added by default in Visual Studio 2017 versions 15.0 to 15.7.</span></span> <span data-ttu-id="0e268-115">Orchestrierungsunterstützung für Container ist eine optionale Funktion in Visual Studio 2017, Version 15.8 oder höher.</span><span class="sxs-lookup"><span data-stu-id="0e268-115">Container orchestration support is an opt-in feature in Visual Studio 2017 versions 15.8 or later.</span></span> <span data-ttu-id="0e268-116">Visual Studio 2019 oder höher unterstützt auch **Kubernetes-/Helm-** -Bereitstellungen.</span><span class="sxs-lookup"><span data-stu-id="0e268-116">Visual Studio 2019 and later supports **Kubernetes/Helm** deployment as well.</span></span>

<span data-ttu-id="0e268-117">Die Befehle **Hinzufügen > Docker-Unterstützung** und **Hinzufügen > Unterstützung für Containerorchestrator** befinden sich im **Projektmappen-Explorer** im Kontextmenü des Projektknotens für ein ASP.NET Core-Projekt wie in Abbildung 4–31 gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0e268-117">The **Add > Docker Support** and **Add > Container Orchestrator Support** commands are located on the right-click menu (or context menu) of the project node for an ASP.NET Core project in **Solution Explorer**, as shown in Figure 4-31:</span></span>

![Menüoption „Hinzufügen > Docker-Unterstützung“ in Visual Studio](media/add-docker-support-menu.png)

<span data-ttu-id="0e268-119">**Abbildung 4-31**.</span><span class="sxs-lookup"><span data-stu-id="0e268-119">**Figure 4-31**.</span></span> <span data-ttu-id="0e268-120">Hinzufügen von Docker-Unterstützung zu einem Visual Studio 2019-Projekt</span><span class="sxs-lookup"><span data-stu-id="0e268-120">Adding Docker support to a Visual Studio 2019 project</span></span>

### <a name="add-docker-support"></a><span data-ttu-id="0e268-121">Hinzufügen der Docker-Unterstützung</span><span class="sxs-lookup"><span data-stu-id="0e268-121">Add Docker support</span></span>

<span data-ttu-id="0e268-122">Neben der Option zum Hinzufügen der Docker-Unterstützung zu einer vorhandenen Anwendung, wie im vorigen Abschnitt gezeigt, können Sie die Docker-Unterstützung während der Projekterstellung aktivieren, indem Sie im Dialogfeld **Neue ASP.NET Core-Webanwendung**, das geöffnet wird, nachdem Sie im Dialogfeld **Neues Projekt** auf **OK** klicken, **Docker-Unterstützung aktivieren** auswählen, wie in Abbildung 4-32 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="0e268-122">Besides the option to add Docker support to an existing application, as shown in the previous section, you can also enable Docker support during project creation by selecting **Enable Docker Support** in the **New ASP.NET Core Web Application** dialog box that opens after you click **OK** in the **New Project** dialog box, as shown in Figure 4-32.</span></span>

![Aktivieren der Docker-Unterstützung für neue ASP.NET Core-Web-App in Visual Studio](media/enable-docker-support-visual-studio.png)

<span data-ttu-id="0e268-124">**Abbildung 4-32**.</span><span class="sxs-lookup"><span data-stu-id="0e268-124">**Figure 4-32**.</span></span> <span data-ttu-id="0e268-125">Aktivieren von Docker-Unterstützung während der Projekterstellung in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="0e268-125">Enable Docker support during project creation in Visual Studio 2019</span></span>

<span data-ttu-id="0e268-126">Wenn Sie Docker-Unterstützung hinzufügen oder aktivieren, fügt Visual Studio dem Projekt eine _Dockerfile_-Datei hinzu, die Verweise auf alle erforderlichen Projekte aus der Projektmappe enthält.</span><span class="sxs-lookup"><span data-stu-id="0e268-126">When you add or enable Docker support, Visual Studio adds a _Dockerfile_ file to the project, that includes references to all required project from the solution.</span></span>

### <a name="add-container-orchestration-support"></a><span data-ttu-id="0e268-127">Hinzufügen von Orchestrierungsunterstützung für Container</span><span class="sxs-lookup"><span data-stu-id="0e268-127">Add container orchestration support</span></span>

<span data-ttu-id="0e268-128">Wenn Sie eine Projektmappe mit mehreren Containern erstellen möchten, fügen Sie Ihren Projekten die Unterstützung der Containerorchestrierung hinzu.</span><span class="sxs-lookup"><span data-stu-id="0e268-128">When you want to compose a multi-container solution, add container orchestration support to your projects.</span></span> <span data-ttu-id="0e268-129">Dadurch können Sie eine Gruppe von Containern (eine gesamte Projektmappe) gleichzeitig ausführen und debuggen, wenn diese in derselben _docker-compose.yml_-Datei definiert sind.</span><span class="sxs-lookup"><span data-stu-id="0e268-129">This lets you run and debug a group of containers (a whole solution) at the same time if they're defined in the same _docker-compose.yml_ file.</span></span>

<span data-ttu-id="0e268-130">Um die Unterstützung der Containerorchestrierung hinzuzufügen, klicken Sie im **Projektmappen-Explorer** mit der rechten Maustaste auf die Projektmappe oder den Projektknoten, und wählen Sie **Hinzufügen > Unterstützung für Containerorchestrator** aus.</span><span class="sxs-lookup"><span data-stu-id="0e268-130">To add container orchestration support, right-click on the solution or project node in **Solution Explorer**, and choose **Add > Container Orchestration Support**.</span></span> <span data-ttu-id="0e268-131">Wählen Sie dann **Kubernetes/Helm** oder **Docker Compose** aus, um die Container zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="0e268-131">Then choose **Kubernetes/Helm** or **Docker Compose** to manage the containers.</span></span>

<span data-ttu-id="0e268-132">Nachdem Sie Ihrem Projekt Orchestrierungsunterstützung für Container hinzugefügt haben, sehen Sie im **Projektmappen-Explorer**, dass Ihrem Projekt ein Dockerfile und der Projektmappe ein Ordner **docker-compose** hinzugefügt wurden, wie in Abbildung 4-33 gezeigt:</span><span class="sxs-lookup"><span data-stu-id="0e268-132">After you add container orchestration support to your project, you see a Dockerfile added to the project and a **docker-compose** folder added to the solution in **Solution Explorer**, as shown in Figure 4-33:</span></span>

![Docker-Dateien im Projektmappen-Explorer in Visual Studio](media/docker-support-solution-explorer.png)

<span data-ttu-id="0e268-134">**Abbildung 4-33**.</span><span class="sxs-lookup"><span data-stu-id="0e268-134">**Figure 4-33**.</span></span> <span data-ttu-id="0e268-135">Docker-Dateien im Projektmappen-Explorer in Visual Studio 2019</span><span class="sxs-lookup"><span data-stu-id="0e268-135">Docker files in Solution Explorer in Visual Studio 2019</span></span>

<span data-ttu-id="0e268-136">Wenn _docker-compose.yml_ bereits vorhanden ist, fügt Visual Studio nur die erforderlichen Zeilen zum Konfigurationscode hinzu.</span><span class="sxs-lookup"><span data-stu-id="0e268-136">If _docker-compose.yml_ already exists, Visual Studio just adds the required lines of configuration code to it.</span></span>

## <a name="configure-docker-tools"></a><span data-ttu-id="0e268-137">Konfigurieren von Docker-Tools</span><span class="sxs-lookup"><span data-stu-id="0e268-137">Configure Docker tools</span></span>

<span data-ttu-id="0e268-138">Wählen Sie im Hauptmenü **Extras > Optionen** aus, und klappen Sie **Containertools > Einstellungen** auf.</span><span class="sxs-lookup"><span data-stu-id="0e268-138">From the main menu, choose **Tools > Options**, and expand **Container Tools > Settings**.</span></span> <span data-ttu-id="0e268-139">Die Einstellungen der Containertools werden angezeigt.</span><span class="sxs-lookup"><span data-stu-id="0e268-139">The container tools settings appear.</span></span>

![Optionen für Visual Studio Docker-Tools, die drei Seiten anzeigen: „Allgemein“, „Einzelnes Projekt“ und „Docker Compose“. Details dazu finden Sie im Artikeltext.](media/visual-studio-docker-tools-options.png)

<span data-ttu-id="0e268-141">**Abbildung 4–34**.</span><span class="sxs-lookup"><span data-stu-id="0e268-141">**Figure 4-34**.</span></span> <span data-ttu-id="0e268-142">Optionen für Docker-Tools</span><span class="sxs-lookup"><span data-stu-id="0e268-142">Docker Tools Options</span></span>

<span data-ttu-id="0e268-143">Die folgende Tabelle hilft Ihnen möglicherweise beim Festlegen dieser Optionen.</span><span class="sxs-lookup"><span data-stu-id="0e268-143">The following table might help you decide how to set these options.</span></span>

| <span data-ttu-id="0e268-144">Seite/Einstellung</span><span class="sxs-lookup"><span data-stu-id="0e268-144">Page/Setting</span></span>                                |  <span data-ttu-id="0e268-145">Standardeinstellung</span><span class="sxs-lookup"><span data-stu-id="0e268-145">Default Setting</span></span>   | <span data-ttu-id="0e268-146">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="0e268-146">Description</span></span>                                                                                                                                                                                                                                                                                                                                                                                                           |
| ------------------------------------------- | :----------------: | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| <span data-ttu-id="0e268-147">**Seite „Allgemein“**</span><span class="sxs-lookup"><span data-stu-id="0e268-147">**General page**</span></span>                            |
| <span data-ttu-id="0e268-148">Installieren Sie bei Bedarf Docker für Windows</span><span class="sxs-lookup"><span data-stu-id="0e268-148">Install Docker Desktop if needed</span></span>            |     <span data-ttu-id="0e268-149">Aufforderung</span><span class="sxs-lookup"><span data-stu-id="0e268-149">Prompt me</span></span>      |
| <span data-ttu-id="0e268-150">Starten Sie bei Bedarf Docker Desktop.</span><span class="sxs-lookup"><span data-stu-id="0e268-150">Start Docker Desktop if needed</span></span>              |     <span data-ttu-id="0e268-151">Aufforderung</span><span class="sxs-lookup"><span data-stu-id="0e268-151">Prompt me</span></span>      |
| <span data-ttu-id="0e268-152">ASP.NET Core-SSL-Zertifikat als vertrauenswürdig einstufen</span><span class="sxs-lookup"><span data-stu-id="0e268-152">Trust ASP.NET Core SSL certificate</span></span>          |     <span data-ttu-id="0e268-153">Aufforderung</span><span class="sxs-lookup"><span data-stu-id="0e268-153">Prompt me</span></span>      | <span data-ttu-id="0e268-154">Wenn das localhost-SSL-Zertifikat nicht als vertrauenswürdig markiert wurde (mit `dotnet dev-certs https --trust`), zeigt Visual Studio jedes Mal, wenn Sie Ihr Projekt ausführen, eine Eingabeaufforderung an.</span><span class="sxs-lookup"><span data-stu-id="0e268-154">If the localhost SSL certificate hasn't been marked as trusted (with `dotnet dev-certs https --trust`), Visual Studio will prompt every time you run your project.</span></span>                                                                                                                                                                                                                                                    |
| <span data-ttu-id="0e268-155">**Seite „Einzelnes Projekt“**</span><span class="sxs-lookup"><span data-stu-id="0e268-155">**Single Project page**</span></span>                     |
| <span data-ttu-id="0e268-156">Erforderliche Docker-Images beim Öffnen des Projekts mithilfe von Pull übertragen</span><span class="sxs-lookup"><span data-stu-id="0e268-156">Pull required Docker images on project open</span></span> |        <span data-ttu-id="0e268-157">True</span><span class="sxs-lookup"><span data-stu-id="0e268-157">True</span></span>        | <span data-ttu-id="0e268-158">Zum Steigern der Leistung beim Ausführen von Projekten beginnt Visual Studio einen Docker-Pull-Vorgang im Hintergrund, sodass das Image bereits heruntergeladen ist oder heruntergeladen wird, wenn Sie zur Ausführung Ihres Codes bereit sind.</span><span class="sxs-lookup"><span data-stu-id="0e268-158">For increased performance when running the project, Visual Studio will start a Docker pull operation in the background so that when you're ready to run your code, the image is already downloaded or in the process of downloading.</span></span> <span data-ttu-id="0e268-159">Wenn Sie lediglich Projekte laden und Code durchsuchen, können Sie dies ausschalten, um das Herunterladen von Containerimages zu vermeiden, die Sie nicht benötigen.</span><span class="sxs-lookup"><span data-stu-id="0e268-159">If you're just loading projects and browsing code, you can turn this off to avoid downloading container images you don't need.</span></span> <span data-ttu-id="0e268-160">Dies kann die Benutzerfreundlichkeit beim Öffnen von Projekten verlangsamen.</span><span class="sxs-lookup"><span data-stu-id="0e268-160">This could slow the open project user experience.</span></span> |
| <span data-ttu-id="0e268-161">Aktualisierte Docker-Images beim Laden des Projekts pullen</span><span class="sxs-lookup"><span data-stu-id="0e268-161">Pull updated Docker images on project load</span></span>  | <span data-ttu-id="0e268-162">.NET Core-Projekte</span><span class="sxs-lookup"><span data-stu-id="0e268-162">.NET Core projects</span></span> | <span data-ttu-id="0e268-163">Pullen Sie Updates für vorhandene Images, um beim Öffnen des Projekts die neuesten Updates zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="0e268-163">Pull updates to existing images to get the latest updates on project open.</span></span> <span data-ttu-id="0e268-164">Dies kann die Benutzerfreundlichkeit beim Öffnen von Projekten verlangsamen.</span><span class="sxs-lookup"><span data-stu-id="0e268-164">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                                                          |
| <span data-ttu-id="0e268-165">Entfernen von Containern beim Schließen des Projekts</span><span class="sxs-lookup"><span data-stu-id="0e268-165">Remove containers on project close</span></span>          |        <span data-ttu-id="0e268-166">True</span><span class="sxs-lookup"><span data-stu-id="0e268-166">True</span></span>        | <span data-ttu-id="0e268-167">Bereinigung beim Schließen des Projekts. Dies kann die Benutzerfreundlichkeit beim Schließen von Projekten verlangsamen, ist aber in der Regel trotzdem schnell.</span><span class="sxs-lookup"><span data-stu-id="0e268-167">Clean up on project close, This could slow the close project user experience but it's usually fast anyway.</span></span>                                                                                                                                                                                                                                                                                                            |
| <span data-ttu-id="0e268-168">Container beim Öffnen des Projekts ausführen</span><span class="sxs-lookup"><span data-stu-id="0e268-168">Run containers on project open</span></span>              |        <span data-ttu-id="0e268-169">True</span><span class="sxs-lookup"><span data-stu-id="0e268-169">True</span></span>        | <span data-ttu-id="0e268-170">Um bei der Ausführung des Projekts eine bessere Leistung zu erzielen, startet Visual Studio alle Container in der Projektmappe.</span><span class="sxs-lookup"><span data-stu-id="0e268-170">For increased performance when running the project, Visual Studio will start all containers in the solution.</span></span> <span data-ttu-id="0e268-171">Dies kann die Benutzerfreundlichkeit beim Öffnen von Projekten verlangsamen.</span><span class="sxs-lookup"><span data-stu-id="0e268-171">This could slow the open project user experience.</span></span>                                                                                                                                                                                                                                                        |
| <span data-ttu-id="0e268-172">**Docker Compose**</span><span class="sxs-lookup"><span data-stu-id="0e268-172">**Docker Compose**</span></span>                          |                    | <span data-ttu-id="0e268-173">Die Seite „Docker Compose“ enthält die gleichen Einstellungen wie die Seite „Einzelnes Projekt“, diese gelten aber für Lösungen mit mehreren Containern.</span><span class="sxs-lookup"><span data-stu-id="0e268-173">The Docker Compose page contains the same settings as the Single Project page, but they apply to multi-container solutions.</span></span>                                                                                                                                                                                                                                                                                           |

> [!WARNING]
> <span data-ttu-id="0e268-174">Wenn das localhost-SSL-Zertifikat nicht vertrauenswürdig ist und Sie die Option auf **Nie** festlegen, treten in Ihrer App oder Ihrem Dienst bei HTTPS-Webanforderungen zur Laufzeit möglicherweise Fehler auf.</span><span class="sxs-lookup"><span data-stu-id="0e268-174">If the localhost SSL certificate is not trusted, and you set the option to **Never**, then HTTPS web requests might fail at runtime in your app or service.</span></span> <span data-ttu-id="0e268-175">Legen Sie in diesem Fall den Wert erneut auf **Aufforderung** fest, oder (besser noch) vertrauen Sie den Zertifikaten auf Ihrem Entwicklungscomputer, indem Sie den Befehl `dotnet dev-certs https --trust` verwenden.</span><span class="sxs-lookup"><span data-stu-id="0e268-175">In that case, set the value back again to **Prompt me** or, better again, trust the certificates in your dev machine using the command `dotnet dev-certs https --trust`.</span></span>

> [!TIP]
> <span data-ttu-id="0e268-176">Weitere Informationen zur Implementierung der Dienste und Verwendung von Visual Studio-Tools für Docker finden Sie in den folgenden Artikeln:</span><span class="sxs-lookup"><span data-stu-id="0e268-176">For further details on the services implementation and use of Visual Studio Tools for Docker, read the following articles:</span></span>
>
> <span data-ttu-id="0e268-177">Debuggen von Apps in einem lokalen Docker-Container: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span><span class="sxs-lookup"><span data-stu-id="0e268-177">Debug apps in a local Docker container: <https://docs.microsoft.com/visualstudio/containers/edit-and-refresh></span></span>
>
> <span data-ttu-id="0e268-178">Bereitstellen eines ASP.NET-Containers in einer Containerregistrierung mithilfe von Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span><span class="sxs-lookup"><span data-stu-id="0e268-178">Deploy an ASP.NET container to a container registry using Visual Studio: <https://docs.microsoft.com/visualstudio/containers/hosting-web-apps-in-docker></span></span>

> [!div class="step-by-step"]
> <span data-ttu-id="0e268-179">[Zurück](docker-apps-inner-loop-workflow.md)
> [Weiter](set-up-windows-containers-with-powershell.md)</span><span class="sxs-lookup"><span data-stu-id="0e268-179">[Previous](docker-apps-inner-loop-workflow.md)
[Next](set-up-windows-containers-with-powershell.md)</span></span>
