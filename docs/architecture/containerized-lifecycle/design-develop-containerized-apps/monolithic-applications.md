---
title: Monolithische Anwendungen
description: Verstehen der grundlegenden Konzepte für das Containerisieren monolithischer Anwendungen.
ms.date: 02/15/2019
ms.openlocfilehash: 8664153ee2e9d1d253164e43ac13105f6dbf476c
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/14/2020
ms.locfileid: "72771035"
---
# <a name="monolithic-applications"></a><span data-ttu-id="47f08-103">Monolithische Anwendungen</span><span class="sxs-lookup"><span data-stu-id="47f08-103">Monolithic applications</span></span>

<span data-ttu-id="47f08-104">In diesem Szenario erstellen Sie eine einzelne, monolithische Webanwendung oder einen Dienst und stellen sie/ihn als Container bereit.</span><span class="sxs-lookup"><span data-stu-id="47f08-104">In this scenario, you're building a single and monolithic web application or service and deploying it as a container.</span></span> <span data-ttu-id="47f08-105">Innerhalb der Anwendung ist die Struktur nicht zwangsläufig monolithisch; sie kann z.B. mehrere Bibliotheken, Komponenten oder sogar Schichten umfassen (Anwendungsschicht, Domänenschicht, Datenzugriffsschicht usw.).</span><span class="sxs-lookup"><span data-stu-id="47f08-105">Within the application, the structure might not be monolithic; it might comprise several libraries, components, or even layers (application layer, domain layer, data access layer, etc.).</span></span> <span data-ttu-id="47f08-106">Extern stellt sie jedoch einen einzelnen Container dar, wie einen einzelnen Prozess, eine einzelne Webanwendung oder einen einzelnen Dienst.</span><span class="sxs-lookup"><span data-stu-id="47f08-106">Externally, it's a single container, like a single process, single web application, or single service.</span></span>

<span data-ttu-id="47f08-107">Stellen Sie einen einzelnen Container bereit, der diese Anwendung darstellt, um dieses Modell zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="47f08-107">To manage this model, you deploy a single container to represent the application.</span></span> <span data-ttu-id="47f08-108">Um die Anwendung zu skalieren, fügen Sie einfach ein paar weitere Kopien mit einem davor platzierten Lastenausgleichsmodul hinzu.</span><span class="sxs-lookup"><span data-stu-id="47f08-108">To scale it, just add a few more copies with a load balancer in front.</span></span> <span data-ttu-id="47f08-109">Die Einfachheit stammt aus der Verwaltung einer einzelnen Bereitstellung in einem einzelnen Container oder virtuellen Computer (VM).</span><span class="sxs-lookup"><span data-stu-id="47f08-109">The simplicity comes from managing a single deployment in a single container or virtual machine (VM).</span></span>

<span data-ttu-id="47f08-110">Dem Prinzip folgend, dass ein Container nur eine Aufgabe und das in einem Prozess ausführt, steht das monolithische Muster im Konflikt.</span><span class="sxs-lookup"><span data-stu-id="47f08-110">Following the principal that a container does one thing only, and does it in one process, the monolithic pattern is in conflict.</span></span> <span data-ttu-id="47f08-111">Sie können mehrere Komponenten/Bibliotheken oder interne Schichten in jeden Container einschließen, wie in Abbildung 4–1 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="47f08-111">You can include multiple components/libraries or internal layers within each container, as illustrated in Figure 4-1.</span></span>

![Abbildung, die eine monolithische App zeigt, die durch Klonen der App horizontal hochskaliert wird.](./media/monolithic-applications/monolithic-application-architecture-example.png)

<span data-ttu-id="47f08-113">**Abbildung 4-1.**</span><span class="sxs-lookup"><span data-stu-id="47f08-113">**Figure 4-1.**</span></span> <span data-ttu-id="47f08-114">Beispiel für eine monolithische Anwendungsarchitektur</span><span class="sxs-lookup"><span data-stu-id="47f08-114">An example of monolithic application architecture</span></span>

<span data-ttu-id="47f08-115">Eine monolithische Anwendung hat ihre Funktionalität ganz oder zum größten Teil innerhalb eines einzelnen Prozesses oder Containers und weist interne Schichten oder Bibliotheken als Komponenten auf.</span><span class="sxs-lookup"><span data-stu-id="47f08-115">A monolithic app has all or most of its functionality within a single process or container and it's componentized in internal layers or libraries.</span></span> <span data-ttu-id="47f08-116">Der Nachteil dieses Ansatzes wird offensichtlich, wenn die Anwendung wächst und skaliert werden muss.</span><span class="sxs-lookup"><span data-stu-id="47f08-116">The downside to this approach comes if or when the application grows, requiring it to scale.</span></span> <span data-ttu-id="47f08-117">Wenn die gesamte Anwendung skaliert werden kann, ist dies kein Problem.</span><span class="sxs-lookup"><span data-stu-id="47f08-117">If the entire application scaled, it's not really a problem.</span></span> <span data-ttu-id="47f08-118">In den meisten Fällen sind jedoch nur einige Teile der Anwendung Engpässe, die Skalierung erfordern, während andere Komponente weniger häufig verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="47f08-118">However, in most cases, a few parts of the application are the choke points that require scaling, whereas other components are used less.</span></span>

<span data-ttu-id="47f08-119">Wenn Sie das gewöhnliche eCommerce-Beispiel verwenden, müssen Sie sehr wahrscheinlich die Komponente für die Produktinformationen skalieren.</span><span class="sxs-lookup"><span data-stu-id="47f08-119">Using the typical e-commerce example, what you likely need is to scale the product information component.</span></span> <span data-ttu-id="47f08-120">Viele Kunden suchen Produkte erst und kaufen sie anschließend.</span><span class="sxs-lookup"><span data-stu-id="47f08-120">Many more customers browse products than purchase them.</span></span> <span data-ttu-id="47f08-121">Mehr Kunden verwenden Ihren Warenkorb als die Zahlungspipeline.</span><span class="sxs-lookup"><span data-stu-id="47f08-121">More customers use their basket than use the payment pipeline.</span></span> <span data-ttu-id="47f08-122">Weniger Kunden fügen Kommentare hinzu oder zeigen ihren Bestellungsverlauf an.</span><span class="sxs-lookup"><span data-stu-id="47f08-122">Fewer customers add comments or view their purchase history.</span></span> <span data-ttu-id="47f08-123">Und Sie haben möglicherweise nur eine Handvoll Mitarbeiter in einer bestimmten Region, die den Inhalt und die Marketingkampagnen verwalten müssen.</span><span class="sxs-lookup"><span data-stu-id="47f08-123">And you likely have only a handful of employees, in a single region, that need to manage the content and marketing campaigns.</span></span> <span data-ttu-id="47f08-124">Wenn der monolithische Entwurf skaliert wird, wird der gesamte Code mehrmals bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="47f08-124">By scaling the monolithic design, all of the code is deployed multiple times.</span></span>

<span data-ttu-id="47f08-125">Zusätzlich zu dem Problem, dass „alle Komponenten skaliert werden müssen“, erfordern Änderungen einer einzelnen Komponente einen erneuten Test der gesamten Anwendung und eine vollständige erneute Bereitstellung aller Instanzen.</span><span class="sxs-lookup"><span data-stu-id="47f08-125">In addition to the "scale-everything" problem, changes to a single component require complete retesting of the entire application as well as a complete redeployment of all the instances.</span></span>

<span data-ttu-id="47f08-126">Der monolithische Ansatz wird häufig verwendet, und viele Organisationen entwickeln nach dieser Architekturmethode.</span><span class="sxs-lookup"><span data-stu-id="47f08-126">The monolithic approach is common, and many organizations are developing with this architectural method.</span></span> <span data-ttu-id="47f08-127">Viele freuen sich an akzeptablen Ergebnissen, während andere an Grenzen stoßen.</span><span class="sxs-lookup"><span data-stu-id="47f08-127">Many enjoy good enough results, whereas others encounter limits.</span></span> <span data-ttu-id="47f08-128">Viele Unternehmen haben ihre Anwendungen unter Verwendung dieses Modells entworfen, da Tools und Infrastruktur schon seit Jahren zu komplex für die Erstellung einer SOA (Service-Oriented Architecture) sind. Sie haben die Notwendigkeit nicht erkannt, etwas zu ändern, bis die Anwendung gewachsen ist.</span><span class="sxs-lookup"><span data-stu-id="47f08-128">Many designed their applications in this model because the tools and infrastructure were too difficult to build SOAs, and they didn't see the need—until the app grew.</span></span>

<span data-ttu-id="47f08-129">Aus Sicht der Infrastruktur kann jeder Server, wie in Abbildung 4-2 dargestellt, viele Anwendungen innerhalb desselben Hosts ausführen und ein akzeptables Effizienzverhältnis in Ihrer Ressourcenverwendung haben.</span><span class="sxs-lookup"><span data-stu-id="47f08-129">From an infrastructure perspective, each server can run many applications within the same host and have an acceptable ratio of efficiency in your resources usage, as shown in Figure 4-2.</span></span>

![Abbildung, die einen Host mit mehreren Apps in separaten Containern zeigt.](./media/monolithic-applications/host-with-multiple-apps-containers.png)

<span data-ttu-id="47f08-131">**Abbildung 4-2**.</span><span class="sxs-lookup"><span data-stu-id="47f08-131">**Figure 4-2.**</span></span> <span data-ttu-id="47f08-132">Ein Host, der mehrere Apps/Container ausführt</span><span class="sxs-lookup"><span data-stu-id="47f08-132">A host running multiple apps/containers</span></span>

<span data-ttu-id="47f08-133">Schließlich müssen aus dem Blickwinkel der Verfügbarkeit monolithische Anwendungen als Ganzes bereitgestellt werden; das bedeutet, dass im Fall eines erforderlichen *Beendens und Startens* während des Bereitstellungsfensters die gesamte Funktionalität und alle Benutzer betroffen sind.</span><span class="sxs-lookup"><span data-stu-id="47f08-133">Finally, from an availability perspective, monolithic applications must be deployed as a whole; that means that in case you must *stop and start*, all functionality and all users will be affected during the deployment window.</span></span> <span data-ttu-id="47f08-134">In bestimmten Situationen kann die Verwendung von Azure und Containern diese Situationen minimieren und die Wahrscheinlichkeit von Ausfallzeiten Ihrer Anwendung verringern, wie in Abbildung 4–3 zu ersehen.</span><span class="sxs-lookup"><span data-stu-id="47f08-134">In certain situations, the use of Azure and containers can minimize these situations and reduce the probability of downtime of your application, as you can see in Figure 4-3.</span></span>

<span data-ttu-id="47f08-135">Sie können monolithische Anwendungen in Azure mithilfe dedizierter VMs für die einzelnen Instanzen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="47f08-135">You can deploy monolithic applications in Azure by using dedicated VMs for each instance.</span></span> <span data-ttu-id="47f08-136">Mithilfe von [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/) lassen sich die VMs komfortabel skalieren.</span><span class="sxs-lookup"><span data-stu-id="47f08-136">Using [Azure VM Scale Sets](https://docs.microsoft.com/azure/virtual-machine-scale-sets/), you can scale the VMs easily.</span></span>

<span data-ttu-id="47f08-137">Sie können auch [Azure App Services](https://azure.microsoft.com/services/app-service/) verwenden, um monolithische Anwendungen auszuführen und Instanzen problemlos zu skalieren, ohne dass die VMs verwaltet werden müssen.</span><span class="sxs-lookup"><span data-stu-id="47f08-137">You can also use [Azure App Services](https://azure.microsoft.com/services/app-service/) to run monolithic applications and easily scale instances without having to manage the VMs.</span></span> <span data-ttu-id="47f08-138">Azure App Services kann ebenfalls einzelne Instanzen von Docker-Containern ausführen, was die Bereitstellung vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="47f08-138">Azure App Services can run single instances of Docker containers, as well, simplifying the deployment.</span></span>

<span data-ttu-id="47f08-139">Sie können mehrere VMs als Docker-Hosts bereitstellen und eine beliebige Anzahl von Containern pro VM ausführen.</span><span class="sxs-lookup"><span data-stu-id="47f08-139">You can deploy multiple VMs as Docker hosts and run any number of containers per VM.</span></span> <span data-ttu-id="47f08-140">Dann können Sie mithilfe eines Azure Load Balancers die Skalierung verwalten, wie in Abbildung 4–3 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="47f08-140">Then, by using an Azure Load Balancer, as illustrated in the Figure 4-3, you can manage scaling.</span></span>

![Abbildung, die eine monolithische App zeigt, die auf verschiedene Hosts horizontal hochskaliert ist.](./media/monolithic-applications/multiple-hosts-from-single-docker-container.png)

<span data-ttu-id="47f08-142">**Abbildung 4-3**.</span><span class="sxs-lookup"><span data-stu-id="47f08-142">**Figure 4-3**.</span></span> <span data-ttu-id="47f08-143">Mehrere Hosts, die eine einzelne Docker-Anwendung horizontal hochskalieren</span><span class="sxs-lookup"><span data-stu-id="47f08-143">Multiple hosts scaling out a single Docker application</span></span>

<span data-ttu-id="47f08-144">Die Verwaltung der Hosts selbst kann mithilfe herkömmlicher Bereitstellungsverfahren erfolgen.</span><span class="sxs-lookup"><span data-stu-id="47f08-144">You can manage the deployment of the hosts themselves via traditional deployment techniques.</span></span>

<span data-ttu-id="47f08-145">Sie können Docker-Container auf der Befehlszeile verwalten, indem Sie Befehle wie `docker run` und `docker-compose up` verwenden, und Sie können dies auch in CD-Pipelines (Continuous Delivery) automatisieren und beispielsweise aus Azure DevOps Services heraus auf Docker-Hosts bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="47f08-145">You can manage Docker containers from the command line by using commands like `docker run` and `docker-compose up`, and you can also automate it in Continuous Delivery (CD) pipelines and deploy to Docker hosts from Azure DevOps Services, for instance.</span></span>

## <a name="monolithic-application-deployed-as-a-container"></a><span data-ttu-id="47f08-146">Monolithische Anwendung, die als Container bereitgestellt wird</span><span class="sxs-lookup"><span data-stu-id="47f08-146">Monolithic application deployed as a container</span></span>

<span data-ttu-id="47f08-147">Das Verwenden von Containern zur Verwaltung monolithischer Bereitstellungen hat Vorteile.</span><span class="sxs-lookup"><span data-stu-id="47f08-147">There are benefits to using containers to manage monolithic deployments.</span></span> <span data-ttu-id="47f08-148">Das Skalieren von Containerinstanzen ist wesentlich schneller und einfacher als die Bereitstellung zusätzlicher VMs.</span><span class="sxs-lookup"><span data-stu-id="47f08-148">Scaling the instances of containers is far faster and easier than deploying additional VMs.</span></span>

<span data-ttu-id="47f08-149">Die Bereitstellung von Updates, wie Docker-Images, ist wesentlich schneller und effizienter im Netzwerk.</span><span class="sxs-lookup"><span data-stu-id="47f08-149">Deploying updates as Docker images is far faster and network efficient.</span></span> <span data-ttu-id="47f08-150">Docker-Container starten in der Regel in Sekunden, wodurch Rollouts beschleunigt werden.</span><span class="sxs-lookup"><span data-stu-id="47f08-150">Docker containers typically start in seconds, speeding rollouts.</span></span> <span data-ttu-id="47f08-151">Das Löschen eines Docker-Containers erschöpft sich im Aufrufen des `docker stop`-Befehls und ist in der Regel in weniger als einer Sekunde abgeschlossen.</span><span class="sxs-lookup"><span data-stu-id="47f08-151">Tearing down a Docker container is as easy as invoking the `docker stop` command, typically completing in less than a second.</span></span>

<span data-ttu-id="47f08-152">Da Container unveränderlich sind, müssen Sie sich keine Gedanken über beschädigte VMs machen, etwa weil ein Updateskript bestimmte Konfigurationen oder restliche Dateien auf einem Datenträger nicht erfasst hat.</span><span class="sxs-lookup"><span data-stu-id="47f08-152">Because containers are inherently immutable, by design, you never need to worry about corrupted VMs because an update script forgot to account for some specific configuration or file left on disk.</span></span>

<span data-ttu-id="47f08-153">Zwar können monolithische Apps von Docker profitieren, wir behandeln hier aber gerade einmal die offenkundigsten Vorteile.</span><span class="sxs-lookup"><span data-stu-id="47f08-153">Although monolithic apps can benefit from Docker, we're touching on only the tips of the benefits.</span></span> <span data-ttu-id="47f08-154">Die größeren Vorteile für die Verwaltung von Containern stammen aus der Bereitstellung mit Containerorchestratoren, die die verschiedenen Instanzen und den Lebenszyklus jeder Containerinstanz verwalten.</span><span class="sxs-lookup"><span data-stu-id="47f08-154">The larger benefits of managing containers come from deploying with container orchestrators that manage the various instances and life cycle of each container instance.</span></span> <span data-ttu-id="47f08-155">Das Aufteilen der monolithischen Anwendung in Subsysteme, die skaliert, entwickelt und einzeln bereitgestellt werden können, ist Ihr Einstiegspunkt in die Welt der Microservices.</span><span class="sxs-lookup"><span data-stu-id="47f08-155">Breaking up the monolithic application into subsystems that can be scaled, developed, and deployed individually is your entry point into the realm of microservices.</span></span>

<span data-ttu-id="47f08-156">Informationen zum Lift-and-Shift monolithischer Anwendungen mithilfe von Containern und zum Modernisieren Ihrer Anwendungen finden Sie in diesem zusätzlichen Microsoft-Leitfaden [Modernisieren vorhandener .NET-Anwendungen mit Azure Cloud und Windows-Containern](../../modernize-with-azure-containers/index.md), den Sie hier <https://aka.ms/LiftAndShiftWithContainersEbook> auch als PDF-Datei herunterladen können.</span><span class="sxs-lookup"><span data-stu-id="47f08-156">To learn about how to “lift and shift” monolithic applications with containers and how you can modernize your applications, you can read this additional Microsoft guide, [Modernize existing .NET applications with Azure cloud and Windows Containers](../../modernize-with-azure-containers/index.md), which you can also download as PDF from <https://aka.ms/LiftAndShiftWithContainersEbook>.</span></span>

## <a name="publish-a-single-docker-container-app-to-azure-app-service"></a><span data-ttu-id="47f08-157">Veröffentlichen einer einzelnen Docker-Container-App in Azure App Service</span><span class="sxs-lookup"><span data-stu-id="47f08-157">Publish a single Docker container app to Azure App Service</span></span>

<span data-ttu-id="47f08-158">Ob Sie eine schnelle Überprüfung eines in Azure bereitgestellten Containers wünschen oder die App einfach eine in einem Container bereitzustellende App ist, Azure App Services stellt eine hervorragende Möglichkeit dar, skalierbare Dienste auf der Grundlage einzelner Container bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="47f08-158">Either because you want to get a quick validation of a container deployed to Azure or because the app is simply a single-container app, Azure App Services provides a great way to provide scalable single-container services.</span></span>

<span data-ttu-id="47f08-159">Die Verwendung von Azure App Service ist intuitiv, und Sie sind aufgrund der hervorragenden Git-Integration zur Annahme Ihres Codes, seiner Erstellung in Microsoft Visual Studio und der direkten Bereitstellung in Azure schnell betriebsbereit.</span><span class="sxs-lookup"><span data-stu-id="47f08-159">Using Azure App Service is intuitive and you can get up and running quickly because it provides great Git integration to take your code, build it in Microsoft Visual Studio, and directly deploy it to Azure.</span></span> <span data-ttu-id="47f08-160">Aber wenn Sie bei herkömmlicher Bereitstellung (also ohne Docker) andere Funktionen, Frameworks oder Abhängigkeiten benötigten, die in App Services nicht unterstützt werden, mussten Sie warten, bis das Azure-Team ein Update dieser Abhängigkeiten in App Service vornahm oder zu anderen Diensten wechseln, wie Service Fabric, Cloud Services – eventuell sogar zu einfachen VMs, bei denen Sie mehr Kontrolle haben und eine erforderliche Komponente oder ein erforderliches Framework für Ihre Anwendung installieren können.</span><span class="sxs-lookup"><span data-stu-id="47f08-160">But, traditionally (with no Docker), if you needed other capabilities, frameworks, or dependencies that aren't supported in App Services, you needed to wait for it until the Azure team updates those dependencies in App Service or switched to other services like Service Fabric, Cloud Services, or even plain VMs, for which you have further control and can install a required component or framework for your application.</span></span>

<span data-ttu-id="47f08-161">Jetzt haben Sie, wie in Abbildung 4–4 dargestellt, bei der Verwendung von Visual Studio 2017 dank der Containerunterstützung in Azure App Service die Möglichkeit, Ihre App-Umgebung um beliebige Zusätze zu erweitern.</span><span class="sxs-lookup"><span data-stu-id="47f08-161">Now, as shown in Figure 4-4, when using Visual Studio 2017, container support in Azure App Service gives you the ability to include whatever you want in your app environment.</span></span> <span data-ttu-id="47f08-162">Wenn Sie Ihrer App eine Abhängigkeit hinzugefügt haben, haben Sie die Möglichkeit, diese Abhängigkeiten in Ihr Dockerfile oder Ihr Docker-Image einzuschließen, da Sie Ihre App in einem Container ausführen.</span><span class="sxs-lookup"><span data-stu-id="47f08-162">If you added a dependency to your app, because you're running it in a container, you get the capability of including those dependencies in your Dockerfile or Docker image.</span></span>

![Screenshot des Dialogfelds „App Service erstellen“ mit einer Containerregistrierung.](./media/monolithic-applications/publish-azure-app-service-container.png)

<span data-ttu-id="47f08-164">**Abbildung 4-4**.</span><span class="sxs-lookup"><span data-stu-id="47f08-164">**Figure 4-4**.</span></span> <span data-ttu-id="47f08-165">Veröffentlichen eines Containers in Azure App Service aus Visual Studio-Apps/Containern</span><span class="sxs-lookup"><span data-stu-id="47f08-165">Publishing a container to Azure App Service from Visual Studio apps/containers</span></span>

<span data-ttu-id="47f08-166">Abbildung 4–4 zeigt außerdem, dass ein Image vom Veröffentlichungsfluss durch eine Containerregistrierung übertragen wird, wobei es sich um eine Azure-Containerregistrierung (eine Registrierung in der Nähe Ihrer Bereitstellungen in Azure, die von Azure Active Directory-Gruppen und -Konten gesichert wird) oder andere Docker-Registrierungen wie Docker Hub oder eine lokale Registrierung handeln kann.</span><span class="sxs-lookup"><span data-stu-id="47f08-166">Figure 4-4 also shows that the publish flow pushes an image through a Container Registry, which can be the Azure Container Registry (a registry near to your deployments in Azure and secured by Azure Active Directory groups and accounts) or any other Docker Registry like Docker Hub or on-premises registries.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="47f08-167">[Zurück](common-container-design-principles.md)
>[Weiter](state-and-data-in-docker-applications.md)</span><span class="sxs-lookup"><span data-stu-id="47f08-167">[Previous](common-container-design-principles.md)
[Next](state-and-data-in-docker-applications.md)</span></span>
