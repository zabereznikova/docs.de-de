---
title: Kryptografische Dienste
description: Eine Übersicht über die von .NET unterstützten Verschlüsselungsmethoden und-Methoden.
ms.date: 07/14/2020
helpviewer_keywords:
- cryptography [.NET]
- pattern of derived class inheritance
- digital signatures
- asymmetric cryptographic algorithms
- digital signatures, public-key systems
- public keys
- decryption [.NET]
- private keys
- MAC algorithms
- cryptographic algorithms
- private keys, overview
- encryption [.NET]
- security [.NET], encryption
- cryptographic services
- symmetric cryptographic algorithms
- hash
- message authentication codes
- derived class inheritance
- cryptography [.NET], about
- random number generation
ms.assetid: f96284bc-7b73-44b5-ac59-fac613ad09f8
ms.openlocfilehash: 5558c60768b992984c3800b482961128d3bf5d0b
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/18/2020
ms.locfileid: "94829907"
---
# <a name="cryptographic-services"></a><span data-ttu-id="1c10f-103">Kryptografische Dienste</span><span class="sxs-lookup"><span data-stu-id="1c10f-103">Cryptographic Services</span></span>

<span data-ttu-id="1c10f-104">Öffentliche Netzwerke wie das Internet bieten keine sichere Kommunikation zwischen Entitäten.</span><span class="sxs-lookup"><span data-stu-id="1c10f-104">Public networks such as the Internet do not provide a means of secure communication between entities.</span></span> <span data-ttu-id="1c10f-105">Bei einer Kommunikation über derartige Netzwerke besteht die Gefahr, dass Unbefugte Inhalte lesen oder sogar Änderungen daran vornehmen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-105">Communication over such networks is susceptible to being read or even modified by unauthorized third parties.</span></span> <span data-ttu-id="1c10f-106">Die Kryptografie schützt Daten vor der Anzeige, stellt Möglichkeiten bereit, mit denen erkannt werden kann, ob Daten geändert wurden, und bietet sichere Kommunikation über ansonsten unsichere Kanäle.</span><span class="sxs-lookup"><span data-stu-id="1c10f-106">Cryptography helps protect data from being viewed, provides ways to detect whether data has been modified, and helps provide a secure means of communication over otherwise nonsecure channels.</span></span> <span data-ttu-id="1c10f-107">So können Daten beispielsweise mithilfe eines kryptografischen Algorithmus verschlüsselt, im verschlüsselten Zustand übertragen und später beim vorgesehenen Empfänger wieder entschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-107">For example, data can be encrypted by using a cryptographic algorithm, transmitted in an encrypted state, and later decrypted by the intended party.</span></span> <span data-ttu-id="1c10f-108">Wenn ein Dritter die verschlüsselten Daten abfängt, sind diese schwer zu entziffern.</span><span class="sxs-lookup"><span data-stu-id="1c10f-108">If a third party intercepts the encrypted data, it will be difficult to decipher.</span></span>

<span data-ttu-id="1c10f-109">In .net werden <xref:System.Security.Cryptography> viele Details der Kryptografie von den Klassen im-Namespace verwaltet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-109">In .NET, the classes in the <xref:System.Security.Cryptography> namespace manage many details of cryptography for you.</span></span> <span data-ttu-id="1c10f-110">Bei manchen handelt es sich um Wrapper für Betriebssystem Implementierungen, bei anderen handelt es sich um rein verwaltete Implementierungen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-110">Some are wrappers for operating system implementations, while others are purely managed implementations.</span></span> <span data-ttu-id="1c10f-111">Sie müssen kein Experte in Sachen Kryptografie sein, um diese Klassen verwenden zu können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-111">You do not need to be an expert in cryptography to use these classes.</span></span> <span data-ttu-id="1c10f-112">Wenn Sie eine neue Instanz einer Verschlüsselungsalgorithmusklasse erstellen, werden der Einfachheit halber automatisch Schlüssel erzeugt. Die Standardeigenschaften sind dabei auf möglichst hohe Sicherheit und hohen Schutz ausgelegt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-112">When you create a new instance of one of the encryption algorithm classes, keys are autogenerated for ease of use, and default properties are as safe and secure as possible.</span></span>

<span data-ttu-id="1c10f-113">Diese Übersicht enthält eine Zusammenfassung der Verschlüsselungsmethoden und-Methoden, die von .NET unterstützt werden, einschließlich der ClickOnce-Manifeste.</span><span class="sxs-lookup"><span data-stu-id="1c10f-113">This overview provides a synopsis of the encryption methods and practices supported by .NET, including the ClickOnce manifests.</span></span>

## <a name="cryptographic-primitives"></a><span data-ttu-id="1c10f-114">Kryptografische Grundelemente</span><span class="sxs-lookup"><span data-stu-id="1c10f-114">Cryptographic Primitives</span></span>

<span data-ttu-id="1c10f-115">Eine typische Situation für den Einsatz von Kryptografie ist die Kommunikation zwischen zwei Teilnehmern (Alice und Bob) über einen unsicheren Kanal.</span><span class="sxs-lookup"><span data-stu-id="1c10f-115">In a typical situation where cryptography is used, two parties (Alice and Bob) communicate over a nonsecure channel.</span></span> <span data-ttu-id="1c10f-116">Alice und Bob möchten sicherstellen, dass ihre Kommunikation bei eventuellen Abhörversuchen unverständlich bleibt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-116">Alice and Bob want to ensure that their communication remains incomprehensible by anyone who might be listening.</span></span> <span data-ttu-id="1c10f-117">Da sich Alice und Bob an Remotestellen befinden, muss außerdem gewährleistet sein, dass die Informationen, die Alice von Bob empfängt, während der Übertragung nicht geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-117">Furthermore, because Alice and Bob are in remote locations, Alice must make sure that the information she receives from Bob has not been modified by anyone during transmission.</span></span> <span data-ttu-id="1c10f-118">Alice muss außerdem sicher sein, dass die Informationen tatsächlich von Bob stammen und nicht von jemandem, der Bobs Identität angenommen hat.</span><span class="sxs-lookup"><span data-stu-id="1c10f-118">In addition, she must make sure that the information really does originate from Bob and not from someone who is impersonating Bob.</span></span>

<span data-ttu-id="1c10f-119">Die Kryptografie wird für folgende Zielsetzungen verwendet:</span><span class="sxs-lookup"><span data-stu-id="1c10f-119">Cryptography is used to achieve the following goals:</span></span>

- <span data-ttu-id="1c10f-120">Vertraulichkeit: Die Identität des Benutzers soll geschützt oder das Lesen von Daten verhindert werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-120">Confidentiality: To help protect a user's identity or data from being read.</span></span>

- <span data-ttu-id="1c10f-121">Datenintegrität: Die Daten sollen vor Änderungen geschützt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-121">Data integrity: To help protect data from being changed.</span></span>

- <span data-ttu-id="1c10f-122">Authentifizierung: Es soll sichergestellt werden, dass Daten von einem bestimmten Teilnehmer stammen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-122">Authentication: To ensure that data originates from a particular party.</span></span>

- <span data-ttu-id="1c10f-123">Nichtleugnung: Hindert einen bestimmten Teilnehmer zu leugnen, dass er eine Meldung gesendet hat.</span><span class="sxs-lookup"><span data-stu-id="1c10f-123">Non-repudiation: To prevent a particular party from denying that they sent a message.</span></span>

<span data-ttu-id="1c10f-124">Um diese Ziele zu erreichen, können Sie aus einer Kombination von Algorithmen und Vorgehensweisen, die als kryptografische Grundelemente bezeichnet werden, ein kryptografisches Schema erstellen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-124">To achieve these goals, you can use a combination of algorithms and practices known as cryptographic primitives to create a cryptographic scheme.</span></span> <span data-ttu-id="1c10f-125">In der nachstehenden Tabelle sind die kryptografischen Grundelemente und deren Verwendungszweck aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-125">The following table lists the cryptographic primitives and their uses.</span></span>

|<span data-ttu-id="1c10f-126">Kryptografisches Grundelement</span><span class="sxs-lookup"><span data-stu-id="1c10f-126">Cryptographic primitive</span></span>|<span data-ttu-id="1c10f-127">Zweck</span><span class="sxs-lookup"><span data-stu-id="1c10f-127">Use</span></span>|
|-----------------------------|---------|
|<span data-ttu-id="1c10f-128">Verschlüsselung mit geheimem Schlüssel (symmetrische Kryptografie)</span><span class="sxs-lookup"><span data-stu-id="1c10f-128">Secret-key encryption (symmetric cryptography)</span></span>|<span data-ttu-id="1c10f-129">Transformiert die Daten und verhindert, dass sie von Dritten gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-129">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="1c10f-130">Bei diesem Verschlüsselungstyp werden die Daten mit einem einzigen, gemeinsam genutzten, geheimen Schlüssel ver- und entschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-130">This type of encryption uses a single shared, secret key to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="1c10f-131">Verschlüsselung mit öffentlichem Schlüssel (asymmetrische Kryptografie)</span><span class="sxs-lookup"><span data-stu-id="1c10f-131">Public-key encryption (asymmetric cryptography)</span></span>|<span data-ttu-id="1c10f-132">Transformiert die Daten und verhindert, dass sie von Dritten gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-132">Performs a transformation on data to keep it from being read by third parties.</span></span> <span data-ttu-id="1c10f-133">Bei diesem Verschlüsselungstyp werden die Daten mit einem Paar aus öffentlichem und privatem Schlüssel ver- und entschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-133">This type of encryption uses a public/private key pair to encrypt and decrypt data.</span></span>|
|<span data-ttu-id="1c10f-134">Kryptografische Signatur</span><span class="sxs-lookup"><span data-stu-id="1c10f-134">Cryptographic signing</span></span>|<span data-ttu-id="1c10f-135">Stellt sicher, dass die Daten von einem bestimmten Teilnehmer stammen. Dazu wird eine digitale Signatur erstellt, die diesen Teilnehmer eindeutig bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-135">Helps verify that data originates from a specific party by creating a digital signature that is unique to that party.</span></span> <span data-ttu-id="1c10f-136">Bei diesem Prozess werden auch Hashfunktionen verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-136">This process also uses hash functions.</span></span>|
|<span data-ttu-id="1c10f-137">Kryptografische Hashs</span><span class="sxs-lookup"><span data-stu-id="1c10f-137">Cryptographic hashes</span></span>|<span data-ttu-id="1c10f-138">Ordnet Daten beliebiger Länge einer Bytefolge fester Länge zu.</span><span class="sxs-lookup"><span data-stu-id="1c10f-138">Maps data from any length to a fixed-length byte sequence.</span></span> <span data-ttu-id="1c10f-139">Hashs sind statistisch eindeutig; eine unterschiedliche 2-Byte-Sequenz erzielt nicht denselben Hashwert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-139">Hashes are statistically unique; a different two-byte sequence will not hash to the same value.</span></span>|

## <a name="secret-key-encryption"></a><span data-ttu-id="1c10f-140">Verschlüsselung mit geheimem Schlüssel</span><span class="sxs-lookup"><span data-stu-id="1c10f-140">Secret-Key Encryption</span></span>

<span data-ttu-id="1c10f-141">Bei Verschlüsselungsalgorithmen mit geheimem Schlüssel werden die Daten mit einem einzigen geheimen Schlüssel ver- und entschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-141">Secret-key encryption algorithms use a single secret key to encrypt and decrypt data.</span></span> <span data-ttu-id="1c10f-142">Der Schlüssel muss vor dem Zugriff Unbefugter geschützt werden, da jeder, der im Besitz des Schlüssels ist, Ihre Daten entschlüsseln oder eigene Daten verschlüsseln und als Ihre Daten ausgeben kann.</span><span class="sxs-lookup"><span data-stu-id="1c10f-142">You must secure the key from access by unauthorized agents, because any party that has the key can use it to decrypt your data or encrypt their own data, claiming it originated from you.</span></span>

<span data-ttu-id="1c10f-143">Die Verschlüsselung mit geheimem Schlüssel wird auch als symmetrische Verschlüsselung bezeichnet, da für das Ver- und Entschlüsseln derselbe Schlüssel verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-143">Secret-key encryption is also referred to as symmetric encryption because the same key is used for encryption and decryption.</span></span> <span data-ttu-id="1c10f-144">Die Verschlüsselungsalgorithmen mit geheimem Schlüssel sind im Vergleich zu den Algorithmen mit öffentlichem Schlüssel außergewöhnlich schnell und gut für die kryptografische Transformation großer Datenstreams geeignet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-144">Secret-key encryption algorithms are very fast (compared with public-key algorithms) and are well suited for performing cryptographic transformations on large streams of data.</span></span> <span data-ttu-id="1c10f-145">Asymmetrische Verschlüsselungsalgorithmen wie RSA sind hinsichtlich der Datenmenge, die verschlüsselt werden kann, mathematisch eingeschränkt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-145">Asymmetric encryption algorithms such as RSA are limited mathematically in how much data they can encrypt.</span></span> <span data-ttu-id="1c10f-146">Symmetrische Verschlüsselungsalgorithmen haben diese Probleme im Allgemeinen nicht.</span><span class="sxs-lookup"><span data-stu-id="1c10f-146">Symmetric encryption algorithms do not generally have those problems.</span></span>

<span data-ttu-id="1c10f-147">Ein Algorithmus mit geheimem Schlüssel, eine so genannte Blockchiffre, wird zum Verschlüsseln von jeweils einem Datenblock verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-147">A type of secret-key algorithm called a block cipher is used to encrypt one block of data at a time.</span></span> <span data-ttu-id="1c10f-148">Blockverschlüsselungsverfahren wie DES (Data Encryption Standard), TripleDES und AES (Advanced Encryption Standard transformieren einen Eingabeblock mit *n* Bytes in einen Ausgabeblock mit verschlüsselten Bytes kryptografisch.</span><span class="sxs-lookup"><span data-stu-id="1c10f-148">Block ciphers such as Data Encryption Standard (DES), TripleDES, and Advanced Encryption Standard (AES) cryptographically transform an input block of *n* bytes into an output block of encrypted bytes.</span></span> <span data-ttu-id="1c10f-149">Wenn eine Bytefolge ver- oder entschlüsselt werden soll, muss das blockweise geschehen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-149">If you want to encrypt or decrypt a sequence of bytes, you have to do it block by block.</span></span> <span data-ttu-id="1c10f-150">Da *n* klein ist (8 Bytes bei DES und TripleDES, 16 Bytes [Standard], 24 Bytes oder 32 Bytes bei AES), müssen Werte, die größer als *n* sind, jeweils blockweise verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-150">Because *n* is small (8 bytes for DES and TripleDES; 16 bytes [the default], 24 bytes, or 32 bytes for AES), data values that are larger than *n* have to be encrypted one block at a time.</span></span> <span data-ttu-id="1c10f-151">Datenwerte, die kleiner als *n* sind, müssen auf *n* erweitert werden, um verarbeitet werden zu können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-151">Data values that are smaller than *n* have to be expanded to *n* in order to be processed.</span></span>

<span data-ttu-id="1c10f-152">Eine einfache Form einer Blockchiffre wird als ECB-Modus (Electronic Codebook) bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-152">One simple form of block cipher is called the electronic codebook (ECB) mode.</span></span> <span data-ttu-id="1c10f-153">Der ECB-Modus gilt als nicht sicher, da zum Initialisieren des ersten Klartextblocks kein Initialisierungsvektor verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-153">ECB mode is not considered secure, because it does not use an initialization vector to initialize the first plaintext block.</span></span> <span data-ttu-id="1c10f-154">Bei einem geheimen Schlüssel *k* wird ein Eingabeblock mit Klartext mithilfe einer einfachen Blockchiffre ohne Initialisierungsvektor in denselben Ausgabeblock mit verschlüsseltem Text transformiert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-154">For a given secret key *k*, a simple block cipher that does not use an initialization vector will encrypt the same input block of plaintext into the same output block of ciphertext.</span></span> <span data-ttu-id="1c10f-155">Wenn der Klartexteingabestream doppelte Blöcke enthält, befinden sich diese somit auch im verschlüsselten Textausgabestream.</span><span class="sxs-lookup"><span data-stu-id="1c10f-155">Therefore, if you have duplicate blocks in your input plaintext stream, you will have duplicate blocks in your output ciphertext stream.</span></span> <span data-ttu-id="1c10f-156">Diese doppelten Ausgabeblöcke weisen darauf hin, dass für die schwache Codierung nicht autorisierte Benutzer die möglicherweise eingesetzten Algorithmen verwendet haben, und geben die möglichen Angriffsformen an.</span><span class="sxs-lookup"><span data-stu-id="1c10f-156">These duplicate output blocks alert unauthorized users to the weak encryption used the algorithms that might have been employed, and the possible modes of attack.</span></span> <span data-ttu-id="1c10f-157">Der ECB-Verschlüsselungsverfahrensmodus kann daher recht leicht analysiert und somit der Schlüssel leicht erkannt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-157">The ECB cipher mode is therefore quite vulnerable to analysis, and ultimately, key discovery.</span></span>

<span data-ttu-id="1c10f-158">Für die Blockchiffreklassen in der Basisklassenbibliothek wird ein Standardverkettungsmodus mit der Bezeichnung Cipher Block Chaining (CBC) verwendet. Sie können diese Standardeinstellung jedoch ändern, wenn Sie möchten.</span><span class="sxs-lookup"><span data-stu-id="1c10f-158">The block cipher classes that are provided in the base class library use a default chaining mode called cipher-block chaining (CBC), although you can change this default if you want.</span></span>

<span data-ttu-id="1c10f-159">Bei CBC-Verschlüsselungsverfahren wurden die bei ECB-Verschlüsselungsverfahren vorhandenen Probleme durch die Verwendung eines Initialisierungsvektors (IV) zum Verschlüsseln des ersten Klartextblocks behoben.</span><span class="sxs-lookup"><span data-stu-id="1c10f-159">CBC ciphers overcome the problems associated with ECB ciphers by using an initialization vector (IV) to encrypt the first block of plaintext.</span></span> <span data-ttu-id="1c10f-160">Mit jedem nachfolgenden Klartextblock wird vor der Verschlüsselung eine bitweise`XOR`-Operation mit dem vorherigen verschlüsselten Block durchgeführt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-160">Each subsequent block of plaintext undergoes a bitwise exclusive OR (`XOR`) operation with the previous ciphertext block before it is encrypted.</span></span> <span data-ttu-id="1c10f-161">Somit hängt jeder verschlüsselte Block von allen vorhergehenen Blöcken ab.</span><span class="sxs-lookup"><span data-stu-id="1c10f-161">Each ciphertext block is therefore dependent on all previous blocks.</span></span> <span data-ttu-id="1c10f-162">Mit diesem System ist es nicht möglich, anhand häufig verwendeter Nachrichtenheader, die einem Unbefugten bekannt sein könnten, den Schlüssel zurückzuentwickeln.</span><span class="sxs-lookup"><span data-stu-id="1c10f-162">When this system is used, common message headers that might be known to an unauthorized user cannot be used to reverse-engineer a key.</span></span>

<span data-ttu-id="1c10f-163">Eine Möglichkeit, mit einem CBC-Verschlüsselungsverfahren verschlüsselte Daten unbefugt zu entschlüsseln, ist das Ausprobieren jedes möglichen Schlüssels.</span><span class="sxs-lookup"><span data-stu-id="1c10f-163">One way to compromise data that is encrypted with a CBC cipher is to perform an exhaustive search of every possible key.</span></span> <span data-ttu-id="1c10f-164">Je nach Größe des verwendeten Schlüssels ist diese Suchmethode jedoch selbst mit dem schnellsten Rechner äußerst zeitaufwendig und daher nicht realisierbar.</span><span class="sxs-lookup"><span data-stu-id="1c10f-164">Depending on the size of the key that is used to perform encryption, this kind of search is very time-consuming using even the fastest computers and is therefore infeasible.</span></span> <span data-ttu-id="1c10f-165">Größere Schlüssel sind schwieriger zu entschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="1c10f-165">Larger key sizes are more difficult to decipher.</span></span> <span data-ttu-id="1c10f-166">Obwohl mit dem Verschlüsseln das Lesen verschlüsselter Daten für Unbefugte theoretisch nicht völlig ausgeschlossen ist, treibt es doch den Kostenaufwand in die Höhe.</span><span class="sxs-lookup"><span data-stu-id="1c10f-166">Although encryption does not make it theoretically impossible for an adversary to retrieve the encrypted data, it does raise the cost of doing this.</span></span> <span data-ttu-id="1c10f-167">Wenn es mit einer umfassenden Suche drei Monate dauert, Daten zu entziffern, die nur ein paar Tage lang von Bedeutung sind, ist diese Suchmethode unbrauchbar.</span><span class="sxs-lookup"><span data-stu-id="1c10f-167">If it takes three months to perform an exhaustive search to retrieve data that is meaningful only for a few days, the exhaustive search method is impractical.</span></span>

<span data-ttu-id="1c10f-168">Die Verschlüsselung mit geheimem Schlüssel hat den Nachteil, dass sich zwei Teilnehmer auf einen Schlüssel und einen Initialisierungsvektor geeinigt und die entsprechenden Werte ausgetauscht haben müssen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-168">The disadvantage of secret-key encryption is that it presumes two parties have agreed on a key and IV, and communicated their values.</span></span> <span data-ttu-id="1c10f-169">Der Initialisierungsvektor ist nicht geheim und kann mit der Nachricht in Klartext übermittelt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-169">The IV is not considered a secret and can be transmitted in plaintext with the message.</span></span> <span data-ttu-id="1c10f-170">Der Schlüssel muss jedoch vor Unbefugten geheim gehalten werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-170">However, the key must be kept secret from unauthorized users.</span></span> <span data-ttu-id="1c10f-171">Aufgrund dieser Probleme wird die Verschlüsselung mit geheimem Schlüssel oft in Verbindung mit der Verschlüsselung mit öffentlichem Schlüssel eingesetzt, um die Werte von Schlüssel und Initialisierungsvektor vertraulich zu kommunizieren.</span><span class="sxs-lookup"><span data-stu-id="1c10f-171">Because of these problems, secret-key encryption is often used together with public-key encryption to privately communicate the values of the key and IV.</span></span>

<span data-ttu-id="1c10f-172">Wenn es sich bei Alice und Bob um zwei Teilnehmer handelt, die über einen unsicheren Kanal miteinander kommunizieren möchten, könnten sie die Verschlüsselung mit geheimem Schlüssel wie nachfolgend beschrieben vornehmen: Alice und Bob einigen sich darauf, einen bestimmten Algorithmus (z. B. AES) mit einem bestimmten Schlüssel und Initialisierungsvektor zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-172">Assuming that Alice and Bob are two parties who want to communicate over a nonsecure channel, they might use secret-key encryption as follows: Alice and Bob agree to use one particular algorithm (AES, for example) with a particular key and IV.</span></span> <span data-ttu-id="1c10f-173">Alice verfasst eine Nachricht und erstellt einen Netzwerkstream (vielleicht eine Named Pipe oder eine Netzwerk-e-Mail), an die die Nachricht gesendet werden soll.</span><span class="sxs-lookup"><span data-stu-id="1c10f-173">Alice composes a message and creates a network stream (perhaps a named pipe or network email) on which to send the message.</span></span> <span data-ttu-id="1c10f-174">Danach verschlüsselt sie mithilfe des Schlüssels und des Initialisierungsvektors den Text und sendet die verschlüsselten Nachricht und den Initialisierungsvektor über das Intranet an Bob.</span><span class="sxs-lookup"><span data-stu-id="1c10f-174">Next, she encrypts the text using the key and IV, and sends the encrypted message and IV to Bob over the intranet.</span></span> <span data-ttu-id="1c10f-175">Bob empfängt den verschlüsselten Text und entschlüsselt ihn mit dem Initialisierungsvektor und dem zuvor vereinbarten Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-175">Bob receives the encrypted text and decrypts it by using the IV and previously agreed upon key.</span></span> <span data-ttu-id="1c10f-176">Wenn die Übertragung abgefangen wird, kann die ursprüngliche Nachricht vom Interceptor nicht wieder hergestellt werden, da Sie den Schlüssel nicht kennen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-176">If the transmission is intercepted, the interceptor cannot recover the original message, because they do not know the key.</span></span> <span data-ttu-id="1c10f-177">In diesem Szenario muss nur der Schlüssel geheim bleiben.</span><span class="sxs-lookup"><span data-stu-id="1c10f-177">In this scenario, only the key must remain secret.</span></span> <span data-ttu-id="1c10f-178">In der Realität würde entweder Alice oder Bob einen geheimen (symmetrischen) Schlüssel erzeugen und ihn mithilfe der asymmetrischen Verschlüsselung (mit öffentlichem Schlüssel) an die Gegenseite übertragen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-178">In a real world scenario, either Alice or Bob generates a secret key and uses public-key (asymmetric) encryption to transfer the secret (symmetric) key to the other party.</span></span> <span data-ttu-id="1c10f-179">Weitere Informationen zur Verschlüsselung mit öffentlichem Schlüssel finden Sie im nachfolgenden Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-179">For more information about public-key encryption, see the next section.</span></span>

<span data-ttu-id="1c10f-180">.NET stellt die folgenden Klassen bereit, die Verschlüsselungsalgorithmen mit geheimem Schlüssel implementieren:</span><span class="sxs-lookup"><span data-stu-id="1c10f-180">.NET provides the following classes that implement secret-key encryption algorithms:</span></span>

- <xref:System.Security.Cryptography.Aes>

- <span data-ttu-id="1c10f-181"><xref:System.Security.Cryptography.HMACSHA256>, <xref:System.Security.Cryptography.HMACSHA384> und <xref:System.Security.Cryptography.HMACSHA512>.</span><span class="sxs-lookup"><span data-stu-id="1c10f-181"><xref:System.Security.Cryptography.HMACSHA256>, <xref:System.Security.Cryptography.HMACSHA384> and <xref:System.Security.Cryptography.HMACSHA512>.</span></span> <span data-ttu-id="1c10f-182">(Hierbei handelt es sich um technische Algorithmen mit geheimem Schlüssel, da Sie Nachrichten Authentifizierungscodes darstellen, die mithilfe einer kryptografischen Hash Funktion in Kombination mit einem geheimen Schlüssel berechnet werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-182">(These are technically secret-key algorithms because they represent message authentication codes that are calculated by using a cryptographic hash function combined with a secret key.</span></span> <span data-ttu-id="1c10f-183">Siehe [Hashwerte](#hash-values)weiter unten in diesem Artikel.)</span><span class="sxs-lookup"><span data-stu-id="1c10f-183">See [Hash Values](#hash-values), later in this article.)</span></span>

## <a name="public-key-encryption"></a><span data-ttu-id="1c10f-184">Verschlüsselung mit öffentlichem Schlüssel</span><span class="sxs-lookup"><span data-stu-id="1c10f-184">Public-Key Encryption</span></span>

<span data-ttu-id="1c10f-185">Bei der Verschlüsselung mit öffentlichem Schlüssel werden zwei Schlüssel verwendet, nämlich ein privater Schlüssel, der vor Unbefugten geheim gehalten werden muss, und ein öffentlicher Schlüssel, der jedem zugänglich sein kann.</span><span class="sxs-lookup"><span data-stu-id="1c10f-185">Public-key encryption uses a private key that must be kept secret from unauthorized users and a public key that can be made public to anyone.</span></span> <span data-ttu-id="1c10f-186">Der öffentliche und der private Schlüssel sind mathematisch miteinander verknüpft. Mit dem öffentlichen Schlüssel verschlüsselte Daten können nur mit dem privaten Schlüssel entschlüsselt werden, und mit dem privaten Schlüssel signierte Daten können nur mit dem öffentlichen Schlüssel überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-186">The public key and the private key are mathematically linked; data that is encrypted with the public key can be decrypted only with the private key, and data that is signed with the private key can be verified only with the public key.</span></span> <span data-ttu-id="1c10f-187">Der öffentliche Schlüssel kann jedem zugänglich sein, da er zum Verschlüsseln von Daten verwendet wird, die an den Inhaber des privaten Schlüssels gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-187">The public key can be made available to anyone; it is used for encrypting data to be sent to the keeper of the private key.</span></span> <span data-ttu-id="1c10f-188">Kryptografische Algorithmen mit öffentlichem Schlüssel werden auch als asymmetrische Algorithmen bezeichnet, da ein Schlüssel für das Verschlüsseln der Daten und ein anderer für das Entschlüsseln erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="1c10f-188">Public-key cryptographic algorithms are also known as asymmetric algorithms because one key is required to encrypt data, and another key is required to decrypt data.</span></span> <span data-ttu-id="1c10f-189">Eine grundlegende kryptografische Regel verhindert die Schlüsselwiederverwendung, und beide Schlüssel müssen für jede Kommunikationssitzung eindeutig sein.</span><span class="sxs-lookup"><span data-stu-id="1c10f-189">A basic cryptographic rule prohibits key reuse, and both keys should be unique for each communication session.</span></span> <span data-ttu-id="1c10f-190">In der Praxis jedoch sind asymmetrische Schlüssel im Allgemeinen langlebig.</span><span class="sxs-lookup"><span data-stu-id="1c10f-190">However, in practice, asymmetric keys are generally long-lived.</span></span>

<span data-ttu-id="1c10f-191">Zwei Teilnehmer (Alice und Bob) könnten die Verschlüsselung mit öffentlichem Schlüssel wie folgt verwenden: Zuerst erzeugt Alice ein Schlüsselpaar aus öffentlichem und privatem Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-191">Two parties (Alice and Bob) might use public-key encryption as follows: First, Alice generates a public/private key pair.</span></span> <span data-ttu-id="1c10f-192">Wenn Bob Alice eine verschlüsselte Nachricht senden möchte, bittet er Alice um den öffentlichen Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-192">If Bob wants to send Alice an encrypted message, he asks her for her public key.</span></span> <span data-ttu-id="1c10f-193">Alice sendet Bob ihren öffentlichen Schlüssel über ein unsicheres Netzwerk, und Bob verschlüsselt damit eine Nachricht.</span><span class="sxs-lookup"><span data-stu-id="1c10f-193">Alice sends Bob her public key over a nonsecure network, and Bob uses this key to encrypt a message.</span></span> <span data-ttu-id="1c10f-194">Bob sendet die verschlüsselte Nachricht an Alice, die sie mit ihrem privaten Schlüssel entschlüsselt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-194">Bob sends the encrypted message to Alice, and she decrypts it by using her private key.</span></span> <span data-ttu-id="1c10f-195">Wenn Bob den Schlüssel von Alice über einen unsicheren Kanal (z. B. ein öffentliches Netzwerk) erhalten hat, ist Bob im Hinblick auf einen Man-in-the-middle-Angriff gefährdet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-195">If Bob received Alice's key over a nonsecure channel, such as a public network, Bob is open to a man-in-the-middle attack.</span></span> <span data-ttu-id="1c10f-196">Daher muss Bob bei Alice nachfragen, ob es sich um die richtige Kopie des öffentlichen Schlüssels handelt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-196">Therefore, Bob must verify with Alice that he has a correct copy of her public key.</span></span>

<span data-ttu-id="1c10f-197">Während der Übertragung des öffentlichen Schlüssels von Alice hätte ein Unbefugter den Schlüssel abfangen können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-197">During the transmission of Alice's public key, an unauthorized agent might intercept the key.</span></span> <span data-ttu-id="1c10f-198">Außerdem hätte derselbe Unbefugte auch die verschlüsselte Nachricht von Bob abfangen können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-198">Furthermore, the same agent might intercept the encrypted message from Bob.</span></span> <span data-ttu-id="1c10f-199">Er kann die Nachricht mit dem öffentlichen Schlüssel jedoch nicht entschlüsseln.</span><span class="sxs-lookup"><span data-stu-id="1c10f-199">However, the agent cannot decrypt the message with the public key.</span></span> <span data-ttu-id="1c10f-200">Die Nachricht kann nur mit Alices privatem Schlüssel entschlüsselt werden, der nicht übertragen wurde.</span><span class="sxs-lookup"><span data-stu-id="1c10f-200">The message can be decrypted only with Alice's private key, which has not been transmitted.</span></span> <span data-ttu-id="1c10f-201">Alice benutzt für die Verschlüsselung der Rückantwort an Bob nicht ihren privaten Schlüssel, da jeder mit dem öffentlichen Schlüssel die Nachricht entschlüsseln könnte.</span><span class="sxs-lookup"><span data-stu-id="1c10f-201">Alice does not use her private key to encrypt a reply message to Bob, because anyone with the public key could decrypt the message.</span></span> <span data-ttu-id="1c10f-202">Wenn Alice eine Rückantwort an Bob senden möchte, bittet sie Bob um dessen öffentlichen Schlüssel und verschlüsselt ihre Nachricht damit.</span><span class="sxs-lookup"><span data-stu-id="1c10f-202">If Alice wants to send a message back to Bob, she asks Bob for his public key and encrypts her message using that public key.</span></span> <span data-ttu-id="1c10f-203">Bob wiederum entschlüsselt die Nachricht mit seinem zugehörigen privaten Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-203">Bob then decrypts the message using his associated private key.</span></span>

<span data-ttu-id="1c10f-204">In diesem Szenario würden Alice und Bob die (asymmetrische) Verschlüsselung mit öffentlichem Schlüssel zum Übertragen eines geheimen (symmetrischen) Schlüssels verwenden und für die restliche Sitzung die Verschlüsselung mit geheimem Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-204">In this scenario, Alice and Bob use public-key (asymmetric) encryption to transfer a secret (symmetric) key and use secret-key encryption for the remainder of their session.</span></span>

<span data-ttu-id="1c10f-205">In der folgenden Liste werden Kryptographiealgorithmen mit öffentlichem und geheimem Schlüssel verglichen:</span><span class="sxs-lookup"><span data-stu-id="1c10f-205">The following list offers comparisons between public-key and secret-key cryptographic algorithms:</span></span>

- <span data-ttu-id="1c10f-206">Für kryptografische Algorithmen mit öffentlichem Schlüssel wird eine feste Puffergröße verwendet, während solche mit geheimem Schlüssel Puffer mit variabler Länge erfordern.</span><span class="sxs-lookup"><span data-stu-id="1c10f-206">Public-key cryptographic algorithms use a fixed buffer size, whereas secret-key cryptographic algorithms use a variable-length buffer.</span></span>

- <span data-ttu-id="1c10f-207">Algorithmen mit öffentlichem Schlüssel können nicht zum Verketten von Daten in Streams verwendet werden, wie das bei Algorithmen mit geheimem Schlüssel möglich ist, da nur kleine Datenmengen verschlüsselt werden können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-207">Public-key algorithms cannot be used to chain data together into streams the way secret-key algorithms can, because only small amounts of data can be encrypted.</span></span> <span data-ttu-id="1c10f-208">Daher wird bei asymmetrischen Operationen ein anderes Streamingmodell als bei symmetrischen Operationen verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-208">Therefore, asymmetric operations do not use the same streaming model as symmetric operations.</span></span>

- <span data-ttu-id="1c10f-209">Bei der Verschlüsselung mit öffentlichem Schlüssel steht eine größere Schlüssellänge (Bereich von möglichen Werten für den Schlüssel) als bei der Verschlüsselung mit geheimem Schlüssel zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="1c10f-209">Public-key encryption has a much larger keyspace (range of possible values for the key) than secret-key encryption.</span></span> <span data-ttu-id="1c10f-210">Daher ist die Verschlüsselung mit öffentlichem Schlüssel weniger anfällig für Brute-Force-Attacken, bei denen alle möglichen Schlüssel ausprobiert werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-210">Therefore, public-key encryption is less susceptible to exhaustive attacks that try every possible key.</span></span>

- <span data-ttu-id="1c10f-211">Öffentliche Schlüssel sind problemlos zu verteilen, da sie nicht geschützt werden müssen, vorausgesetzt, es gibt eine Möglichkeit, die Identität des Absenders zu überprüfen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-211">Public keys are easy to distribute because they do not have to be secured, provided that some way exists to verify the identity of the sender.</span></span>

- <span data-ttu-id="1c10f-212">Einige Algorithmen mit öffentlichem Schlüssel (wie RSA und DAS, jedoch nicht Diffie-Hellman) können zum Erstellen digitaler Signaturen verwendet werden, mit denen die Identität des Absenders der Daten überprüft wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-212">Some public-key algorithms (such as RSA and DSA, but not Diffie-Hellman) can be used to create digital signatures to verify the identity of the sender of data.</span></span>

- <span data-ttu-id="1c10f-213">Algorithmen mit öffentlichem Schlüssel sind im Vergleich zu Algorithmen mit geheimem Schlüssel extrem langsam und für die Verschlüsselung großer Datenmengen nicht geeignet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-213">Public-key algorithms are very slow compared with secret-key algorithms, and are not designed to encrypt large amounts of data.</span></span> <span data-ttu-id="1c10f-214">Algorithmen mit öffentlichem Schlüssel sind nur für die Übertragung sehr kleiner Datenmengen sinnvoll.</span><span class="sxs-lookup"><span data-stu-id="1c10f-214">Public-key algorithms are useful only for transferring very small amounts of data.</span></span> <span data-ttu-id="1c10f-215">In der Regel werden bei der Verschlüsselung mit öffentlichem Schlüssel ein Schlüssel und ein Initialisierungsvektor verschlüsselt, die in einem Algorithmus mit geheimem Schlüssel verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-215">Typically, public-key encryption is used to encrypt a key and IV to be used by a secret-key algorithm.</span></span> <span data-ttu-id="1c10f-216">Nach der Übertragung von Schlüssel und Initialisierungsvektor wird für die restliche Sitzung die Verschlüsselung mit geheimem Schlüssel verwendet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-216">After the key and IV are transferred, secret-key encryption is used for the remainder of the session.</span></span>

<span data-ttu-id="1c10f-217">.NET stellt die folgenden Klassen bereit, die Algorithmen mit öffentlichem Schlüssel implementieren:</span><span class="sxs-lookup"><span data-stu-id="1c10f-217">.NET provides the following classes that implement public-key algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.ECDiffieHellman>

- <xref:System.Security.Cryptography.DSA>

<span data-ttu-id="1c10f-218">RSA ermöglicht sowohl die Verschlüsselung als auch die Signatur, aber DSA kann nur für die Signierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-218">RSA allows both encryption and signing, but DSA can be used only for signing.</span></span> <span data-ttu-id="1c10f-219">DSA ist nicht so sicher wie RSA, und wir empfehlen RSA.</span><span class="sxs-lookup"><span data-stu-id="1c10f-219">DSA is not as secure as RSA, and we recommend RSA.</span></span> <span data-ttu-id="1c10f-220">Diffie-Hellman können nur für die Schlüsselgenerierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-220">Diffie-Hellman can be used only for key generation.</span></span> <span data-ttu-id="1c10f-221">Algorithmen mit öffentlichem Schlüssel sind im Hinblick auf ihre Verwendung stärker eingeschränkt als Algorithmen mit privatem Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-221">In general, public-key algorithms are more limited in their uses than private-key algorithms.</span></span>

## <a name="digital-signatures"></a><span data-ttu-id="1c10f-222">Digitale Signaturen</span><span class="sxs-lookup"><span data-stu-id="1c10f-222">Digital Signatures</span></span>

<span data-ttu-id="1c10f-223">Algorithmen mit öffentlichem Schlüssel können auch für digitale Signaturen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-223">Public-key algorithms can also be used to form digital signatures.</span></span> <span data-ttu-id="1c10f-224">Digitale Signaturen authentifizieren die Identität eines Absenders (wenn Sie dem öffentlichen Schlüssel des Absenders vertrauen) und schützen die Datenintegrität.</span><span class="sxs-lookup"><span data-stu-id="1c10f-224">Digital signatures authenticate the identity of a sender (if you trust the sender's public key) and help protect the integrity of data.</span></span> <span data-ttu-id="1c10f-225">Mit dem von Alice erzeugten öffentlichen Schlüssel kann der Empfänger von Alices Daten überprüfen, dass sie tatsächlich von Alice gesendet wurden. Dazu vergleicht er die digitale Signatur mit Alices Daten mit ihrem öffentlichen Schlüssel.</span><span class="sxs-lookup"><span data-stu-id="1c10f-225">Using a public key generated by Alice, the recipient of Alice's data can verify that Alice sent it by comparing the digital signature to Alice's data and Alice's public key.</span></span>

<span data-ttu-id="1c10f-226">Um die Kryptografie mit öffentlichem Schlüssel zum digitalen Signieren einer Nachricht zu verwenden, wendet Alice zunächst einen Hashalgorithmus auf die Nachricht an, um einen Message Digest zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-226">To use public-key cryptography to digitally sign a message, Alice first applies a hash algorithm to the message to create a message digest.</span></span> <span data-ttu-id="1c10f-227">Der Message Digest ist eine komprimierte und eindeutige Darstellung von Daten.</span><span class="sxs-lookup"><span data-stu-id="1c10f-227">The message digest is a compact and unique representation of data.</span></span> <span data-ttu-id="1c10f-228">Danach verschlüsselt Alice den Message Digest mit ihrem privaten Schlüssel und erstellt so ihre persönliche Signatur.</span><span class="sxs-lookup"><span data-stu-id="1c10f-228">Alice then encrypts the message digest with her private key to create her personal signature.</span></span> <span data-ttu-id="1c10f-229">Beim Empfang der Nachricht und der Signatur entschlüsselt Bob die Signatur mit dem öffentlichen Schlüssel von Alice, um den Message Digest wiederherzustellen. Dann wendet er denselben Hashalgorithmus auf die Nachricht an, den auch Alice verwendet hat.</span><span class="sxs-lookup"><span data-stu-id="1c10f-229">Upon receiving the message and signature, Bob decrypts the signature using Alice's public key to recover the message digest and hashes the message using the same hash algorithm that Alice used.</span></span> <span data-ttu-id="1c10f-230">Wenn der von Bob ermittelte Message Digest exakt mit dem von Alice empfangenen Message Digest übereinstimmt, kann Bob sicher sein, dass die Nachricht vom Besitzer des privaten Schlüssels stammt und die Daten nicht modifiziert wurden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-230">If the message digest that Bob computes exactly matches the message digest received from Alice, Bob is assured that the message came from the possessor of the private key and that the data has not been modified.</span></span> <span data-ttu-id="1c10f-231">Wenn Bob darauf vertraut, dass Alice der Besitzer des privaten Schlüssels ist, weiß er, dass die Nachricht von Alice stammt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-231">If Bob trusts that Alice is the possessor of the private key, he knows that the message came from Alice.</span></span>

> [!NOTE]
> <span data-ttu-id="1c10f-232">Eine Signatur kann von jedem überprüft werden, da der öffentliche Schlüssel des Absenders allgemein bekannt und in der Regel im digitalen Signaturformat enthalten ist.</span><span class="sxs-lookup"><span data-stu-id="1c10f-232">A signature can be verified by anyone because the sender's public key is common knowledge and is typically included in the digital signature format.</span></span> <span data-ttu-id="1c10f-233">Mit dieser Methode wird die Nachricht nicht geheim gehalten. Hierzu muss sie zusätzlich verschlüsselt werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-233">This method does not retain the secrecy of the message; for the message to be secret, it must also be encrypted.</span></span>

<span data-ttu-id="1c10f-234">.NET stellt die folgenden Klassen bereit, die digitale Signatur Algorithmen implementieren:</span><span class="sxs-lookup"><span data-stu-id="1c10f-234">.NET provides the following classes that implement digital signature algorithms:</span></span>

- <xref:System.Security.Cryptography.RSA>

- <xref:System.Security.Cryptography.ECDsa>

- <xref:System.Security.Cryptography.DSA>

## <a name="hash-values"></a><span data-ttu-id="1c10f-235">Hashwerte</span><span class="sxs-lookup"><span data-stu-id="1c10f-235">Hash Values</span></span>

<span data-ttu-id="1c10f-236">Mit Hashalgorithmen werden kleineren binären Werten fester Länge, die als Hashwerte bezeichnet werden, binäre Werte beliebiger Länge zugeordnet.</span><span class="sxs-lookup"><span data-stu-id="1c10f-236">Hash algorithms map binary values of an arbitrary length to smaller binary values of a fixed length, known as hash values.</span></span> <span data-ttu-id="1c10f-237">Ein Hashwert ist eine numerische Darstellung eines Datenelements.</span><span class="sxs-lookup"><span data-stu-id="1c10f-237">A hash value is a numerical representation of a piece of data.</span></span> <span data-ttu-id="1c10f-238">Wenn ein Klartextabsatz gehasht ist und nur ein Buchstabe geändert wird, ergibt sich bei einem nachfolgenden Hashvorgang ein anderer Wert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-238">If you hash a paragraph of plaintext and change even one letter of the paragraph, a subsequent hash will produce a different value.</span></span> <span data-ttu-id="1c10f-239">Wenn der Hashvorgang kryptografisch stark ist, ändert sich der zugehörige Wert erheblich.</span><span class="sxs-lookup"><span data-stu-id="1c10f-239">If the hash is cryptographically strong, its value will change significantly.</span></span> <span data-ttu-id="1c10f-240">Wenn sich beispielsweise ein einzelnes Bit einer Nachricht ändert, kann eine starke Hashfunktion ein um 50 % anderes Ergebnis liefern.</span><span class="sxs-lookup"><span data-stu-id="1c10f-240">For example, if a single bit of a message is changed, a strong hash function may produce an output that differs by 50 percent.</span></span> <span data-ttu-id="1c10f-241">Viele Eingabewerte ergeben möglicherweise denselben Hashausgabewert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-241">Many input values may hash to the same output value.</span></span> <span data-ttu-id="1c10f-242">Dennoch ist es rechnerisch unmöglich, zwei verschiedene Eingabewerte zu ermitteln, die denselben Hashwert bilden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-242">However, it is computationally infeasible to find two distinct inputs that hash to the same value.</span></span>

<span data-ttu-id="1c10f-243">Zwei Teilnehmer (Alice und Bob) könnten eine Hashfunktion verwenden, um die Nachrichtenintegrität sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-243">Two parties (Alice and Bob) could use a hash function to ensure message integrity.</span></span> <span data-ttu-id="1c10f-244">Sie würden einen Hashalgorithmus zum Signieren ihrer Nachrichten auswählen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-244">They would select a hash algorithm to sign their messages.</span></span> <span data-ttu-id="1c10f-245">Alice schreibt eine Nachricht und erstellt dann mithilfe des ausgewählten Algorithmus einen Hash dieser Nachricht.</span><span class="sxs-lookup"><span data-stu-id="1c10f-245">Alice would write a message, and then create a hash of that message by using the selected algorithm.</span></span> <span data-ttu-id="1c10f-246">Die Teilnehmer würden dann eine der folgenden Methoden verwenden:</span><span class="sxs-lookup"><span data-stu-id="1c10f-246">They would then follow one of the following methods:</span></span>

- <span data-ttu-id="1c10f-247">Alice sendet die Klartext-Nachricht und die Hashnachricht (digitale Signatur) an Bob.</span><span class="sxs-lookup"><span data-stu-id="1c10f-247">Alice sends the plaintext message and the hashed message (digital signature) to Bob.</span></span> <span data-ttu-id="1c10f-248">Bob empfängt die Nachricht, wendet den Hashalgorithmus darauf an und vergleicht seinen Hashwert mit dem von Alice empfangenen Hashwert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-248">Bob receives and hashes the message and compares his hash value to the hash value that he received from Alice.</span></span> <span data-ttu-id="1c10f-249">Wenn die Hashwerte identisch sind, wurde die Nachricht nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-249">If the hash values are identical, the message was not altered.</span></span> <span data-ttu-id="1c10f-250">Wenn die Werte nicht identisch sind, wurde die Nachricht geändert, nachdem sie von Alice geschrieben wurde.</span><span class="sxs-lookup"><span data-stu-id="1c10f-250">If the values are not identical, the message was altered after Alice wrote it.</span></span>

  <span data-ttu-id="1c10f-251">Leider wird mit dieser Methode nicht die Echtheit des Absenders angegeben.</span><span class="sxs-lookup"><span data-stu-id="1c10f-251">Unfortunately, this method does not establish the authenticity of the sender.</span></span> <span data-ttu-id="1c10f-252">Jeder kann die Identität von Alice annehmen und eine Nachricht an Bob senden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-252">Anyone can impersonate Alice and send a message to Bob.</span></span> <span data-ttu-id="1c10f-253">Derselbe Hashalgorithmus kann zum Signieren der Nachricht verwendet werden, und Bob kann lediglich feststellen, dass die Nachricht mit ihrer Signatur übereinstimmt.</span><span class="sxs-lookup"><span data-stu-id="1c10f-253">They can use the same hash algorithm to sign their message, and all Bob can determine is that the message matches its signature.</span></span> <span data-ttu-id="1c10f-254">Dies ist eine Form eines Man-in-the-middle-Angriffs.</span><span class="sxs-lookup"><span data-stu-id="1c10f-254">This is one form of a man-in-the-middle attack.</span></span> <span data-ttu-id="1c10f-255">Weitere Informationen finden Sie unter [Beispiel für die sichere Kommunikation mit Cryptography Next Generation (CNG)](/previous-versions/cc488018(v=vs.100)).</span><span class="sxs-lookup"><span data-stu-id="1c10f-255">For more information, see [Cryptography Next Generation (CNG) Secure Communication Example](/previous-versions/cc488018(v=vs.100)).</span></span>

- <span data-ttu-id="1c10f-256">Alice sendet die Klartext-Nachricht über einen unsicheren öffentlichen Kanal an Bob.</span><span class="sxs-lookup"><span data-stu-id="1c10f-256">Alice sends the plaintext message to Bob over a nonsecure public channel.</span></span> <span data-ttu-id="1c10f-257">Sie sendet die Hashnachricht über einen sicheren privaten Kanal an Bob.</span><span class="sxs-lookup"><span data-stu-id="1c10f-257">She sends the hashed message to Bob over a secure private channel.</span></span> <span data-ttu-id="1c10f-258">Bob empfängt die Klartext-Meldung, wendet den Hashalgorithmus darauf an, und vergleicht den Hash mit dem privat ausgetauschten Hash.</span><span class="sxs-lookup"><span data-stu-id="1c10f-258">Bob receives the plaintext message, hashes it, and compares the hash to the privately exchanged hash.</span></span> <span data-ttu-id="1c10f-259">Wenn die Hashs zusammenpassen, weiß Bob zwei Dinge:</span><span class="sxs-lookup"><span data-stu-id="1c10f-259">If the hashes match, Bob knows two things:</span></span>

  - <span data-ttu-id="1c10f-260">Die Nachricht wurde nicht geändert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-260">The message was not altered.</span></span>

  - <span data-ttu-id="1c10f-261">Der Absender der Nachricht (Alice) ist authentisch.</span><span class="sxs-lookup"><span data-stu-id="1c10f-261">The sender of the message (Alice) is authentic.</span></span>

  <span data-ttu-id="1c10f-262">Damit dieses System funktioniert, muss Alice den originalen Hashwert geheim halten. Nur Bob darf ihn kennen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-262">For this system to work, Alice must hide her original hash value from all parties except Bob.</span></span>

- <span data-ttu-id="1c10f-263">Alice sendet die Klartext-Nachricht über einen unsicheren öffentlichen Kanal an Bob und platziert die Haschnachricht auf ihrer öffentlich zugänglichen Website.</span><span class="sxs-lookup"><span data-stu-id="1c10f-263">Alice sends the plaintext message to Bob over a nonsecure public channel and places the hashed message on her publicly viewable Web site.</span></span>

  <span data-ttu-id="1c10f-264">Mit dieser Methode wird eine Manipulation der Nachricht verhindert, da jeder an einer Änderung des Hashwerts gehindert wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-264">This method prevents message tampering by preventing anyone from modifying the hash value.</span></span> <span data-ttu-id="1c10f-265">Obwohl die Nachricht und deren Hash von jedem gelesen werden kann, kann der Hashwert nur von Alice geändert werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-265">Although the message and its hash can be read by anyone, the hash value can be changed only by Alice.</span></span> <span data-ttu-id="1c10f-266">Ein Angreifer, der die Identität von Alice annehmen will, müsste Zugriff auf die Website von Alice haben.</span><span class="sxs-lookup"><span data-stu-id="1c10f-266">An attacker who wants to impersonate Alice would require access to Alice's Web site.</span></span>

<span data-ttu-id="1c10f-267">Mit keiner der vorherigen Methoden wird verhindert, dass Dritte die Nachrichten von Alice lesen, da sie als Klartext übertragen werden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-267">None of the previous methods will prevent someone from reading Alice's messages, because they are transmitted in plaintext.</span></span> <span data-ttu-id="1c10f-268">Vollständige Sicherheit ist in der Regel nur mit digitalen Signaturen (Signieren von Nachrichten) und Verschlüsselung möglich.</span><span class="sxs-lookup"><span data-stu-id="1c10f-268">Full security typically requires digital signatures (message signing) and encryption.</span></span>

<span data-ttu-id="1c10f-269">.NET stellt die folgenden Klassen bereit, die Hash Algorithmen implementieren:</span><span class="sxs-lookup"><span data-stu-id="1c10f-269">.NET provides the following classes that implement hashing algorithms:</span></span>

- <span data-ttu-id="1c10f-270"><xref:System.Security.Cryptography.SHA256>.</span><span class="sxs-lookup"><span data-stu-id="1c10f-270"><xref:System.Security.Cryptography.SHA256>.</span></span>

- <span data-ttu-id="1c10f-271"><xref:System.Security.Cryptography.SHA384>.</span><span class="sxs-lookup"><span data-stu-id="1c10f-271"><xref:System.Security.Cryptography.SHA384>.</span></span>

- <span data-ttu-id="1c10f-272"><xref:System.Security.Cryptography.SHA512>.</span><span class="sxs-lookup"><span data-stu-id="1c10f-272"><xref:System.Security.Cryptography.SHA512>.</span></span>

<span data-ttu-id="1c10f-273">.Net bietet auch <xref:System.Security.Cryptography.MD5> und <xref:System.Security.Cryptography.SHA1> .</span><span class="sxs-lookup"><span data-stu-id="1c10f-273">.NET also provides <xref:System.Security.Cryptography.MD5> and <xref:System.Security.Cryptography.SHA1>.</span></span> <span data-ttu-id="1c10f-274">Die MD5-und SHA-1-Algorithmen wurden jedoch als unsicher eingestuft, und SHA-2 wird jetzt empfohlen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-274">But the MD5 and SHA-1 algorithms have been found to be insecure, and SHA-2 is now recommended instead.</span></span> <span data-ttu-id="1c10f-275">SHA-2 umfasst SHA256, SHA384 und SHA512.</span><span class="sxs-lookup"><span data-stu-id="1c10f-275">SHA-2 includes SHA256, SHA384, and SHA512.</span></span>

## <a name="random-number-generation"></a><span data-ttu-id="1c10f-276">Zufallszahlengenerierung</span><span class="sxs-lookup"><span data-stu-id="1c10f-276">Random Number Generation</span></span>

<span data-ttu-id="1c10f-277">Die Zufallszahlengenerierung ist wichtiger Bestandteil vieler kryptografischer Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="1c10f-277">Random number generation is integral to many cryptographic operations.</span></span> <span data-ttu-id="1c10f-278">Kryptografische Schlüssel müssen z. B. möglichst zufällig erzeugt werden, sodass ein Replizieren unmöglich ist.</span><span class="sxs-lookup"><span data-stu-id="1c10f-278">For example, cryptographic keys need to be as random as possible so that it is infeasible to reproduce them.</span></span> <span data-ttu-id="1c10f-279">Mit Generatoren für kryptografische Zufallszahlen müssen Ausgabewerte erzeugt werden, die rechnerisch mit einer Wahrscheinlichkeit von weniger als 0,5 vorhergesagt werden können.</span><span class="sxs-lookup"><span data-stu-id="1c10f-279">Cryptographic random number generators must generate output that is computationally infeasible to predict with a probability that is better than one half.</span></span> <span data-ttu-id="1c10f-280">Deshalb darf jede Methode zur Vorhersage des nächsten Ausgabebits nicht besser sein als eine bloße Vermutung.</span><span class="sxs-lookup"><span data-stu-id="1c10f-280">Therefore, any method of predicting the next output bit must not perform better than random guessing.</span></span> <span data-ttu-id="1c10f-281">Die Klassen in .NET verwenden Zufallszahlengeneratoren, um kryptografische Schlüssel zu generieren.</span><span class="sxs-lookup"><span data-stu-id="1c10f-281">The classes in .NET use random number generators to generate cryptographic keys.</span></span>

<span data-ttu-id="1c10f-282">Die <xref:System.Security.Cryptography.RandomNumberGenerator> -Klasse ist die Implementierung eines Algorithmus mit Zufallszahlengenerator.</span><span class="sxs-lookup"><span data-stu-id="1c10f-282">The <xref:System.Security.Cryptography.RandomNumberGenerator> class is an implementation of a random number generator algorithm.</span></span>

## <a name="clickonce-manifests"></a><span data-ttu-id="1c10f-283">ClickOnce-Manifeste</span><span class="sxs-lookup"><span data-stu-id="1c10f-283">ClickOnce Manifests</span></span>

<span data-ttu-id="1c10f-284">Mithilfe der folgenden Kryptografieklassen können Sie Informationen zu manifestresssignaturen für Anwendungen abrufen und überprüfen, die mit der [ClickOnce-Technologie](/visualstudio/deployment/clickonce-security-and-deployment)bereitgestellt werden:</span><span class="sxs-lookup"><span data-stu-id="1c10f-284">The following cryptography classes let you obtain and verify information about manifest signatures for applications that are deployed using [ClickOnce technology](/visualstudio/deployment/clickonce-security-and-deployment):</span></span>

- <span data-ttu-id="1c10f-285">Die <xref:System.Security.Cryptography.ManifestSignatureInformation> -Klasse ruft Informationen zu einer Manifestsignatur ab, wenn Sie deren <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> -Methodenüberladungen verwenden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-285">The <xref:System.Security.Cryptography.ManifestSignatureInformation> class obtains information about a manifest signature when you use its <xref:System.Security.Cryptography.ManifestSignatureInformation.VerifySignature%2A> method overloads.</span></span>

- <span data-ttu-id="1c10f-286">Sie können die <xref:System.Security.ManifestKinds> -Enumeration verwenden, um die Manifeste anzugeben, die überprüft werden sollen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-286">You can use the <xref:System.Security.ManifestKinds> enumeration to specify which manifests to verify.</span></span> <span data-ttu-id="1c10f-287">Das Ergebnis der Überprüfung ist einer der <xref:System.Security.Cryptography.SignatureVerificationResult> -Enumerationswerte.</span><span class="sxs-lookup"><span data-stu-id="1c10f-287">The result of the verification is one of the <xref:System.Security.Cryptography.SignatureVerificationResult> enumeration values.</span></span>

- <span data-ttu-id="1c10f-288">Die <xref:System.Security.Cryptography.ManifestSignatureInformationCollection> -Klasse stellt eine schreibgeschützte Auflistung der <xref:System.Security.Cryptography.ManifestSignatureInformation> -Objekte der überprüften Signatur bereit.</span><span class="sxs-lookup"><span data-stu-id="1c10f-288">The <xref:System.Security.Cryptography.ManifestSignatureInformationCollection> class provides a read-only collection of <xref:System.Security.Cryptography.ManifestSignatureInformation> objects of the verified signatures.</span></span>

<span data-ttu-id="1c10f-289">Außerdem stellen die folgenden Klassen bestimmte Signaturinformationen bereit:</span><span class="sxs-lookup"><span data-stu-id="1c10f-289">In addition, the following classes provide specific signature information:</span></span>

- <span data-ttu-id="1c10f-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation> Enthält die Informationen zur starken Namenssignatur für ein Manifest.</span><span class="sxs-lookup"><span data-stu-id="1c10f-290"><xref:System.Security.Cryptography.StrongNameSignatureInformation> holds the strong name signature information for a manifest.</span></span>

- <span data-ttu-id="1c10f-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation> Stellt die Informationen zur Authenticode-Signatur für ein Manifest dar.</span><span class="sxs-lookup"><span data-stu-id="1c10f-291"><xref:System.Security.Cryptography.X509Certificates.AuthenticodeSignatureInformation> represents the Authenticode signature information for a manifest.</span></span>

- <span data-ttu-id="1c10f-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation> Enthält Informationen zum Zeitstempel einer Authenticode-Signatur.</span><span class="sxs-lookup"><span data-stu-id="1c10f-292"><xref:System.Security.Cryptography.X509Certificates.TimestampInformation> contains information about the time stamp on an Authenticode signature.</span></span>

- <span data-ttu-id="1c10f-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus> Liefert eine einfache Möglichkeit, um zu überprüfen, ob eine Authenticode-Signatur vertrauenswürdig ist.</span><span class="sxs-lookup"><span data-stu-id="1c10f-293"><xref:System.Security.Cryptography.X509Certificates.TrustStatus> provides a simple way to check whether an Authenticode signature is trusted.</span></span>

## <a name="cryptography-next-generation-cng-classes"></a><span data-ttu-id="1c10f-294">CNG-Klassen (Cryptography Next Generation)</span><span class="sxs-lookup"><span data-stu-id="1c10f-294">Cryptography Next Generation (CNG) Classes</span></span>

<span data-ttu-id="1c10f-295">Die CNG-Klassen (Cryptography Next Generation) stellen einen verwalteten Wrapper um die systemeigenen CNG-Funktionen bereit.</span><span class="sxs-lookup"><span data-stu-id="1c10f-295">The Cryptography Next Generation (CNG) classes provide a managed wrapper around the native CNG functions.</span></span> <span data-ttu-id="1c10f-296">(CNG ist der Ersatz für CryptoAPI.) Diese Klassen verfügen über "CNG" als Teil ihrer Namen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-296">(CNG is the replacement for CryptoAPI.) These classes have "Cng" as part of their names.</span></span> <span data-ttu-id="1c10f-297">Zentrales Element dieser CNG-Wrapperklassen ist die <xref:System.Security.Cryptography.CngKey> -Schlüsselcontainerklasse, die die Speicherung und Verwendung von CNG-Schlüsseln abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="1c10f-297">Central to the CNG wrapper classes is the <xref:System.Security.Cryptography.CngKey> key container class, which abstracts the storage and use of CNG keys.</span></span> <span data-ttu-id="1c10f-298">Diese Klasse ermöglicht es, ein Schlüsselpaar oder einen öffentlichen Schlüssel sicher zu speichern und mittels eines einfachen Zeichenfolgennamens auf diesen zu verweisen.</span><span class="sxs-lookup"><span data-stu-id="1c10f-298">This class lets you store a key pair or a public key securely and refer to it by using a simple string name.</span></span> <span data-ttu-id="1c10f-299">Die ECDSA-basierte <xref:System.Security.Cryptography.ECDsaCng> -Signaturklasse und die <xref:System.Security.Cryptography.ECDiffieHellmanCng> -Verschlüsselungsklasse können <xref:System.Security.Cryptography.CngKey> -Objekte verwenden.</span><span class="sxs-lookup"><span data-stu-id="1c10f-299">The elliptic curve-based <xref:System.Security.Cryptography.ECDsaCng> signature class and the <xref:System.Security.Cryptography.ECDiffieHellmanCng> encryption class can use <xref:System.Security.Cryptography.CngKey> objects.</span></span>

<span data-ttu-id="1c10f-300">Die <xref:System.Security.Cryptography.CngKey> -Klasse wird für eine Vielzahl zusätzlicher Operationen verwendet, einschließlich dem Öffnen, Erstellen, Löschen und Exportieren von Schlüsseln.</span><span class="sxs-lookup"><span data-stu-id="1c10f-300">The <xref:System.Security.Cryptography.CngKey> class is used for a variety of additional operations, including opening, creating, deleting, and exporting keys.</span></span> <span data-ttu-id="1c10f-301">Sie stellt auch den Zugriff auf das zugrunde liegende Schlüsselhandle bereit, das für den direkten Aufruf systemeigener Funktionen verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-301">It also provides access to the underlying key handle to use when calling native functions directly.</span></span>

<span data-ttu-id="1c10f-302">.NET umfasst auch eine Reihe von unterstützenden CNG-Klassen, wie z. b. die folgenden:</span><span class="sxs-lookup"><span data-stu-id="1c10f-302">.NET also includes a variety of supporting CNG classes, such as the following:</span></span>

- <span data-ttu-id="1c10f-303"><xref:System.Security.Cryptography.CngProvider> verwaltet einen Schlüsselspeicheranbieter.</span><span class="sxs-lookup"><span data-stu-id="1c10f-303"><xref:System.Security.Cryptography.CngProvider> maintains a key storage provider.</span></span>

- <span data-ttu-id="1c10f-304"><xref:System.Security.Cryptography.CngAlgorithm> verwaltet einen CNG-Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="1c10f-304"><xref:System.Security.Cryptography.CngAlgorithm> maintains a CNG algorithm.</span></span>

- <span data-ttu-id="1c10f-305"><xref:System.Security.Cryptography.CngProperty> verwaltet häufig verwendete Schlüsseleigenschaften.</span><span class="sxs-lookup"><span data-stu-id="1c10f-305"><xref:System.Security.Cryptography.CngProperty> maintains frequently used key properties.</span></span>

## <a name="see-also"></a><span data-ttu-id="1c10f-306">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="1c10f-306">See also</span></span>

- <span data-ttu-id="1c10f-307">[Kryptografiemodell](cryptography-model.md) : Beschreibt, wie Kryptografie in der Basisklassen Bibliothek implementiert wird.</span><span class="sxs-lookup"><span data-stu-id="1c10f-307">[Cryptography Model](cryptography-model.md) - Describes how cryptography is implemented in the base class library.</span></span>
- [<span data-ttu-id="1c10f-308">Plattformübergreifende Kryptografie</span><span class="sxs-lookup"><span data-stu-id="1c10f-308">Cross-Platform Cryptography</span></span>](cross-platform-cryptography.md)
- [<span data-ttu-id="1c10f-309">Verwenden der Auffüllung für die Zeitsteuerung bei Sicherheitsrisiken mit symmetrischer Entschlüsselung im CBC-Modus</span><span class="sxs-lookup"><span data-stu-id="1c10f-309">Timing vulnerabilities with CBC-mode symmetric decryption using padding</span></span>](vulnerabilities-cbc-mode.md)
- [<span data-ttu-id="1c10f-310">ASP.net Core Datenschutz</span><span class="sxs-lookup"><span data-stu-id="1c10f-310">ASP.NET Core Data Protection</span></span>](/aspnet/core/security/data-protection/introduction)
