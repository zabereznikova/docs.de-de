---
title: Gründe für das Implementieren des ereignisbasierten asynchronen Musters
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- Event-based Asynchronous Pattern
- ProgressChangedEventArgs class
- BackgroundWorker component
- events [.NET], asynchronous
- AsyncOperationManager class
- threading [.NET], asynchronous features
- AsyncOperation class
- AsyncCompletedEventArgs class
ms.assetid: a00046aa-785d-4f7f-a8e5-d06475ea50da
ms.openlocfilehash: b9c3edeb468445e6f7a58ead194559bed5636579
ms.sourcegitcommit: 4a938327bad8b2e20cabd0f46a9dc50882596f13
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/28/2020
ms.locfileid: "92888853"
---
# <a name="deciding-when-to-implement-the-event-based-asynchronous-pattern"></a><span data-ttu-id="931a8-102">Gründe für das Implementieren des ereignisbasierten asynchronen Musters</span><span class="sxs-lookup"><span data-stu-id="931a8-102">Deciding When to Implement the Event-based Asynchronous Pattern</span></span>

<span data-ttu-id="931a8-103">Mit dem ereignisbasierten asynchronen Muster kann das asynchrone Verhalten einer Klasse verfügbar gemacht werden.</span><span class="sxs-lookup"><span data-stu-id="931a8-103">The Event-based Asynchronous Pattern provides a pattern for exposing the asynchronous behavior of a class.</span></span> <span data-ttu-id="931a8-104">Mit der Einführung dieses Musters definiert .NET zwei Muster, um asynchrones Verhalten verfügbar zu machen: das asynchrone Muster basierend auf der Schnittstelle <xref:System.IAsyncResult?displayProperty=nameWithType> und das ereignisbasierte Muster.</span><span class="sxs-lookup"><span data-stu-id="931a8-104">With the introduction of this pattern, .NET defines two patterns for exposing asynchronous behavior: the Asynchronous Pattern based on the <xref:System.IAsyncResult?displayProperty=nameWithType> interface, and the event-based pattern.</span></span> <span data-ttu-id="931a8-105">In diesem Artikel wird beschrieben, in welchen Fällen die Muster implementiert werden sollten.</span><span class="sxs-lookup"><span data-stu-id="931a8-105">This article describes when it's appropriate for you to implement both patterns.</span></span>

<span data-ttu-id="931a8-106">Weitere Informationen zur asynchronen Programmierung mit der <xref:System.IAsyncResult>-Benutzeroberfläche finden Sie unter [Asynchrones Programmiermodell (APM)](asynchronous-programming-model-apm.md).</span><span class="sxs-lookup"><span data-stu-id="931a8-106">For more information about asynchronous programming with the <xref:System.IAsyncResult> interface, see [Asynchronous Programming Model (APM)](asynchronous-programming-model-apm.md).</span></span>

## <a name="general-principles"></a><span data-ttu-id="931a8-107">Allgemeine Prinzipien</span><span class="sxs-lookup"><span data-stu-id="931a8-107">General Principles</span></span>

<span data-ttu-id="931a8-108">Allgemein sollten Sie asynchrone Features, die das ereignisbasierte asynchrone Muster verwenden, nach Möglichkeit verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="931a8-108">In general, you should expose asynchronous features using the Event-based Asynchronous Pattern whenever possible.</span></span> <span data-ttu-id="931a8-109">Es gibt jedoch einige Anforderungen, die das ereignisbasierte Muster nicht erfüllen kann.</span><span class="sxs-lookup"><span data-stu-id="931a8-109">However, there are some requirements that the event-based pattern cannot meet.</span></span> <span data-ttu-id="931a8-110">In diesen Fällen müssen Sie neben dem ereignisbasierten Muster möglicherweise auch das <xref:System.IAsyncResult>-Muster implementieren.</span><span class="sxs-lookup"><span data-stu-id="931a8-110">In those cases, you may need to implement the <xref:System.IAsyncResult> pattern in addition to the event-based pattern.</span></span>

> [!NOTE]
> <span data-ttu-id="931a8-111">Das <xref:System.IAsyncResult>-Muster wird in den meisten Fällen zusammen mit dem ereignisbasierten Muster implementiert.</span><span class="sxs-lookup"><span data-stu-id="931a8-111">It is rare for the <xref:System.IAsyncResult> pattern to be implemented without the event-based pattern also being implemented.</span></span>

## <a name="guidelines"></a><span data-ttu-id="931a8-112">Richtlinien</span><span class="sxs-lookup"><span data-stu-id="931a8-112">Guidelines</span></span>

<span data-ttu-id="931a8-113">In der folgenden Liste werden die Richtlinien beschrieben, in welchen Fällen das ereignisbasierte asynchrone Muster implementiert werden sollte:</span><span class="sxs-lookup"><span data-stu-id="931a8-113">The following list describes the guidelines for when you should implement Event-based Asynchronous Pattern:</span></span>

- <span data-ttu-id="931a8-114">Verwenden Sie das ereignisbasierte Muster als Standard-API, um asynchrones Verhalten für Ihre Klasse verfügbar zu machen.</span><span class="sxs-lookup"><span data-stu-id="931a8-114">Use the event-based pattern as the default API to expose asynchronous behavior for your class.</span></span>

- <span data-ttu-id="931a8-115">Machen Sie das <xref:System.IAsyncResult>-Muster nicht verfügbar, wenn Ihre Klasse in erster Linie in einer Clientanwendung wie Windows Forms eingesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="931a8-115">Do not expose the <xref:System.IAsyncResult> pattern when your class is primarily used in a client application, for example Windows Forms.</span></span>

- <span data-ttu-id="931a8-116">Machen Sie das <xref:System.IAsyncResult>-Muster nur verfügbar, wenn dies zur Erfüllung Ihrer Anforderungen notwendig ist.</span><span class="sxs-lookup"><span data-stu-id="931a8-116">Only expose the <xref:System.IAsyncResult> pattern when it is necessary for meeting your requirements.</span></span> <span data-ttu-id="931a8-117">Das <xref:System.IAsyncResult>-Muster muss beispielsweise verfügbar gemacht werden, um Kompatibilität mit einer vorhandenen API herzustellen.</span><span class="sxs-lookup"><span data-stu-id="931a8-117">For example, compatibility with an existing API may require you to expose the <xref:System.IAsyncResult> pattern.</span></span>

- <span data-ttu-id="931a8-118">Machen Sie das <xref:System.IAsyncResult>-Muster nur in Verbindung mit dem ereignisbasierten Muster verfügbar.</span><span class="sxs-lookup"><span data-stu-id="931a8-118">Do not expose the <xref:System.IAsyncResult> pattern without also exposing the event-based pattern.</span></span>

- <span data-ttu-id="931a8-119">Wenn Sie das <xref:System.IAsyncResult>-Muster verfügbar machen, verwenden Sie hierfür eine erweiterte Option.</span><span class="sxs-lookup"><span data-stu-id="931a8-119">If you must expose the <xref:System.IAsyncResult> pattern, do so as an advanced option.</span></span> <span data-ttu-id="931a8-120">Wenn Sie beispielsweise ein Proxyobjekt generieren, generieren Sie standardmäßig das ereignisbasierte Muster mit einer Option zum Generieren des <xref:System.IAsyncResult>-Musters.</span><span class="sxs-lookup"><span data-stu-id="931a8-120">For example, if you generate a proxy object, generate the event-based pattern by default, with an option to generate the <xref:System.IAsyncResult> pattern.</span></span>

- <span data-ttu-id="931a8-121">Ziehen Sie als Grundlage für die Implementierung Ihres ereignisbasierten Musters die Implementierung Ihres <xref:System.IAsyncResult>-Musters heran.</span><span class="sxs-lookup"><span data-stu-id="931a8-121">Build your event-based pattern implementation on your <xref:System.IAsyncResult> pattern implementation.</span></span>

- <span data-ttu-id="931a8-122">Machen Sie das ereignisbasierte Muster und das <xref:System.IAsyncResult>-Muster nicht für die gleiche Klasse verfügbar.</span><span class="sxs-lookup"><span data-stu-id="931a8-122">Avoid exposing both the event-based pattern and the <xref:System.IAsyncResult> pattern on the same class.</span></span> <span data-ttu-id="931a8-123">Machen Sie das ereignisbasierte Muster für übergeordnete Klassen und das <xref:System.IAsyncResult>-Muster Klassen für untergeordnete Klassen verfügbar.</span><span class="sxs-lookup"><span data-stu-id="931a8-123">Expose the event-based pattern on "higher level" classes and the <xref:System.IAsyncResult> pattern on "lower level" classes.</span></span> <span data-ttu-id="931a8-124">Vergleichen Sie z.B. das ereignisbasierte Muster für die <xref:System.Net.WebClient>-Komponente mit dem <xref:System.IAsyncResult>-Muster für die <xref:System.Web.HttpRequest>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="931a8-124">For example, compare the event-based pattern on the <xref:System.Net.WebClient> component with the <xref:System.IAsyncResult> pattern on the <xref:System.Web.HttpRequest> class.</span></span>

  - <span data-ttu-id="931a8-125">Machen Sie das ereignisbasierte Muster und das <xref:System.IAsyncResult>-Muster für die gleiche Klasse verfügbar, wenn dies zur Bereitstellung von Kompatibilität erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="931a8-125">Expose the event-based pattern and the <xref:System.IAsyncResult> pattern on the same class when compatibility requires it.</span></span> <span data-ttu-id="931a8-126">Wenn Sie z.B. bereits eine API freigegeben haben, die das <xref:System.IAsyncResult>-Muster verwendet, müssten Sie das <xref:System.IAsyncResult>-Muster zum Bereitstellen von Abwärtskompatibilität beibehalten.</span><span class="sxs-lookup"><span data-stu-id="931a8-126">For example, if you have already released an API that uses the <xref:System.IAsyncResult> pattern, you would need to retain the <xref:System.IAsyncResult> pattern for backward compatibility.</span></span>

  - <span data-ttu-id="931a8-127">Machen Sie das ereignisbasierte Muster und das <xref:System.IAsyncResult>-Muster für die gleiche Klasse verfügbar, wenn die resultierende Objektmodellkomplexität den Vorteil einer Trennung der Implementierungen überwiegt.</span><span class="sxs-lookup"><span data-stu-id="931a8-127">Expose the event-based pattern and the <xref:System.IAsyncResult> pattern on the same class if the resulting object model complexity outweighs the benefit of separating the implementations.</span></span> <span data-ttu-id="931a8-128">Es ist besser, beide Muster für eine einzelne Klasse verfügbar zu machen, als auf die Bereitstellung des ereignisbasierten Musters zu verzichten.</span><span class="sxs-lookup"><span data-stu-id="931a8-128">It is better to expose both patterns on a single class than to avoid exposing the event-based pattern.</span></span>

  - <span data-ttu-id="931a8-129">Wenn Sie sowohl das ereignisbasierte Muster als auch das <xref:System.IAsyncResult>-Muster für eine einzelne Klasse verfügbar machen müssen, legen Sie <xref:System.ComponentModel.EditorBrowsableAttribute> auf <xref:System.ComponentModel.EditorBrowsableState.Advanced> fest, um die Implementierung des <xref:System.IAsyncResult>-Musters als erweitertes Feature zu kennzeichnen.</span><span class="sxs-lookup"><span data-stu-id="931a8-129">If you must expose both the event-based pattern and <xref:System.IAsyncResult> pattern on a single class, use <xref:System.ComponentModel.EditorBrowsableAttribute> set to <xref:System.ComponentModel.EditorBrowsableState.Advanced> to mark the <xref:System.IAsyncResult> pattern implementation as an advanced feature.</span></span> <span data-ttu-id="931a8-130">Dies ist ein Hinweis für Entwurfsumgebungen wie Visual Studio IntelliSense, nicht die <xref:System.IAsyncResult>-Eigenschaften und -Methoden anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="931a8-130">This indicates to design environments, such as Visual Studio IntelliSense, not to display the <xref:System.IAsyncResult> properties and methods.</span></span> <span data-ttu-id="931a8-131">Diese Eigenschaften und Methoden sind weiterhin im vollen Umfang nutzbar, aber Entwickler, die mit IntelliSense arbeiten, haben einen umfassenderen Überblick über die API.</span><span class="sxs-lookup"><span data-stu-id="931a8-131">These properties and methods are still fully usable, but the developer working through IntelliSense has a clearer view of the API.</span></span>

## <a name="criteria-for-exposing-the-iasyncresult-pattern-in-addition-to-the-event-based-pattern"></a><span data-ttu-id="931a8-132">Kriterien für das Verfügbarmachen des IAsyncResult-Musters zusätzlich zum ereignisbasierten Muster</span><span class="sxs-lookup"><span data-stu-id="931a8-132">Criteria for Exposing the IAsyncResult Pattern in Addition to the Event-based Pattern</span></span>

<span data-ttu-id="931a8-133">Das ereignisbasierte asynchrone Muster bietet zwar zahlreiche Vorteile im Zusammenhang mit den zuvor erläuterten Szenarien, bringt jedoch auch einige Nachteile mit sich, die Sie berücksichtigen sollten, wenn Leistung an oberster Stelle für Sie steht.</span><span class="sxs-lookup"><span data-stu-id="931a8-133">While the Event-based Asynchronous Pattern has many benefits under the previously mentioned scenarios, it does have some drawbacks, which you should be aware of if performance is your most important requirement.</span></span>

<span data-ttu-id="931a8-134">Es gibt drei Szenarien, die weder das ereignisbasierte Muster noch das <xref:System.IAsyncResult>-Muster bewältigen:</span><span class="sxs-lookup"><span data-stu-id="931a8-134">There are three scenarios that the event-based pattern does not address as well as the <xref:System.IAsyncResult> pattern:</span></span>

- <span data-ttu-id="931a8-135">Blockieren des Wartevorgangs bei einem <xref:System.IAsyncResult>-Objekt</span><span class="sxs-lookup"><span data-stu-id="931a8-135">Blocking wait on one <xref:System.IAsyncResult></span></span>

- <span data-ttu-id="931a8-136">Blockieren des Wartevorgang bei vielen <xref:System.IAsyncResult>-Objekten</span><span class="sxs-lookup"><span data-stu-id="931a8-136">Blocking wait on many <xref:System.IAsyncResult> objects</span></span>

- <span data-ttu-id="931a8-137">Abrufen der Beendigung bezüglich <xref:System.IAsyncResult></span><span class="sxs-lookup"><span data-stu-id="931a8-137">Polling for completion on the <xref:System.IAsyncResult></span></span>

<span data-ttu-id="931a8-138">Diese Szenarien können mithilfe des ereignisbasierten Musters bewältigt werden, was jedoch umständlicher ist als die Verwendung des <xref:System.IAsyncResult>-Musters.</span><span class="sxs-lookup"><span data-stu-id="931a8-138">You can address these scenarios by using the event-based pattern, but doing so is more cumbersome than using the <xref:System.IAsyncResult> pattern.</span></span>

<span data-ttu-id="931a8-139">Entwickler verwenden häufig das <xref:System.IAsyncResult>-Muster für Dienste, die üblicherweise eine sehr hohe Leistung erfordern.</span><span class="sxs-lookup"><span data-stu-id="931a8-139">Developers often use the <xref:System.IAsyncResult> pattern for services that typically have very high performance requirements.</span></span> <span data-ttu-id="931a8-140">Der Abruf des Beendigungsszenarios ist beispielsweise ein leistungsintensives Serververfahren.</span><span class="sxs-lookup"><span data-stu-id="931a8-140">For example, the polling for completion scenario is a high-performance server technique.</span></span>

<span data-ttu-id="931a8-141">Darüber hinaus ist das ereignisbasierte Muster weniger effizient als das <xref:System.IAsyncResult>-Muster, da mehrere Objekte, insbesondere <xref:System.EventArgs>, erstellt werden und es threadübergreifend synchronisiert wird.</span><span class="sxs-lookup"><span data-stu-id="931a8-141">Additionally, the event-based pattern is less efficient than the <xref:System.IAsyncResult> pattern because it creates more objects, especially <xref:System.EventArgs>, and because it synchronizes across threads.</span></span>

<span data-ttu-id="931a8-142">Die folgende Liste enthält einige Empfehlungen, die Sie bei Verwendung des <xref:System.IAsyncResult>-Musters berücksichtigen sollten:</span><span class="sxs-lookup"><span data-stu-id="931a8-142">The following list shows some recommendations to follow if you decide to use the <xref:System.IAsyncResult> pattern:</span></span>

- <span data-ttu-id="931a8-143">Machen Sie das <xref:System.IAsyncResult>-Muster nur verfügbar, wenn Sie insbesondere Unterstützung für <xref:System.Threading.WaitHandle>- oder <xref:System.IAsyncResult>-Objekte benötigen.</span><span class="sxs-lookup"><span data-stu-id="931a8-143">Only expose the <xref:System.IAsyncResult> pattern when you specifically require support for <xref:System.Threading.WaitHandle> or <xref:System.IAsyncResult> objects.</span></span>

- <span data-ttu-id="931a8-144">Machen Sie das <xref:System.IAsyncResult>-Muster nur verfügbar, wenn Sie eine API basierend auf diesem <xref:System.IAsyncResult>-Muster besitzen.</span><span class="sxs-lookup"><span data-stu-id="931a8-144">Only expose the <xref:System.IAsyncResult> pattern when you have an existing API that uses the <xref:System.IAsyncResult> pattern.</span></span>

- <span data-ttu-id="931a8-145">Wenn Sie über eine API basierend auf dem <xref:System.IAsyncResult>-Muster verfügen, sollten Sie das ereignisbasierte Muster zudem im nächsten Release verfügbar machen.</span><span class="sxs-lookup"><span data-stu-id="931a8-145">If you have an existing API based on the <xref:System.IAsyncResult> pattern, consider also exposing the event-based pattern in your next release.</span></span>

- <span data-ttu-id="931a8-146">Machen Sie das <xref:System.IAsyncResult>-Muster nur verfügbar, wenn Sie über hohe Leistungsanforderungen verfügen, die gemäß Ihrer Feststellung nicht mit dem ereignisbasierten Muster, jedoch mit dem <xref:System.IAsyncResult>-Muster erfüllt werden können.</span><span class="sxs-lookup"><span data-stu-id="931a8-146">Only expose <xref:System.IAsyncResult> pattern if you have high performance requirements which you have verified cannot be met by the event-based pattern but can be met by the <xref:System.IAsyncResult> pattern.</span></span>

## <a name="see-also"></a><span data-ttu-id="931a8-147">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="931a8-147">See also</span></span>

- [<span data-ttu-id="931a8-148">Gewusst wie: Implementieren einer Komponente, die das ereignisbasierte asynchrone Muster unterstützt</span><span class="sxs-lookup"><span data-stu-id="931a8-148">How to: Implement a Component That Supports the Event-based Asynchronous Pattern</span></span>](component-that-supports-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="931a8-149">Event-based Asynchronous Pattern (EAP) (Ereignisbasiertes asynchrones Muster (EAP))</span><span class="sxs-lookup"><span data-stu-id="931a8-149">Event-based Asynchronous Pattern (EAP)</span></span>](event-based-asynchronous-pattern-eap.md)
- [<span data-ttu-id="931a8-150">Implementieren des ereignisbasierten asynchronen Entwurfsmusters</span><span class="sxs-lookup"><span data-stu-id="931a8-150">Implementing the Event-based Asynchronous Pattern</span></span>](implementing-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="931a8-151">Bewährte Verfahrensweisen für das Implementieren des ereignisbasierten asynchronen Entwurfsmusters</span><span class="sxs-lookup"><span data-stu-id="931a8-151">Best Practices for Implementing the Event-based Asynchronous Pattern</span></span>](best-practices-for-implementing-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="931a8-152">Event-based Asynchronous Pattern Overview (Übersicht über ereignisbasierte asynchrone Muster)</span><span class="sxs-lookup"><span data-stu-id="931a8-152">Event-based Asynchronous Pattern Overview</span></span>](event-based-asynchronous-pattern-overview.md)
