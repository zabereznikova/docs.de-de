---
title: Übersicht über ereignisbasierte asynchrone Muster
description: In diesem Artikel werden ereignisbasierte asynchrone Muster in .NET erläutert, die die Vorteile von Multithreadanwendungen verfügbar machen und gewisse Designschwierigkeiten beseitigen.
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- Event-based Asynchronous Pattern
- ProgressChangedEventArgs class
- BackgroundWorker component
- events [.NET], asynchronous
- Asynchronous Pattern
- AsyncOperationManager class
- threading [.NET], asynchronous features
- AsyncOperation class
- AsyncCompletedEventArgs class
ms.assetid: 792aa8da-918b-458e-b154-9836b97735f3
ms.openlocfilehash: eb7680607c1def7cdc0dd5670b594e2ee1a6bfff
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/24/2020
ms.locfileid: "95678115"
---
# <a name="event-based-asynchronous-pattern-overview"></a><span data-ttu-id="12590-103">Übersicht über ereignisbasierte asynchrone Muster</span><span class="sxs-lookup"><span data-stu-id="12590-103">Event-based Asynchronous Pattern Overview</span></span>

<span data-ttu-id="12590-104">Für Anwendungen, die viele Aufgaben gleichzeitig durchführen, aber weiterhin auf Benutzerinteraktionen reagieren, ist oft ein Entwurf erforderlich, der mehrere Threads verwendet.</span><span class="sxs-lookup"><span data-stu-id="12590-104">Applications that perform many tasks simultaneously, yet remain responsive to user interaction, often require a design that uses multiple threads.</span></span> <span data-ttu-id="12590-105">Der <xref:System.Threading>-Namespace bietet alle erforderlichen Tools für die Erstellung von leistungsstarken Multithreadanwendungen, aber für eine effektive Verwendung dieser Tools ist eine umfassende Erfahrung mit der Multithread-Softwareentwicklung erforderlich.</span><span class="sxs-lookup"><span data-stu-id="12590-105">The <xref:System.Threading> namespace provides all the tools necessary to create high-performance multithreaded applications, but using these tools effectively requires significant experience with multithreaded software engineering.</span></span> <span data-ttu-id="12590-106">Für relativ einfache Multithreadanwendungen bietet die <xref:System.ComponentModel.BackgroundWorker>-Komponente eine unkomplizierte Lösung.</span><span class="sxs-lookup"><span data-stu-id="12590-106">For relatively simple multithreaded applications, the <xref:System.ComponentModel.BackgroundWorker> component provides a straightforward solution.</span></span> <span data-ttu-id="12590-107">Für komplexere asynchrone Anwendungen sollten Sie die Implementierung einer Klasse in Betracht ziehen, die den ereignisbasierten asynchronen Muster entspricht.</span><span class="sxs-lookup"><span data-stu-id="12590-107">For more sophisticated asynchronous applications, consider implementing a class that adheres to the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="12590-108">Das ereignisbasierte asynchrone Muster stellt die Vorteile von Multithreadanwendungen zur Verfügung und blendet gleichzeitig viele komplexe Aspekte von Multithreadentwürfen aus.</span><span class="sxs-lookup"><span data-stu-id="12590-108">The Event-based Asynchronous Pattern makes available the advantages of multithreaded applications while hiding many of the complex issues inherent in multithreaded design.</span></span> <span data-ttu-id="12590-109">Die Verwendung einer Klasse, die dieses Muster unterstützt, ermöglicht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="12590-109">Using a class that supports this pattern can allow you to:</span></span>  
  
- <span data-ttu-id="12590-110">Führen Sie zeitaufwendige Aufgaben wie Downloads und Datenbankvorgänge „in Hintergrund“ aus, ohne Ihre Anwendung zu unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="12590-110">Perform time-consuming tasks, such as downloads and database operations, "in the background," without interrupting your application.</span></span>  
  
- <span data-ttu-id="12590-111">Führen Sie mehrere Vorgänge gleichzeitig aus, und erhalten Sie Benachrichtigungen, wenn jede abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="12590-111">Execute multiple operations simultaneously, receiving notifications when each completes.</span></span>  
  
- <span data-ttu-id="12590-112">Warten Sie, bis Ressourcen verfügbar werden, ohne Ihre Anwendung anzuhalten („blockieren“).</span><span class="sxs-lookup"><span data-stu-id="12590-112">Wait for resources to become available without stopping ("blocking") your application.</span></span>  
  
- <span data-ttu-id="12590-113">Kommunizieren Sie mit ausstehenden asynchronen Vorgängen über das vertraute Modell mit Ereignissen und Delegaten.</span><span class="sxs-lookup"><span data-stu-id="12590-113">Communicate with pending asynchronous operations using the familiar events-and-delegates model.</span></span> <span data-ttu-id="12590-114">Weitere Informationen zum Verwenden von Ereignishandlern und Delegaten finden Sie unter [Ereignisse](../events/index.md).</span><span class="sxs-lookup"><span data-stu-id="12590-114">For more information on using event handlers and delegates, see [Events](../events/index.md).</span></span>  
  
 <span data-ttu-id="12590-115">Eine Klasse, die das ereignisbasierte asynchrone Muster unterstützt, verfügt über mindesten eine Methode namens _MethodName_**Async**.</span><span class="sxs-lookup"><span data-stu-id="12590-115">A class that supports the Event-based Asynchronous Pattern will have one or more methods named _MethodName_**Async**.</span></span> <span data-ttu-id="12590-116">Diese Methoden spiegeln möglicherweise synchrone Versionen wider, die denselben Vorgang im aktuellen Thread durchführen.</span><span class="sxs-lookup"><span data-stu-id="12590-116">These methods may mirror synchronous versions, which perform the same operation on the current thread.</span></span> <span data-ttu-id="12590-117">Die Klasse kann darüber hinaus auch über ein _MethodName_**Completed**-Ereignis und eine _MethodName_**AsyncCancel**-Methode (kurz **CancelAsync**) verfügen.</span><span class="sxs-lookup"><span data-stu-id="12590-117">The class may also have a _MethodName_**Completed** event and it may have a _MethodName_**AsyncCancel** (or simply **CancelAsync**) method.</span></span>  
  
 <span data-ttu-id="12590-118"><xref:System.Windows.Forms.PictureBox> ist eine typische Komponente, die das ereignisbasierte asynchrone Muster unterstützt.</span><span class="sxs-lookup"><span data-stu-id="12590-118"><xref:System.Windows.Forms.PictureBox> is a typical component that supports the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="12590-119">Sie können ein Image synchron herunterladen, indem Sie seine <xref:System.Windows.Forms.PictureBox.Load%2A>-Methode aufrufen, aber wenn das Image groß oder die Netzwerkverbindung langsam ist, reagiert Ihre Anwendung nicht mehr, bis der Downloadvorgang abgeschlossen ist und der Aufruf an <xref:System.Windows.Forms.PictureBox.Load%2A> zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="12590-119">You can download an image synchronously by calling its <xref:System.Windows.Forms.PictureBox.Load%2A> method, but if the image is large, or if the network connection is slow, your application will stop responding until the download operation is completed and the call to <xref:System.Windows.Forms.PictureBox.Load%2A> returns.</span></span>  
  
 <span data-ttu-id="12590-120">Wenn Sie möchten, dass Ihre Anwendung während des Ladens des Images weiter ausgeführt wird, können Sie die <xref:System.Windows.Forms.PictureBox.LoadAsync%2A>-Methode aufrufen und das <xref:System.Windows.Forms.PictureBox.LoadCompleted>-Ereignis verarbeiten, wie Sie jedes andere Ereignis verarbeiten würden.</span><span class="sxs-lookup"><span data-stu-id="12590-120">If you want your application to keep running while the image is loading, you can call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method and handle the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event, just as you would handle any other event.</span></span> <span data-ttu-id="12590-121">Wenn Sie die <xref:System.Windows.Forms.PictureBox.LoadAsync%2A>-Methode aufrufen, wird Ihre Anwendung weiterhin ausgeführt, während der Download in einem separaten Thread („im Hintergrund“) fortgesetzt wird.</span><span class="sxs-lookup"><span data-stu-id="12590-121">When you call the <xref:System.Windows.Forms.PictureBox.LoadAsync%2A> method, your application will continue to run while the download proceeds on a separate thread ("in the background").</span></span> <span data-ttu-id="12590-122">Ihr Ereignishandler wird aufgerufen, wenn der Ladevorgang für das Image abgeschlossen ist, und Ihr Ereignishandler kann den Parameter <xref:System.ComponentModel.AsyncCompletedEventArgs> untersuchen, um festzustellen, ob der Download erfolgreich abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="12590-122">Your event handler will be called when the image-loading operation is complete, and your event handler can examine the <xref:System.ComponentModel.AsyncCompletedEventArgs> parameter to determine if the download completed successfully.</span></span>  
  
 <span data-ttu-id="12590-123">Das ereignisbasierte asynchrone Muster erfordert, dass ein asynchroner Vorgang abgebrochen werden kann, und das <xref:System.Windows.Forms.PictureBox>-Steuerelement unterstützt diese Anforderung mit der <xref:System.Windows.Forms.PictureBox.CancelAsync%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="12590-123">The Event-based Asynchronous Pattern requires that an asynchronous operation can be canceled, and the <xref:System.Windows.Forms.PictureBox> control supports this requirement with its <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> method.</span></span> <span data-ttu-id="12590-124">Bei Aufrufen von <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> wird eine Anforderung übermittelt, um den ausstehenden Download zu beenden. Wenn die Aufgabe abgebrochen wird, wird das <xref:System.Windows.Forms.PictureBox.LoadCompleted>-Ereignis ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="12590-124">Calling <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> submits a request to stop the pending download, and when the task is canceled, the <xref:System.Windows.Forms.PictureBox.LoadCompleted> event is raised.</span></span>  
  
> [!CAUTION]
> <span data-ttu-id="12590-125">Es ist möglich, dass der Download gerade in dem Moment abgeschlossen wird, in dem die <xref:System.Windows.Forms.PictureBox.CancelAsync%2A>-Anforderung erfolgt, sodass <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> die Anforderung zum Abbrechen möglicherweise nicht widerspiegelt.</span><span class="sxs-lookup"><span data-stu-id="12590-125">It is possible that the download will finish just as the <xref:System.Windows.Forms.PictureBox.CancelAsync%2A> request is made, so <xref:System.ComponentModel.AsyncCompletedEventArgs.Cancelled%2A> may not reflect the request to cancel.</span></span> <span data-ttu-id="12590-126">Dies wird als *Racebedingung* bezeichnet und ist ein typisches Problem bei der Multithreadprogrammierung.</span><span class="sxs-lookup"><span data-stu-id="12590-126">This is called a *race condition* and is a common issue in multithreaded programming.</span></span> <span data-ttu-id="12590-127">Weitere Informationen zu Problemen bei der Multithreadprogrammierung finden Sie unter [Empfohlene Vorgehensweise für das verwaltete Threading](../threading/managed-threading-best-practices.md).</span><span class="sxs-lookup"><span data-stu-id="12590-127">For more information on issues in multithreaded programming, see [Managed Threading Best Practices](../threading/managed-threading-best-practices.md).</span></span>  
  
## <a name="characteristics-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="12590-128">Eigenschaften des ereignisbasierten asynchronen Musters</span><span class="sxs-lookup"><span data-stu-id="12590-128">Characteristics of the Event-based Asynchronous Pattern</span></span>  

 <span data-ttu-id="12590-129">Das ereignisbasierte asynchrone Muster kann je nach Komplexität der von einer bestimmten Klasse unterstützten Vorgänge mehrere Formen annehmen.</span><span class="sxs-lookup"><span data-stu-id="12590-129">The Event-based Asynchronous Pattern may take several forms, depending on the complexity of the operations supported by a particular class.</span></span> <span data-ttu-id="12590-130">Die einfachsten Klassen verfügen möglicherweise über eine einzige _MethodName_**Async**-Methode und ein entsprechendes _MethodName_**Completed**-Ereignis.</span><span class="sxs-lookup"><span data-stu-id="12590-130">The simplest classes may have a single _MethodName_**Async** method and a corresponding _MethodName_**Completed** event.</span></span> <span data-ttu-id="12590-131">Komplexere Klassen verfügen möglicherweise über mehrere _MethodName_**Async**-Methoden mit jeweils einem entsprechenden _MethodName_**Completed**-Ereignis sowie synchronen Versionen dieser Methoden.</span><span class="sxs-lookup"><span data-stu-id="12590-131">More complex classes may have several _MethodName_**Async** methods, each with a corresponding _MethodName_**Completed** event, as well as synchronous versions of these methods.</span></span> <span data-ttu-id="12590-132">Klassen können optional das Abbrechen, die Statusberichterstellung und inkrementelle Ergebnisse für jede asynchrone Methode unterstützen.</span><span class="sxs-lookup"><span data-stu-id="12590-132">Classes can optionally support cancellation, progress reporting, and incremental results for each asynchronous method.</span></span>  
  
 <span data-ttu-id="12590-133">Eine asynchrone Methode kann außerdem mehrere ausstehende Aufrufe (mehrere parallele Aufrufe) unterstützen, sodass Ihr Code diese beliebig oft aufrufen kann, bevor andere ausstehende Vorgänge abgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="12590-133">An asynchronous method may also support multiple pending calls (multiple concurrent invocations), allowing your code to call it any number of times before it completes other pending operations.</span></span> <span data-ttu-id="12590-134">Für eine ordnungsgemäße Handhabung dieser Situation muss Ihre Anwendung möglicherweise den Abschluss jedes Vorgangs nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="12590-134">Correctly handling this situation may require your application to track the completion of each operation.</span></span>  
  
### <a name="examples-of-the-event-based-asynchronous-pattern"></a><span data-ttu-id="12590-135">Beispiele für das ereignisbasierte asynchrone Muster</span><span class="sxs-lookup"><span data-stu-id="12590-135">Examples of the Event-based Asynchronous Pattern</span></span>  

 <span data-ttu-id="12590-136">Die Komponenten <xref:System.Media.SoundPlayer> und <xref:System.Windows.Forms.PictureBox> stellen einfache Implementierungen des ereignisbasierten asynchronen Musters dar.</span><span class="sxs-lookup"><span data-stu-id="12590-136">The <xref:System.Media.SoundPlayer> and <xref:System.Windows.Forms.PictureBox> components represent simple implementations of the Event-based Asynchronous Pattern.</span></span> <span data-ttu-id="12590-137">Die Komponenten <xref:System.Net.WebClient> und <xref:System.ComponentModel.BackgroundWorker> stellen komplexere Implementierungen des ereignisbasierten asynchronen Musters dar.</span><span class="sxs-lookup"><span data-stu-id="12590-137">The <xref:System.Net.WebClient> and <xref:System.ComponentModel.BackgroundWorker> components represent more complex implementations of the Event-based Asynchronous Pattern.</span></span>  
  
 <span data-ttu-id="12590-138">Im Folgenden sehen Sie ein Beispiel für eine Klassendeklaration, die dem Muster entspricht:</span><span class="sxs-lookup"><span data-stu-id="12590-138">Below is an example class declaration that conforms to the pattern:</span></span>  
  
```vb  
Public Class AsyncExample  
    ' Synchronous methods.  
    Public Function Method1(ByVal param As String) As Integer
    Public Sub Method2(ByVal param As Double)
  
    ' Asynchronous methods.  
    Overloads Public Sub Method1Async(ByVal param As String)
    Overloads Public Sub Method1Async(ByVal param As String, ByVal userState As Object)
    Public Event Method1Completed As Method1CompletedEventHandler  
  
    Overloads Public Sub Method2Async(ByVal param As Double)
    Overloads Public Sub Method2Async(ByVal param As Double, ByVal userState As Object)
    Public Event Method2Completed As Method2CompletedEventHandler  
  
    Public Sub CancelAsync(ByVal userState As Object)
  
    Public ReadOnly Property IsBusy () As Boolean  
  
    ' Class implementation not shown.  
End Class  
```  
  
```csharp  
public class AsyncExample  
{  
    // Synchronous methods.  
    public int Method1(string param);  
    public void Method2(double param);  
  
    // Asynchronous methods.  
    public void Method1Async(string param);  
    public void Method1Async(string param, object userState);  
    public event Method1CompletedEventHandler Method1Completed;  
  
    public void Method2Async(double param);  
    public void Method2Async(double param, object userState);  
    public event Method2CompletedEventHandler Method2Completed;  
  
    public void CancelAsync(object userState);  
  
    public bool IsBusy { get; }  
  
    // Class implementation not shown.  
}  
```  
  
 <span data-ttu-id="12590-139">Die fiktive `AsyncExample`-Klasse verfügt über zwei Methoden, die beide synchrone und asynchrone Aufrufe unterstützen.</span><span class="sxs-lookup"><span data-stu-id="12590-139">The fictitious `AsyncExample` class has two methods, both of which support synchronous and asynchronous invocations.</span></span> <span data-ttu-id="12590-140">Die synchronen Überladungen verhalten sich wie jeder beliebige Methodenaufruf und führen den Vorgang im aufrufenden Thread aus. Wenn der Vorgang zeitaufwendig ist, kommt es möglicherweise zu einer spürbaren Verzögerung, bis der Aufruf zurückgegeben wird.</span><span class="sxs-lookup"><span data-stu-id="12590-140">The synchronous overloads behave like any method call and execute the operation on the calling thread; if the operation is time-consuming, there may be a noticeable delay before the call returns.</span></span> <span data-ttu-id="12590-141">Die asynchronen Überlastungen starten den Vorgang in einem anderen Thread und geben dann sofort zurück, sodass der aufrufende Thread fortgesetzt werden kann, während der Vorgang „im Hintergrund“ ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="12590-141">The asynchronous overloads will start the operation on another thread and then return immediately, allowing the calling thread to continue while the operation executes "in the background."</span></span>  
  
### <a name="asynchronous-method-overloads"></a><span data-ttu-id="12590-142">Asynchrone Methodenüberladungen</span><span class="sxs-lookup"><span data-stu-id="12590-142">Asynchronous Method Overloads</span></span>  

 <span data-ttu-id="12590-143">Es gibt potenziell zwei Überladungen für die asynchronen Vorgänge: einzelner Aufruf und mehrere Aufrufe.</span><span class="sxs-lookup"><span data-stu-id="12590-143">There are potentially two overloads for the asynchronous operations: single-invocation and multiple-invocation.</span></span> <span data-ttu-id="12590-144">Sie können die zwei Formen anhand ihrer Methodensignaturen unterscheiden: Die Form mit mehreren Aufrufen hat einen zusätzlichen Parameter namens `userState`.</span><span class="sxs-lookup"><span data-stu-id="12590-144">You can distinguish these two forms by their method signatures: the multiple-invocation form has an extra parameter called `userState`.</span></span> <span data-ttu-id="12590-145">Diese Form ermöglicht Ihrem Code, `Method1Async(string param, object userState)` mehrmals aufzurufen, ohne darauf warten zu müssen, dass ausstehende asynchrone Vorgänge abgeschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="12590-145">This form makes it possible for your code to call `Method1Async(string param, object userState)` multiple times without waiting for any pending asynchronous operations to finish.</span></span> <span data-ttu-id="12590-146">Wenn Sie andererseits versuchen, `Method1Async(string param)` aufzurufen, bevor ein vorheriger Aufruf abgeschlossen ist, löst die Methode eine <xref:System.InvalidOperationException> aus.</span><span class="sxs-lookup"><span data-stu-id="12590-146">If, on the other hand, you try to call `Method1Async(string param)` before a previous invocation has completed, the method raises an <xref:System.InvalidOperationException>.</span></span>  
  
 <span data-ttu-id="12590-147">Der Parameter `userState` für die Überladungen mit mehreren Aufrufen ermöglicht Ihnen, zwischen asynchronen Vorgängen zu unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="12590-147">The `userState` parameter for the multiple-invocation overloads allows you to distinguish among asynchronous operations.</span></span> <span data-ttu-id="12590-148">Sie stellen einen eindeutigen Wert (z.B. eine GUID oder einen Hashcode) für jeden Aufruf an `Method1Async(string param, object userState)` bereit. Wenn jeder Vorgang abgeschlossen ist, kann Ihr Ereignishandler bestimmen, welche Instanz des Vorgangs das Abschlussereignis ausgelöst hat.</span><span class="sxs-lookup"><span data-stu-id="12590-148">You provide a unique value (for example, a GUID or hash code) for each call to `Method1Async(string param, object userState)`, and when each operation is completed, your event handler can determine which instance of the operation raised the completion event.</span></span>  
  
### <a name="tracking-pending-operations"></a><span data-ttu-id="12590-149">Nachverfolgen ausstehender Vorgänge</span><span class="sxs-lookup"><span data-stu-id="12590-149">Tracking Pending Operations</span></span>  

 <span data-ttu-id="12590-150">Wenn Sie die Überladungen mit mehreren Aufrufen verwenden, muss Ihr Code die `userState`-Objekte (Aufgaben-IDs) für ausstehende Aufgaben nachverfolgen.</span><span class="sxs-lookup"><span data-stu-id="12590-150">If you use the multiple-invocation overloads, your code will need to keep track of the `userState` objects (task IDs) for pending tasks.</span></span> <span data-ttu-id="12590-151">Für jeden Aufruf an `Method1Async(string param, object userState)` generieren Sie in der Regel ein neues eindeutiges `userState`-Objekt und fügen es einer Auflistung hinzu.</span><span class="sxs-lookup"><span data-stu-id="12590-151">For each call to `Method1Async(string param, object userState)`, you will typically generate a new, unique `userState` object and add it to a collection.</span></span> <span data-ttu-id="12590-152">Wenn die diesem `userState`-Objekt entsprechende Aufgabe das Abschlussereignis auslöst, untersucht Ihre Abschlussmethodenimplementierung <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> und entfernt es aus Ihrer Auflistung.</span><span class="sxs-lookup"><span data-stu-id="12590-152">When the task corresponding to this `userState` object raises the completion event, your completion method implementation will examine <xref:System.ComponentModel.AsyncCompletedEventArgs.UserState%2A?displayProperty=nameWithType> and remove it from your collection.</span></span> <span data-ttu-id="12590-153">Auf diese Weise verwendet übernimmt der Parameter `userState` die Rolle einer Aufgaben-ID.</span><span class="sxs-lookup"><span data-stu-id="12590-153">Used this way, the `userState` parameter takes the role of a task ID.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="12590-154">Sie müssen darauf achten, einen eindeutigen Wert für `userState` in Ihren Aufrufen an Überladungen mit mehreren Aufrufen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="12590-154">You must be careful to provide a unique value for `userState` in your calls to multiple-invocation overloads.</span></span> <span data-ttu-id="12590-155">Nicht eindeutige Aufgaben-IDs führen dazu, dass die asynchrone Klasse eine <xref:System.ArgumentException> auslöst.</span><span class="sxs-lookup"><span data-stu-id="12590-155">Non-unique task IDs will cause the asynchronous class throw an <xref:System.ArgumentException>.</span></span>  
  
### <a name="canceling-pending-operations"></a><span data-ttu-id="12590-156">Abbrechen ausstehender Vorgänge</span><span class="sxs-lookup"><span data-stu-id="12590-156">Canceling Pending Operations</span></span>  

 <span data-ttu-id="12590-157">Es ist wichtig, dass asynchrone Vorgänge jederzeit vor Ihrem Abschluss abgebrochen werden können.</span><span class="sxs-lookup"><span data-stu-id="12590-157">It is important to be able to cancel asynchronous operations at any time before their completion.</span></span> <span data-ttu-id="12590-158">Klassen, die das ereignisbasierte asynchrone Muster implementieren, verfügen über eine `CancelAsync`-Methode (wenn nur eine asynchrone Methode vorhanden ist) oder eine _MethodName_**AsyncCancel**-Methode (wenn mehrere asynchrone Methoden vorhanden sind).</span><span class="sxs-lookup"><span data-stu-id="12590-158">Classes that implement the Event-based Asynchronous Pattern will have a `CancelAsync` method (if there is only one asynchronous method) or a _MethodName_**AsyncCancel** method (if there are multiple asynchronous methods).</span></span>  
  
 <span data-ttu-id="12590-159">Methoden, die mehrere Aufrufe zulassen, nehmen einen `userState`-Parameter an, der verwendet werden kann, um die Lebensdauer jeder Aufgabe nachzuverfolgen.</span><span class="sxs-lookup"><span data-stu-id="12590-159">Methods that allow multiple invocations take a `userState` parameter, which can be used to track the lifetime of each task.</span></span> <span data-ttu-id="12590-160">`CancelAsync` nimmt einen `userState`-Parameter an, mit dem Sie bestimmte ausstehende Aufgaben abbrechen können.</span><span class="sxs-lookup"><span data-stu-id="12590-160">`CancelAsync` takes a `userState` parameter, which allows you to cancel particular pending tasks.</span></span>  
  
 <span data-ttu-id="12590-161">Methoden, die nur einen einzigen ausstehenden Vorgang auf einmal unterstützen, wie `Method1Async(string param)`, können nicht abgebrochen werden.</span><span class="sxs-lookup"><span data-stu-id="12590-161">Methods that support only a single pending operation at a time, like `Method1Async(string param)`, are not cancelable.</span></span>  
  
### <a name="receiving-progress-updates-and-incremental-results"></a><span data-ttu-id="12590-162">Erhalten von Statusaktualisierungen und inkrementellen Ergebnissen</span><span class="sxs-lookup"><span data-stu-id="12590-162">Receiving Progress Updates and Incremental Results</span></span>  

 <span data-ttu-id="12590-163">Eine Klasse, die dem ereignisbasierten asynchronen Muster entspricht, kann optional ein Ereignis für die Statusverfolgung und inkrementelle Ergebnisse bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="12590-163">A class that adheres to the Event-based Asynchronous Pattern may optionally provide an event for tracking progress and incremental results.</span></span> <span data-ttu-id="12590-164">Diese wird normalerweise `ProgressChanged` oder _MethodName_**ProgressChanged** genannt, und ihr entsprechender Ereignishandler nimmt den Parameter <xref:System.ComponentModel.ProgressChangedEventArgs> an.</span><span class="sxs-lookup"><span data-stu-id="12590-164">This will typically be named `ProgressChanged` or _MethodName_**ProgressChanged**, and its corresponding event handler will take a <xref:System.ComponentModel.ProgressChangedEventArgs> parameter.</span></span>  
  
 <span data-ttu-id="12590-165">Der Ereignishandler für das `ProgressChanged`-Ereignis kann die Eigenschaft <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> untersuchen, um festzustellen, welcher Prozentsatz eines asynchronen Tasks abgeschlossen wurde.</span><span class="sxs-lookup"><span data-stu-id="12590-165">The event handler for the `ProgressChanged` event can examine the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A?displayProperty=nameWithType> property to determine what percentage of an asynchronous task has been completed.</span></span> <span data-ttu-id="12590-166">Diese Eigenschaft liegt zwischen 0 und 100 und kann verwendet werden, um die <xref:System.Windows.Forms.ProgressBar.Value%2A>-Eigenschaft von <xref:System.Windows.Forms.ProgressBar> zu aktualisieren.</span><span class="sxs-lookup"><span data-stu-id="12590-166">This property will range from 0 to 100, and it can be used to update the <xref:System.Windows.Forms.ProgressBar.Value%2A> property of a <xref:System.Windows.Forms.ProgressBar>.</span></span> <span data-ttu-id="12590-167">Wenn mehrere asynchrone Vorgänge ausstehen, können Sie die Eigenschaft <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> verwenden, um zu unterscheiden, welcher Vorgang den Status meldet.</span><span class="sxs-lookup"><span data-stu-id="12590-167">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A?displayProperty=nameWithType> property to distinguish which operation is reporting progress.</span></span>  
  
 <span data-ttu-id="12590-168">Einige Klassen melden möglicherweise inkrementelle Ergebnisse, wenn asynchrone Vorgänge fortgesetzt werden.</span><span class="sxs-lookup"><span data-stu-id="12590-168">Some classes may report incremental results as asynchronous operations proceed.</span></span> <span data-ttu-id="12590-169">Diese Ergebnisse werden in einer Klasse gespeichert, die von <xref:System.ComponentModel.ProgressChangedEventArgs> abgeleitet ist und als Eigenschaften in der abgeleiteten Klasse angezeigt.</span><span class="sxs-lookup"><span data-stu-id="12590-169">These results will be stored in a class that derives from <xref:System.ComponentModel.ProgressChangedEventArgs> and they will appear as properties in the derived class.</span></span> <span data-ttu-id="12590-170">Sie können auf diese Ergebnisse im Ereignishandler für das `ProgressChanged`-Ereignis so zugreifen, wie Sie auf die <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A>-Eigenschaft zugreifen würden.</span><span class="sxs-lookup"><span data-stu-id="12590-170">You can access these results in the event handler for the `ProgressChanged` event, just as you would access the <xref:System.ComponentModel.ProgressChangedEventArgs.ProgressPercentage%2A> property.</span></span> <span data-ttu-id="12590-171">Wenn mehrere asynchrone Vorgänge ausstehen, können Sie die Eigenschaft <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> verwenden, um zu unterscheiden, welcher Vorgang inkrementelle Ergebnisse meldet.</span><span class="sxs-lookup"><span data-stu-id="12590-171">If multiple asynchronous operations are pending, you can use the <xref:System.ComponentModel.ProgressChangedEventArgs.UserState%2A> property to distinguish which operation is reporting incremental results.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="12590-172">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="12590-172">See also</span></span>

- <xref:System.ComponentModel.ProgressChangedEventArgs>
- <xref:System.ComponentModel.BackgroundWorker>
- <xref:System.ComponentModel.AsyncCompletedEventArgs>
- [<span data-ttu-id="12590-173">How to: How to: Use Components That Support the Event-based Asynchronous Pattern (Vorgehensweise: Verwenden von Komponenten, die das ereignisbasierte asynchrone Muster unterstützen)</span><span class="sxs-lookup"><span data-stu-id="12590-173">How to: Use Components That Support the Event-based Asynchronous Pattern</span></span>](how-to-use-components-that-support-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="12590-174">How to: Ausführen eines Vorgangs im Hintergrund</span><span class="sxs-lookup"><span data-stu-id="12590-174">How to: Run an Operation in the Background</span></span>](/dotnet/desktop/winforms/controls/how-to-run-an-operation-in-the-background)
- [<span data-ttu-id="12590-175">How to: Implementieren eines Formulars, das eine Hintergrundoperation verwendet</span><span class="sxs-lookup"><span data-stu-id="12590-175">How to: Implement a Form That Uses a Background Operation</span></span>](/dotnet/desktop/winforms/controls/how-to-implement-a-form-that-uses-a-background-operation)
- [<span data-ttu-id="12590-176">Ereignisbasiertes asynchrones Muster (EAP)</span><span class="sxs-lookup"><span data-stu-id="12590-176">Event-based Asynchronous Pattern (EAP)</span></span>](event-based-asynchronous-pattern-eap.md)
- [<span data-ttu-id="12590-177">Bewährte Verfahrensweisen für das Implementieren des ereignisbasierten asynchronen Entwurfsmusters</span><span class="sxs-lookup"><span data-stu-id="12590-177">Best Practices for Implementing the Event-based Asynchronous Pattern</span></span>](best-practices-for-implementing-the-event-based-asynchronous-pattern.md)
- [<span data-ttu-id="12590-178">Deciding When to Implement the Event-based Asynchronous Pattern (Gründe für das Implementieren des ereignisbasierten asynchronen Musters)</span><span class="sxs-lookup"><span data-stu-id="12590-178">Deciding When to Implement the Event-based Asynchronous Pattern</span></span>](deciding-when-to-implement-the-event-based-asynchronous-pattern.md)
