---
title: Richtlinien für Auflistungen
ms.date: 10/22/2008
ms.assetid: 297b8f1d-b11f-4dc6-960a-8e990817304e
ms.openlocfilehash: a143e88be01bf2c8f45e25f26498d2d3ccbd98da
ms.sourcegitcommit: d8020797a6657d0fbbdff362b80300815f682f94
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/24/2020
ms.locfileid: "95706670"
---
# <a name="guidelines-for-collections"></a><span data-ttu-id="fea4c-102">Richtlinien für Auflistungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-102">Guidelines for Collections</span></span>

<span data-ttu-id="fea4c-103">Jeder Typ, der speziell zum Bearbeiten einer Gruppe von Objekten entworfen wurde, die über ein gemeinsames Merkmal verfügen, kann als Sammlung angesehen werden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-103">Any type designed specifically to manipulate a group of objects having some common characteristic can be considered a collection.</span></span> <span data-ttu-id="fea4c-104">Es ist fast immer für solche Typen geeignet, oder zu implementieren <xref:System.Collections.IEnumerable> <xref:System.Collections.Generic.IEnumerable%601> , daher berücksichtigen wir in diesem Abschnitt nur Typen, die eine oder beide dieser Schnittstellen implementieren, um Auflistungen zu sein.</span><span class="sxs-lookup"><span data-stu-id="fea4c-104">It is almost always appropriate for such types to implement <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601>, so in this section we only consider types implementing one or both of those interfaces to be collections.</span></span>

 <span data-ttu-id="fea4c-105">❌ Verwenden Sie keine schwach typisierten Auflistungen in öffentlichen APIs.</span><span class="sxs-lookup"><span data-stu-id="fea4c-105">❌ DO NOT use weakly typed collections in public APIs.</span></span>

 <span data-ttu-id="fea4c-106">Der Typ aller Rückgabewerte und Parameter, die Sammel Elemente darstellen, sollte der exakte Elementtyp und nicht einer seiner Basis Typen sein (Dies gilt nur für öffentliche Member der Auflistung).</span><span class="sxs-lookup"><span data-stu-id="fea4c-106">The type of all return values and parameters representing collection items should be the exact item type, not any of its base types (this applies only to public members of the collection).</span></span>

 <span data-ttu-id="fea4c-107">❌ Verwenden Sie <xref:System.Collections.ArrayList> <xref:System.Collections.Generic.List%601> in öffentlichen APIs nicht oder.</span><span class="sxs-lookup"><span data-stu-id="fea4c-107">❌ DO NOT use <xref:System.Collections.ArrayList> or <xref:System.Collections.Generic.List%601> in public APIs.</span></span>

 <span data-ttu-id="fea4c-108">Bei diesen Typen handelt es sich um Datenstrukturen, die in der internen Implementierung, nicht in öffentlichen APIs verwendet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-108">These types are data structures designed to be used in internal implementation, not in public APIs.</span></span> <span data-ttu-id="fea4c-109">`List<T>` ist für die Leistung und die Leistung auf Kosten der Bereinigung der APIs und Flexibilität optimiert.</span><span class="sxs-lookup"><span data-stu-id="fea4c-109">`List<T>` is optimized for performance and power at the cost of cleanness of the APIs and flexibility.</span></span> <span data-ttu-id="fea4c-110">Wenn Sie z `List<T>` . b. zurückgeben, sind Sie nicht mehr in der Lage, Benachrichtigungen zu empfangen, wenn der Client Code die Auflistung ändert.</span><span class="sxs-lookup"><span data-stu-id="fea4c-110">For example, if you return `List<T>`, you will not ever be able to receive notifications when client code modifies the collection.</span></span> <span data-ttu-id="fea4c-111">Darüber hinaus macht viele Member verfügbar `List<T>` , z <xref:System.Collections.Generic.List%601.BinarySearch%2A> . b., die in vielen Szenarios nicht nützlich oder anwendbar sind.</span><span class="sxs-lookup"><span data-stu-id="fea4c-111">Also, `List<T>` exposes many members, such as <xref:System.Collections.Generic.List%601.BinarySearch%2A>, that are not useful or applicable in many scenarios.</span></span> <span data-ttu-id="fea4c-112">In den folgenden beiden Abschnitten werden Typen (Abstraktionen) beschrieben, die speziell für die Verwendung in öffentlichen APIs entworfen wurden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-112">The following two sections describe types (abstractions) designed specifically for use in public APIs.</span></span>

 <span data-ttu-id="fea4c-113">❌ Verwenden Sie `Hashtable` `Dictionary<TKey,TValue>` in öffentlichen APIs nicht oder.</span><span class="sxs-lookup"><span data-stu-id="fea4c-113">❌ DO NOT use `Hashtable` or `Dictionary<TKey,TValue>` in public APIs.</span></span>

 <span data-ttu-id="fea4c-114">Diese Typen sind Datenstrukturen, die für die Verwendung in der internen Implementierung entwickelt wurden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-114">These types are data structures designed to be used in internal implementation.</span></span> <span data-ttu-id="fea4c-115">Öffentliche APIs sollten <xref:System.Collections.IDictionary> , `IDictionary <TKey, TValue>` oder einen benutzerdefinierten Typ verwenden, der eine oder beide Schnittstellen implementiert.</span><span class="sxs-lookup"><span data-stu-id="fea4c-115">Public APIs should use <xref:System.Collections.IDictionary>, `IDictionary <TKey, TValue>`, or a custom type implementing one or both of the interfaces.</span></span>

 <span data-ttu-id="fea4c-116">❌ Verwenden Sie nicht <xref:System.Collections.Generic.IEnumerator%601> , <xref:System.Collections.IEnumerator> oder einen anderen Typ, der eine dieser Schnittstellen implementiert, außer als Rückgabetyp einer `GetEnumerator` Methode.</span><span class="sxs-lookup"><span data-stu-id="fea4c-116">❌ DO NOT use <xref:System.Collections.Generic.IEnumerator%601>, <xref:System.Collections.IEnumerator>, or any other type that implements either of these interfaces, except as the return type of a `GetEnumerator` method.</span></span>

 <span data-ttu-id="fea4c-117">Typen, die Enumeratoren von anderen Methoden als zurück `GetEnumerator` geben, können nicht mit der-Anweisung verwendet werden `foreach` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-117">Types returning enumerators from methods other than `GetEnumerator` cannot be used with the `foreach` statement.</span></span>

 <span data-ttu-id="fea4c-118">❌ Implementieren Sie nicht sowohl `IEnumerator<T>` als auch `IEnumerable<T>` für denselben Typ.</span><span class="sxs-lookup"><span data-stu-id="fea4c-118">❌ DO NOT implement both `IEnumerator<T>` and `IEnumerable<T>` on the same type.</span></span> <span data-ttu-id="fea4c-119">Das gleiche gilt für die nicht generischen Schnittstellen `IEnumerator` und `IEnumerable` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-119">The same applies to the nongeneric interfaces `IEnumerator` and `IEnumerable`.</span></span>

## <a name="collection-parameters"></a><span data-ttu-id="fea4c-120">Sammlungs Parameter</span><span class="sxs-lookup"><span data-stu-id="fea4c-120">Collection Parameters</span></span>

 <span data-ttu-id="fea4c-121">✔️ Verwenden Sie den am wenigsten spezialisierten Typ, der als Parametertyp möglich ist.</span><span class="sxs-lookup"><span data-stu-id="fea4c-121">✔️ DO use the least-specialized type possible as a parameter type.</span></span> <span data-ttu-id="fea4c-122">Die meisten Member, die Sammlungen als Parameter verwenden, verwenden die- `IEnumerable<T>` Schnittstelle</span><span class="sxs-lookup"><span data-stu-id="fea4c-122">Most members taking collections as parameters use the `IEnumerable<T>` interface.</span></span>

 <span data-ttu-id="fea4c-123">❌ Vermeiden Sie <xref:System.Collections.Generic.ICollection%601> <xref:System.Collections.ICollection> die Verwendung von oder als Parameter nur für den Zugriff auf die- `Count` Eigenschaft.</span><span class="sxs-lookup"><span data-stu-id="fea4c-123">❌ AVOID using <xref:System.Collections.Generic.ICollection%601> or <xref:System.Collections.ICollection> as a parameter just to access the `Count` property.</span></span>

 <span data-ttu-id="fea4c-124">Verwenden Sie stattdessen oder, und überprüfen Sie, `IEnumerable<T>` `IEnumerable` ob das Objekt `ICollection<T>` oder implementiert `ICollection` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-124">Instead, consider using `IEnumerable<T>` or `IEnumerable` and dynamically checking whether the object implements `ICollection<T>` or `ICollection`.</span></span>

## <a name="collection-properties-and-return-values"></a><span data-ttu-id="fea4c-125">Sammlungs Eigenschaften und Rückgabewerte</span><span class="sxs-lookup"><span data-stu-id="fea4c-125">Collection Properties and Return Values</span></span>

 <span data-ttu-id="fea4c-126">❌ Stellen Sie keine festleg baren Sammlungs Eigenschaften bereit.</span><span class="sxs-lookup"><span data-stu-id="fea4c-126">❌ DO NOT provide settable collection properties.</span></span>

 <span data-ttu-id="fea4c-127">Benutzer können den Inhalt der Auflistung ersetzen, indem Sie zuerst die Auflistung löschen und dann den neuen Inhalt hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-127">Users can replace the contents of the collection by clearing the collection first and then adding the new contents.</span></span> <span data-ttu-id="fea4c-128">Wenn das Ersetzen der gesamten Auflistung ein gängiges Szenario ist, sollten Sie die- `AddRange` Methode in der Auflistung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-128">If replacing the whole collection is a common scenario, consider providing the `AddRange` method on the collection.</span></span>

 <span data-ttu-id="fea4c-129">✔️ verwenden `Collection<T>` oder eine Unterklasse von `Collection<T>` für Eigenschaften oder Rückgabewerte, die Lese-/schreibauflistungen darstellen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-129">✔️ DO use `Collection<T>` or a subclass of `Collection<T>` for properties or return values representing read/write collections.</span></span>

 <span data-ttu-id="fea4c-130">Wenn `Collection<T>` eine bestimmte Anforderung nicht erfüllt (z. b. wenn die Auflistung nicht implementieren darf <xref:System.Collections.IList> ), verwenden Sie eine benutzerdefinierte Auflistung, indem Sie `IEnumerable<T>` , `ICollection<T>` oder implementieren <xref:System.Collections.Generic.IList%601> .</span><span class="sxs-lookup"><span data-stu-id="fea4c-130">If `Collection<T>` does not meet some requirement (e.g., the collection must not implement <xref:System.Collections.IList>), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or <xref:System.Collections.Generic.IList%601>.</span></span>

 <span data-ttu-id="fea4c-131">✔️ verwenden <xref:System.Collections.ObjectModel.ReadOnlyCollection%601> , eine Unterklasse von `ReadOnlyCollection<T>` oder in seltenen Fällen `IEnumerable<T>` für Eigenschaften oder Rückgabewerte, die schreibgeschützte Auflistungen darstellen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-131">✔️ DO use <xref:System.Collections.ObjectModel.ReadOnlyCollection%601>, a subclass of `ReadOnlyCollection<T>`, or in rare cases `IEnumerable<T>` for properties or return values representing read-only collections.</span></span>

 <span data-ttu-id="fea4c-132">Im allgemeinen bevorzugen Sie `ReadOnlyCollection<T>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-132">In general, prefer `ReadOnlyCollection<T>`.</span></span> <span data-ttu-id="fea4c-133">Wenn dies nicht der Fall ist (z. b. wenn die Auflistung nicht implementieren darf `IList` ), verwenden Sie eine benutzerdefinierte Auflistung, indem Sie `IEnumerable<T>` , `ICollection<T>` oder implementieren `IList<T>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-133">If it does not meet some requirement (e.g., the collection must not implement `IList`), use a custom collection by implementing `IEnumerable<T>`, `ICollection<T>`, or `IList<T>`.</span></span> <span data-ttu-id="fea4c-134">Wenn Sie eine benutzerdefinierte schreibgeschützte Auflistung implementieren, implementieren Sie `ICollection<T>.IsReadOnly` , um zurückzugeben `true` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-134">If you do implement a custom read-only collection, implement `ICollection<T>.IsReadOnly` to return `true`.</span></span>

 <span data-ttu-id="fea4c-135">In Fällen, in denen Sie sicher sind, dass das einzige Szenario, das Sie unterstützen möchten, eine vorwärts Iterations iterierung ist, können Sie einfach verwenden `IEnumerable<T>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-135">In cases where you are sure that the only scenario you will ever want to support is forward-only iteration, you can simply use `IEnumerable<T>`.</span></span>

 <span data-ttu-id="fea4c-136">✔️ sollten die Verwendung von Unterklassen generischer Basis Auflistungen in Erwägung gezogen werden, anstatt die Auflistungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-136">✔️ CONSIDER using subclasses of generic base collections instead of using the collections directly.</span></span>

 <span data-ttu-id="fea4c-137">Dies ermöglicht einen besseren Namen und das Hinzufügen von hilfselmembern, die in den Basis Auflistungs Typen nicht vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="fea4c-137">This allows for a better name and for adding helper members that are not present on the base collection types.</span></span> <span data-ttu-id="fea4c-138">Dies gilt insbesondere für APIs auf hoher Ebene.</span><span class="sxs-lookup"><span data-stu-id="fea4c-138">This is especially applicable to high-level APIs.</span></span>

 <span data-ttu-id="fea4c-139">✔️ sollten eine Unterklasse von `Collection<T>` oder `ReadOnlyCollection<T>` von sehr häufig verwendeten Methoden und Eigenschaften zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fea4c-139">✔️ CONSIDER returning a subclass of `Collection<T>` or `ReadOnlyCollection<T>` from very commonly used methods and properties.</span></span>

 <span data-ttu-id="fea4c-140">Auf diese Weise können Sie Hilfsmethoden hinzufügen oder die Auflistungs Implementierung in Zukunft ändern.</span><span class="sxs-lookup"><span data-stu-id="fea4c-140">This will make it possible for you to add helper methods or change the collection implementation in the future.</span></span>

 <span data-ttu-id="fea4c-141">✔️ sollten Sie eine Schlüssel gebundene Sammlung verwenden, wenn die in der Auflistung gespeicherten Elemente eindeutige Schlüssel (Namen, IDs usw.) aufweisen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-141">✔️ CONSIDER using a keyed collection if the items stored in the collection have unique keys (names, IDs, etc.).</span></span> <span data-ttu-id="fea4c-142">Schlüssel gebundene Auflistungen sind Auflistungen, die sowohl durch eine ganze Zahl als auch durch einen Schlüssel indiziert werden können und in der Regel durch Erben von implementiert werden `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-142">Keyed collections are collections that can be indexed by both an integer and a key and are usually implemented by inheriting from `KeyedCollection<TKey,TItem>`.</span></span>

 <span data-ttu-id="fea4c-143">Schlüssel gebundene Sammlungen verfügen in der Regel über eine größere Speicherauslastung und sollten nicht verwendet werden, wenn der Arbeitsspeicher Aufwand die Vorteile der Schlüssel auswiegt.</span><span class="sxs-lookup"><span data-stu-id="fea4c-143">Keyed collections usually have larger memory footprints and should not be used if the memory overhead outweighs the benefits of having the keys.</span></span>

 <span data-ttu-id="fea4c-144">❌ Geben Sie keine NULL-Werte aus Sammlungs Eigenschaften oder Methoden zurück, die Auflistungen zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fea4c-144">❌ DO NOT return null values from collection properties or from methods returning collections.</span></span> <span data-ttu-id="fea4c-145">Gibt stattdessen eine leere Auflistung oder ein leeres Array zurück.</span><span class="sxs-lookup"><span data-stu-id="fea4c-145">Return an empty collection or an empty array instead.</span></span>

 <span data-ttu-id="fea4c-146">Die allgemeine Regel ist, dass NULL-und leere (0 Element) Auflistungen oder Arrays gleich behandelt werden sollen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-146">The general rule is that null and empty (0 item) collections or arrays should be treated the same.</span></span>

### <a name="snapshots-versus-live-collections"></a><span data-ttu-id="fea4c-147">Momentaufnahmen im Vergleich zu Live Sammlungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-147">Snapshots Versus Live Collections</span></span>

 <span data-ttu-id="fea4c-148">Sammlungen, die einen Zustand zu einem bestimmten Zeitpunkt darstellen, werden als Momentaufnahme Auflistungen bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fea4c-148">Collections representing a state at some point in time are called snapshot collections.</span></span> <span data-ttu-id="fea4c-149">Beispielsweise wäre eine Auflistung, die Zeilen enthält, die von einer Datenbankabfrage zurückgegeben werden, eine Momentaufnahme.</span><span class="sxs-lookup"><span data-stu-id="fea4c-149">For example, a collection containing rows returned from a database query would be a snapshot.</span></span> <span data-ttu-id="fea4c-150">Sammlungen, die den aktuellen Zustand immer darstellen, werden als Live Auflistungen bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="fea4c-150">Collections that always represent the current state are called live collections.</span></span> <span data-ttu-id="fea4c-151">Eine Auflistung von `ComboBox` Elementen ist beispielsweise eine Live Auflistung.</span><span class="sxs-lookup"><span data-stu-id="fea4c-151">For example, a collection of `ComboBox` items is a live collection.</span></span>

 <span data-ttu-id="fea4c-152">❌ Momentaufnahme Auflistungen von Eigenschaften nicht zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fea4c-152">❌ DO NOT return snapshot collections from properties.</span></span> <span data-ttu-id="fea4c-153">Eigenschaften sollten Live Auflistungen zurückgeben.</span><span class="sxs-lookup"><span data-stu-id="fea4c-153">Properties should return live collections.</span></span>

 <span data-ttu-id="fea4c-154">Eigenschaften Getter sollten sehr einfach sein.</span><span class="sxs-lookup"><span data-stu-id="fea4c-154">Property getters should be very lightweight operations.</span></span> <span data-ttu-id="fea4c-155">Zum Zurückgeben einer Momentaufnahme muss eine Kopie einer internen Sammlung in einem O (n)-Vorgang erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-155">Returning a snapshot requires creating a copy of an internal collection in an O(n) operation.</span></span>

 <span data-ttu-id="fea4c-156">✔️ verwenden entweder eine Momentaufnahme Auflistung oder eine Live `IEnumerable<T>` (oder einen Untertyp), um Auflistungen darzustellen, die flüchtig sind (d. h., Sie können sich ändern, ohne die Auflistung explizit zu ändern).</span><span class="sxs-lookup"><span data-stu-id="fea4c-156">✔️ DO use either a snapshot collection or a live `IEnumerable<T>` (or its subtype) to represent collections that are volatile (i.e., that can change without explicitly modifying the collection).</span></span>

 <span data-ttu-id="fea4c-157">Im Allgemeinen sind alle Sammlungen, die eine freigegebene Ressource darstellen (z. b. Dateien in einem Verzeichnis), flüchtig.</span><span class="sxs-lookup"><span data-stu-id="fea4c-157">In general, all collections representing a shared resource (e.g., files in a directory) are volatile.</span></span> <span data-ttu-id="fea4c-158">Solche Auflistungen sind sehr schwierig oder unmöglich, als Live Auflistungen zu implementieren, es sei denn, die Implementierung ist einfach ein vorwärts-Enumerator.</span><span class="sxs-lookup"><span data-stu-id="fea4c-158">Such collections are very difficult or impossible to implement as live collections unless the implementation is simply a forward-only enumerator.</span></span>

## <a name="choosing-between-arrays-and-collections"></a><span data-ttu-id="fea4c-159">Auswählen zwischen Arrays und Sammlungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-159">Choosing Between Arrays and Collections</span></span>

 <span data-ttu-id="fea4c-160">✔️ bevorzugen Sammlungen vor Arrays.</span><span class="sxs-lookup"><span data-stu-id="fea4c-160">✔️ DO prefer collections over arrays.</span></span>

 <span data-ttu-id="fea4c-161">Sammlungen bieten mehr Kontrolle über Inhalte, können sich im Laufe der Zeit weiterentwickeln und sind besser verwendbar.</span><span class="sxs-lookup"><span data-stu-id="fea4c-161">Collections provide more control over contents, can evolve over time, and are more usable.</span></span> <span data-ttu-id="fea4c-162">Außerdem wird davon abgeraten, Arrays für schreibgeschützte Szenarien zu verwenden, da die Kosten für das Klonen des Arrays unersetzen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-162">In addition, using arrays for read-only scenarios is discouraged because the cost of cloning the array is prohibitive.</span></span> <span data-ttu-id="fea4c-163">Nutzbarkeits Studien haben gezeigt, dass einige Entwickler die Verwendung von Sammlungs basierten APIs besser fühlen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-163">Usability studies have shown that some developers feel more comfortable using collection-based APIs.</span></span>

 <span data-ttu-id="fea4c-164">Wenn Sie jedoch Low-Level-APIs entwickeln, ist es möglicherweise besser, Arrays für Szenarien mit Lese-/Schreibzugriff zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-164">However, if you are developing low-level APIs, it might be better to use arrays for read-write scenarios.</span></span> <span data-ttu-id="fea4c-165">Arrays haben einen geringeren Speicherbedarf, wodurch das Workingset reduziert werden kann, und der Zugriff auf Elemente in einem Array ist schneller, da es von der Laufzeit optimiert wird.</span><span class="sxs-lookup"><span data-stu-id="fea4c-165">Arrays have a smaller memory footprint, which helps reduce the working set, and access to elements in an array is faster because it is optimized by the runtime.</span></span>

 <span data-ttu-id="fea4c-166">✔️ in Erwägung gezogen, Arrays in Low-Level-APIs zu verwenden, um den Speicherverbrauch zu minimieren und die</span><span class="sxs-lookup"><span data-stu-id="fea4c-166">✔️ CONSIDER using arrays in low-level APIs to minimize memory consumption and maximize performance.</span></span>

 <span data-ttu-id="fea4c-167">✔️ verwenden Byte Arrays anstelle von Byte Auflistungen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-167">✔️ DO use byte arrays instead of collections of bytes.</span></span>

 <span data-ttu-id="fea4c-168">❌ Verwenden Sie keine Arrays für Eigenschaften, wenn die Eigenschaft jedes Mal, wenn der Eigenschaften Getter aufgerufen wird, ein neues Array (z. b. eine Kopie eines internen Arrays) zurückgeben muss.</span><span class="sxs-lookup"><span data-stu-id="fea4c-168">❌ DO NOT use arrays for properties if the property would have to return a new array (e.g., a copy of an internal array) every time the property getter is called.</span></span>

## <a name="implementing-custom-collections"></a><span data-ttu-id="fea4c-169">Implementieren von benutzerdefinierten Sammlungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-169">Implementing Custom Collections</span></span>

 <span data-ttu-id="fea4c-170">✔️ sollten beim Entwerfen von neuen Auflistungen von `Collection<T>` , `ReadOnlyCollection<T>` oder Erben `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-170">✔️ CONSIDER inheriting from `Collection<T>`, `ReadOnlyCollection<T>`, or `KeyedCollection<TKey,TItem>` when designing new collections.</span></span>

 <span data-ttu-id="fea4c-171">✔️ implementieren, `IEnumerable<T>` Wenn neue Sammlungen entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-171">✔️ DO implement `IEnumerable<T>` when designing new collections.</span></span> <span data-ttu-id="fea4c-172">Sie sollten die Implementierung von `ICollection<T>` oder sogar den `IList<T>` Sinn machen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-172">Consider implementing `ICollection<T>` or even `IList<T>` where it makes sense.</span></span>

 <span data-ttu-id="fea4c-173">Befolgen Sie bei der Implementierung einer solchen benutzerdefinierten Sammlung das API-Muster, das von `Collection<T>` und `ReadOnlyCollection<T>` so genau wie möglich hergestellt wird.</span><span class="sxs-lookup"><span data-stu-id="fea4c-173">When implementing such custom collection, follow the API pattern established by `Collection<T>` and `ReadOnlyCollection<T>` as closely as possible.</span></span> <span data-ttu-id="fea4c-174">Das heißt, Sie müssen dieselben Member explizit implementieren, benennen Sie die Parameter wie diese zwei Auflistungen, und so weiter.</span><span class="sxs-lookup"><span data-stu-id="fea4c-174">That is, implement the same members explicitly, name the parameters like these two collections name them, and so on.</span></span>

 <span data-ttu-id="fea4c-175">✔️ sollten Sie die Implementierung von nicht generischen Auflistungs Schnittstellen ( `IList` und `ICollection` ) in Erwägung ziehen, wenn die Auflistung häufig an APIs übermittelt wird, die diese Schnittstellen</span><span class="sxs-lookup"><span data-stu-id="fea4c-175">✔️ CONSIDER implementing nongeneric collection interfaces (`IList` and `ICollection`) if the collection will often be passed to APIs taking these interfaces as input.</span></span>

 <span data-ttu-id="fea4c-176">❌ Vermeiden Sie das Implementieren von Auflistungs Schnittstellen für Typen mit komplexen APIs, die nicht mit dem Konzept einer Auflistung zusammenhängen</span><span class="sxs-lookup"><span data-stu-id="fea4c-176">❌ AVOID implementing collection interfaces on types with complex APIs unrelated to the concept of a collection.</span></span>

 <span data-ttu-id="fea4c-177">❌ Erben nicht von nicht generischen Basis Auflistungen wie z `CollectionBase` . b..</span><span class="sxs-lookup"><span data-stu-id="fea4c-177">❌ DO NOT inherit from nongeneric base collections such as `CollectionBase`.</span></span> <span data-ttu-id="fea4c-178">Verwenden `Collection<T>` Sie `ReadOnlyCollection<T>` stattdessen, und `KeyedCollection<TKey,TItem>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-178">Use `Collection<T>`, `ReadOnlyCollection<T>`, and `KeyedCollection<TKey,TItem>` instead.</span></span>

### <a name="naming-custom-collections"></a><span data-ttu-id="fea4c-179">Benennen von benutzerdefinierten Sammlungen</span><span class="sxs-lookup"><span data-stu-id="fea4c-179">Naming Custom Collections</span></span>

 <span data-ttu-id="fea4c-180">Auflistungen (Typen, die implementieren `IEnumerable` ) werden hauptsächlich aus zwei Gründen erstellt: (1) zum Erstellen einer neuen Datenstruktur mit Struktur spezifischen Vorgängen und oft unterschiedlichen Leistungsmerkmalen als vorhandene Datenstrukturen (z. b.,  <xref:System.Collections.Generic.List%601> <xref:System.Collections.Generic.LinkedList%601> , <xref:System.Collections.Generic.Stack%601> ) und (2) zum Erstellen einer spezialisierten Sammlung zum Speichern eines bestimmten Satzes von Elementen (z. b.  <xref:System.Collections.Specialized.StringCollection> ).</span><span class="sxs-lookup"><span data-stu-id="fea4c-180">Collections (types that implement `IEnumerable`) are created mainly for two reasons: (1) to create a new data structure with structure-specific operations and often different performance characteristics than existing data structures (e.g.,  <xref:System.Collections.Generic.List%601>, <xref:System.Collections.Generic.LinkedList%601>, <xref:System.Collections.Generic.Stack%601>), and (2) to create a specialized collection for holding a specific set of items (e.g.,  <xref:System.Collections.Specialized.StringCollection>).</span></span> <span data-ttu-id="fea4c-181">Datenstrukturen werden am häufigsten in der internen Implementierung von Anwendungen und Bibliotheken verwendet.</span><span class="sxs-lookup"><span data-stu-id="fea4c-181">Data structures are most often used in the internal implementation of applications and libraries.</span></span> <span data-ttu-id="fea4c-182">Spezialisierte Sammlungen werden hauptsächlich in APIs verfügbar gemacht (als Eigenschaften-und Parametertypen).</span><span class="sxs-lookup"><span data-stu-id="fea4c-182">Specialized collections are mainly to be exposed in APIs (as property and parameter types).</span></span>

 <span data-ttu-id="fea4c-183">✔️ Verwenden Sie das Suffix "Dictionary" in Namen von Abstraktionen, die `IDictionary` oder implementieren `IDictionary<TKey,TValue>` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-183">✔️ DO use the "Dictionary" suffix in names of abstractions implementing `IDictionary` or `IDictionary<TKey,TValue>`.</span></span>

 <span data-ttu-id="fea4c-184">✔️ Verwenden Sie das Suffix "Collection" in Namen von Typen, die `IEnumerable` (oder einen beliebigen Nachfolger) implementieren und eine Liste von Elementen darstellen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-184">✔️ DO use the "Collection" suffix in names of types implementing `IEnumerable` (or any of its descendants) and representing a list of items.</span></span>

 <span data-ttu-id="fea4c-185">✔️ den passenden Datenstruktur Namen für benutzerdefinierte Datenstrukturen verwenden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-185">✔️ DO use the appropriate data structure name for custom data structures.</span></span>

 <span data-ttu-id="fea4c-186">❌ Vermeiden Sie die Verwendung von Suffixen, die eine bestimmte Implementierung implizieren, wie z. b. "LinkedList" oder "Hashtable" in Namen von Sammlungs Abstraktionen.</span><span class="sxs-lookup"><span data-stu-id="fea4c-186">❌ AVOID using any suffixes implying particular implementation, such as "LinkedList" or "Hashtable," in names of collection abstractions.</span></span>

 <span data-ttu-id="fea4c-187">✔️ in Erwägung gezogen, Sammlungsnamen mit dem Namen des Elementtyps vorab zu beheben.</span><span class="sxs-lookup"><span data-stu-id="fea4c-187">✔️ CONSIDER prefixing collection names with the name of the item type.</span></span> <span data-ttu-id="fea4c-188">Beispielsweise sollte eine Auflistung, die Elemente des Typs `Address` (implementiert) speichert, `IEnumerable<Address>` benannt werden `AddressCollection` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-188">For example, a collection storing items of type `Address` (implementing `IEnumerable<Address>`) should be named `AddressCollection`.</span></span> <span data-ttu-id="fea4c-189">Wenn der Elementtyp eine Schnittstelle ist, kann das Präfix "I" des Elementtyps ausgelassen werden.</span><span class="sxs-lookup"><span data-stu-id="fea4c-189">If the item type is an interface, the "I" prefix of the item type can be omitted.</span></span> <span data-ttu-id="fea4c-190">Daher kann eine Auflistung von <xref:System.IDisposable> Elementen aufgerufen werden `DisposableCollection` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-190">Thus, a collection of <xref:System.IDisposable> items can be called `DisposableCollection`.</span></span>

 <span data-ttu-id="fea4c-191">✔️ sollten Sie das Präfix "schreibgeschützt" in Namen von schreibgeschützten Auflistungen verwenden, wenn eine entsprechende beschreibbare Auflistung im Framework hinzugefügt oder bereits vorhanden sein kann.</span><span class="sxs-lookup"><span data-stu-id="fea4c-191">✔️ CONSIDER using the "ReadOnly" prefix in names of read-only collections if a corresponding writeable collection might be added or already exists in the framework.</span></span>

 <span data-ttu-id="fea4c-192">Beispielsweise muss eine schreibgeschützte Auflistung von Zeichen folgen aufgerufen werden `ReadOnlyStringCollection` .</span><span class="sxs-lookup"><span data-stu-id="fea4c-192">For example, a read-only collection of strings should be called `ReadOnlyStringCollection`.</span></span>

 <span data-ttu-id="fea4c-193">*Teile © 2005, 2009 Microsoft Corporation. Alle Rechte vorbehalten.*</span><span class="sxs-lookup"><span data-stu-id="fea4c-193">*Portions © 2005, 2009 Microsoft Corporation. All rights reserved.*</span></span>

 <span data-ttu-id="fea4c-194">*Nachdruck mit Genehmigung von Pearson Education, Inc aus [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) von Krzysztof Cwalina und Brad Abrams, veröffentlicht am 22. Oktober 2008 durch Addison-Wesley Professional als Teil der Microsoft Windows Development Series.*</span><span class="sxs-lookup"><span data-stu-id="fea4c-194">*Reprinted by permission of Pearson Education, Inc. from [Framework Design Guidelines: Conventions, Idioms, and Patterns for Reusable .NET Libraries, 2nd Edition](https://www.informit.com/store/framework-design-guidelines-conventions-idioms-and-9780321545619) by Krzysztof Cwalina and Brad Abrams, published Oct 22, 2008 by Addison-Wesley Professional as part of the Microsoft Windows Development Series.*</span></span>

## <a name="see-also"></a><span data-ttu-id="fea4c-195">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="fea4c-195">See also</span></span>

- [<span data-ttu-id="fea4c-196">Framework-Entwurfs Richtlinien</span><span class="sxs-lookup"><span data-stu-id="fea4c-196">Framework Design Guidelines</span></span>](index.md)
- [<span data-ttu-id="fea4c-197">Verwendungs Richtlinien</span><span class="sxs-lookup"><span data-stu-id="fea4c-197">Usage Guidelines</span></span>](usage-guidelines.md)
