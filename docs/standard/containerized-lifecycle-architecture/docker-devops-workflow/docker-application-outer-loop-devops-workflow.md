---
title: Schritte in der äußeren Schleife DevOps-Workflow für eine Docker-Anwendung
description: Lernen Sie die Schritte für die "äußere"Schleife des DevOps-Workflows
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 02/15/2019
ms.openlocfilehash: 95664e20269f68a2eea5111b6c12ec7f108dc77b
ms.sourcegitcommit: 7156c0b9e4ce4ce5ecf48ce3d925403b638b680c
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 03/26/2019
ms.locfileid: "58462980"
---
# <a name="steps-in-the-outer-loop-devops-workflow-for-a-docker-application"></a><span data-ttu-id="6a7f1-103">Schritte in der äußeren Schleife DevOps-Workflow für eine Docker-Anwendung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-103">Steps in the outer-loop DevOps workflow for a Docker application</span></span>

<span data-ttu-id="6a7f1-104">Abbildung 5 – 1 zeigt ein End-to-End-Darstellung der Schritte, die mit der äußeren Schleife DevOps-Workflow.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-104">Figure 5-1 presents an end-to-end depiction of the steps comprising the DevOps outer-loop workflow.</span></span>

![Dieses Diagramm zeigt die "äußere Schleife" von DevOps.](./media/image1.png)

<span data-ttu-id="6a7f1-108">**Abbildung 5-1**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-108">**Figure 5-1**.</span></span> <span data-ttu-id="6a7f1-109">Outer-Loop-DevOps-Workflow für Docker-Anwendungen mit Microsoft-tools</span><span class="sxs-lookup"><span data-stu-id="6a7f1-109">DevOps outer-loop workflow for Docker applications with Microsoft tools</span></span>

<span data-ttu-id="6a7f1-110">Nun sehen wir uns die einzelnen Schritte ausführlicher.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-110">Now, let's examine each of these steps in greater detail.</span></span>

## <a name="step-1-inner-loop-development-workflow"></a><span data-ttu-id="6a7f1-111">Schritt 1: Innere Schleife-Entwicklungsworkflow</span><span class="sxs-lookup"><span data-stu-id="6a7f1-111">Step 1: Inner-loop development workflow</span></span>

<span data-ttu-id="6a7f1-112">Dadurch werden ausführlich in Kapitel 4, aber Zusammenfassend lässt sich sagen, hier ist die äußere Schleife, dem Moment beginnt an dem ein Entwickler Code auf das Quellcodeverwaltungssystem (z. B. Git) initiieren von Aktionen für CI-Pipeline überträgt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-112">This step is explained in detail in Chapter 4, but, to recap, here is where the outer-loop begins, the moment at which a developer pushes code to the source control management system (like Git) initiating CI pipeline actions.</span></span>

## <a name="step-2-source-code-control-integration-and-management-with-azure-devops-services-and-git"></a><span data-ttu-id="6a7f1-113">Schritt 2: Integration der Quellcodeverwaltung und Verwaltung mit Azure DevOps-Services und Git</span><span class="sxs-lookup"><span data-stu-id="6a7f1-113">Step 2: Source-Code Control integration and management with Azure DevOps Services and Git</span></span>

<span data-ttu-id="6a7f1-114">In diesem Schritt benötigen Sie ein Versionskontrollsystem eine konsolidierte Version des gesamten Codes, die von den anderen Entwicklern im Team zu erfassen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-114">At this step, you need to have a version-control system to gather a consolidated version of all the code coming from the different developers in the team.</span></span>

<span data-ttu-id="6a7f1-115">Auch wenn die quellcodeverwaltung (SCC) und der Quellcode-Management-Blut die meisten Entwickler beim Erstellen von Docker-Anwendungen in einer DevOps-Lebenszyklus durchlaufen scheint, ist es wichtig, hervorzuheben, dass Sie die Docker-Images mit der Anwendung nicht senden müssen direkt in der globalen Docker-Registrierung (z.B. Azure Container Registry oder Docker Hub) aus dem Computer des Entwicklers.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-115">Even though source-code control (SCC) and source-code management might seem second-nature to most developers, when creating Docker applications in a DevOps life cycle, it's critical to emphasize that you must not submit the Docker images with the application directly to the global Docker Registry (like Azure Container Registry or Docker Hub) from the developer's machine.</span></span> <span data-ttu-id="6a7f1-116">Im Gegenteil, müssen der Docker-Images zur Freigabe in produktionsumgebungen bereitgestellte ausschließlich auf den Quellcode, der integriert wird erstellt werden, in Ihrem globalen Build oder die CI-Pipeline, die basierend auf Ihrem Quellcode-Repository (z. B. Git).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-116">On the contrary, the Docker images to be released and deployed to production environments must be created solely on the source code that's being integrated in your global build or CI pipeline based on your source-code repository (like Git).</span></span>

<span data-ttu-id="6a7f1-117">Die lokalen Images, die vom Entwickler sollten nur von ihnen verwendet werden, auf ihren eigenen Computern zu testen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-117">The local images, generated by developers, should just be used by them when testing within their own machines.</span></span> <span data-ttu-id="6a7f1-118">Deshalb ist es wichtig, dass die DevOps-Pipeline, die von dem SCC-Code aktiviert ist.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-118">That's why it's critical to have the DevOps pipeline activated from the SCC code.</span></span>

<span data-ttu-id="6a7f1-119">Azure DevOps-Services und Team Foundation Server unterstützt Git- und Team Foundation-Versionskontrolle.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-119">Azure DevOps Services and Team Foundation Server support Git and Team Foundation Version Control.</span></span> <span data-ttu-id="6a7f1-120">Sie können sie auswählen, und es für eine End-to-End-Erfahrung von Microsoft verwenden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-120">You can choose between them and use it for an end-to-end Microsoft experience.</span></span> <span data-ttu-id="6a7f1-121">Sie können jedoch auch können verwalten Ihren Code in externen Repositorys (z.B. GitHub, lokales Git-Repositorys oder Subversion) und immer noch in der Lage, eine Verbindung herstellen, und erhalten den Code als Ausgangspunkt für Ihre DevOps-CI-Pipeline.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-121">However, you also can manage your code in external repositories (like GitHub, on-premises Git repositories, or Subversion) and still be able to connect to it and get the code as the starting point for your DevOps CI pipeline.</span></span>

## <a name="step-3-build-ci-integrate-and-test-with-azure-devops-services-and-docker"></a><span data-ttu-id="6a7f1-122">Schritt 3: Erstellen, Continuous Integration, Integration, und Testen Sie mit Azure DevOps-Dienste und Docker</span><span class="sxs-lookup"><span data-stu-id="6a7f1-122">Step 3: Build, CI, Integrate, and Test with Azure DevOps Services and Docker</span></span>

<span data-ttu-id="6a7f1-123">CI hat als Standard für moderne Software testen und Bereitstellung entwickelt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-123">CI has emerged as a standard for modern software testing and delivery.</span></span> <span data-ttu-id="6a7f1-124">Die Docker-Lösung verwaltet eine klare Trennung von Bereichen zwischen der Entwicklungs- und Betriebsteams.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-124">The Docker solution maintains a clear separation of concerns between the development and operations teams.</span></span> <span data-ttu-id="6a7f1-125">Die Unveränderlichkeit von Docker-Images wird sichergestellt, eine wiederholbare Bereitstellung zwischen Was wurde entwickelt, über CI getestet und in der Produktion ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-125">The immutability of Docker images ensures a repeatable deployment between what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="6a7f1-126">Docker-Engine bereitgestellt wird, über die Developer-Laptops und Test-Infrastruktur sind die Container in verschiedenen Umgebungen portabel.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-126">Docker Engine deployed across the developer laptops and test infrastructure makes the containers portable across environments.</span></span>

<span data-ttu-id="6a7f1-127">Jetzt, nachdem Sie ein Versionskontrollsystem mit den richtigen Code gesendet haben, müssen Sie eine *Builddienst* wählen Sie den Code, und führen Sie den globalen Builds und Tests.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-127">At this point, after you have a version-control system with the correct code submitted, you need a *build service* to pick up the code and run the global build and tests.</span></span>

<span data-ttu-id="6a7f1-128">Der interne Workflow für diesen Schritt (Continuous Integration, Build, test) wird zur Erstellung einer CI-Pipeline, die Ihr coderepository (Git, usw.), bestehend aus dem Buildserver (Azure DevOps-Dienste), Docker-Engine und eine Docker-Registrierung.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-128">The internal workflow for this step (CI, build, test) is about the construction of a CI pipeline consisting of your code repository (Git, etc.), your build server (Azure DevOps Services), Docker Engine, and a Docker Registry.</span></span>

<span data-ttu-id="6a7f1-129">Sie können Azure DevOps-Dienste als Grundlage für Ihre Anwendungen erstellen und Festlegen der CI-Pipeline und zum Veröffentlichen der erstellten "Elementen" ein "artefaktrepository" Dies wird im nächsten Schritt beschrieben.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-129">You can use Azure DevOps Services as the foundation for building your applications and setting your CI pipeline, and for publishing the built "artifacts" to an "artifacts repository," which is explained in the next step.</span></span>

<span data-ttu-id="6a7f1-130">Mithilfe von Docker für die Bereitstellung, der die "finalen Artefakte", die bereitgestellt werden, werden Docker-Images mit Ihrer Anwendung oder Dienste darin eingebettet sind.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-130">When using Docker for the deployment, the "final artifacts" to be deployed are Docker images with your application or services embedded within them.</span></span> <span data-ttu-id="6a7f1-131">Diese Images werden mithilfe von Push übertragen oder veröffentlicht in einer *Docker-Registrierung* (einem privaten Repository wie diejenigen, die Sie haben in Azure Container Registry-Instanz oder eine öffentliche wie Docker-Hub-Registrierung, die häufig für offiziellen Basisimages verwendet wird).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-131">Those images are pushed or published to a *Docker Registry* (a private repository like the ones you can have in Azure Container Registry, or a public one like Docker Hub Registry, which is commonly used for official base images).</span></span>

<span data-ttu-id="6a7f1-132">Hier ist das grundlegende Konzept: Die CI-Pipeline werden gestartet: deaktiviert ein Commit mit einem SCC-Repository wie Git.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-132">Here is the basic concept: The CI pipeline will be kicked-off by a commit to an SCC repository like Git.</span></span> <span data-ttu-id="6a7f1-133">Der Commit führt dazu, dass Azure DevOps-Dienste einen buildauftrag in einem Docker-Container ausgeführt werden soll, und nach erfolgreichem Abschluss dieses Auftrags per Push übertragen eines Docker-Images an die Docker-Registrierung, wie in Abbildung 5-2 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-133">The commit will cause Azure DevOps Services to run a build job within a Docker container and, upon successful completion of that job, push a Docker image to the Docker Registry, as illustrated in Figure 5-2.</span></span>

![Der erste Teil der äußeren Schleife umfasst die Schritte 1 bis 3, aus dem Code ausführen, Debuggen und zu überprüfen, klicken Sie dann das coderepository bis zu dem Build und Test-CI-Schritt](./media/image2.png)

<span data-ttu-id="6a7f1-135">**Abbildung 5-2**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-135">**Figure 5-2**.</span></span> <span data-ttu-id="6a7f1-136">Die Schritte in CI</span><span class="sxs-lookup"><span data-stu-id="6a7f1-136">The steps involved in CI</span></span>

<span data-ttu-id="6a7f1-137">Hier sind die grundlegenden Schritte der CI-Workflow mit Docker und Azure DevOps-Dienste:</span><span class="sxs-lookup"><span data-stu-id="6a7f1-137">Here are the basic CI workflow steps with Docker and Azure DevOps Services:</span></span>

1. <span data-ttu-id="6a7f1-138">Der Entwickler legt einen Commit mit einem SCC-Repository (Git/Azure DevOps-Services, GitHub usw.).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-138">The developer pushes a commit to an SCC repository (Git/Azure DevOps Services, GitHub, etc.).</span></span>

2. <span data-ttu-id="6a7f1-139">Wenn Sie Azure DevOps-Dienste oder Git verwenden, ist CI integriert, was bedeutet, dass es so einfach wie das Auswählen eines Kontrollkästchens in der Azure DevOps-Dienste ist.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-139">If you're using Azure DevOps Services or Git, CI is built in, which means that it's as simple as selecting a check box in Azure DevOps Services.</span></span> <span data-ttu-id="6a7f1-140">Bei Verwendung von einem externen SCC (wie z.B. GitHub), eine `webhook` benachrichtigt Azure DevOps-Dienste des Updates oder zu Git/GitHub übertragen wird.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-140">If you're using an external SCC (like GitHub), a `webhook` will notify Azure DevOps Services of the update or push to Git/GitHub.</span></span>

3. <span data-ttu-id="6a7f1-141">Azure DevOps-Dienste, ruft SCC Repository, einschließlich der dockerfile-Datei, die das Bild als auch der Anwendung und -Code beschreibt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-141">Azure DevOps Services pulls the SCC repository, including the Dockerfile describing the image, as well as the application and test code.</span></span>

4. <span data-ttu-id="6a7f1-142">Azure DevOps-Dienste wird ein dockerimage erstellt und es mit einer Nummer bezeichnet.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-142">Azure DevOps Services builds a Docker image and labels it with a build number.</span></span>

5. <span data-ttu-id="6a7f1-143">Azure DevOps-Dienste den Docker-Container im Docker-Host bereitgestellten instanziiert und führt die entsprechenden Tests.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-143">Azure DevOps Services instantiates the Docker container within the provisioned Docker Host, and runs the appropriate tests.</span></span>

6. <span data-ttu-id="6a7f1-144">Wenn die Tests erfolgreich sind, das Bild wird zuerst die Bezeichnung erhalten, einen aussagekräftigen Namen, damit Sie wissen es ist ein "Verbürgtes Build" (z. B. "/ 1.0.0" oder eine beliebige andere Bezeichnung), und klicken Sie dann mithilfe von Push übertragen Sie an Ihre Docker-Registrierung (Docker-Hub, Azure Container Registry, DTR, usw.).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-144">If the tests are successful, the image is first relabeled to a meaningful name so that you know it's a "blessed build" (like "/1.0.0" or any other label), and then pushed up to your Docker Registry (Docker Hub, Azure Container Registry, DTR, etc.)</span></span>

### <a name="implementing-the-ci-pipeline-with-azure-devops-services-and-the-docker-extension-for-azure-devops-services"></a><span data-ttu-id="6a7f1-145">Implementieren die CI-Pipeline mit Azure DevOps-Dienste und die Docker-Erweiterung für Azure DevOps-Dienste</span><span class="sxs-lookup"><span data-stu-id="6a7f1-145">Implementing the CI pipeline with Azure DevOps Services and the Docker extension for Azure DevOps Services</span></span>

<span data-ttu-id="6a7f1-146">Visual Studio Azure DevOps-Dienste enthält, Build und Release-Vorlagen, die Sie in Ihre CI/CD-Pipeline verwenden können, mit denen Sie können Docker-Images zu erstellen, Docker-Images an einen authentifizierten Docker-Registrierung per Push zu übertragen, führen Sie Docker-Images oder führen andere Vorgänge, die von Angeboten die Docker-CLI.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-146">Visual Studio Azure DevOps Services contains Build & Release Templates that you can use in your CI/CD pipeline with which you can build Docker images, push Docker images to an authenticated Docker registry, run Docker images, or run other operations offered by the Docker CLI.</span></span> <span data-ttu-id="6a7f1-147">Es fügt auch eine Docker Compose-Aufgabe, die Sie verwenden können, erstellen, per Push übertragen, und führen Sie Docker-Anwendungen mit mehreren Containern, oder führen andere Vorgänge, die von der Docker Compose-CLI angeboten werden, wie in Abbildung 5-3 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-147">It also adds a Docker Compose task that you can use to build, push, and run multi-container Docker applications, or run other operations offered by the Docker Compose CLI, as shown in Figure 5-3.</span></span>

![Browseransicht zur der die Docker-CI-Pipeline in Azure DevOps](./media/image3.png)

<span data-ttu-id="6a7f1-149">**Abbildung 5-3**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-149">**Figure 5-3**.</span></span> <span data-ttu-id="6a7f1-150">Die Docker-CI-Pipeline in Azure DevOps-Dienste, einschließlich Build & Release-Vorlagen und zugeordneten Aufgaben.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-150">The Docker CI pipeline in Azure DevOps Services including Build & Release Templates and associated tasks.</span></span>

<span data-ttu-id="6a7f1-151">Können Sie diese Vorlagen und die Aufgaben zum Erstellen Ihrer CI/CD-Artefakte zum Entwickeln / testen und Bereitstellen in Azure Service Fabric, Azure Kubernetes Service und ähnliche angeboten.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-151">You can use these templates and tasks to construct your CI/CD artifacts to Build / Test and Deploy in Azure Service Fabric, Azure Kubernetes Service, and similar offerings.</span></span>

<span data-ttu-id="6a7f1-152">Mit dieser Visual Studio Team Services-Tasks, einen Build Linux-Docker-Host/VM bereitgestellt, in Azure und Ihrer bevorzugten Docker-Registrierung (Azure Container Registry, Docker-Hub, privaten Docker-DTR oder beliebige andere Docker-Registrierung) können Sie Ihre Docker-CI-Pipeline in Zusammenstellen einer sehr einheitlich.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-152">With these Visual Studio Team Services tasks, a build Linux-Docker Host/VM provisioned in Azure and your preferred Docker registry (Azure Container Registry, Docker Hub, private Docker DTR, or any other Docker registry) you can assemble your Docker CI pipeline in a very consistent way.</span></span>

<span data-ttu-id="6a7f1-153">***Anforderungen:***</span><span class="sxs-lookup"><span data-stu-id="6a7f1-153">***Requirements:***</span></span>

- <span data-ttu-id="6a7f1-154">Azure DevOps-Dienste oder für lokale Installationen, Team Foundation Server 2015 Update 3 oder höher.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-154">Azure DevOps Services, or for on-premises installations, Team Foundation Server 2015 Update 3 or later.</span></span>

- <span data-ttu-id="6a7f1-155">Ein Azure DevOps-Services-Agent, der die Docker-Binärdateien verfügt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-155">An Azure DevOps Services agent that has the Docker binaries.</span></span>

  <span data-ttu-id="6a7f1-156">Eine einfache Möglichkeit zum Erstellen eines diese Agents werden Docker verwenden, um einen Container basierend auf dem Azure DevOps-Services-Agent Docker-Image ausführen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-156">An easy way to create one of these agents is to use Docker to run a container based on the Azure DevOps Services agent Docker image.</span></span>

> [! Informationen]<span data-ttu-id="6a7f1-157">, lesen Sie weitere Informationen zu assemblieren eine Azure DevOps-Dienste-Docker-CI-pipeline und zeigen die exemplarischen Vorgehensweisen finden Sie auf folgenden Websites:</span><span class="sxs-lookup"><span data-stu-id="6a7f1-157"> To read more about assembling an Azure DevOps Services Docker CI pipeline and view the walkthroughs, visit these sites:</span></span>
>
> - <span data-ttu-id="6a7f1-158">Ausführen einer Visual Studio Team Services (jetzt Azure DevOps-Services)-Agents als Docker-Container: \\</span><span class="sxs-lookup"><span data-stu-id="6a7f1-158">Running a Visual Studio Team Services (Now Azure DevOps Services) agent as a Docker container: \\</span></span>
>   [https://hub.docker.com/r/microsoft/vsts-agent/](https://hub.docker.com/r/microsoft/vsts-agent/)
>
> - <span data-ttu-id="6a7f1-159">Erstellen von .NET Core-Linux-Docker-Images mit Azure DevOps-Dienste: \\</span><span class="sxs-lookup"><span data-stu-id="6a7f1-159">Building .NET Core Linux Docker images with Azure DevOps Services: \\</span></span>
>   [https://blogs.msdn.microsoft.com/stevelasker/2016/06/13/building-net-core-linux-docker-images-with-visual-studio-team-services/](https://blogs.msdn.microsoft.com/stevelasker/2016/06/13/building-net-core-linux-docker-images-with-visual-studio-team-services/)
>
> - <span data-ttu-id="6a7f1-160">Erstellen einer Linux-basierten Visual Studio Team Service Buildcomputer mit Docker-Unterstützung: \\</span><span class="sxs-lookup"><span data-stu-id="6a7f1-160">Building a Linux-based Visual Studio Team Service build machine with Docker support: \\</span></span>
>   [http://donovanbrown.com/post/2016/06/03/Building-a-Linux-Based-Visual-Studio-Team-Service-Build-Machine-with-Docker-Support](http://donovanbrown.com/post/2016/06/03/Building-a-Linux-Based-Visual-Studio-Team-Service-Build-Machine-with-Docker-Support)

### <a name="integrate-test-and-validate-multi-container-docker-applications"></a><span data-ttu-id="6a7f1-161">Integrieren Sie, testen Sie und überprüfen Sie die Docker-Anwendungen mit mehreren Containern</span><span class="sxs-lookup"><span data-stu-id="6a7f1-161">Integrate, test, and validate multi-container Docker applications</span></span>

<span data-ttu-id="6a7f1-162">Die meisten Docker-Anwendungen in der Regel bestehen mehrere Container statt von einem einzelnen Container aus.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-162">Typically, most Docker applications are composed of multiple containers rather than a single container.</span></span> <span data-ttu-id="6a7f1-163">Ein gutes Beispiel ist eine Microservices-orientierte Anwendung, die für die Sie einen Container pro Microservice haben würden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-163">A good example is a microservices-oriented application for which you would have one container per microservice.</span></span> <span data-ttu-id="6a7f1-164">Aber auch ohne strikt befolgen die Muster der Microservices-Ansatz, es ist jedoch wahrscheinlich, dass die Docker-Anwendung aus mehreren Containern oder Diensten bestehen würde.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-164">But, even without strictly following the microservices approach patterns, it's probable that your Docker application would be composed of multiple containers or services.</span></span>

<span data-ttu-id="6a7f1-165">Aus diesem Grund müssen Sie nach dem Erstellen der Anwendungscontainer in der CI-Pipeline, auch bereitstellen, integrieren und Testen Sie die Anwendung als Ganzes mit allen ihren Container in einem Docker-Host Integration oder sogar in einen Testcluster, Ihre Container werden verteilt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-165">Therefore, after building the application containers in the CI pipeline, you also need to deploy, integrate, and test the application as a whole with all of its containers within an integration Docker host or even into a test cluster to which your containers are distributed.</span></span>

<span data-ttu-id="6a7f1-166">Wenn Sie einen einzelnen Host verwenden, können Sie Docker-Befehle wie Docker-compose-zum Erstellen und Bereitstellen von verknüpften Container zum Testen und überprüfen Sie die Docker-Umgebung in einem einzelnen virtuellen Computer.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-166">If you're using a single host, you can use Docker commands such as docker-compose to build and deploy related containers to test and validate the Docker environment in a single VM.</span></span> <span data-ttu-id="6a7f1-167">Aber wenn Sie mit einem orchestratorcluster wie DC/OS, Kubernetes oder Docker Swarm arbeiten, müssen Sie Ihre Container über einen anderen Mechanismus oder Orchestrator, je nach Ihrer ausgewählten Cluster-Auftragsplaner bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-167">But, if you're working with an orchestrator cluster like DC/OS, Kubernetes, or Docker Swarm, you need to deploy your containers through a different mechanism or orchestrator, depending on your selected cluster/scheduler.</span></span>

<span data-ttu-id="6a7f1-168">Es folgen verschiedene Arten von Tests, die Sie für Docker-Container ausführen können:</span><span class="sxs-lookup"><span data-stu-id="6a7f1-168">Following are several types of tests that you can run against Docker containers:</span></span>

- <span data-ttu-id="6a7f1-169">Komponententests für Docker-Container</span><span class="sxs-lookup"><span data-stu-id="6a7f1-169">Unit tests for Docker containers</span></span>

- <span data-ttu-id="6a7f1-170">Testen die Gruppen von zusammenhängende oder microservices</span><span class="sxs-lookup"><span data-stu-id="6a7f1-170">Testing groups of interrelated applications or microservices</span></span>

- <span data-ttu-id="6a7f1-171">Testen Sie in Produktion und "Canary Release"-Versionen</span><span class="sxs-lookup"><span data-stu-id="6a7f1-171">Test in production and "canary" releases</span></span>

<span data-ttu-id="6a7f1-172">Der wichtigste Punkt ist, dass bei der Integration und Funktionstests ausgeführt werden, diese Tests von außerhalb der Container ausgeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-172">The important point is that when running integration and functional tests, you must run those tests from outside of the containers.</span></span> <span data-ttu-id="6a7f1-173">Tests sind nicht enthalten oder in den Containern, die Sie bereitstellen möchten, die ausgeführt werden, da die Container für statische Bilder basieren, die genau wie sein sollte, die Sie für die Produktion bereitstellen müssen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-173">Tests are not contained or run in the containers you're deploying, because the containers are based on static images that should be exactly like the ones you'll be deploying to production.</span></span>

<span data-ttu-id="6a7f1-174">Eine praktische Option beim Testen von Szenarien, wie Sie mehrere Cluster (test-Cluster, staging-Cluster und Produktionscluster) einschließlich erweiterte werden die Bilder auf eine Registrierung, veröffentlichen, damit es in verschiedenen Clustern getestet werden kann.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-174">A practical option when testing more advanced scenarios, like including several clusters (test cluster, staging cluster, and production cluster) is to publish the images to a registry, so it can be tested in various clusters.</span></span>

### <a name="push-the-custom-application-docker-image-into-your-global-docker-registry"></a><span data-ttu-id="6a7f1-175">Schieben Sie das benutzerdefinierte Docker-Image in einer globalen Docker-Registrierung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-175">Push the custom application Docker image into your global Docker Registry</span></span>

<span data-ttu-id="6a7f1-176">Nachdem der Docker-Images getestet und überprüft wurde, sollten Sie kennzeichnen und veröffentlichen Sie sie in Ihrer Docker-Registrierung.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-176">After the Docker images have been tested and validated, you'll want to tag and publish them to your Docker registry.</span></span> <span data-ttu-id="6a7f1-177">Die Docker-Registrierung ist eine wesentliche Komponente des Lebenszyklus von Docker-Anwendung, da sie die zentrale ist, in dem Sie den benutzerdefinierten Test (auch bekannt als "Verbürgtes Images") in QA-und produktionsumgebungen bereitgestellt werden gespeichert.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-177">The Docker registry is a critical piece in the Docker application life cycle because it's the central place where you store your custom test (also known as "blessed images") to be deployed into QA and production environments.</span></span>

<span data-ttu-id="6a7f1-178">Ähnlich wie Ihre "Source of Truth" von der Anwendungscode, der in Ihrer SCC-Repository (Git, usw.) gespeichert ist, wird die Docker-Registrierung Ihre "Source of Truth" für die binäre Anwendung oder die Bits für die Umgebungen QA- oder-produktionsumgebung bereitgestellt werden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-178">Similar to how the application code stored in your SCC repository (Git, etc.) is your "source of truth," the Docker registry is your "source of truth" for your binary application or bits to be deployed to the QA or production environments.</span></span>

<span data-ttu-id="6a7f1-179">In der Regel sollten Sie Ihren privaten Repositorys für Ihre benutzerdefinierten Images in einem privaten Repository in Azure Container Registry-Instanz in eine lokale Registrierung wie Docker Trusted Registry oder in einer öffentlichen Cloud-Registrierung mit eingeschränktem Zugriff (z. B. haben Docker-Hub), müssen auch in diesem Fall ist Ihr Code nicht open-Source-Sie des Anbieters Sicherheit vertrauenswürdig.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-179">Typically, you might want to have your private repositories for your custom images either in a private repository in Azure Container Registry or in an on-premises registry like Docker Trusted Registry, or in a public-cloud registry with restricted access (like Docker Hub), although in this last case if your code is not open source, you must trust the vendor's security.</span></span> <span data-ttu-id="6a7f1-180">In beiden Fällen die Methode ist ähnlich und basiert auf der `docker push` wie in Abbildung 5-4 gezeigt den Befehl.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-180">Either way, the method you use is similar and is based on the `docker push` command, as shown in Figure 5-4.</span></span>

![In Schritt 3 zum Erstellen der Integration und testen (CI) können Sie die resultierende Docker-Images an eine private oder öffentliche Registrierung veröffentlichen.](./media/image4.png)

<span data-ttu-id="6a7f1-182">**Abbildung 5-4**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-182">**Figure 5-4**.</span></span> <span data-ttu-id="6a7f1-183">Veröffentlichen von benutzerdefinierten Images in Docker-Registrierung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-183">Publishing custom images to Docker Registry</span></span>

<span data-ttu-id="6a7f1-184">Es gibt mehrere Angebote von Docker-Registrierungen von cloudanbietern wie Azure Container Registry, Amazon Web Services-Container-Registry, Google Container Registry-Instanz, Kai Registrierung und So weiter.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-184">There are multiple offerings of Docker registries from cloud vendors like Azure Container Registry, Amazon Web Services Container Registry, Google Container Registry, Quay Registry, and so on.</span></span>

<span data-ttu-id="6a7f1-185">Sie können mit der Docker-Aufgaben, einen Satz von Abbilder von definierten übertragen einer `docker-compose.yml` -Datei mit mehreren Tags, an einer authentifizierten Docker-Registrierung (z.B. Azure Container Registry), wie in Abbildung 5-5 gezeigt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-185">Using the Docker tasks, you can push a set of service images defined by a `docker-compose.yml` file, with multiple tags, to an authenticated Docker registry (like Azure Container Registry), as shown in Figure 5-5.</span></span>

![Browseransicht des Schritts, der Bilder in eine Registrierung von Azure DevOps zu veröffentlichen.](./media/image5.png)

<span data-ttu-id="6a7f1-187">**Abbildung 5-5**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-187">**Figure 5-5**.</span></span> <span data-ttu-id="6a7f1-188">Mit Azure DevOps-Services zum Veröffentlichen von benutzerdefinierten Images an eine Docker-Registrierung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-188">Using Azure DevOps Services to publishing custom images to a Docker Registry</span></span>

> [! Informationen]<span data-ttu-id="6a7f1-189"> finden Sie weitere Informationen zu Azure Container Registry, <https://aka.ms/azurecontainerregistry>.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-189"> For more information about Azure Container Registry, see <https://aka.ms/azurecontainerregistry>.</span></span>

## <a name="step-4-cd-deploy"></a><span data-ttu-id="6a7f1-190">Schritt 4: CD bereitstellen</span><span class="sxs-lookup"><span data-stu-id="6a7f1-190">Step 4: CD, Deploy</span></span>

<span data-ttu-id="6a7f1-191">Die Unveränderlichkeit von Docker-Images wird sichergestellt, eine wiederholbare Bereitstellung mit Was wurde entwickelt, über CI getestet und in der Produktion ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-191">The immutability of Docker images ensures a repeatable deployment with what's developed, tested through CI, and run in production.</span></span> <span data-ttu-id="6a7f1-192">Nachdem Sie die Application-Docker-Images in Ihrer Docker-Registrierung (private oder öffentliche) veröffentlicht haben, können Sie sie bereitstellen, auf die mehrere Umgebungen, die möglicherweise (Produktion, QA, staging, usw.) aus Ihrer CD-Pipeline mithilfe von Azure DevOps-Dienste Pipeline-Aufgaben oder Release Management für Azure DevOps Services.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-192">After you have the application Docker images published in your Docker registry (either private or public), you can deploy them to the several environments that you might have (production, QA, staging, etc.) from your CD pipeline by using Azure DevOps Services pipeline tasks or Azure DevOps Services Release Management.</span></span>

<span data-ttu-id="6a7f1-193">Allerdings hängt an diesem Punkt welche Art von Docker-Anwendung, die Sie bereitstellen möchten.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-193">However, at this point it depends on what kind of Docker application you're deploying.</span></span> <span data-ttu-id="6a7f1-194">Bereitstellen einer einfachen Anwendung (aus Komposition und Bereitstellung der Sicht) wie eine monolithische Anwendung umfasst einige Container oder Dienste und bereitgestellte wenigen Servern oder VMs unterscheidet sich von der Bereitstellung einer komplexeren Anwendung wie ein Microservices-orientierte Anwendung mit hyperskalierung-Funktionen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-194">Deploying a simple application (from a composition and deployment point of view) like a monolithic application comprising a few containers or services and deployed to a few servers or VMs is different from deploying a more complex application like a microservices-oriented application with hyperscale capabilities.</span></span> <span data-ttu-id="6a7f1-195">Diese beiden Szenarien werden in den folgenden Abschnitten erläutert.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-195">These two scenarios are explained in the following sections.</span></span>

### <a name="deploying-composed-docker-applications-to-multiple-docker-environments"></a><span data-ttu-id="6a7f1-196">Bereitstellen von Docker-Anwendungen in mehrere Docker-Umgebungen erstellt</span><span class="sxs-lookup"><span data-stu-id="6a7f1-196">Deploying composed Docker applications to multiple Docker environments</span></span>

<span data-ttu-id="6a7f1-197">Sehen wir uns zunächst an, das weniger komplizierten-Szenario: um einfache Docker-Hosts (VMs oder Server) in einer einzigen Umgebung oder auf mehrere Umgebungen bereitstellen (Qualitätssicherung, Staging und Produktion).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-197">Let's look first at the less-complex scenario: deploying to simple Docker hosts (VMs or servers) in a single environment or multiple environments (QA, staging, and production).</span></span> <span data-ttu-id="6a7f1-198">In diesem Szenario intern Ihrer CD-Pipeline können Docker-compose (aus Ihrer Azure DevOps-Dienste-Bereitstellungsaufgaben) zum Bereitstellen der Docker-Anwendungen mit einer entsprechenden Gruppe von Containern oder Diensten, wie in Abbildung 5-6 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-198">In this scenario, internally your CD pipeline can use docker-compose (from your Azure DevOps Services deployment tasks) to deploy the Docker applications with its related set of containers or services, as illustrated in Figure 5-6.</span></span>

![Bereitstellen von die CD Schritt (4) kann in verschiedenen Umgebungen, z. B. Fragen veröffentlichen & a, Staging und Produktion.](./media/image6.png)

<span data-ttu-id="6a7f1-200">**Abbildung 5-6**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-200">**Figure 5-6**.</span></span> <span data-ttu-id="6a7f1-201">Bereitstellen von anwendungscontainern in einfachen Docker-Host-Umgebungen-Registrierung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-201">Deploying application containers to simple Docker host environments registry</span></span>

<span data-ttu-id="6a7f1-202">Abbildung 5-7 hebt hervor, wie Sie Ihre Build-CI zu QA-/Test-Umgebungen über das Azure DevOps-Dienste verbinden können, indem Sie auf der Docker Compose im Dialogfeld Task hinzufügen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-202">Figure 5-7 highlights how you can connect your build CI to QA/test environments via Azure DevOps Services by clicking Docker Compose in the Add Task dialog box.</span></span> <span data-ttu-id="6a7f1-203">Allerdings bei der Bereitstellung in Staging-oder produktionsumgebung Sie würde in der Regel verwenden Release Management-Funktionen, die Verarbeitung mehrerer Umgebungen (z. B. QA, Staging und Produktion).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-203">However, when deploying to staging or production environments, you would usually use Release Management features handling multiple environments (like QA, staging, and production).</span></span> <span data-ttu-id="6a7f1-204">Wenn Sie zu einzelnen Docker-Hosts bereitstellen, verwendet es die Azure DevOps-Dienste "Docker-Compose" Task (das ist das Aufrufen der `docker-compose up` Befehl im Hintergrund).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-204">If you're deploying to single Docker hosts, it is using the Azure DevOps Services "Docker Compose" task (which is invoking the `docker-compose up` command under the hood).</span></span> <span data-ttu-id="6a7f1-205">Wenn Sie in Azure Container Service bereitstellen, wird die Docker-Bereitstellungsaufgabe verwendet wie im Abschnitt erläutert die folgende.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-205">If you're deploying to Azure Container Service, it uses the Docker Deployment task, as explained in the section that follows.</span></span>

![Browseransicht eine Docker Compose-Aufgabe hinzufügen.](./media/image7.png)

<span data-ttu-id="6a7f1-207">**Abbildung 5-7**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-207">**Figure 5-7**.</span></span> <span data-ttu-id="6a7f1-208">Hinzufügen einer Docker Compose-Aufgabe in einer Pipeline für Azure DevOps-Dienste</span><span class="sxs-lookup"><span data-stu-id="6a7f1-208">Adding a Docker Compose task in an Azure DevOps Services pipeline</span></span>

<span data-ttu-id="6a7f1-209">Wenn Sie ein Release in Azure DevOps-Dienste erstellen, dauert es eine Reihe von Eingabe-Elemente.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-209">When you create a release in Azure DevOps Services, it takes a set of input artifacts.</span></span> <span data-ttu-id="6a7f1-210">Diese Artefakte werden für die Lebensdauer von der Version in allen Umgebungen unveränderlich sein soll.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-210">These artifacts are intended to be immutable for the lifetime of the release, across all environments.</span></span> <span data-ttu-id="6a7f1-211">Wenn Sie Container einführen, identifizieren die Eingabe Artefakte Bilder in einer Registrierung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-211">When you introduce containers, the input artifacts identify images in a registry to deploy.</span></span> <span data-ttu-id="6a7f1-212">Je nachdem, wie diese Bilder identifiziert werden, sie werden nicht unbedingt bleibt während der Dauer der Version, die offensichtlichste Groß-/Kleinschreibung wird beim Verweisen auf `myimage:latest` aus einem `docker-compose` Datei.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-212">Depending on how these images are identified, they are not guaranteed to remain the same throughout the duration of the release, the most obvious case being when you reference `myimage:latest` from a `docker-compose` file.</span></span>

<span data-ttu-id="6a7f1-213">Die Vorlagen des Azure DevOps-Dienste geben Ihnen, die Möglichkeit, Build-Artefakte zu generieren, die spezifischen Registrierungszeichenfolgen-Bild enthalten aufnimmt, die garantiert das gleiche Image binäre eindeutig zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-213">The Azure DevOps Services templates give you the ability to generate build artifacts that contain specific registry image digests that are guaranteed to uniquely identify the same image binary.</span></span> <span data-ttu-id="6a7f1-214">Dies sind, was Sie wirklich als Eingabe für ein Release verwenden möchten.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-214">These are what you really want to use as input to a release.</span></span>

### <a name="managing-releases-to-docker-environments-by-using-azure-devops-services-release-management"></a><span data-ttu-id="6a7f1-215">Verwalten von Releases fest, die Docker-Umgebungen mithilfe von Release Management für Azure DevOps Services</span><span class="sxs-lookup"><span data-stu-id="6a7f1-215">Managing releases to Docker environments by using Azure DevOps Services Release Management</span></span>

<span data-ttu-id="6a7f1-216">Über das Azure DevOps-Services-Vorlagen, Sie können ein neues Image zu erstellen, veröffentlichen es in einer Docker-Registrierung, führen Sie es auf Linux oder Windows-Hosts an und verwenden Sie Befehle wie z. B. `docker-compose` mehrere Container als eine gesamte Anwendung, über das Azure DevOps bereitstellen Services Release Management-Funktionen, die für mehrere Umgebungen vorgesehen, wie in Abbildung 5-8 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-216">Through the Azure DevOps Services templates, you can build a new image, publish it to a Docker registry, run it on Linux or Windows hosts, and use commands such as `docker-compose` to deploy multiple containers as an entire application, all through the Azure DevOps Services Release Management capabilities intended for multiple environments, as shown in Figure 5-8.</span></span>

![Browseransicht der Azure DevOps, Konfigurieren von Docker-compose-Versionen.](./media/image8.png)

<span data-ttu-id="6a7f1-218">**Abbildung 5-8**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-218">**Figure 5-8**.</span></span> <span data-ttu-id="6a7f1-219">Konfigurieren von Azure DevOps-Dienste Docker Compose-Tasks in der Releaseverwaltung für Azure DevOps-Dienste</span><span class="sxs-lookup"><span data-stu-id="6a7f1-219">Configuring Azure DevOps Services Docker Compose tasks from Azure DevOps Services Release Management</span></span>

<span data-ttu-id="6a7f1-220">Aber Bedenken Sie, dass das Szenario in Abbildung 5-6 dargestellt und in Abbildung 5-8 implementiert ein einfaches Beispiel ist (es einzelnen Docker-Hosts und virtuellen Computern bereitstellt und einen einzelnen Container oder eine Instanz pro Image vorhanden sein wird) und sollte wahrscheinlich nur für Entwicklungs- oder testumgebung Sce verwendet werden Narios.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-220">However, keep in mind that the scenario shown in Figure 5-6 and implemented in Figure 5-8 is a simple one (it's deploying to single Docker hosts and VMs, and there will be a single container or instance per image) and probably should be used only for development or test scenarios.</span></span> <span data-ttu-id="6a7f1-221">In den meisten Unternehmen Produktionsszenarien sollten Sie zum Lastenausgleich über mehrere Knoten, Servern und virtuellen Computern sowie "intelligent Failover" hohe Verfügbarkeit (HA) und einfach zu verwaltende Skalierbarkeit haben, wenn ein Server oder Knoten ausfällt, Diensten und Containern wird in einem anderen Hostserver oder virtuellen Computer verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-221">In most enterprise production scenarios, you would want to have High Availability (HA) and easy-to-manage scalability by load balancing across multiple nodes, servers, and VMs, plus "intelligent failovers" so if a server or node fails, its services and containers will be moved to another host server or VM.</span></span> <span data-ttu-id="6a7f1-222">In diesem Fall benötigen Sie die erweiterte Technologien wie z. B. containercluster und orchestratoren Zeitplanungsmodule.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-222">In that case, you need more advanced technologies such as container clusters, orchestrators, and schedulers.</span></span> <span data-ttu-id="6a7f1-223">Daher wird die Möglichkeit, die mit diesen Clustern bereitstellen, indem Sie die erweiterten Szenarios behandeln im nächsten Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-223">Thus, the way to deploy to those clusters is by handling the advanced scenarios explained in the next section.</span></span>

### <a name="deploying-docker-applications-to-docker-clusters"></a><span data-ttu-id="6a7f1-224">Bereitstellen von Docker-Anwendungen in Docker-Cluster</span><span class="sxs-lookup"><span data-stu-id="6a7f1-224">Deploying Docker applications to Docker clusters</span></span>

<span data-ttu-id="6a7f1-225">Die Art der verteilten Anwendungen erfordert die Compute-Ressourcen, die auch verteilt werden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-225">The nature of distributed applications requires compute resources that are also distributed.</span></span> <span data-ttu-id="6a7f1-226">Um-produktionsmandanten und Funktionen zu erhalten, benötigen Sie Funktionen, die hohe Skalierbarkeit und hohe Verfügbarkeit, die basierend auf in einem Pool zusammengefasste Ressourcen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-226">To have production-scale capabilities, you need to have clustering capabilities that provide high scalability and high availability based on pooled resources.</span></span>

<span data-ttu-id="6a7f1-227">Sie konnte manuelles Bereitstellen von Containern mit diesen Clustern aus einem CLI-Tool oder eine Web-Benutzeroberfläche, jedoch sollten Sie diese Art von manueller Arbeit zum Erkennen der Bereitstellung reservieren oder Verwaltungszwecke wie dezentrale Skalierung oder Überwachung.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-227">You could deploy containers manually to those clusters from a CLI tool or a web UI, but you should reserve that kind of manual work to spot deployment testing or management purposes like scaling-out or monitoring.</span></span>

<span data-ttu-id="6a7f1-228">Aus Sicht einer CD und Azure DevOps-Dienste können insbesondere speziell vorgenommen Bereitstellungsaufgaben aus Ihren Release-Management für Azure DevOps-Services-Umgebungen ausführen, die Ihre containeranwendungen in verteilten Cluster in Container bereitgestellt wird Dienst, wie in Abbildung 5-9 dargestellt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-228">From a CD point of view, and Azure DevOps Services specifically, you can run specially made deployment tasks from your Azure DevOps Services Release Management environments that will deploy your containerized applications to distributed clusters in Container Service, as illustrated in Figure 5-9.</span></span>

![Bereitstellen von die CD Schritt (4) kann auch zu einem Cluster über orchestratoren veröffentlichen.](./media/image9.png)

<span data-ttu-id="6a7f1-230">**Abbildung 5-9**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-230">**Figure 5-9**.</span></span> <span data-ttu-id="6a7f1-231">Bereitstellung von verteilten Anwendungen in Container Service</span><span class="sxs-lookup"><span data-stu-id="6a7f1-231">Deploying distributed applications to Container Service</span></span>

<span data-ttu-id="6a7f1-232">Zunächst bei der Bereitstellung in bestimmten Cluster oder orchestratoren verwenden üblicherweise bestimmte Bereitstellungsskripts und Mechanismen pro jeden Orchestrator (d.h. Kubernetes und Service Fabric haben verschiedene Mechanismen) anstelle der einfacheren Sie und leicht zu bedienende `docker-compose` Tool basierend auf den `docker-compose.yml` -Definitionsdatei.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-232">Initially, when deploying to certain clusters or orchestrators, you would traditionally use specific deployment scripts and mechanisms per each orchestrator (that is, Kubernetes and Service Fabric have different deployment mechanisms) instead of the simpler and easy-to-use `docker-compose` tool based on the `docker-compose.yml` definition file.</span></span> <span data-ttu-id="6a7f1-233">Dank der in Abbildung 5-10 dargestellt, die Bereitstellung von Azure DevOps-Dienste Docker-Aufgabe Sie jedoch jetzt auch können bereitstellen, die unterstützten orchestratoren einfach mit Ihrer bevorzugten `docker-compose.yml` -Datei, da das Tool diese "Übersetzung" führt für Sie (über Ihre `docker-compose.yml`Datei in das Format, die vom Orchestrator erforderlich).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-233">However, thanks to the Azure DevOps Services Docker Deploy task, shown in Figure 5-10, you now also can deploy to the supported orchestrators by just using your familiar `docker-compose.yml` file because the tool performs that “translation” for you (from your `docker-compose.yml` file to the format needed by the orchestrator).</span></span>

![Bereitstellungstask für den Browseransicht der aufgabenkatalog in Azure DevOps mit Docker.](./media/image10.png)

<span data-ttu-id="6a7f1-235">**Abbildung 5-10**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-235">**Figure 5-10**.</span></span> <span data-ttu-id="6a7f1-236">Hinzufügen der Docker-Deploy-Task, der Ressourcen-Manager-Umgebung</span><span class="sxs-lookup"><span data-stu-id="6a7f1-236">Adding the Docker Deploy task to your Environment RM</span></span>

<span data-ttu-id="6a7f1-237">Abbildung 5-11 zeigt, wie Sie bearbeite die Aufgabe mit Docker bereitstellen können, und geben Sie den Zieltyp (Azure Container Service-DC/OS, in diesem Fall), Ihre Docker-Compose-Datei und die Docker-registrierungsverbindung (z.B. Azure Container Registry oder Docker Hub).</span><span class="sxs-lookup"><span data-stu-id="6a7f1-237">Figure 5-11 demonstrates how you can edit the Docker Deploy task and specify the Target Type (Azure Container Service DC/OS, in this case), your Docker Compose File, and the Docker Registry connection (like Azure Container Registry or Docker Hub).</span></span> <span data-ttu-id="6a7f1-238">Dies ist die Aufgabe, die Ihre bereit zu verwendenden benutzerdefinierten Docker-Images als Container im Cluster bereitgestellt werden, abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-238">This is the task that will retrieve your ready-to-use custom Docker images to be deployed as containers in the cluster.</span></span>

![Browseransicht der Azure DevOps, stellen Sie in Orchestrator Aufgabendefinition.](./media/image11.png)

<span data-ttu-id="6a7f1-240">**Abbildung 5-11**.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-240">**Figure 5-11**.</span></span> <span data-ttu-id="6a7f1-241">Docker bereitstellen Aufgabe Definition bereitstellen, Azure Container Service DC/OS</span><span class="sxs-lookup"><span data-stu-id="6a7f1-241">Docker Deploy task definition deploying to Azure Container Service DC/OS</span></span>

> [! Informationen]<span data-ttu-id="6a7f1-242"> Weitere Informationen finden Sie Informationen zu den CD-Pipeline mit Azure DevOps-Dienste und Docker auf <https://azure.microsoft.com/services/devops/pipelines></span><span class="sxs-lookup"><span data-stu-id="6a7f1-242"> To read more about the CD pipeline with Azure DevOps Services and Docker, visit <https://azure.microsoft.com/services/devops/pipelines></span></span>

## <a name="step-5-run-and-manage"></a><span data-ttu-id="6a7f1-243">Schritt 5: Ausführen und verwalten</span><span class="sxs-lookup"><span data-stu-id="6a7f1-243">Step 5: Run and manage</span></span>

<span data-ttu-id="6a7f1-244">Da ausführen und Verwalten von Anwendungen auf Enterprise für die Produktion ist ein Hauptthema in sich selbst und aufgrund der Art der Vorgänge und Personen, die auf dieser Ebene (IT-Betrieb) sowie den großen Bereich dieses Bereichs arbeiten, die gesamte im nächste Kapitel geht es um Erläutern es aus.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-244">Because running and managing applications at enterprise-production level is a major subject in and of itself, and due to the type of operations and people working at that level (IT operations) as well as the large scope of this area, the entire next chapter is devoted to explaining it.</span></span>

## <a name="step-6-monitor-and-diagnose"></a><span data-ttu-id="6a7f1-245">Schritt 6: Überwachen und diagnostizieren</span><span class="sxs-lookup"><span data-stu-id="6a7f1-245">Step 6: Monitor and diagnose</span></span>

<span data-ttu-id="6a7f1-246">In diesem Thema wird auch in den nächsten behandelt Kapitel als Teil der Aufgaben, dass die IT führt in Produktionssystemen; Sie ist jedoch wichtig, hervorzuheben, dass die Einblicke erhalten in diesem Schritt an das Entwicklungsteam feed müssen, damit die Anwendung ständig verbessert wird.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-246">This topic also is covered in the next chapter as part of the tasks that IT performs in production systems; however, is important to highlight that the insights obtained in this step must feed back to the development team so that the application is constantly improved.</span></span> <span data-ttu-id="6a7f1-247">Aus dieser Sicht ist es ebenfalls Teil des DevOps, obwohl die Tasks und Vorgänge von häufig ausgeführt werden IT.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-247">From that point of view, it's also part of DevOps, although the tasks and operations are commonly performed by IT.</span></span>

<span data-ttu-id="6a7f1-248">Nur bei der Überwachung und Diagnose 100 % in den Bereich von DevOps sind sind die Prozesse und Analysen, die vom Entwicklungsteam für Tests oder Beta-Umgebungen ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-248">Only when monitoring and diagnostics are 100% within the realm of DevOps are the monitoring processes and analytics performed by the development team against testing or beta environments.</span></span> <span data-ttu-id="6a7f1-249">Dies erfolgt entweder durch Durchführen von Auslastungstests oder durch die Überwachung, Beta- oder QA-Umgebungen, in denen die neuen Versionen Beta-Tester versuchen, sind.</span><span class="sxs-lookup"><span data-stu-id="6a7f1-249">This is done either by performing load testing or by monitoring beta or QA environments, where beta testers are trying the new versions.</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="6a7f1-250">[Zurück](index.md)
>[Weiter](create-ci-cd-pipelines-azure-devops-services-aspnetcore-kubernetes.md)</span><span class="sxs-lookup"><span data-stu-id="6a7f1-250">[Previous](index.md)
[Next](create-ci-cd-pipelines-azure-devops-services-aspnetcore-kubernetes.md)</span></span>
