---
title: Zustand und Daten in Docker-Anwendungen
description: Lebenszyklus von Docker-Containeranwendungen mit der Microsoft-Plattform und Tools
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/22/2017
ms.openlocfilehash: 78db191bdec4c25c11728d819d89eaaaff4bd7da
ms.sourcegitcommit: fe02afbc39e78afd78cc6050e4a9c12a75f579f8
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 08/30/2018
ms.locfileid: "43257356"
---
# <a name="state-and-data-in-docker-applications"></a><span data-ttu-id="92c8b-103">Zustand und Daten in Docker-Anwendungen</span><span class="sxs-lookup"><span data-stu-id="92c8b-103">State and data in Docker applications</span></span>

<span data-ttu-id="92c8b-104">Ein primitiver Typ, der Container ist Unveränderlichkeit.</span><span class="sxs-lookup"><span data-stu-id="92c8b-104">A primitive of containers is immutability.</span></span> <span data-ttu-id="92c8b-105">Im Vergleich zu einem virtuellen Computer keine Container als häufiger eintreten nicht mehr angezeigt.</span><span class="sxs-lookup"><span data-stu-id="92c8b-105">When compared to a VM, containers don't disappear as a common occurrence.</span></span> <span data-ttu-id="92c8b-106">Ein virtuellen Computer möglicherweise in verschiedenen Formen von inaktiver Prozesse, überladene CPU oder einen vollständigen oder fehlerhaften Datenträger.</span><span class="sxs-lookup"><span data-stu-id="92c8b-106">A VM might fail in various forms from dead processes, overloaded CPU, or a full or failed disk.</span></span> <span data-ttu-id="92c8b-107">Noch wir erwarten, dass des virtuelle Computers verfügbar sein und RAID-Laufwerke sind in aller Munde, um sicherzustellen, dass Laufwerksfehlern Daten zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="92c8b-107">Yet, we expect the VM to be available and RAID drives are commonplace to assure drive failures maintain data.</span></span>

<span data-ttu-id="92c8b-108">Allerdings sind Container vorstellen, Prozesse Instanzen sein.</span><span class="sxs-lookup"><span data-stu-id="92c8b-108">However, containers are thought to be instances of processes.</span></span> <span data-ttu-id="92c8b-109">Ein Prozess verwalten nicht permanenten Status.</span><span class="sxs-lookup"><span data-stu-id="92c8b-109">A process doesn't maintain durable state.</span></span> <span data-ttu-id="92c8b-110">Auch wenn ein Container für den lokalen Speicher schreiben kann, wäre vorausgesetzt, dass diese Instanz auf unbestimmte Zeit vorhanden ist gleichwertig, vorausgesetzt, dass eine einzelnen Kopie Arbeitsspeicher dauerhaft ist.</span><span class="sxs-lookup"><span data-stu-id="92c8b-110">Even though a container can write to its local storage, assuming that that instance will be around indefinitely would be equivalent to assuming a single-copy memory will be durable.</span></span> <span data-ttu-id="92c8b-111">Sie sollten davon ausgehen, dass der Container, z.B. Prozesse, dupliziert werden, wird abgebrochen, oder, wenn mit einem containerorchestrator verwaltet werden, sie verschoben werden können.</span><span class="sxs-lookup"><span data-stu-id="92c8b-111">You should assume that containers, like processes, are duplicated, killed, or, when managed with a container orchestrator, they might be moved.</span></span>

<span data-ttu-id="92c8b-112">Docker verwendet die Funktion-ein *Dateisystem überlagern* einen Kopie-bei-Schreibvorgang-Prozess zu implementieren, die alle speichert Informationen auf dem Stammdateisystem der einen Container im Vergleich zum ursprünglichen Image auf dem es basiert aktualisiert.</span><span class="sxs-lookup"><span data-stu-id="92c8b-112">Docker uses a feature known as an *overlay file system* to implement a copy-on-write process that stores any updated information to the root file system of a container, compared to the original image on which it is based.</span></span> <span data-ttu-id="92c8b-113">Diese Änderungen gehen verloren, wenn der Container anschließend aus dem System gelöscht wird.</span><span class="sxs-lookup"><span data-stu-id="92c8b-113">These changes are lost if the container is subsequently deleted from the system.</span></span> <span data-ttu-id="92c8b-114">Ein Container, muss daher nicht beständigen Speicher benötigen standardmäßig.</span><span class="sxs-lookup"><span data-stu-id="92c8b-114">A container, therefore, does not have persistent storage by default.</span></span> <span data-ttu-id="92c8b-115">Obwohl es möglich, den Zustand eines Containers zu speichern, wäre in Konflikt mit dem Prinzip der Container-Architektur Entwerfen eines Systems Umgehung dieses Problems.</span><span class="sxs-lookup"><span data-stu-id="92c8b-115">Although it's possible to save the state of a container, designing a system around this would be in conflict with the principle of container architecture.</span></span>

<span data-ttu-id="92c8b-116">Um persistente Daten in Docker-Anwendungen zu verwalten, stehen gängige Lösungen:</span><span class="sxs-lookup"><span data-stu-id="92c8b-116">To manage persistent data in Docker applications, there are common solutions:</span></span>

-   <span data-ttu-id="92c8b-117">[**Datenvolumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) diese in den Host, wie soeben erwähnt eingebunden.</span><span class="sxs-lookup"><span data-stu-id="92c8b-117">[**Data volumes**](https://docs.docker.com/engine/tutorials/dockervolumes/) These mount to the host, as just noted.</span></span>

-   <span data-ttu-id="92c8b-118">[**Datenvolumecontainer**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) diese freigegebenen Speicher in Containern, die über einen externen Container, mit der Hardwareinventurzyklus kann bieten.</span><span class="sxs-lookup"><span data-stu-id="92c8b-118">[**Data volume containers**](https://docs.docker.com/engine/tutorials/dockervolumes/#/creating-and-mounting-a-data-volume-container) These provide shared storage across containers, using an external container that can cycle.</span></span>

-   <span data-ttu-id="92c8b-119">[**Volume-Plug-Ins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) diese Bereitstellen von Volumes an Remotestandorte, langfristige Persistenz bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="92c8b-119">[**Volume Plugins**](https://docs.docker.com/engine/tutorials/dockervolumes/#/mount-a-shared-storage-volume-as-a-data-volume) These mount volumes to remote locations, providing long-term persistence.</span></span>

-   <span data-ttu-id="92c8b-120">**Remotedatenquellen** Beispiele umfassen die SQL- und NOSQL-Datenbanken oder zwischenspeicherdienste wie Redis.</span><span class="sxs-lookup"><span data-stu-id="92c8b-120">**Remote data sources** Examples include SQL and NO-SQL databases or cache services like Redis.</span></span>

-   <span data-ttu-id="92c8b-121">[**Azure-Speicher**](https://docs.microsoft.com/azure/storage/) dadurch geografisch verteilbaren Plattform als Dienst (PaaS) Speicher, können Sie das beste von Containern als langfristige Persistenz.</span><span class="sxs-lookup"><span data-stu-id="92c8b-121">[**Azure Storage**](https://docs.microsoft.com/azure/storage/) This provides geo distributable platform as a service (PaaS) storage, providing the best of containers as long-term persistence.</span></span>

<span data-ttu-id="92c8b-122">Datenvolumes sind speziell vorgesehen, Verzeichnisse innerhalb eines oder mehrerer Container, die die umgehen der [Union Dateisystem](https://docs.docker.com/glossary/?term=Union%20file%20system).</span><span class="sxs-lookup"><span data-stu-id="92c8b-122">Data volumes are specially designated directories within one or more containers that bypass the [Union File System](https://docs.docker.com/glossary/?term=Union%20file%20system).</span></span> <span data-ttu-id="92c8b-123">Datenvolumes dienen zum Verwalten von Daten, unabhängig von der Lebenszyklus des Containers.</span><span class="sxs-lookup"><span data-stu-id="92c8b-123">Data volumes are designed to maintain data, independent of the container's life cycle.</span></span> <span data-ttu-id="92c8b-124">Docker löscht daher nie automatisch Volumes, wenn Sie einen Container zu entfernen, noch werden sie zu "Sammeln von Garbage"-Volumes, die von einem Container nicht mehr referenziert werden.</span><span class="sxs-lookup"><span data-stu-id="92c8b-124">Docker therefore never automatically deletes volumes when you remove a container, nor will it "garbage collect" volumes that are no longer referenced by a container.</span></span> <span data-ttu-id="92c8b-125">Host-Betriebssystem können durchsuchen und bearbeiten die Daten in ein Volume frei, dies ist nur ein weiterer Grund für die Datenvolumes nur selten zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="92c8b-125">The host operating system can browse and edit the data in any volume freely, which is just another reason to use data volumes sparingly.</span></span>

<span data-ttu-id="92c8b-126">Ein [datenvolumecontainer](https://docs.docker.com/glossary/?term=volume) ist eine Verbesserung gegenüber regulären Datenvolumes.</span><span class="sxs-lookup"><span data-stu-id="92c8b-126">A [data volume container](https://docs.docker.com/glossary/?term=volume) is an improvement over regular data volumes.</span></span> <span data-ttu-id="92c8b-127">Es ist im Wesentlichen ein ruhende Container, die eine oder mehrere Datenvolumes darin erstellt werden, (wie zuvor beschrieben).</span><span class="sxs-lookup"><span data-stu-id="92c8b-127">It is essentially a dormant container that has one or more data volumes created within it (as described earlier).</span></span> <span data-ttu-id="92c8b-128">Der Datenvolumecontainer bietet Zugriff auf Container von einem zentralen Bereitstellungspunkt aus.</span><span class="sxs-lookup"><span data-stu-id="92c8b-128">The data volume container provides access to containers from a central mount point.</span></span> <span data-ttu-id="92c8b-129">Der Vorteil dieser Methode des Zugriffs ist, dass sie den Speicherort der ursprünglichen Daten, sodass Datencontainer logische Bereitstellungspunkt abstrahiert.</span><span class="sxs-lookup"><span data-stu-id="92c8b-129">The benefit of this method of access is that it abstracts the location of the original data, making the data container a logical mount point.</span></span> <span data-ttu-id="92c8b-130">Darüber hinaus können "Application"-Container, die Zugriff auf das Datenvolumen der Container erstellt und zerstört werden, wobei die Daten dauerhaft in einem dedizierten Container werden sollen.</span><span class="sxs-lookup"><span data-stu-id="92c8b-130">It also allows "application" containers accessing the data container volumes to be created and destroyed while keeping the data persistent in a dedicated container.</span></span>

<span data-ttu-id="92c8b-131">Abbildung 4-5 zeigt, dass reguläre Docker-Volumes in Storage, aus dem Container selbst aber innerhalb der physischen Grenzen des Host-Server-VM platziert werden können.</span><span class="sxs-lookup"><span data-stu-id="92c8b-131">Figure 4-5 shows that regular Docker volumes can be placed on storage out of the containers themselves but within the host server/VM physical boundaries.</span></span> <span data-ttu-id="92c8b-132">*Docker-Volumes nicht die Möglichkeit, ein Volume von einem Host/Server-VM in ein anderes verwenden, haben*.</span><span class="sxs-lookup"><span data-stu-id="92c8b-132">*Docker volumes don't have the ability to use a volume from one host server/VM to another*.</span></span>

![](./media/image5.png)

<span data-ttu-id="92c8b-133">Abbildung 4 – 5: Datenvolumes und externe Datenquellen für Container-apps/Container</span><span class="sxs-lookup"><span data-stu-id="92c8b-133">Figure 4-5: Data volumes and external data sources for containers apps/containers</span></span>

<span data-ttu-id="92c8b-134">Aufgrund der nicht zum Verwalten von Daten, die gemeinsam von Containern, die auf separaten physischen Hosts ausgeführt werden können, wird empfohlen, keine Volumes für Geschäftsdaten zu verwenden, wenn der Docker-Host mit einer festen Host/VM ist da bei Verwendung von Docker-Container in einem Orchestrator, Container sollten von einer bis zu einem anderen Host, abhängig von der Optimierungen, die vom Cluster ausgeführt werden, verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="92c8b-134">Due to the inability to manage data shared between containers that run on separate physical hosts, it is recommended that you not use volumes for business data unless the Docker host is a fixed host/VM, because when using Docker containers in an orchestrator, containers are expected to be moved from one to another host, depending on the optimizations to be performed by the cluster.</span></span>

<span data-ttu-id="92c8b-135">Daher sind die regulären Datenvolumes gute Mechanismen für die Arbeit mit Ablaufverfolgungsdateien, temporären Dateien oder alle ähnliches Konzept, das die Konsistenz von Geschäftsdaten nicht beeinflusst wird, wenn, oder wenn Ihr Container auf mehreren Hosts verschoben werden.</span><span class="sxs-lookup"><span data-stu-id="92c8b-135">Therefore, regular data volumes are a good mechanism to work with trace files, temporal files, or any similar concept that won't affect the business data consistency if or when your containers are moved across multiple hosts.</span></span>

<span data-ttu-id="92c8b-136">[Volume-Plug-ins](https://docs.docker.com/engine/extend/plugins_volume/) Daten auf allen Hosts in einem Cluster bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="92c8b-136">[Volume plug-ins](https://docs.docker.com/engine/extend/plugins_volume/) provide data across all hosts in a cluster.</span></span> <span data-ttu-id="92c8b-137">Obwohl nicht alle Volume-Plug-ins gleichermaßen erstellt werden, bieten Volume-Plug-ins in der Regel externalisierte persistente und zuverlässige Speicherung von unveränderlichen Containern.</span><span class="sxs-lookup"><span data-stu-id="92c8b-137">Although not all volume plug-ins are created equally, volume plug-ins typically provide externalized persistent reliable storage from the immutable containers.</span></span>

<span data-ttu-id="92c8b-138">Remotedatenquellen und-Caches wie SQL-Datenbank, DocumentDB oder ein Remotecache wie Redis wäre identisch mit der Entwicklung ohne Container.</span><span class="sxs-lookup"><span data-stu-id="92c8b-138">Remote data sources and caches like SQL Database, DocumentDB, or a remote cache like Redis would be the same as developing without containers.</span></span> <span data-ttu-id="92c8b-139">Dies ist einer der bevorzugten und bewährten Methoden zum Speichern von Geschäftsanwendungsdaten.</span><span class="sxs-lookup"><span data-stu-id="92c8b-139">This is one of the preferred, and proven, ways to store business application data.</span></span>


>[!div class="step-by-step"]
<span data-ttu-id="92c8b-140">[Zurück](monolithic-applications.md)
[Weiter](soa-applications.md)</span><span class="sxs-lookup"><span data-stu-id="92c8b-140">[Previous](monolithic-applications.md)
[Next](soa-applications.md)</span></span>
