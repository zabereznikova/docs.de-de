---
title: Isolierte Speicherung
description: Hier erfahren Sie mehr über die isolierte Speicherung. Dies ist ein Datenspeichermechanismus, der die Isolierung und Sicherheit ermöglicht, indem standardisierte Methoden zum Zuordnen von Code mit gespeicherten Daten definiert werden.
ms.date: 03/30/2017
ms.technology: dotnet-standard
helpviewer_keywords:
- data storage using isolated storage
- stores
- storing data using isolated storage
- isolated storage
- location of isolated storage in file system
- standardizing storage systems
- storing data using isolated storage, when not to use
- code, isolated storage
- isolated storage, options
- data storage using isolated storage, when not to use
- storing data using isolated storage, options
- isolated storage, when not to use
- data storage using isolated storage, options
- isolation
ms.assetid: aff939d7-9e49-46f2-a8cd-938d3020e94e
ms.openlocfilehash: 3699edda6cce24adb8e932d6e8b8a0a5bb977142
ms.sourcegitcommit: 74d05613d6c57106f83f82ce8ee71176874ea3f0
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/03/2020
ms.locfileid: "93282029"
---
# <a name="isolated-storage"></a><span data-ttu-id="76c4e-103">Isolierter Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-103">Isolated storage</span></span>

<span data-ttu-id="76c4e-104">Isolierter Speicher ist ein Mechanismus zur Datenspeicherung für Desktop-Apps, der Isolation und Sicherheit gewährleistet, indem er standardisierte Möglichkeiten zur Verknüpfung von Code mit gespeicherten Daten definiert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-104">For desktop apps, isolated storage is a data storage mechanism that provides isolation and safety by defining standardized ways of associating code with saved data.</span></span> <span data-ttu-id="76c4e-105">Die Standardisierung hat weitere Vorteile.</span><span class="sxs-lookup"><span data-stu-id="76c4e-105">Standardization provides other benefits as well.</span></span> <span data-ttu-id="76c4e-106">Administratoren können spezielle Tools zum Ändern isolierter Speichervorgänge verwenden, um Speicherplätze für Dateien zu konfigurieren, Sicherheitsrichtlinien festzulegen und nicht verwendete Daten zu löschen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-106">Administrators can use tools designed to manipulate isolated storage to configure file storage space, set security policies, and delete unused data.</span></span> <span data-ttu-id="76c4e-107">Dank isolierter Speicherung benötigt der Code keine eindeutigen Pfade zur Festlegung sicherer Speicherplätze im Dateisystem. Außerdem werden die Daten vor anderen Anwendungen geschützt, die nur über Zugriff auf isolierte Speicherplätze verfügen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-107">With isolated storage, your code no longer needs unique paths to specify safe locations in the file system, and data is protected from other applications that only have isolated storage access.</span></span> <span data-ttu-id="76c4e-108">Fest codierte Daten, die den Speicherbereich einer Anwendung angeben, sind nicht erforderlich.</span><span class="sxs-lookup"><span data-stu-id="76c4e-108">Hard-coded information that indicates where an application's storage area is located is unnecessary.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="76c4e-109">Die isolierte Speicherung ist nicht für Windows 8.x Store-Apps verfügbar.</span><span class="sxs-lookup"><span data-stu-id="76c4e-109">Isolated storage is not available for Windows 8.x Store apps.</span></span> <span data-ttu-id="76c4e-110">Verwenden Sie stattdessen zum Speichern von lokalen Daten und Dateien die in der Windows-Runtime-API enthaltenen Anwendungsdatenklassen in den `Windows.Storage`-Namespaces.</span><span class="sxs-lookup"><span data-stu-id="76c4e-110">Instead, use the application data classes in the `Windows.Storage` namespaces included in the Windows Runtime API to store local data and files.</span></span> <span data-ttu-id="76c4e-111">Weitere Informationen finden Sie im Windows Developer Center unter [Anwendungsdaten](/previous-versions/windows/apps/hh464917(v=win.10)) .</span><span class="sxs-lookup"><span data-stu-id="76c4e-111">For more information, see [Application data](/previous-versions/windows/apps/hh464917(v=win.10)) in the Windows Dev Center.</span></span>

<a name="data_compartments_and_stores"></a>

## <a name="data-compartments-and-stores"></a><span data-ttu-id="76c4e-112">Datendepots und -speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-112">Data Compartments and Stores</span></span>

<span data-ttu-id="76c4e-113">Wenn eine Anwendung Daten in einer Datei speichert, müssen Dateiname und Speicherort sorgfältig ausgewählt werden, um weitestgehend zu verhindern, dass der Speicherort einer anderen Anwendung zugänglich und damit anfällig für Datenbeschädigungen wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-113">When an application stores data in a file, the file name and storage location must be carefully chosen to minimize the possibility that the storage location will be known to another application and, therefore, vulnerable to corruption.</span></span> <span data-ttu-id="76c4e-114">Ohne die Verwendung eines Standardsystems zur Behebung solcher Probleme können Improvisationstechniken zur Minimierung von Speicherkonflikten sehr komplex sein und zu unzuverlässigen Ergebnissen führen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-114">Without a standard system in place to manage these problems, improvising techniques that minimize storage conflicts can be complex, and the results can be unreliable.</span></span>

<span data-ttu-id="76c4e-115">Bei der isolierten Speicherung werden die Daten immer nach Benutzer oder nach Assembly isoliert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-115">With isolated storage, data is always isolated by user and by assembly.</span></span> <span data-ttu-id="76c4e-116">Informationen wie der Ursprung oder der starke Name der Assembly bestimmen die Identität der Assembly.</span><span class="sxs-lookup"><span data-stu-id="76c4e-116">Credentials such as the origin or the strong name of the assembly determine assembly identity.</span></span> <span data-ttu-id="76c4e-117">Daten können auch nach Anwendungsdomäne isoliert werden, wobei ähnliche Informationen verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-117">Data can also be isolated by application domain, using similar credentials.</span></span>

<span data-ttu-id="76c4e-118">Bei der Verwendung der isolierten Speicherung speichert Ihre Anwendung Daten in einem eindeutigem Datendepot, das einem bestimmten Aspekt der Identität des Codes zugeordnet ist, beispielsweise dem Herausgeber oder der Signatur.</span><span class="sxs-lookup"><span data-stu-id="76c4e-118">When you use isolated storage, your application saves data to a unique data compartment that is associated with some aspect of the code's identity, such as its publisher or signature.</span></span> <span data-ttu-id="76c4e-119">Das Datendepot ist abstrakt und stellt keinen spezifischen Speicherplatz dar. Es besteht aus einer oder mehreren Dateien der isolierten Speicherung, so genannten Speichern. Diese enthalten den tatsächlichen Verzeichnisort, an dem die Daten gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-119">The data compartment is an abstraction, not a specific storage location; it consists of one or more isolated storage files, called stores, which contain the actual directory locations where data is stored.</span></span> <span data-ttu-id="76c4e-120">So kann z. B. einer Anwendung ein Datendepot zugeordnet sein. In diesem Fall ist es das Verzeichnis im Dateisystem, das den Speicher implementiert. Dort sind die Daten dieser Anwendung gespeichert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-120">For example, an application might have a data compartment associated with it, and a directory in the file system would implement the store that actually preserves the data for that application.</span></span> <span data-ttu-id="76c4e-121">In diesem Speicher können beliebige Daten gespeichert werden, z. B. Informationen zur Benutzereinstellung oder der Anwendungszustand.</span><span class="sxs-lookup"><span data-stu-id="76c4e-121">The data saved in the store can be any kind of data, from user preference information to application state.</span></span> <span data-ttu-id="76c4e-122">Für den Entwickler ist der Speicherplatz des Datendepots transparent.</span><span class="sxs-lookup"><span data-stu-id="76c4e-122">For the developer, the location of the data compartment is transparent.</span></span> <span data-ttu-id="76c4e-123">Speicher befinden sich normalerweise auf dem Client. Eine Serveranwendung könnte jedoch isolierte Speicher zum Speichern von Informationen verwenden, indem sie die Identität des Benutzers annimmt, in dessen Auftrag sie arbeitet.</span><span class="sxs-lookup"><span data-stu-id="76c4e-123">Stores usually reside on the client, but a server application could use isolated stores to store information by impersonating the user on whose behalf it is functioning.</span></span> <span data-ttu-id="76c4e-124">Mit isolierter Speicherung können Daten auf einem Server mit einem Roamingbenutzerprofil gespeichert werden. Dadurch wandern die Daten mit dem Benutzer mit.</span><span class="sxs-lookup"><span data-stu-id="76c4e-124">Isolated storage can also store information on a server with a user's roaming profile so that the information will travel with the roaming user.</span></span>

<a name="quotas"></a>

## <a name="quotas-for-isolated-storage"></a><span data-ttu-id="76c4e-125">Kontingente für isolierte Speicherung</span><span class="sxs-lookup"><span data-stu-id="76c4e-125">Quotas for Isolated Storage</span></span>

<span data-ttu-id="76c4e-126">Bei einem Kontingent handelt es sich um eine Begrenzung des Umfangs an isoliertem Speicherplatz, der verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="76c4e-126">A quota is a limit on the amount of isolated storage that can be used.</span></span> <span data-ttu-id="76c4e-127">Das Kontingent umfasst Speicherplatzangaben in Bytes sowie den Mehrbedarf in Verbindung mit dem Verzeichnis und anderen Informationen im Speicher.</span><span class="sxs-lookup"><span data-stu-id="76c4e-127">The quota includes bytes of file space as well as the overhead associated with the directory and other information in the store.</span></span> <span data-ttu-id="76c4e-128">Bei der isolierten Speicherung werden Berechtigungskontingente verwendet, bei denen es sich um eine mithilfe von <xref:System.Security.Permissions.IsolatedStoragePermission> -Objekten eingestellte Speicherplatzbegrenzung handelt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-128">Isolated storage uses permission quotas, which are storage limits that are set by using <xref:System.Security.Permissions.IsolatedStoragePermission> objects.</span></span> <span data-ttu-id="76c4e-129">Versuchen Sie, über das Kontingent hinausgehende Daten zu schreiben, wird eine <xref:System.IO.IsolatedStorage.IsolatedStorageException> -Ausnahme ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="76c4e-129">If you try to write data that exceeds the quota, an <xref:System.IO.IsolatedStorage.IsolatedStorageException> exception is thrown.</span></span>  <span data-ttu-id="76c4e-130">In einer Sicherheitsrichtlinie, die mithilfe des .NET Framework-Konfigurationstools (Mscorcfg.msc) geändert werden kann, wird festgelegt, welche Berechtigungen Code erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-130">Security policy, which can be modified using the .NET Framework Configuration Tool (Mscorcfg.msc), determines which permissions are granted to code.</span></span> <span data-ttu-id="76c4e-131">Code, dem <xref:System.Security.Permissions.IsolatedStoragePermission> gewährt wurde, kann nicht mehr Speicherplatz verwenden, als die <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> -Eigenschaft zulässt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-131">Code that has been granted <xref:System.Security.Permissions.IsolatedStoragePermission> is restricted to using no more storage than the <xref:System.Security.Permissions.IsolatedStoragePermission.UserQuota%2A> property allows.</span></span> <span data-ttu-id="76c4e-132">Da Code allerdings Berechtigungskontingente durch die Angabe verschiedener Benutzeridentitäten umgehen kann, dienen diese lediglich als Richtlinien und nicht als strenge Einschränkungen für das Verhalten des Codes.</span><span class="sxs-lookup"><span data-stu-id="76c4e-132">However, because code can bypass permission quotas by presenting different user identities, permission quotas serve as guidelines for how code should behave rather than as a firm limit on code behavior.</span></span>

<span data-ttu-id="76c4e-133">Kontingente werden nicht in Roamingspeichern durchgesetzt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-133">Quotas are not enforced on roaming stores.</span></span> <span data-ttu-id="76c4e-134">Dies ist der Grund, weshalb für ihre Verwendung eine etwas höhere Berechtigungsebene erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-134">Because of this, a slightly higher level of permission is required for code to use them.</span></span> <span data-ttu-id="76c4e-135">Die Enumerationswerte <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> und <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> geben eine Berechtigung zur Verwendung von isolierter Speicherung für einen Roamingbenutzer an.</span><span class="sxs-lookup"><span data-stu-id="76c4e-135">The enumeration values <xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser> and <xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser> specify a permission to use isolated storage for a roaming user.</span></span>

<a name="secure_access"></a>

## <a name="secure-access"></a><span data-ttu-id="76c4e-136">Sicherer Zugriff</span><span class="sxs-lookup"><span data-stu-id="76c4e-136">Secure Access</span></span>

<span data-ttu-id="76c4e-137">Durch isolierte Speicherung können Daten von teilweise vertrauenswürdigen Anwendungen so gespeichert werden, dass eine Kontrolle durch die Sicherheitsrichtlinien des Computers gewährleistet ist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-137">Using isolated storage enables partially trusted applications to store data in a manner that is controlled by the computer's security policy.</span></span> <span data-ttu-id="76c4e-138">Dies ist besonders für heruntergeladene Komponenten von Nutzen, bei deren Ausführung Vorsicht geboten ist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-138">This is especially useful for downloaded components that a user might want to run cautiously.</span></span> <span data-ttu-id="76c4e-139">Wenn Sie standardmäßige E/A-Mechanismen zum Zugriff auf das Dateisystem verwenden, lassen die Sicherheitsrichtlinien selten diese Art der Codeberechtigung zu.</span><span class="sxs-lookup"><span data-stu-id="76c4e-139">Security policy rarely grants this kind of code permission when you access the file system by using standard I/O mechanisms.</span></span> <span data-ttu-id="76c4e-140">Code, der vom lokalen Computer, von einem lokalen Netzwerk oder über das Internet ausgeführt wird, erhält jedoch standardmäßig die Berechtigung zur Verwendung von isoliertem Speicher.</span><span class="sxs-lookup"><span data-stu-id="76c4e-140">However, by default, code running from the local computer, a local network, or the Internet is granted the right to use isolated storage.</span></span>

<span data-ttu-id="76c4e-141">Administratoren können auf Basis einer entsprechenden Vertrauensebene festlegen, wie viel isolierter Speicherplatz einer Anwendung oder einem Benutzer zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="76c4e-141">Administrators can limit how much isolated storage an application or a user has available, based on an appropriate trust level.</span></span> <span data-ttu-id="76c4e-142">Darüber hinaus können Administratoren die gespeicherten Daten eines Benutzers vollständig löschen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-142">In addition, administrators can remove a user's persisted data completely.</span></span> <span data-ttu-id="76c4e-143">Um isolierten Speicherplatz erstellen oder darauf zugreifen zu können, muss dem Code die entsprechende <xref:System.Security.Permissions.IsolatedStorageFilePermission> -Berechtigung erteilt werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-143">To create or access isolated storage, code must be granted the appropriate <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission.</span></span>

<span data-ttu-id="76c4e-144">Für den Zugriff auf isolierten Speicherplatz muss der Code über alle notwendigen systemeigenen Rechte der Betriebssystemplattform verfügen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-144">To access isolated storage, code must have all necessary native platform operating system rights.</span></span> <span data-ttu-id="76c4e-145">Die Bedingungen der Zugriffssteuerungslisten (ACLs, Access Control Lists), die festlegen, welche Benutzer zur Verwendung des Dateisystems berechtigt sind, müssen erfüllt sein.</span><span class="sxs-lookup"><span data-stu-id="76c4e-145">The access control lists (ACLs) that control which users have the rights to use the file system must be satisfied.</span></span> <span data-ttu-id="76c4e-146">.NET-Anwendungen verfügen bereits über Betriebssystemrechte für den Zugriff auf isolierten Speicherplatz, sofern sie keine (plattformspezifische) Imitation ausführen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-146">.NET applications already have operating system rights to access isolated storage unless they perform (platform-specific) impersonation.</span></span> <span data-ttu-id="76c4e-147">In diesem Fall ist die Anwendung dafür zuständig, dass die imitierte Benutzeridentität über die entsprechenden Rechte des Betriebssystems verfügt, um auf den isolierten Speicherplatz zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-147">In this case, the application is responsible for ensuring that the impersonated user identity has the proper operating system rights to access isolated storage.</span></span> <span data-ttu-id="76c4e-148">Mithilfe dieses Zugriffs kann aus dem Web ausgeführter bzw. heruntergeladener Code auf einfache Weise aus dem Speicherbereich, der einem bestimmten Benutzer zugeordnet ist, lesen bzw. in diesen schreiben.</span><span class="sxs-lookup"><span data-stu-id="76c4e-148">This access provides a convenient way for code that is run or downloaded from the web to read and write to a storage area related to a particular user.</span></span>

<span data-ttu-id="76c4e-149">Zur Steuerung des Zugriffs auf isolierte Speicherplätze verwendet Common Language Runtime <xref:System.Security.Permissions.IsolatedStorageFilePermission> -Objekte.</span><span class="sxs-lookup"><span data-stu-id="76c4e-149">To control access to isolated storage, the common language runtime uses <xref:System.Security.Permissions.IsolatedStorageFilePermission> objects.</span></span> <span data-ttu-id="76c4e-150">Jedes Objekt verfügt über Eigenschaften, die folgende Werte festlegen:</span><span class="sxs-lookup"><span data-stu-id="76c4e-150">Each object has properties that specify the following values:</span></span>

- <span data-ttu-id="76c4e-151">Zulässige Verwendung, die den erlaubten Zugriffstyp anzeigt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-151">Allowed usage, which indicates the type of access that is allowed.</span></span> <span data-ttu-id="76c4e-152">Die Werte sind Member der <xref:System.Security.Permissions.IsolatedStorageContainment> -Enumeration.</span><span class="sxs-lookup"><span data-stu-id="76c4e-152">The values are members of the <xref:System.Security.Permissions.IsolatedStorageContainment> enumeration.</span></span> <span data-ttu-id="76c4e-153">Weitere Informationen über diese Werte finden Sie in der Tabelle im nächsten Abschnitt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-153">For more information about these values, see the table in the next section.</span></span>

- <span data-ttu-id="76c4e-154">Speicherkontingent, wie im vorherigen Abschnitt erläutert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-154">Storage quota, as discussed in the preceding section.</span></span>

<span data-ttu-id="76c4e-155">Beim ersten Versuch des Codes, einen Speicher zu öffnen, fordert die Runtime eine <xref:System.Security.Permissions.IsolatedStorageFilePermission> -Berechtigung an.</span><span class="sxs-lookup"><span data-stu-id="76c4e-155">The runtime demands <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission when code first attempts to open a store.</span></span> <span data-ttu-id="76c4e-156">Sie entscheidet basierend auf der Vertrauenswürdigkeit des Codes, ob diese Berechtigung erteilt wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-156">It decides whether to grant this permission, based on how much the code is trusted.</span></span> <span data-ttu-id="76c4e-157">Falls die Berechtigung erteilt wird, werden die Werte für die zulässige Verwendung und für das Speicherkontingent durch die Sicherheitsrichtlinien und durch die Anforderung von <xref:System.Security.Permissions.IsolatedStorageFilePermission>durch den Code festgelegt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-157">If the permission is granted, the allowed usage and storage quota values are determined by security policy and by the code's request for <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span> <span data-ttu-id="76c4e-158">Die Sicherheitsrichtlinien werden mit dem .NET Framework-Konfigurationstool (Mscorcfg.msc) festgelegt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-158">Security policy is set by using the .NET Framework Configuration Tool (Mscorcfg.msc).</span></span> <span data-ttu-id="76c4e-159">Alle Aufrufer in der Aufrufliste werden überprüft, um sicherzustellen, dass jeder mindestens über die entsprechende zulässige Verwendung verfügt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-159">All callers in the call stack are checked to ensure that each caller has at least the appropriate allowed usage.</span></span> <span data-ttu-id="76c4e-160">Durch die Laufzeit werden auch die Kontingente überprüft, die dem Code auferlegt wurden, durch welchen der Speicher für die zu speichernde Datei geöffnet oder erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="76c4e-160">The runtime also checks the quota imposed on the code that opened or created the store in which the file is to be saved.</span></span> <span data-ttu-id="76c4e-161">Falls diese Bedingungen erfüllt sind, wird die Berechtigung erteilt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-161">If these conditions are satisfied, permission is granted.</span></span> <span data-ttu-id="76c4e-162">Die Überprüfung des Kontingents erfolgt jedes Mal erneut, wenn eine Datei in den Speicher geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-162">The quota is checked again every time a file is written to the store.</span></span>

<span data-ttu-id="76c4e-163">Für Anwendungscode muss keine Berechtigung angefordert werden, da Common Language Runtime jede gemäß den Sicherheitsrichtlinien angemessene <xref:System.Security.Permissions.IsolatedStorageFilePermission> erteilt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-163">Application code is not required to request permission because the common language runtime will grant whatever <xref:System.Security.Permissions.IsolatedStorageFilePermission> is appropriate based on security policy.</span></span> <span data-ttu-id="76c4e-164">Allerdings gibt es gute Gründe, bestimmte Berechtigungen, die für Ihre Anwendung erforderlich sind, einschließlich von <xref:System.Security.Permissions.IsolatedStorageFilePermission>, anzufordern.</span><span class="sxs-lookup"><span data-stu-id="76c4e-164">However, there are good reasons to request specific permissions that your application needs, including <xref:System.Security.Permissions.IsolatedStorageFilePermission>.</span></span>

<a name="allowed_usage"></a>

## <a name="allowed-usage-and-security-risks"></a><span data-ttu-id="76c4e-165">Zulässige Verwendung und Sicherheitsrisiken</span><span class="sxs-lookup"><span data-stu-id="76c4e-165">Allowed Usage and Security Risks</span></span>

<span data-ttu-id="76c4e-166">Die durch <xref:System.Security.Permissions.IsolatedStorageFilePermission> festgelegte zulässige Verwendung bestimmt, bis zu welchem Grad das Erstellen und Verwenden von isolierter Speicherung durch Code zugelassen wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-166">The allowed usage specified by <xref:System.Security.Permissions.IsolatedStorageFilePermission> determines the degree to which code will be allowed to create and use isolated storage.</span></span> <span data-ttu-id="76c4e-167">Aus der folgenden Tabelle geht hervor, inwiefern die in der Berechtigung festgelegte zulässige Verwendung den Isolationstypen entspricht. Ferner werden die Sicherheitsrisiken zusammengefasst, die jede zulässigen Verwendung mit sich bringt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-167">The following table shows how the allowed usage specified in the permission corresponds to types of isolation and summarizes the security risks associated with each allowed usage.</span></span>

|<span data-ttu-id="76c4e-168">Zulässige Verwendung</span><span class="sxs-lookup"><span data-stu-id="76c4e-168">Allowed usage</span></span>|<span data-ttu-id="76c4e-169">Isolationstypen</span><span class="sxs-lookup"><span data-stu-id="76c4e-169">Isolation types</span></span>|<span data-ttu-id="76c4e-170">Sicherheitsrisiko</span><span class="sxs-lookup"><span data-stu-id="76c4e-170">Security impact</span></span>|
|-------------------|---------------------|---------------------|
|<xref:System.Security.Permissions.IsolatedStorageContainment.None>|<span data-ttu-id="76c4e-171">Es ist keine Verwendung von isolierter Speicherung zulässig.</span><span class="sxs-lookup"><span data-stu-id="76c4e-171">No isolated storage use is allowed.</span></span>|<span data-ttu-id="76c4e-172">Es besteht kein Sicherheitsrisiko.</span><span class="sxs-lookup"><span data-stu-id="76c4e-172">There is no security impact.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByUser>|<span data-ttu-id="76c4e-173">Isolation nach Benutzer, Domäne und Assembly.</span><span class="sxs-lookup"><span data-stu-id="76c4e-173">Isolation by user, domain, and assembly.</span></span> <span data-ttu-id="76c4e-174">Jede Assembly verfügt über einen separaten Unterspeicher innerhalb der Domäne.</span><span class="sxs-lookup"><span data-stu-id="76c4e-174">Each assembly has a separate substore within the domain.</span></span> <span data-ttu-id="76c4e-175">Speicher, die diese Berechtigung verwenden, werden auch implizit nach Computer isoliert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-175">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="76c4e-176">Diese Berechtigungsebene bietet Ressourcen keinen Schutz vor unbefugter Überbeanspruchung, wobei erzwungene Kontingente allerdings die Funktion haben, dies zu erschweren.</span><span class="sxs-lookup"><span data-stu-id="76c4e-176">This permission level leaves resources open to unauthorized overuse, although enforced quotas make it more difficult.</span></span> <span data-ttu-id="76c4e-177">Dies wird Denial-of-Service-Angriff genannt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-177">This is called a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.DomainIsolationByRoamingUser>|<span data-ttu-id="76c4e-178">Wie bei `DomainIsolationByUser`, jedoch befindet sich der Speicher an einem Speicherplatz, für den Roaming möglich ist, sofern Roamingbenutzerprofile aktiviert und Kontingente nicht erzwungen sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-178">Same as `DomainIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="76c4e-179">Da Kontingente deaktiviert sein müssen, sind die Speicherressourcen anfälliger für Denial-of-Service-Angriffe.</span><span class="sxs-lookup"><span data-stu-id="76c4e-179">Because quotas must be disabled, storage resources are more vulnerable to a denial of service attack.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByUser>|<span data-ttu-id="76c4e-180">Isolation nach Benutzer und Assembly.</span><span class="sxs-lookup"><span data-stu-id="76c4e-180">Isolation by user and assembly.</span></span> <span data-ttu-id="76c4e-181">Speicher, die diese Berechtigung verwenden, werden auch implizit nach Computer isoliert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-181">Stores that use this permission are also implicitly isolated by computer.</span></span>|<span data-ttu-id="76c4e-182">Kontingente werden auf dieser Ebene erzwungen, um einen Denial-of-Service-Angriff zu verhindern.</span><span class="sxs-lookup"><span data-stu-id="76c4e-182">Quotas are enforced at this level to help prevent a denial of service attack.</span></span> <span data-ttu-id="76c4e-183">Dieselbe Assembly in einer anderen Domäne kann auf diesen Speicher zugreifen, wodurch ein Verlust von Informationen zwischen Anwendungen möglich ist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-183">The same assembly in another domain can access this store, opening the possibility that information could be leaked between applications.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AssemblyIsolationByRoamingUser>|<span data-ttu-id="76c4e-184">Wie bei `AssemblyIsolationByUser`, jedoch befindet sich der Speicher an einem Speicherplatz, für den Roaming möglich ist, sofern Roamingbenutzerprofile aktiviert und Kontingente nicht erzwungen sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-184">Same as `AssemblyIsolationByUser`, but store is saved to a location that will roam if roaming user profiles are enabled and quotas are not enforced.</span></span>|<span data-ttu-id="76c4e-185">Wie bei `AssemblyIsolationByUser`. Allerdings erhöht sich ohne Kontingente das Risiko eines Denial-of-Service-Angriffs.</span><span class="sxs-lookup"><span data-stu-id="76c4e-185">Same as in `AssemblyIsolationByUser`, but without quotas, the risk of a denial of service attack increases.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.AdministerIsolatedStorageByUser>|<span data-ttu-id="76c4e-186">Isolation nach Benutzer.</span><span class="sxs-lookup"><span data-stu-id="76c4e-186">Isolation by user.</span></span> <span data-ttu-id="76c4e-187">Normalerweise gilt diese Berechtigungsebene nur für Verwaltungs- oder Debugtools.</span><span class="sxs-lookup"><span data-stu-id="76c4e-187">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="76c4e-188">Durch den Zugriff mit dieser Berechtigung kann Code jede der Dateien oder Verzeichnisse in isolierten Speicherplätzen anzeigen oder löschen (unabhängig von Assemblyisolation).</span><span class="sxs-lookup"><span data-stu-id="76c4e-188">Access with this permission allows code to view or delete any of a user's isolated storage files or directories (regardless of assembly isolation).</span></span> <span data-ttu-id="76c4e-189">Es besteht u. a. das Risiko eines Informationslecks und des Datenverlusts.</span><span class="sxs-lookup"><span data-stu-id="76c4e-189">Risks include, but are not limited to, leaking information and data loss.</span></span>|
|<xref:System.Security.Permissions.IsolatedStorageContainment.UnrestrictedIsolatedStorage>|<span data-ttu-id="76c4e-190">Isolation nach Benutzern, Domänen und Assemblys.</span><span class="sxs-lookup"><span data-stu-id="76c4e-190">Isolation by all users, domains, and assemblies.</span></span> <span data-ttu-id="76c4e-191">Normalerweise gilt diese Berechtigungsebene nur für Verwaltungs- oder Debugtools.</span><span class="sxs-lookup"><span data-stu-id="76c4e-191">Typically, only administrative or debugging tools use this level of permission.</span></span>|<span data-ttu-id="76c4e-192">Durch diese Berechtigung sind sämtliche isolierte Speicher aller Benutzer potenziell gefährdet.</span><span class="sxs-lookup"><span data-stu-id="76c4e-192">This permission creates the potential for a total compromise of all isolated stores for all users.</span></span>|

## <a name="safety-of-isolated-storage-components-with-regard-to-untrusted-data"></a><span data-ttu-id="76c4e-193">Sicherheit isolierter Speicherkomponenten in Bezug auf nicht vertrauenswürdige Daten</span><span class="sxs-lookup"><span data-stu-id="76c4e-193">Safety of isolated storage components with regard to untrusted data</span></span>

<span data-ttu-id="76c4e-194">__Dieser Abschnitt gilt für die folgenden Frameworks:__</span><span class="sxs-lookup"><span data-stu-id="76c4e-194">__This section applies to the following frameworks:__</span></span>

- <span data-ttu-id="76c4e-195">.NET Framework (alle Versionen)</span><span class="sxs-lookup"><span data-stu-id="76c4e-195">.NET Framework (all versions)</span></span>
- <span data-ttu-id="76c4e-196">.NET Core 2.1 oder höher</span><span class="sxs-lookup"><span data-stu-id="76c4e-196">.NET Core 2.1+</span></span>
- <span data-ttu-id="76c4e-197">.NET 5.0 oder höher</span><span class="sxs-lookup"><span data-stu-id="76c4e-197">.NET 5.0+</span></span>

<span data-ttu-id="76c4e-198">Das .NET Framework und .NET Core bieten isolierten Speicher als Mechanismus zum dauerhaften Speichern von Daten für einen Benutzer, eine Anwendung oder eine Komponente.</span><span class="sxs-lookup"><span data-stu-id="76c4e-198">.NET Framework and .NET Core offer isolated storage as a mechanism to persist data for a user, an application, or a component.</span></span> <span data-ttu-id="76c4e-199">Dabei handelt es sich um eine Legacykomponente, die in erster Linie für mittlerweile veraltete Szenarios für die Codezugriffssicherheit entwickelt wurde.</span><span class="sxs-lookup"><span data-stu-id="76c4e-199">This is a legacy component primarily designed for now-deprecated Code Access Security scenarios.</span></span>

<span data-ttu-id="76c4e-200">Verschiedene isolierte Speicher-APIs und -Tools können zum vertrauensgrenzenübergreifenden Lesen von Daten verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-200">Various isolated storage APIs and tools can be used to read data across trust boundaries.</span></span> <span data-ttu-id="76c4e-201">Durch das Lesen von Daten aus computerweiten Bereichen können möglicherweise Daten von weniger vertrauenswürdigen Benutzerkonten auf dem Computer aggregiert werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-201">For example, reading data from a machine-wide scope can aggregate data from other, possibly less-trusted user accounts on the machine.</span></span> <span data-ttu-id="76c4e-202">Komponenten oder Anwendungen, die Elemente aus den isolierten computerweiten Speicherbereichen lesen, sollten die Konsequenzen des Lesens dieser Daten kennen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-202">Components or applications that read from machine-wide isolated storage scopes should be aware of the consequences of reading this data.</span></span>

### <a name="security-sensitive-apis-that-can-read-from-the-machine-wide-scope"></a><span data-ttu-id="76c4e-203">Sicherheitsrelevante APIs mit computerweiten Leseberechtigungen</span><span class="sxs-lookup"><span data-stu-id="76c4e-203">Security-sensitive APIs that can read from the machine-wide scope</span></span>

<span data-ttu-id="76c4e-204">Komponenten oder Anwendungen, die eine der folgenden APIs aufrufen, können computerweite Dateien lesen:</span><span class="sxs-lookup"><span data-stu-id="76c4e-204">Components or applications that call any of the following APIs read from the machine-wide scope:</span></span>

* <span data-ttu-id="76c4e-205">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator) übergibt einen Bereich, der das „IsolatedStorageScope.Machine“-Flag enthält</span><span class="sxs-lookup"><span data-stu-id="76c4e-205">[IsolatedStorageFile.GetEnumerator](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getenumerator), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* [<span data-ttu-id="76c4e-206">IsolatedStorageFile.GetMachineStoreForApplication</span><span class="sxs-lookup"><span data-stu-id="76c4e-206">IsolatedStorageFile.GetMachineStoreForApplication</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforapplication)
* [<span data-ttu-id="76c4e-207">IsolatedStorageFile.GetMachineStoreForAssembly</span><span class="sxs-lookup"><span data-stu-id="76c4e-207">IsolatedStorageFile.GetMachineStoreForAssembly</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestoreforassembly)
* [<span data-ttu-id="76c4e-208">IsolatedStorageFile.GetMachineStoreForDomain</span><span class="sxs-lookup"><span data-stu-id="76c4e-208">IsolatedStorageFile.GetMachineStoreForDomain</span></span>](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getmachinestorefordomain)
* <span data-ttu-id="76c4e-209">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore) übergibt einen Bereich, der das „IsolatedStorageScope.Machine“-Flag enthält</span><span class="sxs-lookup"><span data-stu-id="76c4e-209">[IsolatedStorageFile.GetStore](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.getstore), passing a scope that includes the IsolatedStorageScope.Machine flag</span></span>
* <span data-ttu-id="76c4e-210">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove) übergibt einen Bereich, der das `IsolatedStorageScope.Machine`-Flag enthält</span><span class="sxs-lookup"><span data-stu-id="76c4e-210">[IsolatedStorageFile.Remove](/dotnet/api/system.io.isolatedstorage.isolatedstoragefile.remove), passing a scope that includes the `IsolatedStorageScope.Machine` flag</span></span>

<span data-ttu-id="76c4e-211">Das [Isolated Storage-Tool](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` ist betroffen, wenn es wie im folgenden Code veranschaulicht mit dem Switch `/machine` aufgerufen wird:</span><span class="sxs-lookup"><span data-stu-id="76c4e-211">The [isolated storage tool](../../framework/tools/storeadm-exe-isolated-storage-tool.md) `storeadm.exe` is impacted if called with the `/machine` switch, as shown in the following code:</span></span>

```txt
storeadm.exe /machine [any-other-switches]
```

<span data-ttu-id="76c4e-212">Das Isolated Storage-Tool wird als Teil von Visual Studio und des .NET Framework SDK bereitgestellt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-212">The isolated storage tool is provided as part of Visual Studio and the .NET Framework SDK.</span></span>

<span data-ttu-id="76c4e-213">Wenn die Anwendung keine Aufrufe der vorangehenden APIs umfasst oder der Workflow keinen Aufruf von `storeadm.exe` auf diese Weise erfordert, gilt dieses Dokument nicht.</span><span class="sxs-lookup"><span data-stu-id="76c4e-213">If the application doesn't involve calls to the preceding APIs, or if the workflow doesn't involve calling `storeadm.exe` in this manner, this document doesn't apply.</span></span>

### <a name="impact-in-multi-user-environments"></a><span data-ttu-id="76c4e-214">Auswirkungen auf Umgebungen mit mehreren Benutzern</span><span class="sxs-lookup"><span data-stu-id="76c4e-214">Impact in multi-user environments</span></span>

<span data-ttu-id="76c4e-215">Wie bereits erwähnt sind die Auswirkungen dieser APIs auf die Sicherheit eine Folge davon, dass Daten aus einer vertrauenswürdigen Umgebung von einer anderen vertrauenswürdigen Umgebung gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-215">As mentioned previously, the security impact from these APIs results from data written from one trust environment is read from a different trust environment.</span></span> <span data-ttu-id="76c4e-216">Bei der isolierten Speicherung wird im Allgemeinen einer von drei Speicherorten verwendet, um Daten zu lesen und zu schreiben:</span><span class="sxs-lookup"><span data-stu-id="76c4e-216">Isolated storage generally uses one of three locations to read and write data:</span></span>

1. <span data-ttu-id="76c4e-217">`%LOCALAPPDATA%\IsolatedStorage\`: Beispielsweise `C:\Users\<username>\AppData\Local\IsolatedStorage\` für den `User`-Bereich</span><span class="sxs-lookup"><span data-stu-id="76c4e-217">`%LOCALAPPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Local\IsolatedStorage\`, for `User` scope.</span></span>
2. <span data-ttu-id="76c4e-218">`%APPDATA%\IsolatedStorage\`: Beispielsweise `C:\Users\<username>\AppData\Roaming\IsolatedStorage\` für den `User|Roaming`-Bereich</span><span class="sxs-lookup"><span data-stu-id="76c4e-218">`%APPDATA%\IsolatedStorage\`: For example, `C:\Users\<username>\AppData\Roaming\IsolatedStorage\`, for `User|Roaming` scope.</span></span>
3. <span data-ttu-id="76c4e-219">`%PROGRAMDATA%\IsolatedStorage\`: Beispielsweise `C:\ProgramData\IsolatedStorage\` für den `Machine`-Bereich</span><span class="sxs-lookup"><span data-stu-id="76c4e-219">`%PROGRAMDATA%\IsolatedStorage\`: For example, `C:\ProgramData\IsolatedStorage\`, for `Machine` scope.</span></span>

<span data-ttu-id="76c4e-220">Die ersten beiden Speicherorte sind pro Benutzer isoliert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-220">The first two locations are isolated per-user.</span></span> <span data-ttu-id="76c4e-221">Windows stellt sicher, dass unterschiedliche Benutzerkonten auf dem gleichen Computer nicht auf die Benutzerprofilordner der anderen Benutzer zugreifen können.</span><span class="sxs-lookup"><span data-stu-id="76c4e-221">Windows ensures that different user accounts on the same machine cannot access each other's user profile folders.</span></span> <span data-ttu-id="76c4e-222">Zwei verschiedene Benutzerkonten, die die Speicher `User` oder `User|Roaming` verwenden, können die Daten der anderen Benutzer nicht anzeigen und bearbeiten.</span><span class="sxs-lookup"><span data-stu-id="76c4e-222">Two different user accounts who use the `User` or `User|Roaming` stores will not see each other's data and cannot interfere with each other's data.</span></span>

<span data-ttu-id="76c4e-223">Der dritte Speicherort wird für alle Benutzerkonten auf dem Computer freigegeben.</span><span class="sxs-lookup"><span data-stu-id="76c4e-223">The third location is shared across all user accounts on the machine.</span></span> <span data-ttu-id="76c4e-224">Verschiedene Konten können im Zusammenhang mit diesem Speicherort Lese- und Schreibvorgänge durchführen und die Daten anderer Benutzer anzeigen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-224">Different accounts can read from and write to this location, and they're able to see each other's data.</span></span>

<span data-ttu-id="76c4e-225">Die vorangehenden Pfade können sich abhängig von der verwendeten Windows-Version unterscheiden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-225">The preceding paths may differ based on the version of Windows in use.</span></span>

<span data-ttu-id="76c4e-226">Gehen wir jetzt von einem System mit den beiden registrierten Benutzern _Mallory_ und _Bob_ aus.</span><span class="sxs-lookup"><span data-stu-id="76c4e-226">Now consider a multi-user system with two registered users _Mallory_ and _Bob_.</span></span> <span data-ttu-id="76c4e-227">Mallory kann auf ihr Benutzerprofilverzeichnis `C:\Users\Mallory\` und den freigegebenen computerweiten Speicherort `C:\ProgramData\IsolatedStorage\` zugreifen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-227">Mallory has the ability to access her user profile directory `C:\Users\Mallory\`, and she can access the shared machine-wide storage location `C:\ProgramData\IsolatedStorage\`.</span></span> <span data-ttu-id="76c4e-228">Sie kann nicht auf das Benutzerprofilverzeichnis `C:\Users\Bob\` von Bob zugreifen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-228">She cannot access Bob's user profile directory `C:\Users\Bob\`.</span></span>

<span data-ttu-id="76c4e-229">Wenn Mallory Bob angreifen möchte, könnte sie Daten in den computerweiten Speicherort schreiben und dann versuchen, Bob zu Lesevorgängen in diesem computerweiten Speicher zu bringen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-229">If Mallory wishes to attack Bob, she might write data to the machine-wide storage location, then attempt to influence Bob into reading from the machine-wide store.</span></span> <span data-ttu-id="76c4e-230">Wenn Bob eine App ausführt, die aus diesem Speicher liest, wird die App mit den dort von Mallory platzierten Daten und im Rahmen von Bobs Benutzerkonto ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-230">When Bob runs an app that reads from this store, that app will operate on the data Mallory placed there, but from within the context of Bob's user account.</span></span> <span data-ttu-id="76c4e-231">Im restlichen Teil dieses Dokuments werden verschiedene Angriffsvektoren und die Schritte beschrieben, mit denen das Risiko für Apps durch diese Angriffe minimiert werden kann.</span><span class="sxs-lookup"><span data-stu-id="76c4e-231">The remainder of this document contemplates various attack vectors and what steps apps can do to minimize their risk to these attacks.</span></span>

> [!NOTE]
> <span data-ttu-id="76c4e-232">Mallory benötigt Folgendes, damit ein solcher Angriff stattfinden kann:</span><span class="sxs-lookup"><span data-stu-id="76c4e-232">In order for such an attack to take place, Mallory requires:</span></span>
>
> * <span data-ttu-id="76c4e-233">Benutzerkonto auf dem Computer</span><span class="sxs-lookup"><span data-stu-id="76c4e-233">A user account on the machine.</span></span>
> * <span data-ttu-id="76c4e-234">Möglichkeit, eine Datei in einem bekannten Speicherort im Dateisystem zu platzieren</span><span class="sxs-lookup"><span data-stu-id="76c4e-234">The ability to place a file into a known location on the file system.</span></span>
> * <span data-ttu-id="76c4e-235">Gewissheit, dass Bob irgendwann eine App ausführt, die versucht, diese Daten zu lesen</span><span class="sxs-lookup"><span data-stu-id="76c4e-235">Knowledge that Bob will at some point run an app that attempts to read this data.</span></span>
>
> <span data-ttu-id="76c4e-236">Dies sind nicht die Bedrohungsvektoren, die für Standarddesktopumgebungen mit einem Benutzer wie beispielsweise private PCs oder Arbeitsstationen von Einmannbetrieben gelten.</span><span class="sxs-lookup"><span data-stu-id="76c4e-236">These are not threat vectors that apply to standard single-user desktop environments like home PCs or single-employee enterprise workstations.</span></span>

#### <a name="elevation-of-privilege"></a><span data-ttu-id="76c4e-237">Rechteerweiterungen</span><span class="sxs-lookup"><span data-stu-id="76c4e-237">Elevation of privilege</span></span>

<span data-ttu-id="76c4e-238">Ein __Angriff durch Rechteerweiterungen__ liegt vor, wenn Bobs App Mallorys Datei liest und automatisch versucht, basierend auf dem Inhalt dieser Nutzlast Aktionen auszuführen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-238">An __elevation of privilege__ attack occurs when Bob's app reads Mallory's file and automatically tries to take some action based on the contents of that payload.</span></span> <span data-ttu-id="76c4e-239">Angenommen, eine App liest den Inhalt eines Startskripts aus dem computerweiten Speicher und übergibt diese Inhalte an `Process.Start`.</span><span class="sxs-lookup"><span data-stu-id="76c4e-239">Consider an app that reads the contents of a startup script from the machine-wide store and passes those contents to `Process.Start`.</span></span> <span data-ttu-id="76c4e-240">Wenn Mallory ein schädliches Skript innerhalb des computerweiten Speichers platzieren kann und Bob dann seine App startet, geschieht Folgendes:</span><span class="sxs-lookup"><span data-stu-id="76c4e-240">If Mallory can place a malicious script inside the machine-wide store, when Bob launches his app:</span></span>

* <span data-ttu-id="76c4e-241">Seine App analysiert und startet Mallorys bösartiges Skript _im Kontext seines Benutzerprofils_.</span><span class="sxs-lookup"><span data-stu-id="76c4e-241">His app parses and launches Mallory's malicious script _under the context of Bob's user profile_.</span></span>
* <span data-ttu-id="76c4e-242">Mallory erhält Zugriff auf Bobs Konto auf dem lokalen Computer.</span><span class="sxs-lookup"><span data-stu-id="76c4e-242">Mallory gains access to Bob's account on the local machine.</span></span>

#### <a name="denial-of-service"></a><span data-ttu-id="76c4e-243">Denial-of-Service-Angriffe</span><span class="sxs-lookup"><span data-stu-id="76c4e-243">Denial of service</span></span>

<span data-ttu-id="76c4e-244">Ein __Denial-of-Service-Angriff__ tritt auf, wenn Bobs App Mallorys Datei liest und abstürzt oder andernfalls nicht mehr ordnungsgemäß funktioniert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-244">A __denial of service__ attack occurs when Bob's app reads Mallory's file and crashes or otherwise stops functioning correctly.</span></span> <span data-ttu-id="76c4e-245">Angenommen, die zuvor erwähnte App versucht wieder, ein Startskript aus dem computerweiten Speicher zu analysieren.</span><span class="sxs-lookup"><span data-stu-id="76c4e-245">Consider again the app mentioned previously, which attempts to parse a startup script from the machine-wide store.</span></span> <span data-ttu-id="76c4e-246">Wenn Mallory eine Datei mit falsch formatierten Inhalten im computerweiten Speicher platzieren kann, ist Folgendes möglich:</span><span class="sxs-lookup"><span data-stu-id="76c4e-246">If Mallory can place a file with malformed contents inside the machine-wide store, she might:</span></span>

* <span data-ttu-id="76c4e-247">Sie kann veranlassen, dass Bobs App früh im Startpfad eine Ausnahme auslöst.</span><span class="sxs-lookup"><span data-stu-id="76c4e-247">Cause Bob's app to throw an exception early in the startup path.</span></span>
* <span data-ttu-id="76c4e-248">Sie kann durch die Ausnahme verhindern, dass die App ordnungsgemäß gestartet wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-248">Prevent the app from launching successfully because of the exception.</span></span>

<span data-ttu-id="76c4e-249">Sie hat Bob dann das Starten der App im Kontext seines eigenen Benutzerkontos verweigert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-249">She has then denied Bob the ability to launch the app under his own user account.</span></span>

#### <a name="information-disclosure"></a><span data-ttu-id="76c4e-250">Offenlegung vertraulicher Informationen</span><span class="sxs-lookup"><span data-stu-id="76c4e-250">Information disclosure</span></span>

<span data-ttu-id="76c4e-251">Ein Angriff durch die __Veröffentlichung von Informationen__ liegt vor, wenn Mallory Bob dazu bringen kann, den Inhalt einer Datei offenzulegen, auf die Mallory normalerweise keinen Zugriff hat.</span><span class="sxs-lookup"><span data-stu-id="76c4e-251">An __information disclosure__ attack occurs when Mallory can trick Bob into disclosing the contents of a file that Mallory does not normally have access to.</span></span> <span data-ttu-id="76c4e-252">Angenommen, Bob verfügt über die Geheimnisdatei *C:\Users\Bob\secret.txt* , die Mallory lesen möchte.</span><span class="sxs-lookup"><span data-stu-id="76c4e-252">Consider that Bob has a secret file *C:\Users\Bob\secret.txt* that Mallory wants to read.</span></span> <span data-ttu-id="76c4e-253">Sie kennt den Pfad zu dieser Datei, kann sie aber nicht lesen, da Windows ihr den Zugriff auf Bobs Benutzerprofilverzeichnis verbietet.</span><span class="sxs-lookup"><span data-stu-id="76c4e-253">She knows the path to this file, but she cannot read it because Windows forbids her from gaining access to Bob's user profile directory.</span></span>

<span data-ttu-id="76c4e-254">Stattdessen platziert Mallory einen Hardlink zum computerweiten Speicher.</span><span class="sxs-lookup"><span data-stu-id="76c4e-254">Instead, Mallory places a hard link into the machine-wide store.</span></span> <span data-ttu-id="76c4e-255">Dabei handelt es sich um eine spezielle Datei, die selbst keinen Inhalt enthält, sondern auf eine andere Datei auf dem Datenträger verweist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-255">This is a special kind of file that itself does not contain any contents, rather, it points to another file on disk.</span></span> <span data-ttu-id="76c4e-256">Beim Versuch, die Hardlinkdatei zu lesen, wird stattdessen der Inhalt der Datei gelesen, auf die der Hardlink verweist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-256">Attempting to read the hard link file will instead read the contents of the file targeted by the link.</span></span> <span data-ttu-id="76c4e-257">Nachdem Mallory den Hardlink erstellt hat, kann sie den Inhalt der Datei noch immer nicht lesen, da sie keinen Zugriff auf das Ziel (`C:\Users\Bob\secret.txt`) des Links hat.</span><span class="sxs-lookup"><span data-stu-id="76c4e-257">After creating the hard link, Mallory still cannot read the file contents because she does not have access to the target (`C:\Users\Bob\secret.txt`) of the link.</span></span> <span data-ttu-id="76c4e-258">Bob hingegen _hat Zugriff auf diese Datei_.</span><span class="sxs-lookup"><span data-stu-id="76c4e-258">However, Bob _does_ have access to this file.</span></span>

<span data-ttu-id="76c4e-259">Wenn Bobs App aus dem computerweiten Speicher liest, liest sie nun versehentlich den Inhalt der `secret.txt`-Datei, so als wäre die Datei selbst im computerweiten Speicher vorhanden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-259">When Bob's app reads from the machine-wide store, it now inadvertently reads the contents of his `secret.txt` file, just as if the file itself had been present in the machine-wide store.</span></span> <span data-ttu-id="76c4e-260">Wenn Bobs App den Vorgang beendet und versucht, die Datei erneut im computerweiten Speicher zu speichern, wird tatsächlich eine Kopie der Datei im Verzeichnis C:\ProgramData\IsolatedStorage\* platziert.</span><span class="sxs-lookup"><span data-stu-id="76c4e-260">When Bob's app exits, if it attempts to resave the file to the machine-wide store, it will end up placing an actual copy of the file in the \*C:\ProgramData\IsolatedStorage\* directory.</span></span> <span data-ttu-id="76c4e-261">Da dieses Verzeichnis für jeden Benutzer auf dem Computer lesbar ist, kann Mallory nun den Inhalt der Datei lesen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-261">Since this directory is readable by any user on the machine, Mallory can now read the contents of the file.</span></span>

### <a name="best-practices-to-defend-against-these-attacks"></a><span data-ttu-id="76c4e-262">Bewährte Methoden für die Verteidigung gegen diese Angriffe</span><span class="sxs-lookup"><span data-stu-id="76c4e-262">Best practices to defend against these attacks</span></span>

<span data-ttu-id="76c4e-263">__Wichtig:__ Wenn Ihre Umgebung mehrere Benutzer umfasst, die gegenseitig nicht vertrauenswürdig sind, sollten Sie die API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` oder das Tool `storeadm.exe /machine /list` __nicht aufrufen__.</span><span class="sxs-lookup"><span data-stu-id="76c4e-263">__Important:__ If your environment has multiple mutually untrusted users, __do not__ call the API `IsolatedStorageFile.GetEnumerator(IsolatedStorageScope.Machine)` or invoke the tool `storeadm.exe /machine /list`.</span></span> <span data-ttu-id="76c4e-264">In beiden Fällen wird davon ausgegangen, dass sie vertrauenswürdige Daten verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="76c4e-264">Both of these assume that they're operating on trusted data.</span></span> <span data-ttu-id="76c4e-265">Wenn ein Angreifer eine schädliche Nutzlast im computerweiten Speicher platzieren kann, kann diese Nutzlast zu einem Angriff durch Rechteerweiterungen im Kontext des Benutzers führen, der diese Befehle ausführt.</span><span class="sxs-lookup"><span data-stu-id="76c4e-265">If an attacker can seed a malicious payload in the machine-wide store, that payload can lead to an elevation of privilege attack under the context of the user who runs these commands.</span></span>

<span data-ttu-id="76c4e-266">Bei Arbeiten in einer Umgebung mit mehreren Benutzern sollten Sie die Verwendung der Features für den isolierten Speicher überdenken, die den _gesamten Computer_ als Ziel haben.</span><span class="sxs-lookup"><span data-stu-id="76c4e-266">If operating in a multi-user environment, reconsider use of isolated storage features that target the _Machine_ scope.</span></span> <span data-ttu-id="76c4e-267">Wenn eine App Daten aus einem computerweiten Speicherort lesen muss, empfiehlt es sich, die Daten aus einem Speicherort zu lesen, der nur für Administratorkonten beschreibbar ist.</span><span class="sxs-lookup"><span data-stu-id="76c4e-267">If an app must read data from a machine-wide location, prefer to read the data from a location that's writable only by admin accounts.</span></span> <span data-ttu-id="76c4e-268">Das Verzeichnis `%PROGRAMFILES%` und die Registrierungsstruktur `HKLM` sind Beispiele für Speicherorte, die nur für Administratoren beschreibbar und lesbar für alle anderen Benutzer sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-268">The `%PROGRAMFILES%` directory and the `HKLM` registry hive are examples of locations that are writable by only administrators and readable by everyone.</span></span> <span data-ttu-id="76c4e-269">Daten, die aus diesen Speicherorten gelesen werden, werden daher als vertrauenswürdig eingestuft.</span><span class="sxs-lookup"><span data-stu-id="76c4e-269">Data read from those locations is therefore considered trustworthy.</span></span>

<span data-ttu-id="76c4e-270">Wenn eine App in einer Umgebung mit mehreren Benutzern den _gesamten Computerbereich_ verwenden muss, sollten Sie den Inhalt aller Dateien überprüfen, die Sie aus dem computerweiten Speicher lesen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-270">If an app must use the _Machine_ scope in a multi-user environment, validate the contents of any file that you read from the machine-wide store.</span></span> <span data-ttu-id="76c4e-271">Wenn die App Objektgraphen aus diesen Dateien liest, empfiehlt es sich, sicherere Serialisierungsmodule wie `XmlSerializer` anstelle von gefährlichen Serialisierungsmodulen wie `BinaryFormatter` oder `NetDataContractSerializer` zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-271">If the app deserializing object graphs from these files, consider using safer serializers like `XmlSerializer` instead of dangerous serializers like `BinaryFormatter` or `NetDataContractSerializer`.</span></span> <span data-ttu-id="76c4e-272">Seien Sie vorsichtig bei der Verwendung von tief geschachtelten Objektgraphen oder Objektgraphen, die die Ressourcenzuordnung basierend auf dem Inhalt der Datei durchführen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-272">Use caution with deeply nested object graphs or object graphs that perform resource allocation based on the file contents.</span></span>

<a name="isolated_storage_locations"></a>

## <a name="isolated-storage-locations"></a><span data-ttu-id="76c4e-273">Isolierte Speicherorte</span><span class="sxs-lookup"><span data-stu-id="76c4e-273">Isolated Storage Locations</span></span>

<span data-ttu-id="76c4e-274">Gelegentlich sollten Änderungen an isolierten Speicherplätzen mit dem Dateisystem des Betriebssystems überprüft werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-274">Sometimes it is helpful to verify a change to isolated storage by using the file system of the operating system.</span></span> <span data-ttu-id="76c4e-275">Sie möchten vielleicht auch wissen, wo die Dateien im isolierten Speicherplatz gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-275">You might also want to know the location of isolated storage files.</span></span> <span data-ttu-id="76c4e-276">Der Speicherort hängt vom Betriebssystem ab.</span><span class="sxs-lookup"><span data-stu-id="76c4e-276">This location is different depending on the operating system.</span></span> <span data-ttu-id="76c4e-277">Die folgende Tabelle gibt für einige geläufige Betriebssysteme die Stammorte an, an denen isolierter Speicherplatz erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-277">The following table shows the root locations where isolated storage is created on a few common operating systems.</span></span> <span data-ttu-id="76c4e-278">Suchen Sie in diesem Stammspeicherort nach „Microsoft\IsolatedStorage“-Verzeichnissen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-278">Look for Microsoft\IsolatedStorage directories under this root location.</span></span> <span data-ttu-id="76c4e-279">Zum Anzeigen versteckter Dateien und Ordner müssen die Ordnereinstellungen geändert werden, sodass isolierte Speicherplätze im Dateisystem angezeigt werden können.</span><span class="sxs-lookup"><span data-stu-id="76c4e-279">You must change folder settings to show hidden files and folders in order to see isolated storage in the file system.</span></span>

|<span data-ttu-id="76c4e-280">Betriebssystem</span><span class="sxs-lookup"><span data-stu-id="76c4e-280">Operating system</span></span>|<span data-ttu-id="76c4e-281">Speicherplatz im Dateisystem</span><span class="sxs-lookup"><span data-stu-id="76c4e-281">Location in file system</span></span>|
|----------------------|-----------------------------|
|<span data-ttu-id="76c4e-282">Windows 2000, Windows XP, Windows Server 2003 (Upgrade von Windows NT 4.0)</span><span class="sxs-lookup"><span data-stu-id="76c4e-282">Windows 2000, Windows XP, Windows Server 2003  (upgrade from Windows NT 4.0)</span></span>|<span data-ttu-id="76c4e-283">Für Roaming aktivierte Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-283">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="76c4e-284">\<SYSTEMROOT>\Profile\\<Benutzer\>\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-284">\<SYSTEMROOT>\Profiles\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="76c4e-285">Nicht für Roaming eingerichtete Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-285">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="76c4e-286">\<SYSTEMROOT>\Profile\\<Benutzer\>\Lokale Einstellungen\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-286">\<SYSTEMROOT>\Profiles\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="76c4e-287">Windows 2000 – Neuinstallation (und Upgrades von Windows 98 und Windows NT 3.51)</span><span class="sxs-lookup"><span data-stu-id="76c4e-287">Windows 2000  - clean installation (and upgrades from Windows 98 and Windows NT 3.51)</span></span>|<span data-ttu-id="76c4e-288">Für Roaming aktivierte Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-288">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="76c4e-289">\<SYSTEMDRIVE>\Dokumente und Einstellungen\\<Benutzer\>\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-289">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="76c4e-290">Nicht für Roaming eingerichtete Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-290">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="76c4e-291">\<SYSTEMDRIVE>\Dokumente und Einstellungen\\<Benutzer\>\Lokale Einstellungen\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-291">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="76c4e-292">Windows XP, Windows Server 2003 – Neuinstallation (und Upgrades von Windows 2000 und Windows 98)</span><span class="sxs-lookup"><span data-stu-id="76c4e-292">Windows XP, Windows Server 2003 - clean installation (and upgrades from Windows 2000 and Windows 98)</span></span>|<span data-ttu-id="76c4e-293">Für Roaming aktivierte Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-293">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="76c4e-294">\<SYSTEMDRIVE>\Dokumente und Einstellungen\\<Benutzer\>\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-294">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Application Data</span></span><br /><br /> <span data-ttu-id="76c4e-295">Nicht für Roaming eingerichtete Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-295">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="76c4e-296">\<SYSTEMDRIVE>\Dokumente und Einstellungen\\<Benutzer\>\Lokale Einstellungen\Anwendungsdaten</span><span class="sxs-lookup"><span data-stu-id="76c4e-296">\<SYSTEMDRIVE>\Documents and Settings\\<user\>\Local Settings\Application Data</span></span>|
|<span data-ttu-id="76c4e-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span><span class="sxs-lookup"><span data-stu-id="76c4e-297">Windows 8, Windows 7, Windows Server 2008, Windows Vista</span></span>|<span data-ttu-id="76c4e-298">Für Roaming aktivierte Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-298">Roaming-enabled stores =</span></span><br /><br /> <span data-ttu-id="76c4e-299">\<SYSTEMDRIVE>\Benutzer\\<Benutzer\>\AppData\Roaming</span><span class="sxs-lookup"><span data-stu-id="76c4e-299">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Roaming</span></span><br /><br /> <span data-ttu-id="76c4e-300">Nicht für Roaming eingerichtete Speicher =</span><span class="sxs-lookup"><span data-stu-id="76c4e-300">Nonroaming stores =</span></span><br /><br /> <span data-ttu-id="76c4e-301">\<SYSTEMDRIVE>\Benutzer\\<Benutzer\>\AppData\Local</span><span class="sxs-lookup"><span data-stu-id="76c4e-301">\<SYSTEMDRIVE>\Users\\<user\>\AppData\Local</span></span>|

<a name="isolated_storage_tasks"></a>

## <a name="creating-enumerating-and-deleting-isolated-storage"></a><span data-ttu-id="76c4e-302">Erstellen, Auflisten und Löschen von isoliertem Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-302">Creating, Enumerating, and Deleting Isolated Storage</span></span>

<span data-ttu-id="76c4e-303">.NET stellt drei Klassen im <xref:System.IO.IsolatedStorage>-Namespace bereit, um Ihnen bei der Ausführung von Aufgaben im Zusammenhang mit isoliertem Speicher zu helfen:</span><span class="sxs-lookup"><span data-stu-id="76c4e-303">.NET provides three classes in the <xref:System.IO.IsolatedStorage> namespace to help you perform tasks that involve isolated storage:</span></span>

- <span data-ttu-id="76c4e-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>wird von <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> abgeleitet und ermöglicht die Verwaltung von gespeicherten Assembly- und Anwendungsdateien.</span><span class="sxs-lookup"><span data-stu-id="76c4e-304"><xref:System.IO.IsolatedStorage.IsolatedStorageFile>, derives from <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType> and provides basic management of stored assembly and application files.</span></span> <span data-ttu-id="76c4e-305">Eine Instanz der <xref:System.IO.IsolatedStorage.IsolatedStorageFile> -Klasse stellt einen einzelnen Speicher im Dateisystem dar.</span><span class="sxs-lookup"><span data-stu-id="76c4e-305">An instance of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class represents a single store located in the file system.</span></span>

- <span data-ttu-id="76c4e-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> wird aus <xref:System.IO.FileStream?displayProperty=nameWithType> abgeleitet und ermöglicht den Zugriff auf Dateien in einem Speicher.</span><span class="sxs-lookup"><span data-stu-id="76c4e-306"><xref:System.IO.IsolatedStorage.IsolatedStorageFileStream> derives from <xref:System.IO.FileStream?displayProperty=nameWithType> and provides access to the files in a store.</span></span>

- <span data-ttu-id="76c4e-307">Bei<xref:System.IO.IsolatedStorage.IsolatedStorageScope> handelt es sich um eine Enumeration, mit der ein Speicher mit einem entsprechenden Isolationstyp erstellt und ausgewählt werden kann.</span><span class="sxs-lookup"><span data-stu-id="76c4e-307"><xref:System.IO.IsolatedStorage.IsolatedStorageScope> is an enumeration that enables you to create and select a store with the appropriate isolation type.</span></span>

<span data-ttu-id="76c4e-308">Mit den Klassen der isolierten Speicherung können Sie isolierte Speicherplätze erstellen, auflisten und löschen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-308">The isolated storage classes enable you to create, enumerate, and delete isolated storage.</span></span> <span data-ttu-id="76c4e-309">Die Methoden zur Ausführung dieser Aufgaben sind über das <xref:System.IO.IsolatedStorage.IsolatedStorageFile> -Objekt verfügbar.</span><span class="sxs-lookup"><span data-stu-id="76c4e-309">The methods for performing these tasks are available through the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="76c4e-310">Für einige Operationen benötigen Sie zum Verwalten isolierter Speicher die <xref:System.Security.Permissions.IsolatedStorageFilePermission> -Berechtigung. Für den Zugriff auf die Datei oder das Verzeichnis benötigen Sie gegebenenfalls auch Betriebssystemrechte.</span><span class="sxs-lookup"><span data-stu-id="76c4e-310">Some operations require you to have the <xref:System.Security.Permissions.IsolatedStorageFilePermission> permission that represents the right to administer isolated storage; you might also need to have operating system rights to access the file or directory.</span></span>

<span data-ttu-id="76c4e-311">Eine Reihe von Beispielen, die allgemeine isolierte Speicheraufgaben veranschaulichen, finden Sie in den Gewusst-wie-Themen in [Verwandte Themen](#related_topics).</span><span class="sxs-lookup"><span data-stu-id="76c4e-311">For a series of examples that demonstrate common isolated storage tasks, see the how-to topics listed in [Related Topics](#related_topics).</span></span>

<a name="scenarios_for_isolated_storage"></a>

## <a name="scenarios-for-isolated-storage"></a><span data-ttu-id="76c4e-312">Szenarien für die isolierte Speicherung</span><span class="sxs-lookup"><span data-stu-id="76c4e-312">Scenarios for Isolated Storage</span></span>

<span data-ttu-id="76c4e-313">Isolierte Speicherung kann in vielen Situationen hilfreich sein, zum Beispiel in diesen vier Szenarien:</span><span class="sxs-lookup"><span data-stu-id="76c4e-313">Isolated storage is useful in many situations, including these four scenarios:</span></span>

- <span data-ttu-id="76c4e-314">Heruntergeladene Steuerelemente.</span><span class="sxs-lookup"><span data-stu-id="76c4e-314">Downloaded controls.</span></span> <span data-ttu-id="76c4e-315">Aus dem Internet heruntergeladene Steuerelemente für verwalteten Code sind nicht berechtigt, über normale E/A-Klassen auf die Festplatte zu schreiben. Allerdings können sie mithilfe von isolierter Speicherung die Einstellungen eines Benutzers sowie den Anwendungszustand speichern.</span><span class="sxs-lookup"><span data-stu-id="76c4e-315">Managed code controls downloaded from the Internet are not allowed to write to the hard drive through normal I/O classes, but they can use isolated storage to persist users' settings and application states.</span></span>

- <span data-ttu-id="76c4e-316">Speicher für gemeinsame Komponenten.</span><span class="sxs-lookup"><span data-stu-id="76c4e-316">Shared component storage.</span></span> <span data-ttu-id="76c4e-317">Von Anwendungen gemeinsam verwendete Komponenten können mithilfe von isolierter Speicherung einen kontrollierten Zugriff auf Datenspeicher bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-317">Components that are shared between applications can use isolated storage to provide controlled access to data stores.</span></span>

- <span data-ttu-id="76c4e-318">Speicher auf dem Server.</span><span class="sxs-lookup"><span data-stu-id="76c4e-318">Server storage.</span></span> <span data-ttu-id="76c4e-319">Serveranwendungen können isolierte Speicherung verwenden, um einzelne Speicher für eine große Zahl von Benutzern bereitzustellen, die Anforderungen an die Anwendung richten.</span><span class="sxs-lookup"><span data-stu-id="76c4e-319">Server applications can use isolated storage to provide individual stores for a large number of users making requests to the application.</span></span> <span data-ttu-id="76c4e-320">Da isolierte Speicherplätze auf die einzelnen Benutzer verteilt werden, muss der Server den anfordernden Benutzer imitieren.</span><span class="sxs-lookup"><span data-stu-id="76c4e-320">Because isolated storage is always segregated by user, the server must impersonate the user making the request.</span></span> <span data-ttu-id="76c4e-321">In diesem Fall werden Daten auf Basis der Identität des Prinzipals isoliert, bei der es sich um dieselbe Identität handelt, anhand derer die Anwendung Benutzer voneinander unterscheidet.</span><span class="sxs-lookup"><span data-stu-id="76c4e-321">In this case, data is isolated based on the identity of the principal, which is the same identity the application uses to distinguish between its users.</span></span>

- <span data-ttu-id="76c4e-322">Roaming.</span><span class="sxs-lookup"><span data-stu-id="76c4e-322">Roaming.</span></span> <span data-ttu-id="76c4e-323">Anwendungen können isolierte Speicherplätze auch mit Roamingbenutzerprofilen verwenden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-323">Applications can also use isolated storage with roaming user profiles.</span></span> <span data-ttu-id="76c4e-324">Dadurch können die isolierten Speicher eines Benutzers wie die Profile von überall zugänglich sein.</span><span class="sxs-lookup"><span data-stu-id="76c4e-324">This allows a user's isolated stores to roam with the profile.</span></span>

<span data-ttu-id="76c4e-325">Verwenden Sie in den folgenden Situationen keinen isolierten Speicher:</span><span class="sxs-lookup"><span data-stu-id="76c4e-325">Do not use isolated storage in the following situations:</span></span>

- <span data-ttu-id="76c4e-326">Zum Speichern hochsensibler Daten wie unverschlüsselte Schlüssel oder Kennwörter, da isolierte Speicherplätze nicht vor besonders vertrauenswürdigem Code, nicht verwaltetem Code bzw. vor vertrauenswürdigen Benutzern des Computers geschützt sind.</span><span class="sxs-lookup"><span data-stu-id="76c4e-326">To store high-value secrets, such as unencrypted keys or passwords, because isolated storage is not protected from highly trusted code, from unmanaged code, or from trusted users of the computer.</span></span>

- <span data-ttu-id="76c4e-327">Zum Speichern von Code.</span><span class="sxs-lookup"><span data-stu-id="76c4e-327">To store code.</span></span>

- <span data-ttu-id="76c4e-328">Zum Speichern von administratorgesteuerten Konfigurations- und Bereitstellungseinstellungen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-328">To store configuration and deployment settings, which administrators control.</span></span> <span data-ttu-id="76c4e-329">(Benutzereinstellungen gelten nicht als Konfigurationseinstellungen, da sie nicht vom Administrator gesteuert werden.)</span><span class="sxs-lookup"><span data-stu-id="76c4e-329">(User preferences are not considered to be configuration settings because administrators do not control them.)</span></span>

<span data-ttu-id="76c4e-330">Viele Anwendungen verwenden Datenbanken zur Speicherung und Isolation von Daten, wobei eine oder mehrere Zeilen einer Datenbank den Speicherplatz für einen bestimmten Benutzer darstellen können.</span><span class="sxs-lookup"><span data-stu-id="76c4e-330">Many applications use a database to store and isolate data, in which case one or more rows in a database might represent storage for a specific user.</span></span> <span data-ttu-id="76c4e-331">Sie können in folgenden Fällen gegebenenfalls isolierte Speicherung anstelle einer Datenbank verwenden: bei geringer Benutzerzahl, bei beträchtlichem Verwaltungsaufwand durch Verwendung einer Datenbank oder wenn keine Datenbankfunktion zur Verfügung steht.</span><span class="sxs-lookup"><span data-stu-id="76c4e-331">You might choose to use isolated storage instead of a database when the number of users is small, when the overhead of using a database is significant, or when no database facility exists.</span></span> <span data-ttu-id="76c4e-332">Wenn eine Anwendung zudem Speicherplatz benötigt, der flexibler und komplexer ist als die Zeilen einer Datenbank, bietet isolierte Speicherung eine gute Alternative.</span><span class="sxs-lookup"><span data-stu-id="76c4e-332">Also, when the application requires storage that is more flexible and complex than what a row in a database provides, isolated storage can provide a viable alternative.</span></span>

<a name="related_topics"></a>

## <a name="related-articles"></a><span data-ttu-id="76c4e-333">Verwandte Artikel</span><span class="sxs-lookup"><span data-stu-id="76c4e-333">Related articles</span></span>

|<span data-ttu-id="76c4e-334">Titel</span><span class="sxs-lookup"><span data-stu-id="76c4e-334">Title</span></span>|<span data-ttu-id="76c4e-335">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="76c4e-335">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="76c4e-336">Isolationstypen</span><span class="sxs-lookup"><span data-stu-id="76c4e-336">Types of Isolation</span></span>](types-of-isolation.md)|<span data-ttu-id="76c4e-337">Beschreibt verschiedene Isolationstypen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-337">Describes the different types of isolation.</span></span>|
|[<span data-ttu-id="76c4e-338">How to: Erhalten von Speichern für isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-338">How to: Obtain Stores for Isolated Storage</span></span>](how-to-obtain-stores-for-isolated-storage.md)|<span data-ttu-id="76c4e-339">Stellt ein Beispiel für die Verwendung der <xref:System.IO.IsolatedStorage.IsolatedStorageFile> -Klasse bereit, um einen nach Benutzer und Assembly isolierten Speicher abzurufen.</span><span class="sxs-lookup"><span data-stu-id="76c4e-339">Provides an example of using the <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class to obtain a store isolated by user and assembly.</span></span>|
|[<span data-ttu-id="76c4e-340">How to: Auflisten von Speichern für isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-340">How to: Enumerate Stores for Isolated Storage</span></span>](how-to-enumerate-stores-for-isolated-storage.md)|<span data-ttu-id="76c4e-341">Zeigt, wie mithilfe der <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> -Methode die Größe des gesamten isolierten Speichers für den Benutzer berechnet wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-341">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetEnumerator%2A?displayProperty=nameWithType> method to calculate the size of all isolated storage for the user.</span></span>|
|[<span data-ttu-id="76c4e-342">How to: Löschen von Speichern im isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-342">How to: Delete Stores in Isolated Storage</span></span>](how-to-delete-stores-in-isolated-storage.md)|<span data-ttu-id="76c4e-343">Zeigt, wie mit der <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> -Methode isolierte Speicher auf zwei unterschiedliche Arten gelöscht werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-343">Shows how to use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.Remove%2A?displayProperty=nameWithType> method in two different ways to delete isolated stores.</span></span>|
|[<span data-ttu-id="76c4e-344">How to: Vorhersehen von Speicherengpässen bei isoliertem Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-344">How to: Anticipate Out-of-Space Conditions with Isolated Storage</span></span>](how-to-anticipate-out-of-space-conditions-with-isolated-storage.md)|<span data-ttu-id="76c4e-345">Zeigt, wie der restliche Speicherplatz in einem isolierten Speicher ermittelt wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-345">Shows how to measure the remaining space in an isolated store.</span></span>|
|[<span data-ttu-id="76c4e-346">How to: Erstellen von Dateien und Verzeichnissen in isoliertem Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-346">How to: Create Files and Directories in Isolated Storage</span></span>](how-to-create-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="76c4e-347">Einige Beispiele für das Erstellen von Dateien und Verzeichnissen in einem isolierten Speicher.</span><span class="sxs-lookup"><span data-stu-id="76c4e-347">Provides some examples of creating files and directories in an isolated store.</span></span>|
|[<span data-ttu-id="76c4e-348">How to: Suchen von vorhandenen Dateien und Verzeichnissen im isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-348">How to: Find Existing Files and Directories in Isolated Storage</span></span>](how-to-find-existing-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="76c4e-349">Zeigt, wie die Verzeichnisstruktur und die Dateien bei isolierter Speicherung gelesen werden.</span><span class="sxs-lookup"><span data-stu-id="76c4e-349">Demonstrates how to read the directory structure and files in isolated storage.</span></span>|
|[<span data-ttu-id="76c4e-350">How to: Lesen von bzw. Schreiben in Dateien im isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-350">How to: Read and Write to Files in Isolated Storage</span></span>](how-to-read-and-write-to-files-in-isolated-storage.md)|<span data-ttu-id="76c4e-351">Beispiel dafür, wie eine Zeichenfolge in eine isolierte Speicherdatei geschrieben und von dort gelesen wird.</span><span class="sxs-lookup"><span data-stu-id="76c4e-351">Provides an example of writing a string to an isolated storage file and reading it back.</span></span>|
|[<span data-ttu-id="76c4e-352">How to: Löschen von Dateien und Verzeichnissen in isoliertem Speicher</span><span class="sxs-lookup"><span data-stu-id="76c4e-352">How to: Delete Files and Directories in Isolated Storage</span></span>](how-to-delete-files-and-directories-in-isolated-storage.md)|<span data-ttu-id="76c4e-353">Beschreibt das Löschen von Dateien und Verzeichnissen der isolierten Speicherung.</span><span class="sxs-lookup"><span data-stu-id="76c4e-353">Demonstrates how to delete isolated storage files and directories.</span></span>|
|[<span data-ttu-id="76c4e-354">Datei- und Stream-E/A</span><span class="sxs-lookup"><span data-stu-id="76c4e-354">File and Stream I/O</span></span>](index.md)|<span data-ttu-id="76c4e-355">Erläutert, wie Sie einen synchronen und asynchronen Datei- und Datenstreamzugriff ausführen können.</span><span class="sxs-lookup"><span data-stu-id="76c4e-355">Explains how you can perform synchronous and asynchronous file and data stream access.</span></span>|

<a name="reference"></a>

## <a name="reference"></a><span data-ttu-id="76c4e-356">Referenz</span><span class="sxs-lookup"><span data-stu-id="76c4e-356">Reference</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorage?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFileStream?displayProperty=nameWithType>

- <xref:System.IO.IsolatedStorage.IsolatedStorageScope?displayProperty=nameWithType>
