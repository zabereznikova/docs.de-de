---
title: 'Gewusst wie: Erhalten von Speichern für isolierten Speicher'
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- stores, obtaining
- storing data using isolated storage, obtaining stores
- isolated storage, obtaining stores
- data stores, obtaining
- data storage using isolated storage, obtaining stores
ms.assetid: fcb6b178-d526-47c4-b029-e946f880f9db
ms.openlocfilehash: a3803f50c99b8c31030c6afe756e209c9350137f
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/18/2020
ms.locfileid: "94830739"
---
# <a name="how-to-obtain-stores-for-isolated-storage"></a><span data-ttu-id="04f34-102">Gewusst wie: Erhalten von Speichern für isolierten Speicher</span><span class="sxs-lookup"><span data-stu-id="04f34-102">How to: Obtain Stores for Isolated Storage</span></span>
<span data-ttu-id="04f34-103">Ein isolierter Speicher macht ein virtuelles Dateisystem in einem Datendepot verfügbar.</span><span class="sxs-lookup"><span data-stu-id="04f34-103">An isolated store exposes a virtual file system within a data compartment.</span></span> <span data-ttu-id="04f34-104">Die <xref:System.IO.IsolatedStorage.IsolatedStorageFile>-Klasse bietet eine Reihe von Methoden für die Interaktion mit einem isolierten Speicher.</span><span class="sxs-lookup"><span data-stu-id="04f34-104">The <xref:System.IO.IsolatedStorage.IsolatedStorageFile> class supplies a number of methods for interacting with an isolated store.</span></span> <span data-ttu-id="04f34-105">Zum Erstellen und Abrufen von Speichern stellt <xref:System.IO.IsolatedStorage.IsolatedStorageFile> drei statische Methoden bereit:</span><span class="sxs-lookup"><span data-stu-id="04f34-105">To create and retrieve stores, <xref:System.IO.IsolatedStorage.IsolatedStorageFile> provides three static methods:</span></span>  
  
- <span data-ttu-id="04f34-106"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A> gibt Speicher zurück, der nach Benutzer und Assembly isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="04f34-106"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A> returns storage that is isolated by user and assembly.</span></span>  
  
- <span data-ttu-id="04f34-107"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A> gibt Speicher zurück, der nach Domäne und Assembly isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="04f34-107"><xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A> returns storage that is isolated by domain and assembly.</span></span>  
  
     <span data-ttu-id="04f34-108">Beide Methoden rufen einen Speicher ab, der zu dem Code gehört, von dem sie aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="04f34-108">Both methods retrieve a store that belongs to the code from which they are called.</span></span>  
  
- <span data-ttu-id="04f34-109">Die statische Methode <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> gibt einen isolierten Speicher zurück, der durch die Übergabe einer Kombination von Bereichsparametern angegeben wird.</span><span class="sxs-lookup"><span data-stu-id="04f34-109">The static method <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> returns an isolated store that is specified by passing in a combination of scope parameters.</span></span>  
  
 <span data-ttu-id="04f34-110">Der folgende Code gibt einen Speicher zurück, der nach Benutzer, Assembly und Domäne isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="04f34-110">The following code returns a store that is isolated by user, assembly, and domain.</span></span>  
  
 [!code-cpp[Conceptual.IsolatedStorage#6](../../../samples/snippets/cpp/VS_Snippets_CLR/conceptual.isolatedstorage/cpp/source6.cpp#6)]
 [!code-csharp[Conceptual.IsolatedStorage#6](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.isolatedstorage/cs/source6.cs#6)]
 [!code-vb[Conceptual.IsolatedStorage#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.isolatedstorage/vb/source6.vb#6)]  
  
 <span data-ttu-id="04f34-111">Sie können mit der <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methode angeben, dass ein Speicher mit einem Roamingbenutzerprofil wechseln soll.</span><span class="sxs-lookup"><span data-stu-id="04f34-111">You can use the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> method to specify that a store should roam with a roaming user profile.</span></span> <span data-ttu-id="04f34-112">Näheres zur entsprechenden Einrichtung erfahren Sie unter [Isolationstypen](types-of-isolation.md).</span><span class="sxs-lookup"><span data-stu-id="04f34-112">For details on how to set this up, see [Types of Isolation](types-of-isolation.md).</span></span>  
  
 <span data-ttu-id="04f34-113">Isolierte Speicher, die von unterschiedlichen Assemblys abgerufen werden, sind standardmäßig unterschiedliche Speicher.</span><span class="sxs-lookup"><span data-stu-id="04f34-113">Isolated stores obtained from within different assemblies are, by default, different stores.</span></span> <span data-ttu-id="04f34-114">Sie können auf den Store einer anderen Assembly oder Domäne zugreifen, indem Sie den Assembly- oder Domänenbeweis in den Parametern der <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="04f34-114">You can access the store of a different assembly or domain by passing in the assembly or domain evidence in the parameters of the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> method.</span></span> <span data-ttu-id="04f34-115">Dies setzt die Berechtigung zum Zugriff auf isolierten Speicher durch Anwendungsdomänenidentität voraus.</span><span class="sxs-lookup"><span data-stu-id="04f34-115">This requires permission to access isolated storage by application domain identity.</span></span> <span data-ttu-id="04f34-116">Weitere Informationen finden Sie bei den <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methodenüberladungen.</span><span class="sxs-lookup"><span data-stu-id="04f34-116">For more information, see the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> method overloads.</span></span>  
  
 <span data-ttu-id="04f34-117">Die <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A>-, <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A>- und <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methode geben ein <xref:System.IO.IsolatedStorage.IsolatedStorageFile>-Objekt zurück.</span><span class="sxs-lookup"><span data-stu-id="04f34-117">The <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A>, <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A>, and <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> methods return an <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object.</span></span> <span data-ttu-id="04f34-118">Um zu entscheiden, welcher Isolationstyp für Ihre Situation am besten geeignet ist, lesen Sie [Isolationstypen](types-of-isolation.md).</span><span class="sxs-lookup"><span data-stu-id="04f34-118">To help you decide which isolation type is most appropriate for your situation, see [Types of Isolation](types-of-isolation.md).</span></span> <span data-ttu-id="04f34-119">Wenn Sie über ein Dateiobjekt verfügen, das ein isolierter Speicher ist, können Sie Methoden für isolierten Speicher verwenden, um aus Dateien und Verzeichnissen zu lesen, in sie zu schreiben, sie zu erstellen und zu löschen.</span><span class="sxs-lookup"><span data-stu-id="04f34-119">When you have an isolated storage file object, you can use the isolated storage methods to read, write, create, and delete files and directories.</span></span>  
  
 <span data-ttu-id="04f34-120">Es gibt keinen Mechanismus, der verhindert, dass Code ein <xref:System.IO.IsolatedStorage.IsolatedStorageFile>-Objekt an Code übergibt, der nicht über ausreichende Zugriffsrechte verfügt, um den Speicher selbst abzurufen.</span><span class="sxs-lookup"><span data-stu-id="04f34-120">There is no mechanism that prevents code from passing an <xref:System.IO.IsolatedStorage.IsolatedStorageFile> object to code that does not have sufficient access to get the store itself.</span></span> <span data-ttu-id="04f34-121">Domänen- und Assemblyidentitäten und Berechtigungen für isolierten Speicher werden nur überprüft, wenn ein Verweis auf ein <xref:System.IO.IsolatedStorage.IsolatedStorage>-Objekt abgerufen wird, in der Regel in der <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A>-, <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A>- oder <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="04f34-121">Domain and assembly identities and isolated storage permissions are checked only when a reference to an <xref:System.IO.IsolatedStorage.IsolatedStorage> object is obtained, typically in the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForAssembly%2A>, <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetUserStoreForDomain%2A>, or <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> method.</span></span> <span data-ttu-id="04f34-122">Der Schutz von Verweisen auf <xref:System.IO.IsolatedStorage.IsolatedStorageFile>-Objekte liegt daher in der Verantwortung des Codes, der diese Verweise verwendet.</span><span class="sxs-lookup"><span data-stu-id="04f34-122">Protecting references to <xref:System.IO.IsolatedStorage.IsolatedStorageFile> objects is, therefore, the responsibility of the code that uses these references.</span></span>  
  
## <a name="example"></a><span data-ttu-id="04f34-123">Beispiel</span><span class="sxs-lookup"><span data-stu-id="04f34-123">Example</span></span>  
 <span data-ttu-id="04f34-124">Der folgende Code bietet ein einfaches Beispiel einer Klasse, die einen Speicher abruft, der nach Benutzer und Assembly isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="04f34-124">The following code provides a simple example of a class obtaining a store that is isolated by user and assembly.</span></span> <span data-ttu-id="04f34-125">Der Code kann durch Hinzufügen von <xref:System.IO.IsolatedStorage.IsolatedStorageScope.Domain?displayProperty=nameWithType> zu den Argumenten, die die <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A>-Methode übergibt, geändert werden, um einen Speicher abzurufen, der nach Benutzer, Domäne und Assembly isoliert ist.</span><span class="sxs-lookup"><span data-stu-id="04f34-125">The code can be changed to retrieve a store that is isolated by user, domain, and assembly by adding <xref:System.IO.IsolatedStorage.IsolatedStorageScope.Domain?displayProperty=nameWithType> to the arguments that the <xref:System.IO.IsolatedStorage.IsolatedStorageFile.GetStore%2A> method passes.</span></span>  
  
 <span data-ttu-id="04f34-126">Nachdem Sie den Code ausgeführt haben, können Sie sicherstellen, dass ein Speicher erstellt wurde, indem Sie **StoreAdm /LIST** in der Befehlszeile eingeben.</span><span class="sxs-lookup"><span data-stu-id="04f34-126">After you run the code, you can confirm that a store was created by typing **StoreAdm /LIST** at the command line.</span></span> <span data-ttu-id="04f34-127">Dadurch wird das [Tool „Isolierter Speicher“ (Storeadm.exe)](../../framework/tools/storeadm-exe-isolated-storage-tool.md) ausgeführt, und alle aktuellen isolierten Speicher des Benutzers werden aufgelistet.</span><span class="sxs-lookup"><span data-stu-id="04f34-127">This runs the [Isolated Storage tool (Storeadm.exe)](../../framework/tools/storeadm-exe-isolated-storage-tool.md) and lists all the current isolated stores for the user.</span></span>  
  
 [!code-cpp[Conceptual.IsolatedStorage#7](../../../samples/snippets/cpp/VS_Snippets_CLR/conceptual.isolatedstorage/cpp/source6.cpp#7)]
 [!code-csharp[Conceptual.IsolatedStorage#7](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.isolatedstorage/cs/source6.cs#7)]
 [!code-vb[Conceptual.IsolatedStorage#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.isolatedstorage/vb/source6.vb#7)]  
  
## <a name="see-also"></a><span data-ttu-id="04f34-128">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="04f34-128">See also</span></span>

- <xref:System.IO.IsolatedStorage.IsolatedStorageFile>
- <xref:System.IO.IsolatedStorage.IsolatedStorageScope>
- [<span data-ttu-id="04f34-129">Isolierter Speicher</span><span class="sxs-lookup"><span data-stu-id="04f34-129">Isolated Storage</span></span>](isolated-storage.md)
- [<span data-ttu-id="04f34-130">Isolationstypen</span><span class="sxs-lookup"><span data-stu-id="04f34-130">Types of Isolation</span></span>](types-of-isolation.md)
- [<span data-ttu-id="04f34-131">Assemblys in .NET</span><span class="sxs-lookup"><span data-stu-id="04f34-131">Assemblies in .NET</span></span>](../assembly/index.md)
