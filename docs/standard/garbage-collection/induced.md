---
title: Indizierte Auflistungen
ms.date: 03/30/2017
helpviewer_keywords:
- garbage collection, forced
ms.assetid: 019008fe-4708-4e65-bebf-04fd9941e149
ms.openlocfilehash: 637ba9b3b73d685ee2263315a08f982d862efb35
ms.sourcegitcommit: 965a5af7918acb0a3fd3baf342e15d511ef75188
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 11/18/2020
ms.locfileid: "94827723"
---
# <a name="induced-collections"></a><span data-ttu-id="c9d7d-102">Indizierte Auflistungen</span><span class="sxs-lookup"><span data-stu-id="c9d7d-102">Induced Collections</span></span>
<span data-ttu-id="c9d7d-103">In den meisten Fällen können Sie es dem Garbage Collector überlassen, den am besten geeigneten Zeitpunkt für eine Collection zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-103">In most cases, the garbage collector can determine the best time to perform a collection, and you should let it run independently.</span></span> <span data-ttu-id="c9d7d-104">In seltenen Fällen kann das Erzwingen einer Auflistung jedoch die Leistung der Anwendung erhöhen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-104">There are rare situations when a forced collection might improve your application's performance.</span></span> <span data-ttu-id="c9d7d-105">In diesen Fällen können Sie die Garbage Collection auslösen, indem Sie die <xref:System.GC.Collect%2A?displayProperty=nameWithType>-Methode zum Erzwingen einer Garbage Collection wählen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-105">In these cases, you can induce garbage collection by using the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method to force a garbage collection.</span></span>  
  
 <span data-ttu-id="c9d7d-106">Verwenden Sie die <xref:System.GC.Collect%2A?displayProperty=nameWithType>-Methode, wenn es zu einem bestimmten Zeitpunkt während der Ausführung des Anwendungscodes zu einer erheblichen Reduzierung des verwendeten Arbeitsspeichers kommt.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-106">Use the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method when there is a significant reduction in the amount of memory being used at a specific point in your application's code.</span></span> <span data-ttu-id="c9d7d-107">Wenn die Anwendung zum Beispiel ein kompliziertes Dialogfeld mit mehreren Steuerelementen verwendet, kann der Aufruf von <xref:System.GC.Collect%2A> beim Schließen des Dialogfelds die Leistung erhöhen, indem der vom Dialogfeld verwendete Speicher sofort freigegeben wird.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-107">For example, if your application uses a complex dialog box that has several controls, calling <xref:System.GC.Collect%2A> when the dialog box is closed could improve performance by immediately reclaiming the memory used by the dialog box.</span></span> <span data-ttu-id="c9d7d-108">Stellen Sie sicher, dass die Anwendung nicht zu häufig eine Garbage Collection durchführt, das sich dies negativ auf die Leistung auswirken kann, wenn der Garbage Collector vergeblich versucht, Objekte zu ungünstigen Zeitpunkten freizugeben.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-108">Be sure that your application is not inducing garbage collection too frequently, because that can decrease performance if the garbage collector is trying to reclaim objects at non-optimal times.</span></span> <span data-ttu-id="c9d7d-109">Sie können einen <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType>-Enumerationswert an die <xref:System.GC.Collect%2A>-Methode liefern, um nur zu sammeln, wenn die Auflistung produktiv ist, wie im nächsten Abschnitt erläutert wird.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-109">You can supply a <xref:System.GCCollectionMode.Optimized?displayProperty=nameWithType> enumeration value to the <xref:System.GC.Collect%2A> method to collect only when collection would be productive, as discussed in the next section.</span></span>  
  
## <a name="gc-collection-mode"></a><span data-ttu-id="c9d7d-110">Der GC-Sammlungsmodus</span><span class="sxs-lookup"><span data-stu-id="c9d7d-110">GC collection mode</span></span>  
 <span data-ttu-id="c9d7d-111">Sie können eine der <xref:System.GC.Collect%2A?displayProperty=nameWithType>-Methodenüberladungen verwenden, die einen <xref:System.GCCollectionMode>-Wert enthält, um das Verhalten einer erzwungenen Auflistung wie folgt zu bestimmen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-111">You can use one of the <xref:System.GC.Collect%2A?displayProperty=nameWithType> method overloads that includes a <xref:System.GCCollectionMode> value to specify the behavior for a forced collection as follows.</span></span>  
  
|<span data-ttu-id="c9d7d-112">`GCCollectionMode` -Wert</span><span class="sxs-lookup"><span data-stu-id="c9d7d-112">`GCCollectionMode` value</span></span>|<span data-ttu-id="c9d7d-113">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="c9d7d-113">Description</span></span>|  
|------------------------------|-----------------|  
|<xref:System.GCCollectionMode.Default>|<span data-ttu-id="c9d7d-114">Verwendet die standardmäßige Garbage Collection-Einstellung für die ausgeführte .NET-Version.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-114">Uses the default garbage collection setting for the running version of .NET.</span></span>|  
|<xref:System.GCCollectionMode.Forced>|<span data-ttu-id="c9d7d-115">Erzwingt die sofortige Durchführung der Garbage Collection.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-115">Forces garbage collection to occur immediately.</span></span> <span data-ttu-id="c9d7d-116">Dies entspricht dem Aufruf der <xref:System.GC.Collect?displayProperty=nameWithType>-Überladung.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-116">This is equivalent to calling the <xref:System.GC.Collect?displayProperty=nameWithType> overload.</span></span> <span data-ttu-id="c9d7d-117">Dies führt zu einer vollständigen blockierenden Auflistung aller Generationen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-117">It results in a full blocking collection of all generations.</span></span><br /><br /> <span data-ttu-id="c9d7d-118">Sie können auch das große Objektheap komprimieren, indem Sie die <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType>-Eigenschaft auf <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> festlegen, bevor Sie eine unmittelbare vollständige blockierende Garbage Collection erzwingen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-118">You can also compact the large object heap by setting the <xref:System.Runtime.GCSettings.LargeObjectHeapCompactionMode%2A?displayProperty=nameWithType> property to <xref:System.Runtime.GCLargeObjectHeapCompactionMode.CompactOnce?displayProperty=nameWithType> before forcing an immediate full blocking garbage collection.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="c9d7d-119">Ermöglicht dem Garbage Collector zu bestimmten, oder der aktuelle Zeitpunkt zum Freigeben von Objekten optimal ist.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-119">Enables the garbage collector to determine whether the current time is optimal to reclaim objects.</span></span><br /><br /> <span data-ttu-id="c9d7d-120">Der Garbage Collector kann ermitteln, dass eine Auflistung nicht produktiv genug wäre. In diesem Fall kehrt er zurück, ohne Objekte freizugeben.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-120">The garbage collector could determine that a collection would not be productive enough to be justified, in which case it will return without reclaiming objects.</span></span>|  
  
## <a name="background-or-blocking-collections"></a><span data-ttu-id="c9d7d-121">Hintergrund oder blockierende Auflistungen</span><span class="sxs-lookup"><span data-stu-id="c9d7d-121">Background or blocking collections</span></span>  
 <span data-ttu-id="c9d7d-122">Sie können die <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType>-Methodenüberladung aufrufen, um anzugeben, ob eine ausgelöste Auflistung blockiert wird oder nicht.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-122">You can call the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29?displayProperty=nameWithType> method overload to specify whether an induced collection is blocking or not.</span></span> <span data-ttu-id="c9d7d-123">Der Typ der ausgeführten Auflistung hängt von einer Kombination der `mode` und `blocking`-Parameter der Methode ab.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-123">The type of collection performed depends on a combination of the method's `mode` and `blocking` parameters.</span></span> <span data-ttu-id="c9d7d-124">Der Wert `mode` ist ein Member der <xref:System.GCCollectionMode>-Enumeration und `blocking` ist ein <xref:System.Boolean>-Wert.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-124">`mode` is a member of the <xref:System.GCCollectionMode> enumeration, and `blocking` is a <xref:System.Boolean> value.</span></span> <span data-ttu-id="c9d7d-125">In der folgenden Tabelle wird die Interaktion der Argumente `mode` und `blocking` zusammengefasst.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-125">The following table summarizes the interaction of the `mode` and `blocking` arguments.</span></span>  
  
|`mode`|`blocking` = `true`|`blocking` = `false`|  
|------------|--------------------------|---------------------------|  
|<span data-ttu-id="c9d7d-126"><xref:System.GCCollectionMode.Forced> oder <xref:System.GCCollectionMode.Default></span><span class="sxs-lookup"><span data-stu-id="c9d7d-126"><xref:System.GCCollectionMode.Forced> or <xref:System.GCCollectionMode.Default></span></span>|<span data-ttu-id="c9d7d-127">Eine blockierende Auflistung wird so schnell wie möglich ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-127">A blocking collection is performed as soon as possible.</span></span> <span data-ttu-id="c9d7d-128">Wenn eine Hintergrundauflistung ausgeführt wird und die Generation 0 oder 1 ist, löst die <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29>-Methode sofort eine blockierende Auflistung aus und wird zurückgegeben, wenn die Auflistung abgeschlossen ist.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-128">If a background collection is in progress and generation is 0 or 1, the <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method immediately triggers a blocking collection and returns when the collection is finished.</span></span> <span data-ttu-id="c9d7d-129">Wenn eine Hintergrundauflistung ausgeführt wird und der `generation`-Parameter 2 ist, wartet die Methode, bis die Hintergrundauflistung beendet ist, löst eine blockierende Auflistung der Generation 2 aus und gibt dann zurück.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-129">If a background collection is in progress and the `generation` parameter is 2, the method waits until the background collection is finished, triggers a blocking generation 2 collection, and then returns.</span></span>|<span data-ttu-id="c9d7d-130">Eine Auflistung wird so schnell wie möglich ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-130">A collection is performed as soon as possible.</span></span> <span data-ttu-id="c9d7d-131">Die <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29>-Methode fordert eine Hintergrundauflistung, ist jedoch nicht garantiert. Je nach den Umständen wird eine blockierende Auflistung möglicherweise weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-131">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="c9d7d-132">Wenn eine Hintergrundauflistung bereits ausgeführt wird, gibt die Methode sofort zurück.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-132">If a background collection is already in progress, the method returns immediately.</span></span>|  
|<xref:System.GCCollectionMode.Optimized>|<span data-ttu-id="c9d7d-133">Eine blockierende Auflistung kann ausgeführt werden, je nach Zustand des Garbage Collectors und des `generation`-Parameters.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-133">A blocking collection may be performed, depending on the state of the garbage collector and the `generation` parameter.</span></span> <span data-ttu-id="c9d7d-134">Der Garbage Collector versucht, eine optimale Leistung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-134">The garbage collector tries to provide optimal performance.</span></span>|<span data-ttu-id="c9d7d-135">Eine Auflistung kann ausgeführt werden, je nach Zustand des Garbage Collectors.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-135">A collection may be performed, depending on the state of the garbage collector.</span></span> <span data-ttu-id="c9d7d-136">Die <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29>-Methode fordert eine Hintergrundauflistung, ist jedoch nicht garantiert. Je nach den Umständen wird eine blockierende Auflistung möglicherweise weiterhin ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-136">The <xref:System.GC.Collect%28System.Int32%2CSystem.GCCollectionMode%2CSystem.Boolean%29> method requests a background collection, but this is not guaranteed; depending on the circumstances, a blocking collection may still be performed.</span></span> <span data-ttu-id="c9d7d-137">Der Garbage Collector versucht, eine optimale Leistung bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-137">The garbage collector tries to provide optimal performance.</span></span> <span data-ttu-id="c9d7d-138">Wenn eine Hintergrundauflistung bereits ausgeführt wird, gibt die Methode sofort zurück.</span><span class="sxs-lookup"><span data-stu-id="c9d7d-138">If a background collection is already in progress, the method returns immediately.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="c9d7d-139">Weitere Informationen</span><span class="sxs-lookup"><span data-stu-id="c9d7d-139">See also</span></span>

- [<span data-ttu-id="c9d7d-140">Latenzmodi</span><span class="sxs-lookup"><span data-stu-id="c9d7d-140">Latency Modes</span></span>](latency.md)
- [<span data-ttu-id="c9d7d-141">Garbage Collection</span><span class="sxs-lookup"><span data-stu-id="c9d7d-141">Garbage Collection</span></span>](index.md)
