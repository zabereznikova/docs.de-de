---
title: Metadaten und selbstbeschreibende Komponenten
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- runtime, metadata
- languages, interoperability
- portable executable files, metadata
- self-describing files
- metadata, about metadata
- common language runtime, metadata
- PE files, metadata
- components [.NET Framework], metadata
ms.assetid: 3dd13c5d-a508-455b-8dce-0a852882a5a7
ms.openlocfilehash: a4f4c0e1af379d31c5b478472780d5c7de813bf6
ms.sourcegitcommit: 559fcfbe4871636494870a8b716bf7325df34ac5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/30/2019
ms.locfileid: "73121931"
---
# <a name="metadata-and-self-describing-components"></a><span data-ttu-id="ab0e5-102">Metadaten und selbstbeschreibende Komponenten</span><span class="sxs-lookup"><span data-stu-id="ab0e5-102">Metadata and Self-Describing Components</span></span>

<span data-ttu-id="ab0e5-103">Früher konnte eine in einer bestimmten Sprache geschriebene Softwarekomponente (.exe oder .dll) nicht einfach eine andere Softwarekomponente verwenden, die in einer anderen Sprache geschrieben war.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-103">In the past, a software component (.exe or .dll) that was written in one language could not easily use a software component that was written in another language.</span></span> <span data-ttu-id="ab0e5-104">COM ist die Lösung dieses Problems angegangen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-104">COM provided a step towards solving this problem.</span></span> <span data-ttu-id="ab0e5-105">Mit .NET Framework wird die Interoperation von Komponenten erleichtert, indem zusätzliche deklarative Informationen von Compilern an alle Module und Assemblys weitergegeben werden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-105">The .NET Framework makes component interoperation even easier by allowing compilers to emit additional declarative information into all modules and assemblies.</span></span> <span data-ttu-id="ab0e5-106">Diese Informationen, so genannte Metadaten, ermöglichen eine nahtlose Interaktion der Komponenten.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-106">This information, called metadata, helps components to interact seamlessly.</span></span>

 <span data-ttu-id="ab0e5-107">Metadaten sind binäre Informationen, die ein Programm beschreiben, das entweder im Speicher oder in einer PE (Portable Executable)-Datei von Common Language Runtime gespeichert ist.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-107">Metadata is binary information describing your program that is stored either in a common language runtime portable executable (PE) file or in memory.</span></span> <span data-ttu-id="ab0e5-108">Wenn Sie Code in eine PE-Datei kompilieren, werden in einen Bereich der Datei Metadaten eingefügt, während der Code in MSIL (Microsoft Intermediate Language) konvertiert und in einen anderen Bereich der Datei eingefügt wird.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-108">When you compile your code into a PE file, metadata is inserted into one portion of the file, and your code is converted to Microsoft intermediate language (MSIL) and inserted into another portion of the file.</span></span> <span data-ttu-id="ab0e5-109">Jeder Typ und jeder Member, auf den in einem Modul oder in einer Assembly verwiesen wird, wird mit Metadaten beschrieben.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-109">Every type and member that is defined and referenced in a module or assembly is described within metadata.</span></span> <span data-ttu-id="ab0e5-110">Beim Ausführen von Code lädt Common Language Runtime Metadaten in den Speicher und verweist darauf, um Informationen zu Codeklassen, Membern, Vererbung usw. zu finden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-110">When code is executed, the runtime loads metadata into memory and references it to discover information about your code's classes, members, inheritance, and so on.</span></span>

 <span data-ttu-id="ab0e5-111">Metadaten beschreiben auf sprachneutrale Weise alle im Code definierten Typen und Member.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-111">Metadata describes every type and member defined in your code in a language-neutral manner.</span></span> <span data-ttu-id="ab0e5-112">In Metadaten werden folgende Informationen gespeichert:</span><span class="sxs-lookup"><span data-stu-id="ab0e5-112">Metadata stores the following information:</span></span>

- <span data-ttu-id="ab0e5-113">Beschreibung der Assembly</span><span class="sxs-lookup"><span data-stu-id="ab0e5-113">Description of the assembly.</span></span>

  - <span data-ttu-id="ab0e5-114">Identität (Name, Version, Kultur, öffentlicher Schlüssel).</span><span class="sxs-lookup"><span data-stu-id="ab0e5-114">Identity (name, version, culture, public key).</span></span>

  - <span data-ttu-id="ab0e5-115">Typen, die exportiert werden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-115">The types that are exported.</span></span>

  - <span data-ttu-id="ab0e5-116">Andere Assemblys, von denen diese Assembly abhängt.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-116">Other assemblies that this assembly depends on.</span></span>

  - <span data-ttu-id="ab0e5-117">Sicherheitsberechtigungen, die zur Ausführung benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-117">Security permissions needed to run.</span></span>

- <span data-ttu-id="ab0e5-118">Typenbeschreibung</span><span class="sxs-lookup"><span data-stu-id="ab0e5-118">Description of types.</span></span>

  - <span data-ttu-id="ab0e5-119">Name, Sichtbarkeit, Basisklasse und implementierte Schnittstellen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-119">Name, visibility, base class, and interfaces implemented.</span></span>

  - <span data-ttu-id="ab0e5-120">Member (Methoden, Felder, Eigenschaften, Ereignisse, geschachtelte Typen).</span><span class="sxs-lookup"><span data-stu-id="ab0e5-120">Members (methods, fields, properties, events, nested types).</span></span>

- <span data-ttu-id="ab0e5-121">Attribute</span><span class="sxs-lookup"><span data-stu-id="ab0e5-121">Attributes.</span></span>

  - <span data-ttu-id="ab0e5-122">Zusätzliche beschreibende Elemente, die Änderungen an Typen und Membern vornehmen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-122">Additional descriptive elements that modify types and members.</span></span>

## <a name="benefits-of-metadata"></a><span data-ttu-id="ab0e5-123">Vorteile von Metadaten</span><span class="sxs-lookup"><span data-stu-id="ab0e5-123">Benefits of Metadata</span></span>

<span data-ttu-id="ab0e5-124">Metadaten ermöglichen ein einfacheres Programmierungsmodell und machen IDL (Interface Definition Language)-Dateien, Headerdateien oder andere externe Methoden zum Verweisen auf Komponenten überflüssig.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-124">Metadata is the key to a simpler programming model, and eliminates the need for Interface Definition Language (IDL) files, header files, or any external method of component reference.</span></span> <span data-ttu-id="ab0e5-125">Mit Metadaten können .NET Framework-Sprachen automatisch auf sprachneutrale Weise beschrieben werden, unabhängig vom Entwickler und Benutzer.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-125">Metadata enables .NET Framework languages to describe themselves automatically in a language-neutral manner, unseen by both the developer and the user.</span></span> <span data-ttu-id="ab0e5-126">Metadaten sind zudem mithilfe von Attributen erweiterbar.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-126">Additionally, metadata is extensible through the use of attributes.</span></span> <span data-ttu-id="ab0e5-127">Sie bieten die folgenden wesentlichen Vorteile:</span><span class="sxs-lookup"><span data-stu-id="ab0e5-127">Metadata provides the following major benefits:</span></span>

- <span data-ttu-id="ab0e5-128">Selbstbeschreibende Dateien</span><span class="sxs-lookup"><span data-stu-id="ab0e5-128">Self-describing files.</span></span>

  <span data-ttu-id="ab0e5-129">Common Language Runtime-Module und Assemblys sind selbstbeschreibend.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-129">Common language runtime modules and assemblies are self-describing.</span></span> <span data-ttu-id="ab0e5-130">Die Metadaten eines Moduls enthalten alle zur Interaktion mit einem anderen Modul benötigten Informationen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-130">A module's metadata contains everything needed to interact with another module.</span></span> <span data-ttu-id="ab0e5-131">Metadaten stellen automatisch die gleichen Funktionalitäten zur Verfügung, die IDL in COM bereitstellt. Auf diese Weise können Sie eine Datei sowohl für Definition als auch für Implementierung verwenden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-131">Metadata automatically provides the functionality of IDL in COM, so you can use one file for both definition and implementation.</span></span> <span data-ttu-id="ab0e5-132">Laufzeitmodule und Assemblys erfordern nicht einmal eine Registrierung beim Betriebssystem.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-132">Runtime modules and assemblies do not even require registration with the operating system.</span></span> <span data-ttu-id="ab0e5-133">Die von Common Language Runtime verwendeten Beschreibungen geben daher den tatsächlichen Code in der kompilierten Datei wieder. Dies erhöht die Zuverlässigkeit von Anwendungen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-133">As a result, the descriptions used by the runtime always reflect the actual code in your compiled file, which increases application reliability.</span></span>

- <span data-ttu-id="ab0e5-134">Sprachübergreifende Interoperabilität und einfacheres, komponentenbasiertes Design</span><span class="sxs-lookup"><span data-stu-id="ab0e5-134">Language interoperability and easier component-based design.</span></span>

  <span data-ttu-id="ab0e5-135">Metadaten stellen alle Informationen über kompilierten Code zur Verfügung, die für das Erben einer Klasse aus einer PE-Datei, die in einer anderen Sprache geschrieben wurde, benötigt werden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-135">Metadata provides all the information required about compiled code for you to inherit a class from a PE file written in a different language.</span></span> <span data-ttu-id="ab0e5-136">Sie können eine Instanz einer beliebigen Klasse erstellen, die in einer beliebigen verwalteten Sprache geschrieben wurde (jede Sprache, die Common Language Runtime anspricht), ohne auf explizites Marshallen oder die Verwendung von benutzerdefiniertem Interoperabilitätscode zurückgreifen zu müssen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-136">You can create an instance of any class written in any managed language (any language that targets the common language runtime) without worrying about explicit marshaling or using custom interoperability code.</span></span>

- <span data-ttu-id="ab0e5-137">Attribute</span><span class="sxs-lookup"><span data-stu-id="ab0e5-137">Attributes.</span></span>

  <span data-ttu-id="ab0e5-138">Mit .NET Framework können Sie bestimmte Arten von Metadaten, so genannte Attribute, in der kompilierten Datei deklarieren.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-138">The .NET Framework lets you declare specific kinds of metadata, called attributes, in your compiled file.</span></span> <span data-ttu-id="ab0e5-139">Attribute befinden sich überall in .NET Framework und dienen zur detaillierteren Steuerung des Programms zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-139">Attributes can be found throughout the .NET Framework and are used to control in more detail how your program behaves at run time.</span></span> <span data-ttu-id="ab0e5-140">Außerdem können Sie mithilfe von benutzerdefinierten Attributen Ihre eigenen benutzerdefinierten Metadaten in .NET Framework-Dateien ausgeben.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-140">Additionally, you can emit your own custom metadata into .NET Framework files through user-defined custom attributes.</span></span> <span data-ttu-id="ab0e5-141">Weitere Informationen finden Sie unter [Attribute](../../docs/standard/attributes/index.md).</span><span class="sxs-lookup"><span data-stu-id="ab0e5-141">For more information, see [Attributes](../../docs/standard/attributes/index.md).</span></span>

## <a name="metadata-and-the-pe-file-structure"></a><span data-ttu-id="ab0e5-142">Metadaten und die PE-Dateistruktur</span><span class="sxs-lookup"><span data-stu-id="ab0e5-142">Metadata and the PE File Structure</span></span>

<span data-ttu-id="ab0e5-143">Metadaten werden in einem Bereich einer .NET Framework-PE (Portable Executable)-Datei gespeichert, während MSIL (Microsoft Intermediate Language) in einem anderen Bereich der PE-Datei gespeichert wird.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-143">Metadata is stored in one section of a .NET Framework portable executable (PE) file, while Microsoft intermediate language (MSIL) is stored in another section of the PE file.</span></span> <span data-ttu-id="ab0e5-144">Der Metadatenbereich der Datei enthält eine Reihe von Tabellen und Heapdatenstrukturen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-144">The metadata portion of the file contains a series of table and heap data structures.</span></span> <span data-ttu-id="ab0e5-145">Der MSIL-Bereich enthält MSIL und Metadatentokens, die auf den Metadatenbereich der PE-Datei verweisen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-145">The MSIL portion contains MSIL and metadata tokens that reference the metadata portion of the PE file.</span></span> <span data-ttu-id="ab0e5-146">Möglicherweise werden Metadatentoken verwendet, wenn Sie Tools wie [MSIL Disassembler-Tool (Ildasm.exe)](../../docs/framework/tools/ildasm-exe-il-disassembler.md) verwenden, um z.B. die MSIL des Codes anzuzeigen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-146">You might encounter metadata tokens when you use tools such as the [MSIL Disassembler (Ildasm.exe)](../../docs/framework/tools/ildasm-exe-il-disassembler.md) to view your code's MSIL, for example.</span></span>

### <a name="metadata-tables-and-heaps"></a><span data-ttu-id="ab0e5-147">Metadatentabellen und -heaps</span><span class="sxs-lookup"><span data-stu-id="ab0e5-147">Metadata Tables and Heaps</span></span>

<span data-ttu-id="ab0e5-148">Jede Metadatentabelle beinhaltet Informationen über die Elemente Ihres Programms.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-148">Each metadata table holds information about the elements of your program.</span></span> <span data-ttu-id="ab0e5-149">Eine Metadatentabelle beschreibt zum Beispiel die Klassen des Codes, eine andere beschreibt die Felder usw.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-149">For example, one metadata table describes the classes in your code, another table describes the fields, and so on.</span></span> <span data-ttu-id="ab0e5-150">Falls der Code z. B. zehn Klassen besitzt, enthält die Klassentabelle zehn Zeilen, eine für jede Klasse.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-150">If you have ten classes in your code, the class table will have tens rows, one for each class.</span></span> <span data-ttu-id="ab0e5-151">Metadatentabellen verweisen auf andere Tabellen und Heaps.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-151">Metadata tables reference other tables and heaps.</span></span> <span data-ttu-id="ab0e5-152">Die Metadatentabelle für Klassen verweist z. B. auf die Tabelle für Methoden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-152">For example, the metadata table for classes references the table for methods.</span></span>

<span data-ttu-id="ab0e5-153">Zusätzlich speichern Metadaten Informationen in vier Heapstrukturen: Zeichenfolge, BLOB, Benutzerzeichenfolge und GUID.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-153">Metadata also stores information in four heap structures: string, blob, user string, and GUID.</span></span> <span data-ttu-id="ab0e5-154">Alle Zeichenfolgen zum Benennen von Typen und Membern werden im Stringheap gespeichert.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-154">All the strings used to name types and members are stored in the string heap.</span></span> <span data-ttu-id="ab0e5-155">Eine Methodentabelle speichert den Namen einer bestimmten Methode nicht direkt, sondern verweist auf dem im Stringheap gespeicherten Namen einer Methode.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-155">For example, a method table does not directly store the name of a particular method, but points to the method's name stored in the string heap.</span></span>

### <a name="metadata-tokens"></a><span data-ttu-id="ab0e5-156">Metadatentokens</span><span class="sxs-lookup"><span data-stu-id="ab0e5-156">Metadata Tokens</span></span>

<span data-ttu-id="ab0e5-157">Jede Zeile einer Metadatentabelle wird im MSIL-Bereich einer PE-Datei durch ein Metadatentoken eindeutig identifiziert.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-157">Each row of each metadata table is uniquely identified in the MSIL portion of the PE file by a metadata token.</span></span> <span data-ttu-id="ab0e5-158">Metadatentokens sind konzeptionell identisch mit in MSIL beibehaltenen Zeigern, die auf eine bestimmte Metadatentabelle verweisen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-158">Metadata tokens are conceptually similar to pointers, persisted in MSIL, that reference a particular metadata table.</span></span>

<span data-ttu-id="ab0e5-159">Ein Metadatentoken ist eine Vier-Byte-Zahl.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-159">A metadata token is a four-byte number.</span></span> <span data-ttu-id="ab0e5-160">Das oberste Byte kennzeichnet die Metadatentabelle, auf die ein bestimmtes Token verweist (Methode, Typ usw.).</span><span class="sxs-lookup"><span data-stu-id="ab0e5-160">The top byte denotes the metadata table to which a particular token refers (method, type, and so on).</span></span> <span data-ttu-id="ab0e5-161">Die restlichen drei Bytes geben die Zeile in der Metadatentabelle an, die dem beschriebenen Programmierelement entspricht.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-161">The remaining three bytes specify the row in the metadata table that corresponds to the programming element being described.</span></span> <span data-ttu-id="ab0e5-162">Wenn Sie eine Methode in C# definieren und in eine PE-Datei kompilieren, befindet sich möglicherweise folgendes Metadatentoken im MSIL-Bereich der PE-Datei:</span><span class="sxs-lookup"><span data-stu-id="ab0e5-162">If you define a method in C# and compile it into a PE file, the following metadata token might exist in the MSIL portion of the PE file:</span></span>

`0x06000004`

<span data-ttu-id="ab0e5-163">Das oberste Byte (`0x06`) gibt an, dass es sich um ein **MethodDef**-Token handelt.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-163">The top byte (`0x06`) indicates that this is a **MethodDef** token.</span></span> <span data-ttu-id="ab0e5-164">Die unteren drei Bytes (`000004`) weisen die **Common Language Runtime** an, in der vierten Zeile der MethodDef-Tabelle nach Informationen zu suchen, welche die Methodendefinition beschreiben.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-164">The lower three bytes (`000004`) tells the common language runtime to look in the fourth row of the **MethodDef** table for the information that describes this method definition.</span></span>

### <a name="metadata-within-a-pe-file"></a><span data-ttu-id="ab0e5-165">Metadaten in einer PE-Datei</span><span class="sxs-lookup"><span data-stu-id="ab0e5-165">Metadata within a PE File</span></span>

<span data-ttu-id="ab0e5-166">Beim Kompilieren eines Programms für Common Language Runtime wird es in eine PE-Datei konvertiert, die aus drei Teilen besteht.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-166">When a program is compiled for the common language runtime, it is converted to a PE file that consists of three parts.</span></span> <span data-ttu-id="ab0e5-167">In der folgenden Tabelle werden die einzelnen Teile beschrieben.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-167">The following table describes the contents of each part.</span></span>

|<span data-ttu-id="ab0e5-168">PE-Abschnitt</span><span class="sxs-lookup"><span data-stu-id="ab0e5-168">PE section</span></span>|<span data-ttu-id="ab0e5-169">Inhalt des PE-Abschnitts</span><span class="sxs-lookup"><span data-stu-id="ab0e5-169">Contents of PE section</span></span>|
|----------------|----------------------------|
|<span data-ttu-id="ab0e5-170">PE-Header</span><span class="sxs-lookup"><span data-stu-id="ab0e5-170">PE header</span></span>|<span data-ttu-id="ab0e5-171">Index der Hauptabschnitte der PE-Datei und Adresse des Einstiegspunktes.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-171">The index of the PE file's main sections and the address of the entry point.</span></span><br /><br /> <span data-ttu-id="ab0e5-172">Common Language Runtime verwendet diese Informationen, um die Datei als PE-Datei zu identifizieren und festzulegen, wo die Ausführung beginnt, wenn das Programm in den Speicher geladen wird.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-172">The runtime uses this information to identify the file as a PE file and to determine where execution starts when loading the program into memory.</span></span>|
|<span data-ttu-id="ab0e5-173">MSIL-Anweisungen</span><span class="sxs-lookup"><span data-stu-id="ab0e5-173">MSIL instructions</span></span>|<span data-ttu-id="ab0e5-174">MSIL-Anweisungen (Microsoft Intermediate Language), aus denen der Code besteht.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-174">The Microsoft intermediate language instructions (MSIL) that make up your code.</span></span> <span data-ttu-id="ab0e5-175">Viele MSIL-Anweisungen werden von Metadatentokens begleitet.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-175">Many MSIL instructions are accompanied by metadata tokens.</span></span>|
|<span data-ttu-id="ab0e5-176">Metadaten</span><span class="sxs-lookup"><span data-stu-id="ab0e5-176">Metadata</span></span>|<span data-ttu-id="ab0e5-177">Metadatentabellen und Heaps.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-177">Metadata tables and heaps.</span></span> <span data-ttu-id="ab0e5-178">Dieser Abschnitt wird von Common Language Runtime verwendet, um Informationen über jeden Typ und jeden Member des Codes aufzuzeichnen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-178">The runtime uses this section to record information about every type and member in your code.</span></span> <span data-ttu-id="ab0e5-179">Dieser Abschnitt enthält auch benutzerdefinierte Attribute und Sicherheitsinformationen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-179">This section also includes custom attributes and security information.</span></span>|

## <a name="run-time-use-of-metadata"></a><span data-ttu-id="ab0e5-180">Verwenden von Metadaten zur Laufzeit</span><span class="sxs-lookup"><span data-stu-id="ab0e5-180">Run-Time Use of Metadata</span></span>

<span data-ttu-id="ab0e5-181">Zum besseren Verständnis von Metadaten und ihrer Rolle in Common Language Runtime kann es hilfreich sein, ein einfaches Programm zu schreiben, das zeigt, wie Metadaten das Verhalten der Laufzeit beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-181">To better understand metadata and its role in the common language runtime, it might be helpful to construct a simple program and illustrate how metadata affects its run-time life.</span></span> <span data-ttu-id="ab0e5-182">Folgendes Codebeispiel zeigt zwei Methoden innerhalb der Klasse `MyApp`.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-182">The following code example shows two methods inside a class called `MyApp`.</span></span> <span data-ttu-id="ab0e5-183">Die `Main`-Methode ist der Einstiegspunkt des Programms, während die `Add`-Methode einfach die Summe zweier Ganzzahlargumente zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-183">The `Main` method is the program entry point, while the `Add` method simply returns the sum of two integer arguments.</span></span>

```vb
Public Class MyApp
   Public Shared Sub Main()
      Dim ValueOne As Integer = 10
      Dim ValueTwo As Integer = 20
      Console.WriteLine("The Value is: {0}", Add(ValueOne, ValueTwo))
   End Sub

   Public Shared Function Add(One As Integer, Two As Integer) As Integer
      Return (One + Two)
   End Function
End Class
```

```csharp
using System;
public class MyApp
{
   public static int Main()
   {
      int ValueOne = 10;
      int ValueTwo = 20;
      Console.WriteLine("The Value is: {0}", Add(ValueOne, ValueTwo));
      return 0;
   }
   public static int Add(int One, int Two)
   {
      return (One + Two);
   }
}
```

<span data-ttu-id="ab0e5-184">Beim Ausführen des Codes lädt Common Language Runtime das Modul in den Speicher und fragt die Metadaten für diese Klasse ab.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-184">When the code runs, the runtime loads the module into memory and consults the metadata for this class.</span></span> <span data-ttu-id="ab0e5-185">Nach dem Laden analysiert Common Language Runtime ausführlich den MSIL (Microsoft Intermediate Language)-Stream der Methode, um ihn in schnelle systemeigene Anweisungen zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-185">Once loaded, the runtime performs extensive analysis of the method's Microsoft intermediate language (MSIL) stream to convert it to fast native machine instructions.</span></span> <span data-ttu-id="ab0e5-186">Common Language Runtime verwendet einen JIT (Just-In-Time)-Compiler, um bei Bedarf jeweils für eine Methode die MSIL-Anweisungen in systemeigenen Maschinencode zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-186">The runtime uses a just-in-time (JIT) compiler to convert the MSIL instructions to native machine code one method at a time as needed.</span></span>

<span data-ttu-id="ab0e5-187">Das folgende Beispiel zeigt einen Teil der MSIL, die aus der `Main`-Funktion des vorherigen Codes erstellt wurde.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-187">The following example shows part of the MSIL produced from the previous code's `Main` function.</span></span> <span data-ttu-id="ab0e5-188">Sie können die MSIL und die Metadaten aus jeder .NET-Anwendung mithilfe des [MSIL Disassembler-Tools (Ildasm.exe)](../../docs/framework/tools/ildasm-exe-il-disassembler.md) anzeigen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-188">You can view the MSIL and metadata from any .NET Framework application using the [MSIL Disassembler (Ildasm.exe)](../../docs/framework/tools/ildasm-exe-il-disassembler.md).</span></span>

```console
.entrypoint
.maxstack  3
.locals ([0] int32 ValueOne,
         [1] int32 ValueTwo,
         [2] int32 V_2,
         [3] int32 V_3)
IL_0000:  ldc.i4.s   10
IL_0002:  stloc.0
IL_0003:  ldc.i4.s   20
IL_0005:  stloc.1
IL_0006:  ldstr      "The Value is: {0}"
IL_000b:  ldloc.0
IL_000c:  ldloc.1
IL_000d:  call int32 ConsoleApplication.MyApp::Add(int32,int32) /* 06000003 */
```

<span data-ttu-id="ab0e5-189">Der JIT-Compiler liest die MSIL der ganzen Methode, analysiert sie ausführlich und generiert effiziente, systemeigene Anweisungen für diese Methode.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-189">The JIT compiler reads the MSIL for the whole method, analyzes it thoroughly, and generates efficient native instructions for the method.</span></span> <span data-ttu-id="ab0e5-190">Bei `IL_000d` wird ein Metadatentoken für die `Add`-Methode (`/*` `06000003 */`) angetroffen. Die Runtime verwendet dieses Token, um die dritte Zeile der **MethodDef**-Tabelle abzufragen.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-190">At `IL_000d`, a metadata token for the `Add` method (`/*` `06000003 */`) is encountered and the runtime uses the token to consult the third row of the **MethodDef** table.</span></span>

<span data-ttu-id="ab0e5-191">Folgende Tabelle zeigt einen Teil der **MethodDef**-Tabelle, welche die `Add`-Methode beschreibt und auf die das Metadatentoken verweist.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-191">The following table shows part of the **MethodDef** table referenced by the metadata token that describes the `Add` method.</span></span> <span data-ttu-id="ab0e5-192">Obwohl es in dieser Assembly auch andere Metadatentabellen gibt, die jeweils ihre eigenen, eindeutigen Werte besitzen, wird hier nur diese Tabelle erläutert.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-192">While other metadata tables exist in this assembly and have their own unique values, only this table is discussed.</span></span>

|<span data-ttu-id="ab0e5-193">Zeile</span><span class="sxs-lookup"><span data-stu-id="ab0e5-193">Row</span></span>|<span data-ttu-id="ab0e5-194">RVA (Relative Virtuelle Adresse)</span><span class="sxs-lookup"><span data-stu-id="ab0e5-194">Relative Virtual Address (RVA)</span></span>|<span data-ttu-id="ab0e5-195">ImplFlags</span><span class="sxs-lookup"><span data-stu-id="ab0e5-195">ImplFlags</span></span>|<span data-ttu-id="ab0e5-196">Flags</span><span class="sxs-lookup"><span data-stu-id="ab0e5-196">Flags</span></span>|<span data-ttu-id="ab0e5-197">name</span><span class="sxs-lookup"><span data-stu-id="ab0e5-197">Name</span></span><br /><br /> <span data-ttu-id="ab0e5-198">(Zeigt auf Zeichenfolgenheap.)</span><span class="sxs-lookup"><span data-stu-id="ab0e5-198">(Points to string heap.)</span></span>|<span data-ttu-id="ab0e5-199">Signatur (Zeigt auf BLOB-Heap.)</span><span class="sxs-lookup"><span data-stu-id="ab0e5-199">Signature (Points to blob heap.)</span></span>|
|---------|--------------------------------------|---------------|-----------|-----------------------------------------|----------------------------------------|
|<span data-ttu-id="ab0e5-200">1</span><span class="sxs-lookup"><span data-stu-id="ab0e5-200">1</span></span>|<span data-ttu-id="ab0e5-201">0x00002050</span><span class="sxs-lookup"><span data-stu-id="ab0e5-201">0x00002050</span></span>|<span data-ttu-id="ab0e5-202">IL</span><span class="sxs-lookup"><span data-stu-id="ab0e5-202">IL</span></span><br /><br /> <span data-ttu-id="ab0e5-203">Verwaltet</span><span class="sxs-lookup"><span data-stu-id="ab0e5-203">Managed</span></span>|<span data-ttu-id="ab0e5-204">Public</span><span class="sxs-lookup"><span data-stu-id="ab0e5-204">Public</span></span><br /><br /> <span data-ttu-id="ab0e5-205">ReuseSlot</span><span class="sxs-lookup"><span data-stu-id="ab0e5-205">ReuseSlot</span></span><br /><br /> <span data-ttu-id="ab0e5-206">SpecialName</span><span class="sxs-lookup"><span data-stu-id="ab0e5-206">SpecialName</span></span><br /><br /> <span data-ttu-id="ab0e5-207">RTSpecialName</span><span class="sxs-lookup"><span data-stu-id="ab0e5-207">RTSpecialName</span></span><br /><br /> <span data-ttu-id="ab0e5-208">.ctor</span><span class="sxs-lookup"><span data-stu-id="ab0e5-208">.ctor</span></span>|<span data-ttu-id="ab0e5-209">.ctor (constructor)</span><span class="sxs-lookup"><span data-stu-id="ab0e5-209">.ctor (constructor)</span></span>||
|<span data-ttu-id="ab0e5-210">2</span><span class="sxs-lookup"><span data-stu-id="ab0e5-210">2</span></span>|<span data-ttu-id="ab0e5-211">0x00002058</span><span class="sxs-lookup"><span data-stu-id="ab0e5-211">0x00002058</span></span>|<span data-ttu-id="ab0e5-212">IL</span><span class="sxs-lookup"><span data-stu-id="ab0e5-212">IL</span></span><br /><br /> <span data-ttu-id="ab0e5-213">Verwaltet</span><span class="sxs-lookup"><span data-stu-id="ab0e5-213">Managed</span></span>|<span data-ttu-id="ab0e5-214">Public</span><span class="sxs-lookup"><span data-stu-id="ab0e5-214">Public</span></span><br /><br /> <span data-ttu-id="ab0e5-215">Statisch</span><span class="sxs-lookup"><span data-stu-id="ab0e5-215">Static</span></span><br /><br /> <span data-ttu-id="ab0e5-216">ReuseSlot</span><span class="sxs-lookup"><span data-stu-id="ab0e5-216">ReuseSlot</span></span>|<span data-ttu-id="ab0e5-217">Main</span><span class="sxs-lookup"><span data-stu-id="ab0e5-217">Main</span></span>|<span data-ttu-id="ab0e5-218">Zeichenfolge</span><span class="sxs-lookup"><span data-stu-id="ab0e5-218">String</span></span>|
|<span data-ttu-id="ab0e5-219">3</span><span class="sxs-lookup"><span data-stu-id="ab0e5-219">3</span></span>|<span data-ttu-id="ab0e5-220">0x0000208c</span><span class="sxs-lookup"><span data-stu-id="ab0e5-220">0x0000208c</span></span>|<span data-ttu-id="ab0e5-221">IL</span><span class="sxs-lookup"><span data-stu-id="ab0e5-221">IL</span></span><br /><br /> <span data-ttu-id="ab0e5-222">Verwaltet</span><span class="sxs-lookup"><span data-stu-id="ab0e5-222">Managed</span></span>|<span data-ttu-id="ab0e5-223">Public</span><span class="sxs-lookup"><span data-stu-id="ab0e5-223">Public</span></span><br /><br /> <span data-ttu-id="ab0e5-224">Statisch</span><span class="sxs-lookup"><span data-stu-id="ab0e5-224">Static</span></span><br /><br /> <span data-ttu-id="ab0e5-225">ReuseSlot</span><span class="sxs-lookup"><span data-stu-id="ab0e5-225">ReuseSlot</span></span>|<span data-ttu-id="ab0e5-226">Hinzufügen</span><span class="sxs-lookup"><span data-stu-id="ab0e5-226">Add</span></span>|<span data-ttu-id="ab0e5-227">int, int, int</span><span class="sxs-lookup"><span data-stu-id="ab0e5-227">int, int, int</span></span>|

<span data-ttu-id="ab0e5-228">Jede Spalte der Tabelle enthält wichtige Informationen über Ihren Code.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-228">Each column of the table contains important information about your code.</span></span> <span data-ttu-id="ab0e5-229">Über die **RVA**-Spalte kann die Runtime die Startspeicheradresse der MSIL berechnen, die diese Methode definiert.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-229">The **RVA** column allows the runtime to calculate the starting memory address of the MSIL that defines this method.</span></span> <span data-ttu-id="ab0e5-230">Die **ImplFlags**-Spalte und die **Flags**-Spalte enthalten Bitmasken, welche die Methode beschreiben (z.B., ob es sich um eine öffentliche oder eine private Methode handelt).</span><span class="sxs-lookup"><span data-stu-id="ab0e5-230">The **ImplFlags** and **Flags** columns contain bitmasks that describe the method (for example, whether the method is public or private).</span></span> <span data-ttu-id="ab0e5-231">Die **Name**-Spalte gibt den Namen der Methode aus dem String-Heap an.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-231">The **Name** column indexes the name of the method from the string heap.</span></span> <span data-ttu-id="ab0e5-232">Die Spalte **Signatur** gibt die Definition der Signatur der Methode im BLOB-Heap an.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-232">The **Signature** column indexes the definition of the method's signature in the blob heap.</span></span>

<span data-ttu-id="ab0e5-233">Die Runtime berechnet die gewünschte Offset-Adresse aus der **RVA**-Spalte in der dritten Zeile und gibt diese Adresse an den JIT-Compiler zurück, der anschließend zur neuen Adresse übergeht.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-233">The runtime calculates the desired offset address from the **RVA** column in the third row and returns this address to the JIT compiler, which then proceeds to the new address.</span></span> <span data-ttu-id="ab0e5-234">Der JIT-Compiler fährt mit der Verarbeitung der MSIL an der neuen Adresse fort, bis er erneut auf ein Metadatentoken trifft und der Prozess wiederholt wird.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-234">The JIT compiler continues to process MSIL at the new address until it encounters another metadata token and the process is repeated.</span></span>

<span data-ttu-id="ab0e5-235">Mithilfe von Metadaten stehen Common Language Runtime alle Informationen zur Verfügung, die benötigt werden, um den Code zu laden und in systemeigene Maschinenanweisungen zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-235">Using metadata, the runtime has access to all the information it needs to load your code and process it into native machine instructions.</span></span> <span data-ttu-id="ab0e5-236">Auf diese Weise bilden Metadaten selbstbeschreibende Dateien und ermöglichen zusammen mit dem allgemeinen Typsystem sprachübergreifende Vererbung.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-236">In this manner, metadata enables self-describing files and, together with the common type system, cross-language inheritance.</span></span>

## <a name="related-topics"></a><span data-ttu-id="ab0e5-237">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="ab0e5-237">Related Topics</span></span>

|<span data-ttu-id="ab0e5-238">Titel</span><span class="sxs-lookup"><span data-stu-id="ab0e5-238">Title</span></span>|<span data-ttu-id="ab0e5-239">BESCHREIBUNG</span><span class="sxs-lookup"><span data-stu-id="ab0e5-239">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="ab0e5-240">Attribute</span><span class="sxs-lookup"><span data-stu-id="ab0e5-240">Attributes</span></span>](../../docs/standard/attributes/index.md)|<span data-ttu-id="ab0e5-241">Beschreibt, wie Attribute angewendet, benutzerdefinierte Attribute geschrieben und in Attributen gespeicherte Informationen abgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="ab0e5-241">Describes how to apply attributes, write custom attributes, and retrieve information that is stored in attributes.</span></span>|
