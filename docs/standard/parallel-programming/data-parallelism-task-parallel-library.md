---
title: Datenparallelität (Task Parallel Library)
description: Hier erfahren Sie, wie die Task Parallel Library (TPL) Datenparallelität unterstützt, um denselben Vorgang gleichzeitig in einer Quellsammlung oder in den Elementen eines Arrays in .NET auszuführen.
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- parallelism, data
ms.assetid: 3f05f33f-f1da-4b16-81c2-9ceff1bef449
ms.openlocfilehash: 513c5dde1526a8a21f68171f304b245d0a34f563
ms.sourcegitcommit: cdb295dd1db589ce5169ac9ff096f01fd0c2da9d
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/09/2020
ms.locfileid: "84594464"
---
# <a name="data-parallelism-task-parallel-library"></a><span data-ttu-id="b96aa-103">Datenparallelität (Task Parallel Library)</span><span class="sxs-lookup"><span data-stu-id="b96aa-103">Data Parallelism (Task Parallel Library)</span></span>
<span data-ttu-id="b96aa-104">*Datenparallelismus* verweist auf Szenarios, in denen der gleiche Vorgang gleichzeitig (d.h. parallel) für Elemente in einer Quellauflistung oder einem Array ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b96aa-104">*Data parallelism* refers to scenarios in which the same operation is performed concurrently (that is, in parallel) on elements in a source collection or array.</span></span> <span data-ttu-id="b96aa-105">In parallelen Datenvorgängen wird die Quellauflistung partitioniert, sodass mehrere Threads gleichzeitig auf verschiedene Segmente angewendet werden können.</span><span class="sxs-lookup"><span data-stu-id="b96aa-105">In data parallel operations, the source collection is partitioned so that multiple threads can operate on different segments concurrently.</span></span>  
  
 <span data-ttu-id="b96aa-106">Die Task Parallel Library (TPL) unterstützt Datenparallelität durch die <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType>-Klasse.</span><span class="sxs-lookup"><span data-stu-id="b96aa-106">The Task Parallel Library (TPL) supports data parallelism through the <xref:System.Threading.Tasks.Parallel?displayProperty=nameWithType> class.</span></span> <span data-ttu-id="b96aa-107">Diese Klasse stellt methodenbasierte parallele Implementierungen von [for](../../csharp/language-reference/keywords/for.md)-Schleifen und [foreach](../../csharp/language-reference/keywords/foreach-in.md)-Schleifen bereit (`For` und `For Each` in Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="b96aa-107">This class provides method-based parallel implementations of [for](../../csharp/language-reference/keywords/for.md) and [foreach](../../csharp/language-reference/keywords/foreach-in.md) loops (`For` and `For Each` in Visual Basic).</span></span> <span data-ttu-id="b96aa-108">Sie schreiben die Schleifenlogik für eine <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType>-Schleife oder <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>-Schleife weitgehend auf die gleiche Weise wie eine sequenzielle Schleife.</span><span class="sxs-lookup"><span data-stu-id="b96aa-108">You write the loop logic for a <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> or <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> loop much as you would write a sequential loop.</span></span> <span data-ttu-id="b96aa-109">Sie müssen keine Threads erstellen oder Arbeitselemente in die Warteschlange einreihen.</span><span class="sxs-lookup"><span data-stu-id="b96aa-109">You do not have to create threads or queue work items.</span></span> <span data-ttu-id="b96aa-110">In grundlegenden Schleifen sind keine Sperren erforderlich.</span><span class="sxs-lookup"><span data-stu-id="b96aa-110">In basic loops, you do not have to take locks.</span></span> <span data-ttu-id="b96aa-111">Die TPL übernimmt alle Arbeiten auf niedriger Ebene für Sie.</span><span class="sxs-lookup"><span data-stu-id="b96aa-111">The TPL handles all the low-level work for you.</span></span> <span data-ttu-id="b96aa-112">Um ausführliche Informationen über die Verwendung von <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> und <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> zu erhalten, laden Sie das Dokument zum Thema [Muster für parallele Programmierung: Verstehen und Anwenden paralleler Muster mit .NET Framework 4 herunter.](https://www.microsoft.com/download/details.aspx?id=19222)</span><span class="sxs-lookup"><span data-stu-id="b96aa-112">For in-depth information about the use of <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>, download the document [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span> <span data-ttu-id="b96aa-113">Im folgenden Codebeispiel werden eine einfache `foreach`-Schleife und deren parallele Entsprechung dargestellt.</span><span class="sxs-lookup"><span data-stu-id="b96aa-113">The following code example shows a simple `foreach` loop and its parallel equivalent.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="b96aa-114">Diese Dokumentation definiert Delegaten in TPL mithilfe von Lambdaausdrücken.</span><span class="sxs-lookup"><span data-stu-id="b96aa-114">This documentation uses lambda expressions to define delegates in TPL.</span></span> <span data-ttu-id="b96aa-115">Falls Sie mit der Verwendung von Lambda-Ausdrücken in C# oder Visual Basic nicht vertraut sind, finden Sie entsprechende Informationen unter [Lambda Expressions in PLINQ and TPL (Lambda-Ausdrücke in PLINQ und TPL)](lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="b96aa-115">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](lambda-expressions-in-plinq-and-tpl.md).</span></span>  
  
 [!code-csharp[TPL#20](../../../samples/snippets/csharp/VS_Snippets_Misc/tpl/cs/tpl.cs#20)]
 [!code-vb[TPL#20](../../../samples/snippets/visualbasic/VS_Snippets_Misc/tpl/vb/tpl_vb.vb#20)]  
  
 <span data-ttu-id="b96aa-116">Wenn eine parallele Schleife ausgeführt wird, partitioniert die TPL die Datenquelle, sodass die Schleife mehrere Teile gleichzeitig bearbeiten kann.</span><span class="sxs-lookup"><span data-stu-id="b96aa-116">When a parallel loop runs, the TPL partitions the data source so that the loop can operate on multiple parts concurrently.</span></span> <span data-ttu-id="b96aa-117">Im Hintergrund partitioniert der Taskplaner die Aufgabe basierend auf den Systemressourcen und der Arbeitsauslastung.</span><span class="sxs-lookup"><span data-stu-id="b96aa-117">Behind the scenes, the Task Scheduler partitions the task based on system resources and workload.</span></span> <span data-ttu-id="b96aa-118">Nach Möglichkeit verteilt der Planer die Arbeit auf mehrere Threads und Prozessoren, wenn die Arbeitsauslastung unausgewogen ist.</span><span class="sxs-lookup"><span data-stu-id="b96aa-118">When possible, the scheduler redistributes work among multiple threads and processors if the workload becomes unbalanced.</span></span>  
  
> [!NOTE]
> <span data-ttu-id="b96aa-119">Sie können auch einen eigenen, benutzerdefinierten Partitionierer oder Planer angeben.</span><span class="sxs-lookup"><span data-stu-id="b96aa-119">You can also supply your own custom partitioner or scheduler.</span></span> <span data-ttu-id="b96aa-120">Weitere Informationen finden Sie unter [Custom Partitioners for PLINQ and TPL (Benutzerdefinierte Partitionierer für PLINQ und TPL)](custom-partitioners-for-plinq-and-tpl.md) sowie unter [TaskScheduler](xref:System.Threading.Tasks.TaskScheduler).</span><span class="sxs-lookup"><span data-stu-id="b96aa-120">For more information, see [Custom Partitioners for PLINQ and TPL](custom-partitioners-for-plinq-and-tpl.md) and [Task Schedulers](xref:System.Threading.Tasks.TaskScheduler).</span></span>  
  
 <span data-ttu-id="b96aa-121">Sowohl die <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType>-Methode als auch die <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType>-Methode verfügen über mehrere Überladungen, die es Ihnen ermöglichen, die Schleifenausführung anzuhalten bzw. zu unterbrechen, den Zustand der Schleife in anderen Threads zu überwachen, den lokalen Threadzustand beizubehalten, lokale Threadobjekte abzuschließen, den Grad der Parallelität zu steuern usw.</span><span class="sxs-lookup"><span data-stu-id="b96aa-121">Both the <xref:System.Threading.Tasks.Parallel.For%2A?displayProperty=nameWithType> and <xref:System.Threading.Tasks.Parallel.ForEach%2A?displayProperty=nameWithType> methods have several overloads that let you stop or break loop execution, monitor the state of the loop on other threads, maintain thread-local state, finalize thread-local objects, control the degree of concurrency, and so on.</span></span> <span data-ttu-id="b96aa-122">Zu den Hilfstypen, die diese Funktionalität ermöglichen, zählen <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions> und <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken> und <xref:System.Threading.CancellationTokenSource>.</span><span class="sxs-lookup"><span data-stu-id="b96aa-122">The helper types that enable this functionality include <xref:System.Threading.Tasks.ParallelLoopState>, <xref:System.Threading.Tasks.ParallelOptions>, <xref:System.Threading.Tasks.ParallelLoopResult>, <xref:System.Threading.CancellationToken>, and <xref:System.Threading.CancellationTokenSource>.</span></span>  
  
 <span data-ttu-id="b96aa-123">Weitere Informationen finden Sie im Thema über [Muster für parallele Programmierung: Verstehen und Anwenden paralleler Muster mit .NET Framework 4 herunter.](https://www.microsoft.com/download/details.aspx?id=19222)</span><span class="sxs-lookup"><span data-stu-id="b96aa-123">For more information, see [Patterns for Parallel Programming: Understanding and Applying Parallel Patterns with the .NET Framework 4](https://www.microsoft.com/download/details.aspx?id=19222).</span></span>  
  
 <span data-ttu-id="b96aa-124">Datenparallelismus mit deklarativer oder abfrageähnlicher Syntax wird von PLINQ unterstützt.</span><span class="sxs-lookup"><span data-stu-id="b96aa-124">Data parallelism with declarative, or query-like, syntax is supported by PLINQ.</span></span> <span data-ttu-id="b96aa-125">Weitere Informationen finden Sie unter [Parallel LINQ (PLINQ) Paralleles LINQ (PLINQ)](introduction-to-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="b96aa-125">For more information, see [Parallel LINQ (PLINQ)](introduction-to-plinq.md).</span></span>  
  
## <a name="related-topics"></a><span data-ttu-id="b96aa-126">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="b96aa-126">Related Topics</span></span>  
  
|<span data-ttu-id="b96aa-127">Titel</span><span class="sxs-lookup"><span data-stu-id="b96aa-127">Title</span></span>|<span data-ttu-id="b96aa-128">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b96aa-128">Description</span></span>|  
|-----------|-----------------|  
|[<span data-ttu-id="b96aa-129">How to: Schreiben einer einfachen Parallel.For-Schleife</span><span class="sxs-lookup"><span data-stu-id="b96aa-129">How to: Write a Simple Parallel.For Loop</span></span>](how-to-write-a-simple-parallel-for-loop.md)|<span data-ttu-id="b96aa-130">Beschreibt, wie eine <xref:System.Threading.Tasks.Parallel.For%2A>-Schleife über jedes Array oder indizierbare <xref:System.Collections.Generic.IEnumerable%601>-Quellauflistung geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="b96aa-130">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop over any array or indexable <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|[<span data-ttu-id="b96aa-131">How to: Schreiben einer einfachen Parallel.ForEach-Schleife</span><span class="sxs-lookup"><span data-stu-id="b96aa-131">How to: Write a Simple Parallel.ForEach Loop</span></span>](how-to-write-a-simple-parallel-foreach-loop.md)|<span data-ttu-id="b96aa-132">Beschreibt, wie eine <xref:System.Threading.Tasks.Parallel.ForEach%2A>-Schleife über jede <xref:System.Collections.Generic.IEnumerable%601>-Quellauflistung geschrieben wird.</span><span class="sxs-lookup"><span data-stu-id="b96aa-132">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop over any <xref:System.Collections.Generic.IEnumerable%601> source collection.</span></span>|  
|<span data-ttu-id="b96aa-133">[How to: Stopp oder Pause durch eine Parallel.For-Schleife](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span><span class="sxs-lookup"><span data-stu-id="b96aa-133">[How to: Stop or Break from a Parallel.For Loop](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/dd460721(v=vs.100))</span></span>|<span data-ttu-id="b96aa-134">Beschreibt, wie eine parallele Schleife beendet oder unterbrochen wird, damit alle Threads von der Aktion informiert werden.</span><span class="sxs-lookup"><span data-stu-id="b96aa-134">Describes how to stop or break from a parallel loop so that all threads are informed of the action.</span></span>|  
|[<span data-ttu-id="b96aa-135">How to: Schreiben einer Parallel.For-Schleife mit threadlokalen Variablen</span><span class="sxs-lookup"><span data-stu-id="b96aa-135">How to: Write a Parallel.For Loop with Thread-Local Variables</span></span>](how-to-write-a-parallel-for-loop-with-thread-local-variables.md)|<span data-ttu-id="b96aa-136">Beschreibt, wie eine <xref:System.Threading.Tasks.Parallel.For%2A>-Schleife geschrieben wird, in der jeder Thread eine private Variable beibehält, die für alle anderen Threads nicht sichtbar ist, und wie die Ergebnisse von allen Threads synchronisiert werden, wenn die Schleife abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="b96aa-136">Describes how to write a <xref:System.Threading.Tasks.Parallel.For%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="b96aa-137">How to: Schreiben einer Parallel.ForEach-Schleife mit partitionslokalen Variablen</span><span class="sxs-lookup"><span data-stu-id="b96aa-137">How to: Write a Parallel.ForEach Loop with Partition-Local Variables</span></span>](how-to-write-a-parallel-foreach-loop-with-partition-local-variables.md)|<span data-ttu-id="b96aa-138">Beschreibt, wie eine <xref:System.Threading.Tasks.Parallel.ForEach%2A>-Schleife geschrieben wird, in der jeder Thread eine private Variable beibehält, die für alle anderen Threads nicht sichtbar ist, und wie die Ergebnisse von allen Threads synchronisiert werden, wenn die Schleife abgeschlossen wird.</span><span class="sxs-lookup"><span data-stu-id="b96aa-138">Describes how to write a <xref:System.Threading.Tasks.Parallel.ForEach%2A> loop in which each thread maintains a private variable that is not visible to any other threads, and how to synchronize the results from all threads when the loop completes.</span></span>|  
|[<span data-ttu-id="b96aa-139">How to: Abbrechen einer Parallel.For-Schleife oder einer ForEach-Schleife</span><span class="sxs-lookup"><span data-stu-id="b96aa-139">How to: Cancel a Parallel.For or ForEach Loop</span></span>](how-to-cancel-a-parallel-for-or-foreach-loop.md)|<span data-ttu-id="b96aa-140">Beschreibt, wie eine parallele Schleife mit einem <xref:System.Threading.CancellationToken?displayProperty=nameWithType>-Objekt abgebrochen wird</span><span class="sxs-lookup"><span data-stu-id="b96aa-140">Describes how to cancel a parallel loop by using a <xref:System.Threading.CancellationToken?displayProperty=nameWithType></span></span>|  
|[<span data-ttu-id="b96aa-141">How to: Beschleunigen von kurzen Schleifenkörpern</span><span class="sxs-lookup"><span data-stu-id="b96aa-141">How to: Speed Up Small Loop Bodies</span></span>](how-to-speed-up-small-loop-bodies.md)|<span data-ttu-id="b96aa-142">Beschreibt eine Möglichkeit zur Beschleunigung der Ausführung, wenn ein Schleifenkörper sehr klein ist.</span><span class="sxs-lookup"><span data-stu-id="b96aa-142">Describes one way to speed up execution when a loop body is very small.</span></span>|  
|[<span data-ttu-id="b96aa-143">Task Parallel Library (TPL)</span><span class="sxs-lookup"><span data-stu-id="b96aa-143">Task Parallel Library (TPL)</span></span>](task-parallel-library-tpl.md)|<span data-ttu-id="b96aa-144">Übersicht über die Task Parallel Library.</span><span class="sxs-lookup"><span data-stu-id="b96aa-144">Provides an overview of the Task Parallel Library.</span></span>|  
|[<span data-ttu-id="b96aa-145">Parallele Programmierung</span><span class="sxs-lookup"><span data-stu-id="b96aa-145">Parallel Programming</span></span>](index.md)|<span data-ttu-id="b96aa-146">Einführung in parallele Programmierung in .NET Framework</span><span class="sxs-lookup"><span data-stu-id="b96aa-146">Introduces Parallel Programming in the .NET Framework.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="b96aa-147">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="b96aa-147">See also</span></span>

- [<span data-ttu-id="b96aa-148">Parallele Programmierung</span><span class="sxs-lookup"><span data-stu-id="b96aa-148">Parallel Programming</span></span>](index.md)
