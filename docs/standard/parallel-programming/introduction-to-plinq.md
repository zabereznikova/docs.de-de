---
title: Einführung in PLINQ
description: Hier erfahren Sie, wie Sie mithilfe von PLINQ Abfragen gleichzeitig in .NET ausführen können PLINQ steht für „Parallel Language Integrated Query“ (LINQ).
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- PLINQ queries, introduction to
ms.assetid: eaa720d8-8999-4eb7-8df5-3c19ca61cad0
ms.openlocfilehash: 9dbc4fde3f72d01aee91978ed5cb0baf0895de26
ms.sourcegitcommit: 7137e12f54c4e83a94ae43ec320f8cf59c1772ea
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 06/10/2020
ms.locfileid: "84662458"
---
# <a name="introduction-to-plinq"></a><span data-ttu-id="b6863-104">Einführung in PLINQ</span><span class="sxs-lookup"><span data-stu-id="b6863-104">Introduction to PLINQ</span></span>

<span data-ttu-id="b6863-105">Parallel LINQ (PLINQ) ist eine parallele Implementierung des [LINQ-Musters (Language-Integrated Query)](../../csharp/programming-guide/concepts/linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-105">Parallel LINQ (PLINQ) is a parallel implementation of the [Language-Integrated Query (LINQ)](../../csharp/programming-guide/concepts/linq/index.md) pattern.</span></span> <span data-ttu-id="b6863-106">PLINQ implementiert den kompletten Satz von LINQ-Standardabfrageoperatoren als Erweiterungsmethoden für den <xref:System.Linq>-Namespace und verfügt über zusätzliche Operatoren für parallele Vorgänge.</span><span class="sxs-lookup"><span data-stu-id="b6863-106">PLINQ implements the full set of LINQ standard query operators as extension methods for the <xref:System.Linq> namespace and has additional operators for parallel operations.</span></span> <span data-ttu-id="b6863-107">PLINQ kombiniert die Einfachheit und Lesbarkeit der LINQ-Syntax mit der Leistungsfähigkeit der parallelen Programmierung.</span><span class="sxs-lookup"><span data-stu-id="b6863-107">PLINQ combines the simplicity and readability of LINQ syntax with the power of parallel programming.</span></span>

> [!TIP]
> <span data-ttu-id="b6863-108">LINQ bietet ein einheitliches Modell für die typsichere Abfrage beliebiger aufzählbarer Datenquellen.</span><span class="sxs-lookup"><span data-stu-id="b6863-108">If you're not familiar with LINQ, it features a unified model for querying any enumerable data source in a type-safe manner.</span></span> <span data-ttu-id="b6863-109">LINQ to Objects ist der Name für LINQ-Abfragen von Auflistungen im Arbeitsspeicher, z. B. <xref:System.Collections.Generic.List%601>, und Arrays.</span><span class="sxs-lookup"><span data-stu-id="b6863-109">LINQ to Objects is the name for LINQ queries that are run against in-memory collections such as <xref:System.Collections.Generic.List%601> and arrays.</span></span> <span data-ttu-id="b6863-110">Dieser Artikel setzt Grundkenntnisse in LINQ voraus.</span><span class="sxs-lookup"><span data-stu-id="b6863-110">This article assumes that you have a basic understanding of LINQ.</span></span> <span data-ttu-id="b6863-111">Weitere Informationen finden Sie unter [Language-Integrated Query (LINQ)](../../csharp/programming-guide/concepts/linq/index.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-111">For more information, see [Language-Integrated Query (LINQ)](../../csharp/programming-guide/concepts/linq/index.md).</span></span>

## <a name="what-is-a-parallel-query"></a><span data-ttu-id="b6863-112">Was ist eine parallele Abfrage?</span><span class="sxs-lookup"><span data-stu-id="b6863-112">What is a Parallel query?</span></span>

<span data-ttu-id="b6863-113">Eine PLINQ-Abfrage entspricht weitgehend einer nicht parallelen LINQ to Objects-Abfrage.</span><span class="sxs-lookup"><span data-stu-id="b6863-113">A PLINQ query in many ways resembles a non-parallel LINQ to Objects query.</span></span> <span data-ttu-id="b6863-114">PLINQ-Abfragen werden, ebenso wie sequenzielle LINQ-Abfragen, auf alle <xref:System.Collections.IEnumerable>- oder <xref:System.Collections.Generic.IEnumerable%601>-Datenquellen im Arbeitsspeicher angewendet und weisen eine verzögerte Ausführung auf, d. h. sie werden erst ausgeführt, wenn die Abfrage aufgelistet wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-114">PLINQ queries, just like sequential LINQ queries, operate on any in-memory <xref:System.Collections.IEnumerable> or <xref:System.Collections.Generic.IEnumerable%601> data source, and have deferred execution, which means they do not begin executing until the query is enumerated.</span></span> <span data-ttu-id="b6863-115">Der Hauptunterschied besteht darin, dass PLINQ versucht, alle Prozessoren im System vollständig auszuschöpfen.</span><span class="sxs-lookup"><span data-stu-id="b6863-115">The primary difference is that PLINQ attempts to make full use of all the processors on the system.</span></span> <span data-ttu-id="b6863-116">PLINQ partitioniert hierzu die Datenquelle in Segmente und führt dann die Abfrage für jedes Segment parallel in separaten Arbeitsthreads und auf mehreren Prozessoren aus.</span><span class="sxs-lookup"><span data-stu-id="b6863-116">It does this by partitioning the data source into segments, and then executing the query on each segment on separate worker threads in parallel on multiple processors.</span></span> <span data-ttu-id="b6863-117">In vielen Fällen bedeutet eine parallele Ausführung, dass die Abfrage deutlich schneller ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-117">In many cases, parallel execution means that the query runs significantly faster.</span></span>

<span data-ttu-id="b6863-118">Durch die parallele Ausführung kann PLINQ für bestimmte Abfragen eine erheblich höhere Leistung als Legacycode erzielen. Häufig muss hierzu lediglich der <xref:System.Linq.ParallelEnumerable.AsParallel%2A>-Abfragevorgang zur Datenquelle hinzugefügt werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-118">Through parallel execution, PLINQ can achieve significant performance improvements over legacy code for certain kinds of queries, often just by adding the <xref:System.Linq.ParallelEnumerable.AsParallel%2A> query operation to the data source.</span></span> <span data-ttu-id="b6863-119">Die Parallelität kann jedoch eigene Komplexitäten mit sich bringen, und nicht alle Abfragevorgänge werden in PLINQ schneller ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="b6863-119">However, parallelism can introduce its own complexities, and not all query operations run faster in PLINQ.</span></span> <span data-ttu-id="b6863-120">Im Gegenteil, manche Abfragen werden durch die Parallelisierung sogar verlangsamt.</span><span class="sxs-lookup"><span data-stu-id="b6863-120">In fact, parallelization actually slows down certain queries.</span></span> <span data-ttu-id="b6863-121">Sie sollten daher wissen, wie sich bestimmte Aspekte, z. B. Sortierung, auf parallele Abfragen auswirken.</span><span class="sxs-lookup"><span data-stu-id="b6863-121">Therefore, you should understand how issues such as ordering affect parallel queries.</span></span> <span data-ttu-id="b6863-122">Weitere Informationen finden Sie unter [Understanding Speedup in PLINQ (Grundlagen zur Beschleunigung in PLINQ)](understanding-speedup-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-122">For more information, see [Understanding Speedup in PLINQ](understanding-speedup-in-plinq.md).</span></span>

> [!NOTE]
> <span data-ttu-id="b6863-123">In dieser Dokumentation werden Delegaten in PLINQ mithilfe von Lambdaausdrücken definiert.</span><span class="sxs-lookup"><span data-stu-id="b6863-123">This documentation uses lambda expressions to define delegates in PLINQ.</span></span> <span data-ttu-id="b6863-124">Falls Sie mit der Verwendung von Lambda-Ausdrücken in C# oder Visual Basic nicht vertraut sind, finden Sie entsprechende Informationen unter [Lambda Expressions in PLINQ and TPL (Lambda-Ausdrücke in PLINQ und TPL)](lambda-expressions-in-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-124">If you are not familiar with lambda expressions in C# or Visual Basic, see [Lambda Expressions in PLINQ and TPL](lambda-expressions-in-plinq-and-tpl.md).</span></span>

<span data-ttu-id="b6863-125">Der Rest dieses Artikels bietet eine Übersicht über die wichtigsten PLINQ-Klassen und erläutert, wie PLINQ-Abfragen erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-125">The remainder of this article gives an overview of the main PLINQ classes and discusses how to create PLINQ queries.</span></span> <span data-ttu-id="b6863-126">Jeder Abschnitt enthält Links zu ausführlicheren Informationen und Codebeispielen.</span><span class="sxs-lookup"><span data-stu-id="b6863-126">Each section contains links to more detailed information and code examples.</span></span>

## <a name="the-parallelenumerable-class"></a><span data-ttu-id="b6863-127">Die ParallelEnumerable-Klasse</span><span class="sxs-lookup"><span data-stu-id="b6863-127">The ParallelEnumerable Class</span></span>

<span data-ttu-id="b6863-128">Die <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType>-Klasse stellt nahezu die gesamte Funktionalität von PLINQ zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="b6863-128">The <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> class exposes almost all of PLINQ's functionality.</span></span> <span data-ttu-id="b6863-129">Diese Klasse sowie die restlichen Typen des <xref:System.Linq?displayProperty=nameWithType>-Namespace werden in der Assembly "System.Core.dll" kompiliert.</span><span class="sxs-lookup"><span data-stu-id="b6863-129">It and the rest of the <xref:System.Linq?displayProperty=nameWithType> namespace types are compiled into the System.Core.dll assembly.</span></span> <span data-ttu-id="b6863-130">Die standardmäßigen C#- und Visual Basic-Projekte in Visual Studio verweisen auf die Assembly und importiert den Namespace.</span><span class="sxs-lookup"><span data-stu-id="b6863-130">The default C# and Visual Basic projects in Visual Studio both reference the assembly and import the namespace.</span></span>

<span data-ttu-id="b6863-131"><xref:System.Linq.ParallelEnumerable> enthält Implementierungen aller Standardabfrageoperatoren, die von LINQ to Objects unterstützt werden, auch wenn nicht für jeden eine Parallelisierung angestrebt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-131"><xref:System.Linq.ParallelEnumerable> includes implementations of all the standard query operators that LINQ to Objects supports, although it does not attempt to parallelize each one.</span></span> <span data-ttu-id="b6863-132">Wenn Sie nicht mit LINQ vertraut sind, lesen Sie [Einführung in LINQ (C#)](../../csharp/programming-guide/concepts/linq/index.md) und [Einführung in LINQ (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/introduction-to-linq.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-132">If you are not familiar with LINQ, see [Introduction to LINQ (C#)](../../csharp/programming-guide/concepts/linq/index.md) and [Introduction to LINQ (Visual Basic)](../../visual-basic/programming-guide/concepts/linq/introduction-to-linq.md).</span></span>

<span data-ttu-id="b6863-133">Zusätzlich zu den Standardabfrageoperatoren enthält die <xref:System.Linq.ParallelEnumerable>-Klasse einen Satz von Methoden, die spezielle Verhaltensweisen für die parallele Ausführung unterstützen.</span><span class="sxs-lookup"><span data-stu-id="b6863-133">In addition to the standard query operators, the <xref:System.Linq.ParallelEnumerable> class contains a set of methods that enable behaviors specific to parallel execution.</span></span> <span data-ttu-id="b6863-134">Diese PLINQ-spezifischen Methoden sind in der folgenden Tabelle aufgeführt.</span><span class="sxs-lookup"><span data-stu-id="b6863-134">These PLINQ-specific methods are listed in the following table.</span></span>

|<span data-ttu-id="b6863-135">ParallelEnumerable-Operator</span><span class="sxs-lookup"><span data-stu-id="b6863-135">ParallelEnumerable Operator</span></span>|<span data-ttu-id="b6863-136">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="b6863-136">Description</span></span>|
|---------------------------------|-----------------|
|<xref:System.Linq.ParallelEnumerable.AsParallel%2A>|<span data-ttu-id="b6863-137">Der Einstiegspunkt für PLINQ.</span><span class="sxs-lookup"><span data-stu-id="b6863-137">The entry point for PLINQ.</span></span> <span data-ttu-id="b6863-138">Gibt an, dass der Rest der Abfrage nach Möglichkeit parallelisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="b6863-138">Specifies that the rest of the query should be parallelized, if it is possible.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsSequential%2A>|<span data-ttu-id="b6863-139">Gibt an, dass der Rest der Abfrage sequenziell, als nicht parallele LINQ-Abfrage ausgeführt werden soll.</span><span class="sxs-lookup"><span data-stu-id="b6863-139">Specifies that the rest of the query should be run sequentially, as a non-parallel LINQ query.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsOrdered%2A>|<span data-ttu-id="b6863-140">Gibt an, diese PLINQ die Reihenfolge der Quellsequenz im Rest der Abfrage oder bis zu einer Änderung der Reihenfolge, z. B. durch eine orderby-Klausel (Ordner By in Vlsual Basic), beibehalten soll.</span><span class="sxs-lookup"><span data-stu-id="b6863-140">Specifies that PLINQ should preserve the ordering of the source sequence for the rest of the query, or until the ordering is changed, for example by the use of an orderby (Order By in Visual Basic) clause.</span></span>|
|<xref:System.Linq.ParallelEnumerable.AsUnordered%2A>|<span data-ttu-id="b6863-141">Gibt an, dass PLINQ die Reihenfolge der Quellsequenz im Rest der Abfrage nicht beibehalten muss.</span><span class="sxs-lookup"><span data-stu-id="b6863-141">Specifies that PLINQ for the rest of the query is not required to preserve the ordering of the source sequence.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithCancellation%2A>|<span data-ttu-id="b6863-142">Gibt an, diese PLINQ den Zustand des bereitgestellten Abbruchtokens in regelmäßigen Abständen überwachen und die Ausführung auf Anforderung abbrechen soll.</span><span class="sxs-lookup"><span data-stu-id="b6863-142">Specifies that PLINQ should periodically monitor the state of the provided cancellation token and cancel execution if it is requested.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A>|<span data-ttu-id="b6863-143">Gibt die maximale Anzahl von Prozessoren an, die PLINQ zum Parallelisieren der Abfrage verwenden soll.</span><span class="sxs-lookup"><span data-stu-id="b6863-143">Specifies the maximum number of processors that PLINQ should use to parallelize the query.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A>|<span data-ttu-id="b6863-144">Gibt an, wie PLINQ parallele Ergebnisse im Consumerthread wieder in einer Sequenz zusammenführen soll, sofern dies möglich ist.</span><span class="sxs-lookup"><span data-stu-id="b6863-144">Provides a hint about how PLINQ should, if it is possible, merge parallel results back into just one sequence on the consuming thread.</span></span>|
|<xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A>|<span data-ttu-id="b6863-145">Gibt an, ob PLINQ die Abfrage parallelisieren soll, selbst wenn diese standardmäßig sequenziell ausgeführt würde.</span><span class="sxs-lookup"><span data-stu-id="b6863-145">Specifies whether PLINQ should parallelize the query even when the default behavior would be to run it sequentially.</span></span>|
|<xref:System.Linq.ParallelEnumerable.ForAll%2A>|<span data-ttu-id="b6863-146">Eine Multithreadenumerationsmethode, die, im Gegensatz zum Durchlaufen der Ergebnisse der Abfrage, eine parallele Verarbeitung der Ergebnisse ermöglicht, ohne dass diese zuvor im Consumerthread zusammengeführt werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-146">A multithreaded enumeration method that, unlike iterating over the results of the query, enables results to be processed in parallel without first merging back to the consumer thread.</span></span>|
|<span data-ttu-id="b6863-147"><xref:System.Linq.ParallelEnumerable.Aggregate%2A>-Überladung</span><span class="sxs-lookup"><span data-stu-id="b6863-147"><xref:System.Linq.ParallelEnumerable.Aggregate%2A> overload</span></span>|<span data-ttu-id="b6863-148">Eine spezielle Überladung für PLINQ, die eine Zwischenaggregation über lokale Threadpartitionen sowie eine abschließende Aggregationsfunktion zum Kombinieren der Ergebnisse aller Partitionen ermöglicht.</span><span class="sxs-lookup"><span data-stu-id="b6863-148">An overload that is unique to PLINQ and enables intermediate aggregation over thread-local partitions, plus a final aggregation function to combine the results of all partitions.</span></span>|

## <a name="the-opt-in-model"></a><span data-ttu-id="b6863-149">Das Opt-in-Modell</span><span class="sxs-lookup"><span data-stu-id="b6863-149">The Opt-in Model</span></span>

<span data-ttu-id="b6863-150">Beim Schreiben einer Abfrage entscheiden Sie sich für PLINQ, indem Sie in der Datenquelle die <xref:System.Linq.ParallelEnumerable.AsParallel%2A?displayProperty=nameWithType>-Erweiterungsmethode aufrufen, wie im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="b6863-150">When you write a query, opt in to PLINQ by invoking the <xref:System.Linq.ParallelEnumerable.AsParallel%2A?displayProperty=nameWithType> extension method on the data source, as shown in the following example.</span></span>

[!code-csharp[PLINQ#1](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#1)]
[!code-vb[PLINQ#1](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#1)]

<span data-ttu-id="b6863-151">Die <xref:System.Linq.ParallelEnumerable.AsParallel%2A>-Erweiterungsmethode bindet die nachfolgenden Abfrageoperatoren, in diesem Fall, `where` und `select`, an die <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType>-Implementierungen.</span><span class="sxs-lookup"><span data-stu-id="b6863-151">The <xref:System.Linq.ParallelEnumerable.AsParallel%2A> extension method binds the subsequent query operators, in this case, `where` and `select`, to the <xref:System.Linq.ParallelEnumerable?displayProperty=nameWithType> implementations.</span></span>

## <a name="execution-modes"></a><span data-ttu-id="b6863-152">Ausführungsmodi</span><span class="sxs-lookup"><span data-stu-id="b6863-152">Execution Modes</span></span>

<span data-ttu-id="b6863-153">Standardmäßig wird PLINQ konservativ ausgeführt.</span><span class="sxs-lookup"><span data-stu-id="b6863-153">By default, PLINQ is conservative.</span></span> <span data-ttu-id="b6863-154">Die PLINQ-Infrastruktur analysiert zur Laufzeit die Gesamtstruktur der Abfrage.</span><span class="sxs-lookup"><span data-stu-id="b6863-154">At run time, the PLINQ infrastructure analyzes the overall structure of the query.</span></span> <span data-ttu-id="b6863-155">Wenn die Abfrage voraussichtlich durch eine Parallelisierung beschleunigt werden kann, partitioniert PLINQ die Quellsequenz in Aufgaben, die gleichzeitig ausgeführt werden können.</span><span class="sxs-lookup"><span data-stu-id="b6863-155">If the query is likely to yield speedups by parallelization, PLINQ partitions the source sequence into tasks that can be run concurrently.</span></span> <span data-ttu-id="b6863-156">Kann eine Abfrage nicht sicher parallelisiert werden, führt PLINQ die Abfrage sequenziell aus.</span><span class="sxs-lookup"><span data-stu-id="b6863-156">If it is not safe to parallelize a query, PLINQ just runs the query sequentially.</span></span> <span data-ttu-id="b6863-157">Wenn PLINQ die Wahl zwischen einem potenziell rechenintensiven parallelen Algorithmus und einem einfachen sequenziellen Algorithmus hat, entscheidet es sich standardmäßig für den sequenziellen Algorithmus.</span><span class="sxs-lookup"><span data-stu-id="b6863-157">If PLINQ has a choice between a potentially expensive parallel algorithm or an inexpensive sequential algorithm, it chooses the sequential algorithm by default.</span></span> <span data-ttu-id="b6863-158">Mit der <xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A>-Methode und der <xref:System.Linq.ParallelExecutionMode?displayProperty=nameWithType>-Enumeration können Sie PLINQ anweisen, den parallelen Algorithmus auszuwählen.</span><span class="sxs-lookup"><span data-stu-id="b6863-158">You can use the <xref:System.Linq.ParallelEnumerable.WithExecutionMode%2A> method and the <xref:System.Linq.ParallelExecutionMode?displayProperty=nameWithType> enumeration to instruct PLINQ to select the parallel algorithm.</span></span> <span data-ttu-id="b6863-159">Dies ist sinnvoll, wenn Sie aufgrund von Tests und Messungen wissen, dass eine bestimmte Abfrage im parallelen Modus schneller ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-159">This is useful when you know by testing and measurement that a particular query executes faster in parallel.</span></span> <span data-ttu-id="b6863-160">Weitere Informationen finden Sie unter [Vorgehensweise: Angeben des Ausführungsmodus in PLINQ](how-to-specify-the-execution-mode-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-160">For more information, see [How to: Specify the Execution Mode in PLINQ](how-to-specify-the-execution-mode-in-plinq.md).</span></span>

## <a name="degree-of-parallelism"></a><span data-ttu-id="b6863-161">Grad der Parallelität</span><span class="sxs-lookup"><span data-stu-id="b6863-161">Degree of Parallelism</span></span>

<span data-ttu-id="b6863-162">Standardmäßig verwendet PLINQ alle Prozessoren des Hostcomputers.</span><span class="sxs-lookup"><span data-stu-id="b6863-162">By default, PLINQ uses all of the processors on the host computer.</span></span> <span data-ttu-id="b6863-163">Mit der <xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A>-Methode können Sie PLINQ anweisen, nicht mehr als eine angegebene Anzahl von Prozessoren zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="b6863-163">You can instruct PLINQ to use no more than a specified number of processors by using the <xref:System.Linq.ParallelEnumerable.WithDegreeOfParallelism%2A> method.</span></span> <span data-ttu-id="b6863-164">Sie können so sicherstellen, dass andere auf dem Computer ausgeführt Prozesse eine bestimmte Menge an CPU-Zeit erhalten.</span><span class="sxs-lookup"><span data-stu-id="b6863-164">This is useful when you want to make sure that other processes running on the computer receive a certain amount of CPU time.</span></span> <span data-ttu-id="b6863-165">Der folgende Codeausschnitt beschränkt die Abfrage auf maximal zwei Prozessoren.</span><span class="sxs-lookup"><span data-stu-id="b6863-165">The following snippet limits the query to utilizing a maximum of two processors.</span></span>

[!code-csharp[PLINQ#5](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinqsamples.cs#5)]
[!code-vb[PLINQ#5](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#5)]

<span data-ttu-id="b6863-166">Wenn eine Abfrage eine große Mengen an nicht rechnergebundenen Aufgaben ausführt, z. B. Datei-E/A, kann es von Vorteil sein, einen höheren Grad an Parallelität als die auf dem Rechner verfügbare Anzahl von Kernen anzugeben.</span><span class="sxs-lookup"><span data-stu-id="b6863-166">In cases where a query is performing a significant amount of non-compute-bound work such as File I/O, it might be beneficial to specify a degree of parallelism greater than the number of cores on the machine.</span></span>

## <a name="ordered-versus-unordered-parallel-queries"></a><span data-ttu-id="b6863-167">Geordnete und ungeordnete parallele Abfragen</span><span class="sxs-lookup"><span data-stu-id="b6863-167">Ordered Versus Unordered Parallel Queries</span></span>

<span data-ttu-id="b6863-168">Bei einigen Abfragen muss ein Abfrageoperator Ergebnisse erzeugen, die die Reihenfolge der Quellsequenz beibehalten.</span><span class="sxs-lookup"><span data-stu-id="b6863-168">In some queries, a query operator must produce results that preserve the ordering of the source sequence.</span></span> <span data-ttu-id="b6863-169">PLINQ stellt für diesen Zweck den <xref:System.Linq.ParallelEnumerable.AsOrdered%2A>-Operator bereit.</span><span class="sxs-lookup"><span data-stu-id="b6863-169">PLINQ provides the <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> operator for this purpose.</span></span> <span data-ttu-id="b6863-170"><xref:System.Linq.ParallelEnumerable.AsOrdered%2A> unterscheidet sich von <xref:System.Linq.ParallelEnumerable.AsSequential%2A>.</span><span class="sxs-lookup"><span data-stu-id="b6863-170"><xref:System.Linq.ParallelEnumerable.AsOrdered%2A> is distinct from <xref:System.Linq.ParallelEnumerable.AsSequential%2A>.</span></span> <span data-ttu-id="b6863-171">Eine <xref:System.Linq.ParallelEnumerable.AsOrdered%2A>-Sequenz wird weiterhin parallel ausgeführt, die Ergebnisse werden jedoch gepuffert und sortiert.</span><span class="sxs-lookup"><span data-stu-id="b6863-171">An <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> sequence is still processed in parallel, but its results are buffered and sorted.</span></span> <span data-ttu-id="b6863-172">Da die Beibehaltung der Reihenfolge in der Regel einen gewissen Mehraufwand bedeutet, wird eine <xref:System.Linq.ParallelEnumerable.AsOrdered%2A>-Sequenz ggf. langsamer verarbeitet als die standardmäßige <xref:System.Linq.ParallelEnumerable.AsUnordered%2A>-Sequenz.</span><span class="sxs-lookup"><span data-stu-id="b6863-172">Because order preservation typically involves extra work, an <xref:System.Linq.ParallelEnumerable.AsOrdered%2A> sequence might be processed more slowly than the default <xref:System.Linq.ParallelEnumerable.AsUnordered%2A> sequence.</span></span> <span data-ttu-id="b6863-173">Ob ein bestimmter geordneter paralleler Vorgang schneller ist als eine sequenzielle Version des Vorgangs, hängt von vielen Faktoren ab.</span><span class="sxs-lookup"><span data-stu-id="b6863-173">Whether a particular ordered parallel operation is faster than a sequential version of the operation depends on many factors.</span></span>

<span data-ttu-id="b6863-174">Im folgenden Codebeispiel wird gezeigt, wie Sie die Beibehaltung der Reihenfolge aktivieren.</span><span class="sxs-lookup"><span data-stu-id="b6863-174">The following code example shows how to opt in to order preservation.</span></span>

[!code-csharp[PLINQ#3](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#3)]
[!code-vb[PLINQ#3](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#3)]

<span data-ttu-id="b6863-175">Weitere Informationen finden Sie unter [Order Preservation in PLINQ (Beibehaltung der Reihenfolge in PLINQ)](order-preservation-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-175">For more information, see [Order Preservation in PLINQ](order-preservation-in-plinq.md).</span></span>

## <a name="parallel-vs-sequential-queries"></a><span data-ttu-id="b6863-176">Parallele und sequenzielle Abfragen</span><span class="sxs-lookup"><span data-stu-id="b6863-176">Parallel vs. Sequential Queries</span></span>

<span data-ttu-id="b6863-177">Einige Vorgänge erfordern, dass die Quelldaten sequenziell übergeben werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-177">Some operations require that the source data be delivered in a sequential manner.</span></span> <span data-ttu-id="b6863-178">Die <xref:System.Linq.ParallelEnumerable>-Abfrageoperatoren stellen automatisch den sequenziellen Modus wieder her, wenn dies erforderlich ist.</span><span class="sxs-lookup"><span data-stu-id="b6863-178">The <xref:System.Linq.ParallelEnumerable> query operators revert to sequential mode automatically when it is required.</span></span> <span data-ttu-id="b6863-179">Für benutzerdefinierte Abfrageoperatoren und Benutzerdelegaten, die eine sequenzielle Ausführung erfordern, stellt PLINQ die <xref:System.Linq.ParallelEnumerable.AsSequential%2A>-Methode bereit.</span><span class="sxs-lookup"><span data-stu-id="b6863-179">For user-defined query operators and user delegates that require sequential execution, PLINQ provides the <xref:System.Linq.ParallelEnumerable.AsSequential%2A> method.</span></span> <span data-ttu-id="b6863-180">Bei Verwendung von <xref:System.Linq.ParallelEnumerable.AsSequential%2A> werden alle nachfolgenden Operatoren in der Abfrage sequenziell ausgeführt, bis <xref:System.Linq.ParallelEnumerable.AsParallel%2A> erneut aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-180">When you use <xref:System.Linq.ParallelEnumerable.AsSequential%2A>, all subsequent operators in the query are executed sequentially until <xref:System.Linq.ParallelEnumerable.AsParallel%2A> is called again.</span></span> <span data-ttu-id="b6863-181">Weitere Informationen finden Sie unter [Vorgehensweise: Kombinieren von parallelen und sequenziellen LINQ-Abfragen](how-to-combine-parallel-and-sequential-linq-queries.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-181">For more information, see [How to: Combine Parallel and Sequential LINQ Queries](how-to-combine-parallel-and-sequential-linq-queries.md).</span></span>

## <a name="options-for-merging-query-results"></a><span data-ttu-id="b6863-182">Optionen für das Zusammenführen von Abfrageergebnissen</span><span class="sxs-lookup"><span data-stu-id="b6863-182">Options for Merging Query Results</span></span>

<span data-ttu-id="b6863-183">Wenn eine PLINQ-Abfrage parallel ausgeführt wird, müssen die Ergebnisse aller Arbeitsthreads wieder im Hauptthread zusammengeführt werden, damit sie in einer `foreach`-Schleife (`For Each` in Visual Basics) verwendet oder in eine Liste bzw. ein Array eingefügt werden können.</span><span class="sxs-lookup"><span data-stu-id="b6863-183">When a PLINQ query executes in parallel, its results from each worker thread must be merged back onto the main thread for consumption by a `foreach` loop (`For Each` in Visual Basic), or insertion into a list or array.</span></span> <span data-ttu-id="b6863-184">In einigen Fällen ist es hilfreich, eine bestimmte Art von Merge anzugeben, z. B. um Ergebnisse schneller zu erzeugen.</span><span class="sxs-lookup"><span data-stu-id="b6863-184">In some cases, it might be beneficial to specify a particular kind of merge operation, for example, to begin producing results more quickly.</span></span> <span data-ttu-id="b6863-185">Zu diesem Zweck unterstützt PLINQ die <xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A>-Methode und die <xref:System.Linq.ParallelMergeOptions>-Enumeration.</span><span class="sxs-lookup"><span data-stu-id="b6863-185">For this purpose, PLINQ supports the <xref:System.Linq.ParallelEnumerable.WithMergeOptions%2A> method, and the <xref:System.Linq.ParallelMergeOptions> enumeration.</span></span> <span data-ttu-id="b6863-186">Weitere Informationen finden Sie unter [Merge Options in PLINQ (Zusammenführungsoptionen in PLINQ)](merge-options-in-plinq.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-186">For more information, see [Merge Options in PLINQ](merge-options-in-plinq.md).</span></span>

## <a name="the-forall-operator"></a><span data-ttu-id="b6863-187">Der ForAll-Operator</span><span class="sxs-lookup"><span data-stu-id="b6863-187">The ForAll Operator</span></span>

<span data-ttu-id="b6863-188">In sequenziellen LINQ-Abfragen wird die Ausführung verzögert, bis die Abfrage entweder in einer `foreach`-Schleife (`For Each` in Visual Basic) oder durch das Aufrufen einer Methode, z. B. <xref:System.Linq.ParallelEnumerable.ToList%2A>, <xref:System.Linq.ParallelEnumerable.ToArray%2A> oder <xref:System.Linq.ParallelEnumerable.ToDictionary%2A>, aufgezählt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-188">In sequential LINQ queries, execution is deferred until the query is enumerated either in a `foreach` (`For Each` in Visual Basic) loop or by invoking a method such as <xref:System.Linq.ParallelEnumerable.ToList%2A> , <xref:System.Linq.ParallelEnumerable.ToArray%2A> , or <xref:System.Linq.ParallelEnumerable.ToDictionary%2A>.</span></span> <span data-ttu-id="b6863-189">In PLINQ können Sie zudem `foreach` verwenden, um die Abfrage auszuführen und die Ergebnisse zu durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="b6863-189">In PLINQ, you can also use `foreach` to execute the query and iterate through the results.</span></span> <span data-ttu-id="b6863-190">`foreach` selbst wird jedoch nicht parallel ausgeführt, sodass die Ausgabe aller parallelen Aufgaben wieder in dem Thread, in dem die Schleife ausgeführt wird, zusammengeführt werden muss.</span><span class="sxs-lookup"><span data-stu-id="b6863-190">However, `foreach` itself does not run in parallel, and therefore, it requires that the output from all parallel tasks be merged back into the thread on which the loop is running.</span></span> <span data-ttu-id="b6863-191">In PLINQ können Sie `foreach` verwenden, wenn Sie die abschließende Reihenfolge der Abfrageergebnisse beibehalten möchten oder wenn Sie die Ergebnisse seriell verarbeiten, z. B. wenn Sie für jedes Element `Console.WriteLine` aufrufen.</span><span class="sxs-lookup"><span data-stu-id="b6863-191">In PLINQ, you can use `foreach` when you must preserve the final ordering of the query results, and also whenever you are processing the results in a serial manner, for example when you are calling `Console.WriteLine` for each element.</span></span> <span data-ttu-id="b6863-192">Wenn die Beibehaltung der Reihenfolge nicht erforderlich ist und die Verarbeitung der Ergebnisse selbst parallelisiert werden kann, verwenden Sie die <xref:System.Linq.ParallelEnumerable.ForAll%2A>-Methode, um die Ausführung der PLINQ-Abfrage zu beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="b6863-192">For faster query execution when order preservation is not required and when the processing of the results can itself be parallelized, use the <xref:System.Linq.ParallelEnumerable.ForAll%2A> method to execute a PLINQ query.</span></span> <span data-ttu-id="b6863-193"><xref:System.Linq.ParallelEnumerable.ForAll%2A> führt die abschließende Zusammenführung nicht aus.</span><span class="sxs-lookup"><span data-stu-id="b6863-193"><xref:System.Linq.ParallelEnumerable.ForAll%2A> does not perform this final merge step.</span></span> <span data-ttu-id="b6863-194">Im folgenden Codebeispiel wird die Verwendung der <xref:System.Linq.ParallelEnumerable.ForAll%2A>-Methode veranschaulicht.</span><span class="sxs-lookup"><span data-stu-id="b6863-194">The following code example shows how to use the <xref:System.Linq.ParallelEnumerable.ForAll%2A> method.</span></span> <span data-ttu-id="b6863-195"><xref:System.Collections.Concurrent.ConcurrentBag%601?displayProperty=nameWithType> wird hier verwendet, da sie für mehrere Threads optimiert ist, die gleichzeitig Elemente hinzufügen, ohne dass versucht wird, Elemente zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="b6863-195"><xref:System.Collections.Concurrent.ConcurrentBag%601?displayProperty=nameWithType> is used here because it is optimized for multiple threads adding concurrently without attempting to remove any items.</span></span>

[!code-csharp[PLINQ#4](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#4)]
[!code-vb[PLINQ#4](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq2_vb.vb#4)]

<span data-ttu-id="b6863-196">Die folgende Abbildung zeigt den Unterschied zwischen `foreach` und <xref:System.Linq.ParallelEnumerable.ForAll%2A> hinsichtlich der Abfrageausführung.</span><span class="sxs-lookup"><span data-stu-id="b6863-196">The following illustration shows the difference between `foreach` and <xref:System.Linq.ParallelEnumerable.ForAll%2A> with regard to query execution.</span></span>

<span data-ttu-id="b6863-197">![ForAll im Vergleich zu ForEach](media/vs-isvnt-allvseach.png "VS_ISVNT_ALLvsEACH")</span><span class="sxs-lookup"><span data-stu-id="b6863-197">![ForAll vs. ForEach](media/vs-isvnt-allvseach.png "VS_ISVNT_ALLvsEACH")</span></span>

## <a name="cancellation"></a><span data-ttu-id="b6863-198">Abbruch</span><span class="sxs-lookup"><span data-stu-id="b6863-198">Cancellation</span></span>

<span data-ttu-id="b6863-199">PLINQ ist in die Abbruchtypen in .NET Framework 4 integriert.</span><span class="sxs-lookup"><span data-stu-id="b6863-199">PLINQ is integrated with the cancellation types in .NET Framework 4.</span></span> <span data-ttu-id="b6863-200">(Weitere Informationen finden Sie unter [Cancellation in Managed Threads (Abbruch in verwalteten Threads)](../threading/cancellation-in-managed-threads.md).) Daher können PLINQ-Abfragen im Gegensatz zu sequenziellen LINQ to Objects-Abfragen abgebrochen werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-200">(For more information, see [Cancellation in Managed Threads](../threading/cancellation-in-managed-threads.md).) Therefore, unlike sequential LINQ to Objects queries, PLINQ queries can be canceled.</span></span> <span data-ttu-id="b6863-201">Um eine abbrechbare PLINQ-Abfrage zu erstellen, verwenden Sie den <xref:System.Linq.ParallelEnumerable.WithCancellation%2A>-Operator in der Abfrage, und stellen Sie eine <xref:System.Threading.CancellationToken>-Instanz als Argument bereit.</span><span class="sxs-lookup"><span data-stu-id="b6863-201">To create a cancelable PLINQ query, use the <xref:System.Linq.ParallelEnumerable.WithCancellation%2A> operator on the query and provide a <xref:System.Threading.CancellationToken> instance as the argument.</span></span> <span data-ttu-id="b6863-202">Wenn die <xref:System.Threading.CancellationToken.IsCancellationRequested%2A>-Eigenschaft im Token auf „true“ festgelegt ist, erkennt PLINQ dies. Die Verarbeitung wird in diesem Fall in allen Threads abgebrochen, und eine <xref:System.OperationCanceledException> wird ausgelöst.</span><span class="sxs-lookup"><span data-stu-id="b6863-202">When the <xref:System.Threading.CancellationToken.IsCancellationRequested%2A> property on the token is set to true, PLINQ will notice it, stop processing on all threads, and throw an <xref:System.OperationCanceledException>.</span></span>

<span data-ttu-id="b6863-203">Es ist möglich, dass eine PLINQ-Abfrage nach dem Festlegen des Abbruchtokens weiterhin einige Elemente verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="b6863-203">It is possible that a PLINQ query might continue to process some elements after the cancellation token is set.</span></span>

<span data-ttu-id="b6863-204">Um kürzere Reaktionszeiten zu erzielen, können Sie auch auf Abbruchanforderungen in Benutzerdelegaten mit langer Laufzeit reagieren.</span><span class="sxs-lookup"><span data-stu-id="b6863-204">For greater responsiveness, you can also respond to cancellation requests in long-running user delegates.</span></span> <span data-ttu-id="b6863-205">Weitere Informationen finden Sie unter [Vorgehensweise: Abbrechen einer PLINQ-Abfrage](how-to-cancel-a-plinq-query.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-205">For more information, see [How to: Cancel a PLINQ Query](how-to-cancel-a-plinq-query.md).</span></span>

## <a name="exceptions"></a><span data-ttu-id="b6863-206">Ausnahmen</span><span class="sxs-lookup"><span data-stu-id="b6863-206">Exceptions</span></span>

<span data-ttu-id="b6863-207">Bei der Ausführung einer PLINQ-Abfrage können mehrere Ausnahmen von verschiedenen Threads gleichzeitig ausgelöst werden.</span><span class="sxs-lookup"><span data-stu-id="b6863-207">When a PLINQ query executes, multiple exceptions might be thrown from different threads simultaneously.</span></span> <span data-ttu-id="b6863-208">Zudem kann sich der Code für die Behandlung einer Ausnahme in einem anderen Thread befinden als der Code, der die Ausnahme ausgelöst hat.</span><span class="sxs-lookup"><span data-stu-id="b6863-208">Also, the code to handle the exception might be on a different thread than the code that threw the exception.</span></span> <span data-ttu-id="b6863-209">PLINQ kapselt alle Ausnahmen, die von einer Abfrage ausgelöst wurden, mithilfe des <xref:System.AggregateException>-Typs und marshallt diese Ausnahmen zurück an den aufrufenden Thread.</span><span class="sxs-lookup"><span data-stu-id="b6863-209">PLINQ uses the <xref:System.AggregateException> type to encapsulate all the exceptions that were thrown by a query, and marshal those exceptions back to the calling thread.</span></span> <span data-ttu-id="b6863-210">Im aufrufenden Thread ist nur ein try/catch-Block erforderlich.</span><span class="sxs-lookup"><span data-stu-id="b6863-210">On the calling thread, only one try-catch block is required.</span></span> <span data-ttu-id="b6863-211">Sie können jedoch alle Ausnahmen durchlaufen, die in <xref:System.AggregateException> gekapselt sind, und die Ausnahmen erfassen, die Sie sicher beheben können.</span><span class="sxs-lookup"><span data-stu-id="b6863-211">However, you can iterate through all of the exceptions that are encapsulated in the <xref:System.AggregateException> and catch any that you can safely recover from.</span></span> <span data-ttu-id="b6863-212">In seltenen Fällen können Ausnahmen ausgelöst werden, die nicht in einer <xref:System.AggregateException> eingeschlossen sind. <xref:System.Threading.ThreadAbortException>s sind ebenfalls nicht eingeschlossen.</span><span class="sxs-lookup"><span data-stu-id="b6863-212">In rare cases, some exceptions may be thrown that are not wrapped in an <xref:System.AggregateException>, and <xref:System.Threading.ThreadAbortException>s  are also not wrapped.</span></span>

<span data-ttu-id="b6863-213">Wenn Ausnahmen mittels Bubbling wieder an den Verbindungsthread übergeben werden können, ist es möglich, dass eine Abfrage nach dem Auslösen der Ausnahme weiterhin einige Elemente verarbeitet.</span><span class="sxs-lookup"><span data-stu-id="b6863-213">When exceptions are allowed to bubble up back to the joining thread, then it is possible that a query may continue to process some items after the exception is raised.</span></span>

<span data-ttu-id="b6863-214">Weitere Informationen finden Sie unter [Vorgehensweise: Behandeln von Ausnahmen in einer PLINQ-Abfrage](how-to-handle-exceptions-in-a-plinq-query.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-214">For more information, see [How to: Handle Exceptions in a PLINQ Query](how-to-handle-exceptions-in-a-plinq-query.md).</span></span>

## <a name="custom-partitioners"></a><span data-ttu-id="b6863-215">Benutzerdefinierte Partitionierer</span><span class="sxs-lookup"><span data-stu-id="b6863-215">Custom Partitioners</span></span>

<span data-ttu-id="b6863-216">Sie können die Abfrageleistung teilweise erhöhen, indem Sie einen benutzerdefinierten Partitionierer schreiben, der bestimmte Merkmale der Quelldaten nutzt.</span><span class="sxs-lookup"><span data-stu-id="b6863-216">In some cases, you can improve query performance by writing a custom partitioner that takes advantage of some characteristic of the source data.</span></span> <span data-ttu-id="b6863-217">In der Abfrage ist der benutzerdefinierte Partitionierer das auflistbare Objekt, das abgefragt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-217">In the query, the custom partitioner itself is the enumerable object that is queried.</span></span>

[!code-csharp[PLINQ#2](../../../samples/snippets/csharp/VS_Snippets_Misc/plinq/cs/plinq2_cs.cs#2)]
[!code-vb[PLINQ#2](../../../samples/snippets/visualbasic/VS_Snippets_Misc/plinq/vb/plinq3.vb#2)]

<span data-ttu-id="b6863-218">PLINQ unterstützt eine feste Anzahl von Partitionen (auch wenn die Daten während der Laufzeit diesen Partitionen dynamisch neu zugeordnet werden können, um einen Lastenausgleich zu gewährleisten).</span><span class="sxs-lookup"><span data-stu-id="b6863-218">PLINQ supports a fixed number of partitions (although data may be dynamically reassigned to those partitions during run time for load balancing.).</span></span> <span data-ttu-id="b6863-219"><xref:System.Threading.Tasks.Parallel.For%2A> und <xref:System.Threading.Tasks.Parallel.ForEach%2A> unterstützen nur die dynamische Partitionierung, d. h. die Anzahl der Partitionen ändert sich zur Laufzeit.</span><span class="sxs-lookup"><span data-stu-id="b6863-219"><xref:System.Threading.Tasks.Parallel.For%2A> and <xref:System.Threading.Tasks.Parallel.ForEach%2A> support only dynamic partitioning, which means that the number of partitions changes at run time.</span></span> <span data-ttu-id="b6863-220">Weitere Informationen finden Sie unter [Custom Partitioners for PLINQ and TPL (Benutzerdefinierte Partitionierer für PLINQ und TPL)](custom-partitioners-for-plinq-and-tpl.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-220">For more information, see [Custom Partitioners for PLINQ and TPL](custom-partitioners-for-plinq-and-tpl.md).</span></span>

## <a name="measuring-plinq-performance"></a><span data-ttu-id="b6863-221">Messen der PLINQ-Leistung</span><span class="sxs-lookup"><span data-stu-id="b6863-221">Measuring PLINQ Performance</span></span>

<span data-ttu-id="b6863-222">In vielen Fällen kann eine Abfrage parallelisiert werden, der mit dem Einrichten der parallelen Abfrage verbundene Mehraufwand überwiegt jedoch die erzielte Leistungssteigerung.</span><span class="sxs-lookup"><span data-stu-id="b6863-222">In many cases, a query can be parallelized, but the overhead of setting up the parallel query outweighs the performance benefit gained.</span></span> <span data-ttu-id="b6863-223">Wenn eine Abfrage nur wenige Berechnung ausführt oder wenn die Datenquelle klein ist, ist eine PLINQ-Abfrage möglicherweise langsamer als ein sequenzielle LINQ to Objects-Abfrage.</span><span class="sxs-lookup"><span data-stu-id="b6863-223">If a query does not perform much computation or if the data source is small, a PLINQ query may be slower than a sequential LINQ to Objects query.</span></span> <span data-ttu-id="b6863-224">Mithilfe des Parallel Performance Analyzer in Visual Studio Team Server können Sie die Leistung verschiedener Abfragen vergleichen, Verarbeitungsengpässe suchen und bestimmen, ob die Abfrage parallel oder sequenziell ausgeführt wird.</span><span class="sxs-lookup"><span data-stu-id="b6863-224">You can use the Parallel Performance Analyzer in Visual Studio Team Server to compare the performance of various queries, to locate processing bottlenecks, and to determine whether your query is running in parallel or sequentially.</span></span> <span data-ttu-id="b6863-225">Weitere Informationen finden Sie unter [Parallelitätsschnellansicht](/visualstudio/profiling/concurrency-visualizer) und [Vorgehensweise: Messen der Leistung von PLINQ-Abfragen](how-to-measure-plinq-query-performance.md).</span><span class="sxs-lookup"><span data-stu-id="b6863-225">For more information, see [Concurrency Visualizer](/visualstudio/profiling/concurrency-visualizer) and [How to: Measure PLINQ Query Performance](how-to-measure-plinq-query-performance.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="b6863-226">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="b6863-226">See also</span></span>

- [<span data-ttu-id="b6863-227">Parallel LINQ (PLINQ) (Paralleles LINQ (PLINQ))</span><span class="sxs-lookup"><span data-stu-id="b6863-227">Parallel LINQ (PLINQ)</span></span>](introduction-to-plinq.md)
- [<span data-ttu-id="b6863-228">Grundlagen zur Beschleunigung in PLINQ</span><span class="sxs-lookup"><span data-stu-id="b6863-228">Understanding Speedup in PLINQ</span></span>](understanding-speedup-in-plinq.md)
