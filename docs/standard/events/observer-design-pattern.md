---
title: Beobachterentwurfsmuster
description: Erfahren Sie mehr über das Beobachterentwurfsmuster in .NET. Mit diesem Muster kann sich ein Abonnent bei einem Anbieter registrieren und Benachrichtigungen von diesem empfangen.
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- IObserver(Of T) interface
- IObservable<T> interface
- IObserver<T> interface
- IObservable(Of T) interface
- observer design pattern [.NET]
ms.assetid: 3680171f-f522-453c-aa4a-54f755a78f88
ms.openlocfilehash: e1f8dad2c19d3e11281cda5ef749730c5c6334d7
ms.sourcegitcommit: b1442669f1982d3a1cb18ea35b5acfb0fc7d93e4
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/30/2020
ms.locfileid: "93064066"
---
# <a name="observer-design-pattern"></a><span data-ttu-id="170a0-104">Beobachterentwurfsmuster</span><span class="sxs-lookup"><span data-stu-id="170a0-104">Observer Design Pattern</span></span>

<span data-ttu-id="170a0-105">Mit dem Entwurfsmuster "Beobachter" kann sich ein Abonnent bei einem Anbieter registrieren und Benachrichtigungen von diesem empfangen.</span><span class="sxs-lookup"><span data-stu-id="170a0-105">The observer design pattern enables a subscriber to register with and receive notifications from a provider.</span></span> <span data-ttu-id="170a0-106">Es ist für jedes Szenario geeignet, das pushbasierte Benachrichtigungen erfordert.</span><span class="sxs-lookup"><span data-stu-id="170a0-106">It is suitable for any scenario that requires push-based notification.</span></span> <span data-ttu-id="170a0-107">Das Muster definiert einen *Anbieter* (auch als *Antragssteller* oder *Observable* bezeichnet) und keinen, einen oder mehrere *Beobachter*.</span><span class="sxs-lookup"><span data-stu-id="170a0-107">The pattern defines a *provider* (also known as a *subject* or an *observable* ) and zero, one, or more *observers*.</span></span> <span data-ttu-id="170a0-108">Beobachter registrieren sich beim Anbieter, und sobald eine vordefinierte Bedingung, ein Ereignis oder eine Statusänderung stattfindet, benachrichtigt der Anbieter automatisch alle Beobachter, indem er eine ihrer Methoden aufruft.</span><span class="sxs-lookup"><span data-stu-id="170a0-108">Observers register with the provider, and whenever a predefined condition, event, or state change occurs, the provider automatically notifies all observers by calling one of their methods.</span></span> <span data-ttu-id="170a0-109">In diesem Methodenaufruf kann der Anbieter den Beobachtern auch aktuelle Statusinformationen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="170a0-109">In this method call, the provider can also provide current state information to observers.</span></span> <span data-ttu-id="170a0-110">In .NET wird das Beobachterentwurfsmuster angewendet, indem die generischen Schnittstellen <xref:System.IObservable%601?displayProperty=nameWithType> und <xref:System.IObserver%601?displayProperty=nameWithType> implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="170a0-110">In .NET, the observer design pattern is applied by implementing the generic <xref:System.IObservable%601?displayProperty=nameWithType> and <xref:System.IObserver%601?displayProperty=nameWithType> interfaces.</span></span> <span data-ttu-id="170a0-111">Der generische Typparameter stellt den Typ dar, der Benachrichtigungsinformationen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="170a0-111">The generic type parameter represents the type that provides notification information.</span></span>

## <a name="applying-the-pattern"></a><span data-ttu-id="170a0-112">Anwenden des Musters</span><span class="sxs-lookup"><span data-stu-id="170a0-112">Applying the Pattern</span></span>

<span data-ttu-id="170a0-113">Das Entwurfsmuster "Beobachter" ist für verteilte pushbasierte Benachrichtigungen geeignet, da es eine saubere Trennung zwischen zwei verschiedenen Komponenten bzw. Anwendungsebenen erlaubt, z. B. zwischen einer Datenquellenebene (Geschäftslogik) und einer Benutzeroberflächenebene (Anzeige).</span><span class="sxs-lookup"><span data-stu-id="170a0-113">The observer design pattern is suitable for distributed push-based notifications, because it supports a clean separation between two different components or application layers, such as a data source (business logic) layer and a user interface (display) layer.</span></span> <span data-ttu-id="170a0-114">Das Muster kann immer dann implementiert werden, wenn ein Anbieter Rückrufe verwendet, um seinen Clients aktuelle Informationen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="170a0-114">The pattern can be implemented whenever a provider uses callbacks to supply its clients with current information.</span></span>

<span data-ttu-id="170a0-115">Für eine Implementierung des Musters wird Folgendes benötigt:</span><span class="sxs-lookup"><span data-stu-id="170a0-115">Implementing the pattern requires that you provide the following:</span></span>

- <span data-ttu-id="170a0-116">Ein Anbieter oder Antragsteller, der das Objekt darstellt, das Benachrichtigungen an die Beobachter sendet.</span><span class="sxs-lookup"><span data-stu-id="170a0-116">A provider or subject, which is the object that sends notifications to observers.</span></span> <span data-ttu-id="170a0-117">Ein Anbieter ist eine Klasse oder eine Struktur, die die <xref:System.IObservable%601>-Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="170a0-117">A provider is a class or structure that implements the <xref:System.IObservable%601> interface.</span></span> <span data-ttu-id="170a0-118">Der Anbieter muss eine einzelne <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>-Methode implementieren, die von Beobachtern aufgerufen wird, die Benachrichtigungen vom Anbieter erhalten möchten.</span><span class="sxs-lookup"><span data-stu-id="170a0-118">The provider must implement a single method, <xref:System.IObservable%601.Subscribe%2A?displayProperty=nameWithType>, which is called by observers that wish to receive notifications from the provider.</span></span>

- <span data-ttu-id="170a0-119">Ein Beobachter, bei dem es sich um ein Objekt handelt, das Benachrichtigungen von einem Anbieter empfängt.</span><span class="sxs-lookup"><span data-stu-id="170a0-119">An observer, which is an object that receives notifications from a provider.</span></span> <span data-ttu-id="170a0-120">Ein Beobachter ist eine Klasse oder eine Struktur, die die <xref:System.IObserver%601>-Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="170a0-120">An observer is a class or structure that implements the <xref:System.IObserver%601> interface.</span></span> <span data-ttu-id="170a0-121">Der Beobachter muss drei Methoden implementieren, die alle vom Anbieter aufgerufen werden:</span><span class="sxs-lookup"><span data-stu-id="170a0-121">The observer must implement three methods, all of which are called by the provider:</span></span>

  - <span data-ttu-id="170a0-122"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, die dem Beobachter neue oder aktuelle Informationen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="170a0-122"><xref:System.IObserver%601.OnNext%2A?displayProperty=nameWithType>, which supplies the observer with new or current information.</span></span>

  - <span data-ttu-id="170a0-123"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, die den Beobachter informiert, dass ein Fehler aufgetreten ist.</span><span class="sxs-lookup"><span data-stu-id="170a0-123"><xref:System.IObserver%601.OnError%2A?displayProperty=nameWithType>, which informs the observer that an error has occurred.</span></span>

  - <span data-ttu-id="170a0-124"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, die angibt, dass der Anbieter das Senden von Benachrichtigungen abgeschlossen hat.</span><span class="sxs-lookup"><span data-stu-id="170a0-124"><xref:System.IObserver%601.OnCompleted%2A?displayProperty=nameWithType>, which indicates that the provider has finished sending notifications.</span></span>

- <span data-ttu-id="170a0-125">Ein Mechanismus, mit dem der Anbieter Beobachter verwalten kann.</span><span class="sxs-lookup"><span data-stu-id="170a0-125">A mechanism that allows the provider to keep track of observers.</span></span> <span data-ttu-id="170a0-126">In der Regel verwendet der Anbieter ein Containerobjekt, z. B. ein <xref:System.Collections.Generic.List%601?displayProperty=nameWithType>-Objekt, um Verweise auf die <xref:System.IObserver%601>-Implementierungen zu speichern, die Benachrichtigungen abonniert haben.</span><span class="sxs-lookup"><span data-stu-id="170a0-126">Typically, the provider uses a container object, such as a <xref:System.Collections.Generic.List%601?displayProperty=nameWithType> object, to hold references to the <xref:System.IObserver%601> implementations that have subscribed to notifications.</span></span> <span data-ttu-id="170a0-127">Durch das Verwenden eines Speichercontainers zu diesem Zweck kann der Anbieter eine beliebige Anzahl von Beobachtern behandeln.</span><span class="sxs-lookup"><span data-stu-id="170a0-127">Using a storage container for this purpose enables the provider to handle zero to an unlimited number of observers.</span></span> <span data-ttu-id="170a0-128">Die Reihenfolge, in der Beobachter Benachrichtigungen empfangen, ist nicht definiert. Der Anbieter kann die Methode zum Bestimmen der Reihenfolge frei wählen.</span><span class="sxs-lookup"><span data-stu-id="170a0-128">The order in which observers receive notifications is not defined; the provider is free to use any method to determine the order.</span></span>

- <span data-ttu-id="170a0-129">Eine <xref:System.IDisposable>-Implementierung, die es dem Anbieter ermöglicht, Beobachter zu entfernen, wenn die Benachrichtigungen abgeschlossen wurden.</span><span class="sxs-lookup"><span data-stu-id="170a0-129">An <xref:System.IDisposable> implementation that enables the provider to remove observers when notification is complete.</span></span> <span data-ttu-id="170a0-130">Beobachter erhalten einen Verweis auf die <xref:System.IDisposable>-Implementierung der <xref:System.IObservable%601.Subscribe%2A>-Methode, sodass sie die <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType>-Methode ebenfalls aufrufen können, um das Abonnement zu kündigen, bevor der Anbieter das Senden von Benachrichtigungen abgeschlossen hat.</span><span class="sxs-lookup"><span data-stu-id="170a0-130">Observers receive a reference to the <xref:System.IDisposable> implementation from the <xref:System.IObservable%601.Subscribe%2A> method, so they can also call the <xref:System.IDisposable.Dispose%2A?displayProperty=nameWithType> method to unsubscribe before the provider has finished sending notifications.</span></span>

- <span data-ttu-id="170a0-131">Ein Objekt, das die Daten enthält, die vom Anbieter an die Beobachter gesendet werden.</span><span class="sxs-lookup"><span data-stu-id="170a0-131">An object that contains the data that the provider sends to its observers.</span></span> <span data-ttu-id="170a0-132">Der Typ des Objekts entspricht dem generischen Typparameter der Schnittstellen <xref:System.IObservable%601> und <xref:System.IObserver%601>.</span><span class="sxs-lookup"><span data-stu-id="170a0-132">The type of this object corresponds to the generic type parameter of the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="170a0-133">Obwohl dieses Objekt vom selben Typ sein kann wie die <xref:System.IObservable%601>-Implementierung, handelt es sich in den meisten Fällen um einen separaten Typ.</span><span class="sxs-lookup"><span data-stu-id="170a0-133">Although this object can be the same as the <xref:System.IObservable%601> implementation, most commonly it is a separate type.</span></span>

> [!NOTE]
> <span data-ttu-id="170a0-134">Zusätzlich zum Implementieren des Entwurfsmusters "Beobachter" sind Sie ggf. an einer ausführlichen Untersuchung von Bibliotheken interessiert, die mithilfe der Schnittstellen <xref:System.IObservable%601> und <xref:System.IObserver%601> erstellt werden.</span><span class="sxs-lookup"><span data-stu-id="170a0-134">In addition to implementing the observer design pattern, you may be interested in exploring libraries that are built using the <xref:System.IObservable%601> and <xref:System.IObserver%601> interfaces.</span></span> <span data-ttu-id="170a0-135">Beispielsweise bestehen [Reagierende Erweiterungen für .NET (Rx)](/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)) aus einem Satz von Erweiterungsmethoden und LINQ-Standardsequenzoperatoren, um die asynchrone Programmierung zu unterstützen.</span><span class="sxs-lookup"><span data-stu-id="170a0-135">For example, [Reactive Extensions for .NET (Rx)](/previous-versions/dotnet/reactive-extensions/hh242985(v=vs.103)) consist of a set of extension methods and LINQ standard sequence operators to support asynchronous programming.</span></span>

## <a name="implementing-the-pattern"></a><span data-ttu-id="170a0-136">Implementieren des Musters</span><span class="sxs-lookup"><span data-stu-id="170a0-136">Implementing the Pattern</span></span>

<span data-ttu-id="170a0-137">Im folgenden Beispiel wird das Entwurfsmuster "Beobachter" verwendet, um ein Informationssystem für die Flughafengepäckausgabe zu implementieren.</span><span class="sxs-lookup"><span data-stu-id="170a0-137">The following example uses the observer design pattern to implement an airport baggage claim information system.</span></span> <span data-ttu-id="170a0-138">Eine `BaggageInfo`-Klasse stellt Informationen über ankommende Flüge und über die Laufbänder bereit, von denen das Gepäck der einzelnen Flüge abgeholt werden kann.</span><span class="sxs-lookup"><span data-stu-id="170a0-138">A `BaggageInfo` class provides information about arriving flights and the carousels where baggage from each flight is available for pickup.</span></span> <span data-ttu-id="170a0-139">Dies wird im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="170a0-139">It is shown in the following example.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#1)]
[!code-vb[Conceptual.ObserverDesignPattern#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#1)]

<span data-ttu-id="170a0-140">Eine `BaggageHandler`-Klasse ist für den Empfang von Informationen über ankommende Flüge und die Gepäckausgabebänder verantwortlich.</span><span class="sxs-lookup"><span data-stu-id="170a0-140">A `BaggageHandler` class is responsible for receiving information about arriving flights and baggage claim carousels.</span></span> <span data-ttu-id="170a0-141">Intern werden zwei Auflistungen verwaltet:</span><span class="sxs-lookup"><span data-stu-id="170a0-141">Internally, it maintains two collections:</span></span>

- <span data-ttu-id="170a0-142">`observers` - Eine Auflistung der Clients, die aktualisierte Informationen erhalten.</span><span class="sxs-lookup"><span data-stu-id="170a0-142">`observers` - A collection of clients that will receive updated information.</span></span>

- <span data-ttu-id="170a0-143">`flights` - Eine Auflistung der Flüge und zugewiesenen Laufbänder.</span><span class="sxs-lookup"><span data-stu-id="170a0-143">`flights` - A collection of flights and their assigned carousels.</span></span>

<span data-ttu-id="170a0-144">Beide Auflistungen werden von generischen <xref:System.Collections.Generic.List%601>-Objekten dargestellt, die im `BaggageHandler`-Klassenkonstruktor instanziiert werden.</span><span class="sxs-lookup"><span data-stu-id="170a0-144">Both collections are represented by generic <xref:System.Collections.Generic.List%601> objects that are instantiated in the `BaggageHandler` class constructor.</span></span> <span data-ttu-id="170a0-145">Der Quellcode für die `BaggageHandler`-Klasse wird im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="170a0-145">The source code for the `BaggageHandler` class is shown in the following example.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#2)]
[!code-vb[Conceptual.ObserverDesignPattern#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#2)]

<span data-ttu-id="170a0-146">Clients, die aktualisierte Informationen erhalten möchten, rufen die `BaggageHandler.Subscribe`-Methode auf.</span><span class="sxs-lookup"><span data-stu-id="170a0-146">Clients that wish to receive updated information call the `BaggageHandler.Subscribe` method.</span></span> <span data-ttu-id="170a0-147">Wenn sich der Client zuvor noch nicht für Benachrichtigungen registriert hat, wird der `observers`-Auflistung ein Verweis auf die <xref:System.IObserver%601>-Implementierung des Clients hinzugefügt.</span><span class="sxs-lookup"><span data-stu-id="170a0-147">If the client has not previously subscribed to notifications, a reference to the client's <xref:System.IObserver%601> implementation is added to the `observers` collection.</span></span>

<span data-ttu-id="170a0-148">Die überladene `BaggageHandler.BaggageStatus`-Methode kann aufgerufen werden, um anzugeben, dass Gepäck aus einem Flug entweder entladen oder nicht mehr entladen wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-148">The overloaded `BaggageHandler.BaggageStatus` method can be called to indicate that baggage from a flight either is being unloaded or is no longer being unloaded.</span></span> <span data-ttu-id="170a0-149">Im ersten Fall wird der Methode eine Flugnummer, der Flughafen, von dem der Flug gestartet ist, und das Laufband übergeben, auf dem das Gepäck entladen wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-149">In the first case, the method is passed a flight number, the airport from which the flight originated, and the carousel where baggage is being unloaded.</span></span> <span data-ttu-id="170a0-150">Im zweiten Fall wird der Methode nur eine Flugnummer übergeben.</span><span class="sxs-lookup"><span data-stu-id="170a0-150">In the second case, the method is passed only a flight number.</span></span> <span data-ttu-id="170a0-151">Für Gepäck, das entladen wird, überprüft die Methode, ob die `BaggageInfo`-Informationen, die an die Methode übergeben wurden, in der `flights`-Auflistung vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="170a0-151">For baggage that is being unloaded, the method checks whether the `BaggageInfo` information passed to the method exists in the `flights` collection.</span></span> <span data-ttu-id="170a0-152">Ist dies nicht der Fall, fügt die Methode die Informationen hinzu und ruft die `OnNext`-Methode aller Beobachter auf.</span><span class="sxs-lookup"><span data-stu-id="170a0-152">If it does not, the method adds the information and calls each observer's `OnNext` method.</span></span> <span data-ttu-id="170a0-153">Für Flüge, deren Gepäck nicht mehr entladen wird, überprüft die Methode, ob Informationen zu diesem Flug in der `flights`-Auflistung gespeichert sind.</span><span class="sxs-lookup"><span data-stu-id="170a0-153">For flights whose baggage is no longer being unloaded, the method checks whether information on that flight is stored in the `flights` collection.</span></span> <span data-ttu-id="170a0-154">Wenn dies der Fall ist, ruft die Methode die `OnNext`-Methode jedes Beobachters auf und entfernt das `BaggageInfo`-Objekt aus der `flights`-Auflistung.</span><span class="sxs-lookup"><span data-stu-id="170a0-154">If it is, the method calls each observer's `OnNext` method and removes the `BaggageInfo` object from the `flights` collection.</span></span>

<span data-ttu-id="170a0-155">Wenn der letzte Flug des Tages gelandet ist und sein Gepäck verarbeitet wurde, wird die `BaggageHandler.LastBaggageClaimed`-Methode aufgerufen.</span><span class="sxs-lookup"><span data-stu-id="170a0-155">When the last flight of the day has landed and its baggage has been processed, the `BaggageHandler.LastBaggageClaimed` method is called.</span></span> <span data-ttu-id="170a0-156">Diese Methode ruft die `OnCompleted`-Methode jedes Beobachters auf, um anzuzeigen, dass alle Benachrichtigungen abgeschlossen wurden, und löscht dann die `observers`-Auflistung.</span><span class="sxs-lookup"><span data-stu-id="170a0-156">This method calls each observer's `OnCompleted` method to indicate that all notifications have completed, and then clears the `observers` collection.</span></span>

<span data-ttu-id="170a0-157">Die <xref:System.IObservable%601.Subscribe%2A>-Methode des Anbieters gibt eine <xref:System.IDisposable>-Implementierung zurück, mit der die Beobachter den Empfang von Benachrichtigungen beenden können, bevor die <xref:System.IObserver%601.OnCompleted%2A>-Methode aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-157">The provider's <xref:System.IObservable%601.Subscribe%2A> method returns an <xref:System.IDisposable> implementation that enables observers to stop receiving notifications before the <xref:System.IObserver%601.OnCompleted%2A> method is called.</span></span> <span data-ttu-id="170a0-158">Der Quellcode für die `Unsubscriber(Of BaggageInfo)`-Klasse wird im folgenden Beispiel gezeigt.</span><span class="sxs-lookup"><span data-stu-id="170a0-158">The source code for this `Unsubscriber(Of BaggageInfo)` class is shown in the following example.</span></span> <span data-ttu-id="170a0-159">Wenn die Klasse in der `BaggageHandler.Subscribe`-Methode instanziiert wird, werden ein Verweis auf die `observers`-Auflistung und ein Verweis auf den Beobachter übergeben, der der Auflistung hinzugefügt wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-159">When the class is instantiated in the `BaggageHandler.Subscribe` method, it is passed a reference to the `observers` collection and a reference to the observer that is added to the collection.</span></span> <span data-ttu-id="170a0-160">Diese Verweise werden lokalen Variablen zugewiesen.</span><span class="sxs-lookup"><span data-stu-id="170a0-160">These references are assigned to local variables.</span></span> <span data-ttu-id="170a0-161">Wenn die `Dispose`-Methode des Objekts aufgerufen wird, überprüft sie, ob der Beobachter noch in der `observers`-Auflistung vorhanden ist, und entfernt in diesem Fall den Beobachter.</span><span class="sxs-lookup"><span data-stu-id="170a0-161">When the object's `Dispose` method is called, it checks whether the observer still exists in the `observers` collection, and, if it does, removes the observer.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/provider.cs#3)]
[!code-vb[Conceptual.ObserverDesignPattern#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/provider.vb#3)]

<span data-ttu-id="170a0-162">Im folgenden Beispiel wird eine <xref:System.IObserver%601>-Implementierung mit dem Namen `ArrivalsMonitor` gezeigt. Dies ist eine Basisklasse, die Informationen für die Gepäckausgabe anzeigt.</span><span class="sxs-lookup"><span data-stu-id="170a0-162">The following example provides an <xref:System.IObserver%601> implementation named `ArrivalsMonitor`, which is a base class that displays baggage claim information.</span></span> <span data-ttu-id="170a0-163">Die Informationen werden alphabetisch nach dem Namen der Stadt sortiert, aus der der Flug kam.</span><span class="sxs-lookup"><span data-stu-id="170a0-163">The information is displayed alphabetically, by the name of the originating city.</span></span> <span data-ttu-id="170a0-164">Die Methoden von `ArrivalsMonitor` werden als `overridable` (Visual Basic) bzw. als `virtual` (C#) gekennzeichnet, damit sie alle durch eine abgeleitete Klasse überschrieben werden können.</span><span class="sxs-lookup"><span data-stu-id="170a0-164">The methods of `ArrivalsMonitor` are marked as `overridable` (in Visual Basic) or `virtual` (in C#), so they can all be overridden by a derived class.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/observer.cs#4)]
[!code-vb[Conceptual.ObserverDesignPattern#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/observer.vb#4)]

<span data-ttu-id="170a0-165">Die`ArrivalsMonitor`-Klasse beinhaltet die `Subscribe`-Methode und die `Unsubscribe`-Methode.</span><span class="sxs-lookup"><span data-stu-id="170a0-165">The `ArrivalsMonitor` class includes the `Subscribe` and `Unsubscribe` methods.</span></span> <span data-ttu-id="170a0-166">Mit der `Subscribe`-Methode kann die Klasse die <xref:System.IDisposable>-Implementierung, die beim Aufruf von <xref:System.IObservable%601.Subscribe%2A> zurückgegeben wurde, in einer privaten Variablen speichern.</span><span class="sxs-lookup"><span data-stu-id="170a0-166">The `Subscribe` method enables the class to save the <xref:System.IDisposable> implementation returned by the call to <xref:System.IObservable%601.Subscribe%2A> to a private variable.</span></span> <span data-ttu-id="170a0-167">Mit der `Unsubscribe`-Methode kann die Klasse den Empfang von Benachrichtigungen kündigen, indem die <xref:System.IDisposable.Dispose%2A>-Implementierung des Anbieters aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-167">The `Unsubscribe` method enables the class to unsubscribe from notifications by calling the provider's <xref:System.IDisposable.Dispose%2A> implementation.</span></span> <span data-ttu-id="170a0-168">`ArrivalsMonitor` stellt ebenfalls Implementierungen der Methoden <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A> und <xref:System.IObserver%601.OnCompleted%2A> bereit.</span><span class="sxs-lookup"><span data-stu-id="170a0-168">`ArrivalsMonitor` also provides implementations of the <xref:System.IObserver%601.OnNext%2A>, <xref:System.IObserver%601.OnError%2A>, and <xref:System.IObserver%601.OnCompleted%2A> methods.</span></span> <span data-ttu-id="170a0-169">Nur die <xref:System.IObserver%601.OnNext%2A>-Implementierung enthält eine signifikante Menge an Code.</span><span class="sxs-lookup"><span data-stu-id="170a0-169">Only the <xref:System.IObserver%601.OnNext%2A> implementation contains a significant amount of code.</span></span> <span data-ttu-id="170a0-170">Die Methode arbeitet mit einem privaten, sortierten, generischen <xref:System.Collections.Generic.List%601>-Objekt, in dem Informationen über die Herkunftsflugplätze der ankommenden Flüge und über die Laufbänder verwaltet werden, auf denen das Gepäck bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="170a0-170">The method works with a private, sorted, generic <xref:System.Collections.Generic.List%601> object that maintains information about the airports of origin for arriving flights and the carousels on which their baggage is available.</span></span> <span data-ttu-id="170a0-171">Wenn die `BaggageHandler`-Klasse einen neuen ankommenden Flug meldet, fügt die <xref:System.IObserver%601.OnNext%2A>-Methodenimplementierung der Liste Informationen über diesen Flug hinzu.</span><span class="sxs-lookup"><span data-stu-id="170a0-171">If the `BaggageHandler` class reports a new flight arrival, the <xref:System.IObserver%601.OnNext%2A> method implementation adds information about that flight to the list.</span></span> <span data-ttu-id="170a0-172">Wenn die `BaggageHandler`-Klasse meldet, dass das Gepäck des Fluges entladen wurde, entfernt die <xref:System.IObserver%601.OnNext%2A>-Methode diesen Flug aus der Liste.</span><span class="sxs-lookup"><span data-stu-id="170a0-172">If the `BaggageHandler` class reports that the flight's baggage has been unloaded, the <xref:System.IObserver%601.OnNext%2A> method removes that flight from the list.</span></span> <span data-ttu-id="170a0-173">Bei jeder Änderung wird die Liste sortiert und an der Konsole angezeigt.</span><span class="sxs-lookup"><span data-stu-id="170a0-173">Whenever a change is made, the list is sorted and displayed to the console.</span></span>

<span data-ttu-id="170a0-174">Das folgende Beispiel enthält den Einstiegspunkt der Anwendung, die die `BaggageHandler`-Klasse und zwei Instanzen der `ArrivalsMonitor`-Klasse instanziiert und die `BaggageHandler.BaggageStatus`-Methode verwendet, um Informationen über ankommende Flüge hinzuzufügen und zu entfernen.</span><span class="sxs-lookup"><span data-stu-id="170a0-174">The following example contains the application entry point that instantiates the `BaggageHandler` class as well as two instances of the `ArrivalsMonitor` class, and uses the `BaggageHandler.BaggageStatus` method to add and remove information about arriving flights.</span></span> <span data-ttu-id="170a0-175">In jedem Fall empfangen die Beobachter Updates und zeigen ordnungsgemäß Informationen zur Gepäckausgabe an.</span><span class="sxs-lookup"><span data-stu-id="170a0-175">In each case, the observers receive updates and correctly display baggage claim information.</span></span>

[!code-csharp[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.observerdesignpattern/cs/program.cs#5)]
[!code-vb[Conceptual.ObserverDesignPattern#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.observerdesignpattern/vb/module1.vb#5)]

## <a name="related-topics"></a><span data-ttu-id="170a0-176">Verwandte Themen</span><span class="sxs-lookup"><span data-stu-id="170a0-176">Related Topics</span></span>

|<span data-ttu-id="170a0-177">Titel</span><span class="sxs-lookup"><span data-stu-id="170a0-177">Title</span></span>|<span data-ttu-id="170a0-178">Beschreibung</span><span class="sxs-lookup"><span data-stu-id="170a0-178">Description</span></span>|
|-----------|-----------------|
|[<span data-ttu-id="170a0-179">Empfohlene Vorgehensweisen für Beobachterentwurfsmuster</span><span class="sxs-lookup"><span data-stu-id="170a0-179">Observer Design Pattern Best Practices</span></span>](observer-design-pattern-best-practices.md)|<span data-ttu-id="170a0-180">Beschreibt bewährte Methoden für die Entwicklung von Anwendungen, die das Entwurfsmuster "Beobachter" implementieren.</span><span class="sxs-lookup"><span data-stu-id="170a0-180">Describes best practices to adopt when developing applications that implement the observer design pattern.</span></span>|
|[<span data-ttu-id="170a0-181">How to: Implementieren eines Anbieters</span><span class="sxs-lookup"><span data-stu-id="170a0-181">How to: Implement a Provider</span></span>](how-to-implement-a-provider.md)|<span data-ttu-id="170a0-182">Enthält die schrittweise Implementierung eines Anbieters für eine Anwendung zur Temperaturüberwachung.</span><span class="sxs-lookup"><span data-stu-id="170a0-182">Provides a step-by-step implementation of a provider for a temperature monitoring application.</span></span>|
|[<span data-ttu-id="170a0-183">How to: Implementieren eines Observers</span><span class="sxs-lookup"><span data-stu-id="170a0-183">How to: Implement an Observer</span></span>](how-to-implement-an-observer.md)|<span data-ttu-id="170a0-184">Enthält die schrittweise Implementierung eines Beobachters für eine Anwendung zur Temperaturüberwachung.</span><span class="sxs-lookup"><span data-stu-id="170a0-184">Provides a step-by-step implementation of an observer for a temperature monitoring application.</span></span>|
