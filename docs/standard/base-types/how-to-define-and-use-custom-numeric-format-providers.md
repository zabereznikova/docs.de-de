---
title: 'Vorgehensweise: Definieren und Verwenden von benutzerdefinierten numerischen Formatanbietern'
ms.date: 03/30/2017
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
helpviewer_keywords:
- numeric format strings [.NET Framework]
- formatting [.NET Framework], numbers
- number formatting [.NET Framework]
- custom numeric format strings
- numbers [.NET Framework], custom numeric format strings
- displaying date and time data
- format providers [.NET Framework]
- custom format strings
ms.assetid: a281bfbf-6596-45ed-a2d6-3782d535ada2
ms.openlocfilehash: 151bf40cf042517b7441b89688122373259dc7dc
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 03/15/2020
ms.locfileid: "73140067"
---
# <a name="how-to-define-and-use-custom-numeric-format-providers"></a><span data-ttu-id="38a45-102">Vorgehensweise: Definieren und Verwenden von benutzerdefinierten numerischen Formatanbietern</span><span class="sxs-lookup"><span data-stu-id="38a45-102">How to: Define and Use Custom Numeric Format Providers</span></span>
<span data-ttu-id="38a45-103">.NET Framework ermöglicht eine umfangreiche Steuerung der Zeichenfolgendarstellung numerischer Werte.</span><span class="sxs-lookup"><span data-stu-id="38a45-103">The .NET Framework gives you extensive control over the string representation of numeric values.</span></span> <span data-ttu-id="38a45-104">Die folgenden Funktionen für die Anpassung des Formats numerischer Werte werden unterstützt:</span><span class="sxs-lookup"><span data-stu-id="38a45-104">It supports the following features for customizing the format of numeric values:</span></span>  
  
- <span data-ttu-id="38a45-105">Standardmäßige Zahlenformatzeichenfolgen, die einen vordefinierten Satz an Formaten für die Konvertierung von Zahlen in ihre Zeichenfolgendarstellung bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="38a45-105">Standard numeric format strings, which provide a predefined set of formats for converting numbers to their string representation.</span></span> <span data-ttu-id="38a45-106">Sie können diese mit jeder Zahlenformatierungsmethode verwenden, die über einen `format`-Parameter verfügt, z.B. <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="38a45-106">You can use them with any numeric formatting method, such as <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, that has a `format` parameter.</span></span> <span data-ttu-id="38a45-107">Weitere Informationen finden Sie unter [Standardmäßige Zahlenformatzeichenfolgen](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="38a45-107">For details, see [Standard Numeric Format Strings](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span></span>  
  
- <span data-ttu-id="38a45-108">Benutzerdefinierte Zahlenformatzeichenfolgen, die einen Satz von Symbolen bereitstellen, die kombiniert werden können, um benutzerdefinierte Zahlenformatbezeichner zu definieren.</span><span class="sxs-lookup"><span data-stu-id="38a45-108">Custom numeric format strings, which provide a set of symbols that can be combined to define custom numeric format specifiers.</span></span> <span data-ttu-id="38a45-109">Sie können auch mit jeder Zahlenformatierungsmethode verwendet werden, die über einen `format`-Parameter verfügt, z.B. <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="38a45-109">They can also be used with any numeric formatting method, such as <xref:System.Decimal.ToString%28System.String%29?displayProperty=nameWithType>, that has a `format` parameter.</span></span> <span data-ttu-id="38a45-110">Weitere Informationen finden Sie unter [Benutzerdefinierte Zahlenformatzeichenfolgen](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="38a45-110">For details, see [Custom Numeric Format Strings](../../../docs/standard/base-types/custom-numeric-format-strings.md).</span></span>  
  
- <span data-ttu-id="38a45-111">Benutzerdefinierte <xref:System.Globalization.CultureInfo>- oder <xref:System.Globalization.NumberFormatInfo>-Objekte, die die beim Anzeigen der Zeichenfolgendarstellungen numerischer Werte verwendeten Symbole und Formatmuster definieren.</span><span class="sxs-lookup"><span data-stu-id="38a45-111">Custom <xref:System.Globalization.CultureInfo> or <xref:System.Globalization.NumberFormatInfo> objects, which define the symbols and format patterns used in displaying the string representations of numeric values.</span></span> <span data-ttu-id="38a45-112">Sie können diese mit jeder Zahlenformatierungsmethode verwenden, die über einen `provider`-Parameter verfügt, z.B. <xref:System.Int32.ToString%2A>.</span><span class="sxs-lookup"><span data-stu-id="38a45-112">You can use them with any numeric formatting method, such as <xref:System.Int32.ToString%2A>, that has a `provider` parameter.</span></span> <span data-ttu-id="38a45-113">Üblicherweise wird der `provider`-Parameter verwendet, um eine kulturspezifische Formatierung anzugeben.</span><span class="sxs-lookup"><span data-stu-id="38a45-113">Typically, the `provider` parameter is used to specify culture-specific formatting.</span></span>  
  
 <span data-ttu-id="38a45-114">In einigen Fällen (z.B. wenn eine Anwendung eine formatierte Kontonummer, eine ID oder eine Postleitzahl anzeigen muss) sind diese drei Techniken nicht geeignet.</span><span class="sxs-lookup"><span data-stu-id="38a45-114">In some cases (such as when an application must display a formatted account number, an identification number, or a postal code) these three techniques are inappropriate.</span></span> <span data-ttu-id="38a45-115">.NET Framework ermöglicht Ihnen auch die Definition eines Formatierungsobjekts, bei dem es sich weder um ein <xref:System.Globalization.CultureInfo>-Objekt noch um ein <xref:System.Globalization.NumberFormatInfo>-Objekt handelt, um zu bestimmen, wie ein numerischer Wert formatiert wird.</span><span class="sxs-lookup"><span data-stu-id="38a45-115">The .NET Framework also enables you to define a formatting object that is neither a <xref:System.Globalization.CultureInfo> nor a <xref:System.Globalization.NumberFormatInfo> object to determine how a numeric value is formatted.</span></span> <span data-ttu-id="38a45-116">Dieses Thema stellt eine Schrittanleitung für die Implementierung eines solchen Objekts bereit und bietet ein Beispiel, das Telefonnummern formatiert.</span><span class="sxs-lookup"><span data-stu-id="38a45-116">This topic provides the step-by-step instructions for implementing such an object, and provides an example that formats telephone numbers.</span></span>  
  
### <a name="to-define-a-custom-format-provider"></a><span data-ttu-id="38a45-117">Definieren eines benutzerdefinierten Formatanbieters</span><span class="sxs-lookup"><span data-stu-id="38a45-117">To define a custom format provider</span></span>  
  
1. <span data-ttu-id="38a45-118">Definieren Sie eine Klasse, die die <xref:System.IFormatProvider>- und <xref:System.ICustomFormatter>-Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="38a45-118">Define a class that implements the <xref:System.IFormatProvider> and <xref:System.ICustomFormatter> interfaces.</span></span>  
  
2. <span data-ttu-id="38a45-119">Implementieren Sie die <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>-Methode.</span><span class="sxs-lookup"><span data-stu-id="38a45-119">Implement the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="38a45-120"><xref:System.IFormatProvider.GetFormat%2A> ist eine Rückrufmethode, die von der Formatierungsmethode (z.B. der <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Methode) aufgerufen wird, um das Objekt abzurufen, das tatsächlich für die benutzerdefinierte Formatierung zuständig ist.</span><span class="sxs-lookup"><span data-stu-id="38a45-120"><xref:System.IFormatProvider.GetFormat%2A> is a callback method that the formatting method (such as the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method) invokes to retrieve the object that is actually responsible for performing custom formatting.</span></span> <span data-ttu-id="38a45-121">Eine typische Implementierung von <xref:System.IFormatProvider.GetFormat%2A> führt Folgendes aus:</span><span class="sxs-lookup"><span data-stu-id="38a45-121">A typical implementation of <xref:System.IFormatProvider.GetFormat%2A> does the following:</span></span>  
  
    1. <span data-ttu-id="38a45-122">Bestimmt, ob das als Methodenparameter übergebene <xref:System.Type>-Objekt eine <xref:System.ICustomFormatter>-Schnittstelle darstellt.</span><span class="sxs-lookup"><span data-stu-id="38a45-122">Determines whether the <xref:System.Type> object passed as a method parameter represents an <xref:System.ICustomFormatter> interface.</span></span>  
  
    2. <span data-ttu-id="38a45-123">Wenn der Parameter die <xref:System.ICustomFormatter>-Schnittstelle tatsächlich darstellt, gibt <xref:System.IFormatProvider.GetFormat%2A> ein Objekt zurück, das die für die benutzerdefinierte Formatierung zuständige <xref:System.ICustomFormatter>-Schnittstelle implementiert.</span><span class="sxs-lookup"><span data-stu-id="38a45-123">If the parameter does represent the <xref:System.ICustomFormatter> interface, <xref:System.IFormatProvider.GetFormat%2A> returns an object that implements the <xref:System.ICustomFormatter> interface that is responsible for providing custom formatting.</span></span> <span data-ttu-id="38a45-124">Üblicherweise gibt das benutzerdefinierte Formatierungsobjekt sich selbst zurück.</span><span class="sxs-lookup"><span data-stu-id="38a45-124">Typically, the custom formatting object returns itself.</span></span>  
  
    3. <span data-ttu-id="38a45-125">Wenn der Parameter die <xref:System.ICustomFormatter>-Schnittstelle nicht darstellt, gibt <xref:System.IFormatProvider.GetFormat%2A>`null` zurück.</span><span class="sxs-lookup"><span data-stu-id="38a45-125">If the parameter does not represent the <xref:System.ICustomFormatter> interface, <xref:System.IFormatProvider.GetFormat%2A> returns `null`.</span></span>  
  
3. <span data-ttu-id="38a45-126">Implementieren Sie die <xref:System.ICustomFormatter.Format%2A>-Methode.</span><span class="sxs-lookup"><span data-stu-id="38a45-126">Implement the <xref:System.ICustomFormatter.Format%2A> method.</span></span> <span data-ttu-id="38a45-127">Diese Methode wird von der <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Methode aufgerufen und ist für die Rückgabe der Zeichenfolgendarstellung einer Zahl zuständig.</span><span class="sxs-lookup"><span data-stu-id="38a45-127">This method is called by the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method and is responsible for returning the string representation of a number.</span></span> <span data-ttu-id="38a45-128">Die Implementierung der Methode umfasst üblicherweise Folgendes:</span><span class="sxs-lookup"><span data-stu-id="38a45-128">Implementing the method typically involves the following:</span></span>  
  
    1. <span data-ttu-id="38a45-129">Stellen Sie optional sicher, dass die Methode dazu in der Lage sein soll, Formatierungsdienste bereitzustellen, indem Sie den `provider`-Parameter untersuchen.</span><span class="sxs-lookup"><span data-stu-id="38a45-129">Optionally, make sure that the method is legitimately intended to provide formatting services by examining the `provider` parameter.</span></span> <span data-ttu-id="38a45-130">Bei Formatierungsobjekten, die sowohl <xref:System.IFormatProvider> als auch <xref:System.ICustomFormatter> implementieren, umfasst dies das Testen des `provider`-Parameters auf Gleichheit mit dem aktuellen Formatierungsobjekt.</span><span class="sxs-lookup"><span data-stu-id="38a45-130">For formatting objects that implement both <xref:System.IFormatProvider> and <xref:System.ICustomFormatter>, this involves testing the `provider` parameter for equality with the current formatting object.</span></span>  
  
    2. <span data-ttu-id="38a45-131">Bestimmen Sie, ob das Formatierungsobjekt benutzerdefinierte Formatbezeichner unterstützen soll.</span><span class="sxs-lookup"><span data-stu-id="38a45-131">Determine whether the formatting object should support custom format specifiers.</span></span> <span data-ttu-id="38a45-132">(Beispielsweise könnte ein Formatbezeichner „N“ angeben, dass eine US-amerikanische Telefonnummer im NANP-Format (Nordamerikanischer Nummerierungsplan) ausgegeben werden soll, und ein Bezeichner „I“ könnte eine Ausgabe im Format der ITU-T-Empfehlung E.123 angeben.) Wenn Formatbezeichner verwendet werden, muss die Methode den angegebenen Formatbezeichner verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="38a45-132">(For example, an "N" format specifier might indicate that a U.S. telephone number should be output in NANP format, and an "I" might indicate output in ITU-T Recommendation E.123 format.) If format specifiers are used, the method should handle the specific format specifier.</span></span> <span data-ttu-id="38a45-133">Der Bezeichner wird im `format`-Parameter der Methode übergeben.</span><span class="sxs-lookup"><span data-stu-id="38a45-133">It is passed to the method in the `format` parameter.</span></span> <span data-ttu-id="38a45-134">Wenn kein Bezeichner vorhanden ist, lautet der Wert des `format`-Parameters <xref:System.String.Empty?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="38a45-134">If no specifier is present, the value of the `format` parameter is <xref:System.String.Empty?displayProperty=nameWithType>.</span></span>  
  
    3. <span data-ttu-id="38a45-135">Rufen Sie den numerischen Wert ab, der als `arg`-Parameter der Methode übergeben wurde.</span><span class="sxs-lookup"><span data-stu-id="38a45-135">Retrieve the numeric value passed to the method as the `arg` parameter.</span></span> <span data-ttu-id="38a45-136">Führen Sie alle Änderungen durch, die notwendig sind, um den Wert in seine Zeichenfolgendarstellung zu konvertieren.</span><span class="sxs-lookup"><span data-stu-id="38a45-136">Perform whatever manipulations are required to convert it to its string representation.</span></span>  
  
    4. <span data-ttu-id="38a45-137">Geben Sie die Zeichenfolgendarstellung des `arg`-Parameters zurück.</span><span class="sxs-lookup"><span data-stu-id="38a45-137">Return the string representation of the `arg` parameter.</span></span>  
  
### <a name="to-use-a-custom-numeric-formatting-object"></a><span data-ttu-id="38a45-138">Verwenden eines benutzerdefinierten Zahlenformatierungsobjekts</span><span class="sxs-lookup"><span data-stu-id="38a45-138">To use a custom numeric formatting object</span></span>  
  
1. <span data-ttu-id="38a45-139">Erstellen Sie eine neue Instanz der benutzerdefinierten Formatierungsklasse.</span><span class="sxs-lookup"><span data-stu-id="38a45-139">Create a new instance of the custom formatting class.</span></span>  
  
2. <span data-ttu-id="38a45-140">Rufen Sie die <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Formatierungsmethode auf, und übergeben Sie das benutzerdefinierte Formatierungsobjekt, den Formatierungsbezeichner (oder <xref:System.String.Empty?displayProperty=nameWithType>, falls kein Bezeichner verwendet wird) und den numerischen Wert, der formatiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="38a45-140">Call the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> formatting method, passing it the custom formatting object, the formatting specifier (or <xref:System.String.Empty?displayProperty=nameWithType>, if one is not used), and the numeric value to be formatted.</span></span>  
  
## <a name="example"></a><span data-ttu-id="38a45-141">Beispiel</span><span class="sxs-lookup"><span data-stu-id="38a45-141">Example</span></span>  
 <span data-ttu-id="38a45-142">Das folgende Beispiel definiert einen benutzerdefinierten Zahlenformatanbieter namens `TelephoneFormatter`, der eine Zahl, die eine US-amerikanische Telefonnummer darstellt, in das entsprechende NANP- oder E.123-Format konvertiert.</span><span class="sxs-lookup"><span data-stu-id="38a45-142">The following example defines a custom numeric format provider named `TelephoneFormatter` that converts a number that represents a U.S. telephone number to its NANP or E.123 format.</span></span> <span data-ttu-id="38a45-143">Die Methode verarbeitet zwei Formatbezeichner: „N“ (zur Ausgabe des NANP-Formats) und „I“ (zur Ausgabe des internationalen E.123-Formats).</span><span class="sxs-lookup"><span data-stu-id="38a45-143">The method handles two format specifiers, "N" (which outputs the NANP format) and "I" (which outputs the international E.123 format).</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#1](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#1)]
 [!code-vb[Formatting.HowTo.NumericValue#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#1)]  
  
 <span data-ttu-id="38a45-144">Der benutzerdefinierte Zahlenformatanbieter kann nur mit der <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Methode verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="38a45-144">The custom numeric format provider can be used only with the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="38a45-145">Alle anderen Überladungen der Zahlenformatierungsmethoden (z.B. `ToString`), die einen Parameter des Typs <xref:System.IFormatProvider> aufweisen, übergeben der <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType>-Implementierung ein <xref:System.Type>-Objekt, das den <xref:System.Globalization.NumberFormatInfo>-Typ darstellt.</span><span class="sxs-lookup"><span data-stu-id="38a45-145">The other overloads of numeric formatting methods (such as `ToString`) that have a parameter of type <xref:System.IFormatProvider> all pass the <xref:System.IFormatProvider.GetFormat%2A?displayProperty=nameWithType> implementation a <xref:System.Type> object that represents the <xref:System.Globalization.NumberFormatInfo> type.</span></span> <span data-ttu-id="38a45-146">Im Gegenzug erwarten sie, dass die Methode ein <xref:System.Globalization.NumberFormatInfo>-Objekt zurückgibt.</span><span class="sxs-lookup"><span data-stu-id="38a45-146">In return, they expect the method to return a <xref:System.Globalization.NumberFormatInfo> object.</span></span> <span data-ttu-id="38a45-147">Wenn dies nicht der Fall ist, wird der benutzerdefinierte Zahlenformatanbieter ignoriert und stattdessen das <xref:System.Globalization.NumberFormatInfo>-Objekt für die aktuelle Kultur verwendet.</span><span class="sxs-lookup"><span data-stu-id="38a45-147">If it does not, the custom numeric format provider is ignored, and the <xref:System.Globalization.NumberFormatInfo> object for the current culture is used in its place.</span></span> <span data-ttu-id="38a45-148">Im Beispiel verarbeitet die `TelephoneFormatter.GetFormat`-Methode die Möglichkeit, dass sie fälschlicherweise an eine Zahlenformatierungsmethode übergeben wurde, indem sie den Methodenparameter untersucht und `null` zurückgibt, wenn dieser einen anderen Typ als <xref:System.ICustomFormatter> darstellt.</span><span class="sxs-lookup"><span data-stu-id="38a45-148">In the example, the `TelephoneFormatter.GetFormat` method handles the possibility that it may be inappropriately passed to a numeric formatting method by examining the method parameter and returning `null` if it represents a type other than <xref:System.ICustomFormatter>.</span></span>  
  
 <span data-ttu-id="38a45-149">Wenn ein benutzerdefinierter Zahlenformatanbieter einen Satz von Formatbezeichnern unterstützt, stellen Sie sicher, dass Sie ein Standardverhalten einrichten, falls in dem Formatelement, das im <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Methodenaufruf verwendet wird, kein Formatbezeichner bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="38a45-149">If a custom numeric format provider supports a set of format specifiers, make sure you provide a default behavior if no format specifier is supplied in the format item used in the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method call.</span></span> <span data-ttu-id="38a45-150">Im Beispiel ist „N“ der Standardformatbezeichner.</span><span class="sxs-lookup"><span data-stu-id="38a45-150">In the example, "N" is the default format specifier.</span></span> <span data-ttu-id="38a45-151">Dadurch kann eine Zahl in eine formatierte Telefonnummer konvertiert werden, indem ein expliziter Formatbezeichner bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="38a45-151">This allows for a number to be converted to a formatted telephone number by providing an explicit format specifier.</span></span> <span data-ttu-id="38a45-152">Das folgende Beispiel veranschaulicht einen solchen Methodenaufruf.</span><span class="sxs-lookup"><span data-stu-id="38a45-152">The following example illustrates such a method call.</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#2](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#2)]
 [!code-vb[Formatting.HowTo.NumericValue#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#2)]  
  
 <span data-ttu-id="38a45-153">Es ermöglicht die Konvertierung aber auch, falls kein Formatbezeichner vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="38a45-153">But it also allows the conversion to occur if no format specifier is present.</span></span> <span data-ttu-id="38a45-154">Das folgende Beispiel veranschaulicht einen solchen Methodenaufruf.</span><span class="sxs-lookup"><span data-stu-id="38a45-154">The following example illustrates such a method call.</span></span>  
  
 [!code-csharp[Formatting.HowTo.NumericValue#3](../../../samples/snippets/csharp/VS_Snippets_CLR/Formatting.HowTo.NumericValue/cs/Telephone1.cs#3)]
 [!code-vb[Formatting.HowTo.NumericValue#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/Formatting.HowTo.NumericValue/vb/Telephone1.vb#3)]  
  
 <span data-ttu-id="38a45-155">Wenn kein Standardformatbezeichner definiert ist, muss Ihre Implementierung der <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType>-Methode einen Code wie den folgenden beinhalten, damit .NET eine Formatierung bereitstellen kann, die von Ihrem Code nicht unterstützt wird.</span><span class="sxs-lookup"><span data-stu-id="38a45-155">If no default format specifier is defined, your implementation of the <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> method should include code such as the following so that .NET can provide formatting that your code does not support.</span></span>  
  
 [!code-csharp[System.ICustomFormatter.Format#1](../../../samples/snippets/csharp/VS_Snippets_CLR_System/system.ICustomFormatter.Format/cs/format.cs#1)]
 [!code-vb[System.ICustomFormatter.Format#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR_System/system.ICustomFormatter.Format/vb/Format.vb#1)]  
  
 <span data-ttu-id="38a45-156">In diesem Beispiel dient die Methode, die <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> implementiert, als eine Rückrufmethode der <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType>-Methode.</span><span class="sxs-lookup"><span data-stu-id="38a45-156">In the case of this example, the method that implements <xref:System.ICustomFormatter.Format%2A?displayProperty=nameWithType> is intended to serve as a callback method for the <xref:System.String.Format%28System.IFormatProvider%2CSystem.String%2CSystem.Object%5B%5D%29?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="38a45-157">Daher untersucht diese Methode den `formatProvider`-Parameter, um zu ermitteln, ob dieser einen Verweis auf das aktuelle `TelephoneFormatter`-Objekt enthält.</span><span class="sxs-lookup"><span data-stu-id="38a45-157">Therefore, it examines the `formatProvider` parameter to determine whether it contains a reference to the current `TelephoneFormatter` object.</span></span> <span data-ttu-id="38a45-158">Die Methode kann jedoch auch direkt aus dem Code aufgerufen werden.</span><span class="sxs-lookup"><span data-stu-id="38a45-158">However, the method can also be called directly from code.</span></span> <span data-ttu-id="38a45-159">In diesem Fall können Sie den `formatProvider`-Parameter verwenden, um ein <xref:System.Globalization.CultureInfo>- oder <xref:System.Globalization.NumberFormatInfo>-Objekt bereitzustellen, das kulturspezifische Formatierungsinformationen bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="38a45-159">In that case, you can use the `formatProvider` parameter to provide a <xref:System.Globalization.CultureInfo> or <xref:System.Globalization.NumberFormatInfo> object that supplies culture-specific formatting information.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="38a45-160">Siehe auch</span><span class="sxs-lookup"><span data-stu-id="38a45-160">See also</span></span>

- [<span data-ttu-id="38a45-161">Durchführen von Formatierungsvorgängen</span><span class="sxs-lookup"><span data-stu-id="38a45-161">Performing Formatting Operations</span></span>](../../../docs/standard/base-types/performing-formatting-operations.md)
