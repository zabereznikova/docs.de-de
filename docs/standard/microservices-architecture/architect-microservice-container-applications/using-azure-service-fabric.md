---
title: Verwenden von Azure Service Fabric
description: Erfahren Sie, welche Azure Service Fabric-Anwendungsmodelle Sie neben der einfachen Nutzung zum Orchestrieren von Containern verwenden können.
author: CESARDELATORRE
ms.author: wiwagn
ms.date: 09/20/2018
ms.openlocfilehash: b29be05f5ab353ddfae0d23211efaf57979d0604
ms.sourcegitcommit: ccd8c36b0d74d99291d41aceb14cf98d74dc9d2b
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 12/10/2018
ms.locfileid: "53126964"
---
# <a name="using-azure-service-fabric"></a><span data-ttu-id="a3c4f-103">Verwenden von Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a3c4f-103">Using Azure Service Fabric</span></span>

<span data-ttu-id="a3c4f-104">Azure Service Fabric entstand im Rahmen des Wandels bei Microsoft, statt Standardprodukte, die in der Regel eine monolithische Struktur aufweisen, Dienste bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-104">Azure Service Fabric arose from Microsoft's transition from delivering box products, which were typically monolithic in style, to delivering services.</span></span> <span data-ttu-id="a3c4f-105">Die Erfahrung beim Erstellen und Betreiben von umfangreichen bedarfsgerechten Diensten wie der Azure SQL-Datenbank, Azure Cosmos DB, Azure Service Bus oder des Back-Ends von Cortana hat Service Fabric hervorgebracht.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-105">The experience of building and operating large services at scale, such as Azure SQL Database, Azure Cosmos DB, Azure Service Bus, or Cortana's back end, shaped Service Fabric.</span></span> <span data-ttu-id="a3c4f-106">Die Plattform entwickelte sich im Laufe der Zeit immer weiter, je mehr Dienste damit arbeiteten.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-106">The platform evolved over time as more and more services adopted it.</span></span> <span data-ttu-id="a3c4f-107">Wichtig war, dass die Ausführung von Service Fabric nicht nur in Azure, sondern auch in eigenständigen Windows Server-Bereitstellungen möglich sein musste.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-107">Importantly, Service Fabric had to run not only in Azure but also in standalone Windows Server deployments.</span></span>

<span data-ttu-id="a3c4f-108">Service Fabric soll die schwierigen Probleme beim Erstellen und Ausführen eines Dienstes sowie bei der effizienten Nutzung von Infrastrukturressourcen lösen, sodass sich Teams um die Lösung von Geschäftsproblemen mithilfe eines Microservicekonzepts kümmern können.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-108">The aim of Service Fabric is to solve the hard problems of building and running a service and utilizing infrastructure resources efficiently, so that teams can solve business problems using a microservices approach.</span></span>

<span data-ttu-id="a3c4f-109">Service Fabric stellt zwei große Bereiche bereit, mit deren Hilfe Anwendungen auf Basis eines Microservicekonzepts erstellt werden können:</span><span class="sxs-lookup"><span data-stu-id="a3c4f-109">Service Fabric provides two broad areas to help you build applications that use a microservices approach:</span></span>

- <span data-ttu-id="a3c4f-110">Eine Plattform, die Systemdienste zum Bereitstellen, Skalieren, Upgraden, Erkennen und Neustarten von Diensten, bei denen ein Fehler aufgetreten ist, zum Ermitteln der Dienstidentifizierung, zum Verwalten des Zustands sowie zum Überwachen der Integrität bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-110">A platform that provides system services to deploy, scale, upgrade, detect, and restart failed services, discover service location, manage state, and monitor health.</span></span> <span data-ttu-id="a3c4f-111">Diese Systemdienste ermöglichen viele der bereits beschriebenen Merkmale von Microservices.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-111">These system services in effect enable many of the characteristics of microservices described previously.</span></span>

- <span data-ttu-id="a3c4f-112">Programmieren von APIs oder Frameworks, mit deren Hilfe Sie Anwendungen als Microservices erstellen können: [Reliable Actors und Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-choose-framework).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-112">Programming APIs or frameworks to help you build applications as microservices: [reliable actors and reliable services](https://docs.microsoft.com/azure/service-fabric/service-fabric-choose-framework).</span></span> <span data-ttu-id="a3c4f-113">Sie können Ihren Microservice mit jedem beliebigen Code erstellen. Diese APIs erleichtern jedoch die Arbeit und lassen sich auf einer tieferen Ebene in die Plattform integrieren.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-113">You can choose any code to build your microservice, but these APIs make the job more straightforward, and they integrate with the platform at a deeper level.</span></span> <span data-ttu-id="a3c4f-114">Damit erhalten Sie Integritäts- und Diagnoseinformationen oder können zuverlässige Funktionen zur Zustandsverwaltung nutzen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-114">This way you can get health and diagnostics information, or you can take advantage of reliable state management.</span></span>

<span data-ttu-id="a3c4f-115">Service Fabric ist im Hinblick auf die Erstellung von Diensten unabhängig, sodass Sie jede beliebige Technologie nutzen können.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-115">Service Fabric is agnostic with respect to how you build your service, and you can use any technology.</span></span> <span data-ttu-id="a3c4f-116">Die Plattform stellt jedoch integrierte APIs für die Programmierung bereit, die die Erstellung von Microservices erleichtern.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-116">However, it provides built-in programming APIs that make it easier to build microservices.</span></span>

<span data-ttu-id="a3c4f-117">Wie in Abbildung 4-27 veranschaulicht, können Sie Microservices in Service Fabric als einfache Prozesse oder als Docker-Container erstellen und ausführen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-117">As shown in Figure 4-27, you can create and run microservices in Service Fabric either as simple processes or as Docker containers.</span></span> <span data-ttu-id="a3c4f-118">Sie können auch containerbasierte Microservices mit prozessbasierten Microservices in einem Service Fabric-Cluster kombinieren.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-118">It's also possible to mix container-based microservices with process-based microservices within the same Service Fabric cluster.</span></span>

![Vergleich der Azure Service Fabric-Cluster: Microservices als Prozesse, bei denen jeder Knoten einen Prozess für jeden Microservice ausführt; Microservices als Container, bei denen jeder Knoten Docker mit mehreren Containern ausführt, einen Container pro Microservice.](./media/image30.png)

<span data-ttu-id="a3c4f-120">**Abbildung 4-27.**</span><span class="sxs-lookup"><span data-stu-id="a3c4f-120">**Figure 4-27**.</span></span> <span data-ttu-id="a3c4f-121">Bereitstellen von Microservices als Prozesse oder Container in Azure Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a3c4f-121">Deploying microservices as processes or as containers in Azure Service Fabric</span></span>

<span data-ttu-id="a3c4f-122">In Service Fabric-Clustern, die auf Linux- und Windows-Hosts basieren, können Docker-Linux-Container bzw. -Windows-Container ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-122">Service Fabric clusters based on Linux and Windows hosts can run Docker Linux containers and Windows Containers, respectively.</span></span>

<span data-ttu-id="a3c4f-123">Aktuelle Informationen zur Unterstützung von Containern in Azure Service Fabric finden Sie im Abschnitt [Service Fabric und Container](https://docs.microsoft.com/azure/service-fabric/service-fabric-containers-overview).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-123">For up-to-date information about containers support in Azure Service Fabric, see [Service Fabric and containers](https://docs.microsoft.com/azure/service-fabric/service-fabric-containers-overview).</span></span>

<span data-ttu-id="a3c4f-124">Service Fabric ist ein gutes Beispiel für eine Plattform, bei der Sie im Vergleich zur physischen Implementierung eine andere logische Architektur (Unternehmensmicroservices oder Kontextgrenzen) definieren können. Eine Einführung hierzu finden Sie im Abschnitt [Logical architecture versus physical architecture (Logische und physische Architektur im Vergleich)](logical-versus-physical-architecture.md).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-124">Service Fabric is a good example of a platform where you can define a different logical architecture (business microservices or Bounded Contexts) than the physical implementation that were introduced in the [Logical architecture versus physical architecture](logical-versus-physical-architecture.md) section.</span></span> <span data-ttu-id="a3c4f-125">Wenn Sie beispielsweise [zustandsbehaftete zuverlässige Dienste](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction) implementieren (Einführung im Abschnitt [Zustandslose und zustandsbehaftete Microservices](#stateless-versus-stateful-microservices)), können Sie ein Unternehmensmicroservicekonzept mit mehreren physischen Diensten verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-125">For example, if you implement [Stateful Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction), which are introduced in the section [Stateless versus stateful microservices](#stateless-versus-stateful-microservices) later, you can have a business microservice concept with multiple physical services.</span></span>

<span data-ttu-id="a3c4f-126">Gemäß der Abbildung 4-28 und aus der Perspektive von logischen Microservices bzw. Unternehmensmicroservices müssen bei der Implementierung eines zustandsbehafteten zuverlässigen Service Fabric-Diensts in der Regel zwei Dienstebenen implementiert werden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-126">As shown in Figure 4-28, and thinking from a logical/business microservice perspective, when implementing a Service Fabric Stateful Reliable Service, you usually will need to implement two tiers of services.</span></span> <span data-ttu-id="a3c4f-127">Bei der ersten handelt es sich um den zustandsbehafteten zuverlässigen Back-End-Dienst für die Verarbeitung verschiedener Partitionen (jede Partition stellt einen zustandsbehafteten Dienst dar).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-127">The first is the back-end stateful reliable service, which handles multiple partitions (each partition is a stateful service).</span></span> <span data-ttu-id="a3c4f-128">Bei der zweiten handelt es sich um den Front-End- oder Gatewaydienst für das Routing und die Datenaggregation in verschiedenen Partitionen oder Instanzen von zustandsbehafteten Diensten.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-128">The second is the front-end service, or Gateway service, in charge of routing and data aggregation across multiple partitions or stateful service instances.</span></span> <span data-ttu-id="a3c4f-129">Dieser Gatewaydienst verarbeitet auch die clientseitige Kommunikation mit Wiederholungsschleifen, die auf den Back-End-Dienst zugreifen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-129">That Gateway service also handles client-side communication with retry loops accessing the back-end service.</span></span> <span data-ttu-id="a3c4f-130">Es wird von einem Gatewaydienst gesprochen, wenn der benutzerdefinierte Dienst implementiert wird. Alternativ können Sie auch den standardmäßigen Service Fabric-[Reverseproxy](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy) verwenden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-130">It's called a Gateway service if you implement your custom service, or alternatively you can also use the out-of-the-box Service Fabric [reverse proxy](https://docs.microsoft.com/azure/service-fabric/service-fabric-reverseproxy).</span></span>

![](./media/image31.png)

<span data-ttu-id="a3c4f-131">**Abbildung 4-28.**</span><span class="sxs-lookup"><span data-stu-id="a3c4f-131">**Figure 4-28**.</span></span> <span data-ttu-id="a3c4f-132">Unternehmensmicroservice mit verschiedenen Instanzen eines zustandsbehafteten Diensts und einem benutzerdefinierten Gateway-Front-End</span><span class="sxs-lookup"><span data-stu-id="a3c4f-132">Business microservice with several stateful service instances and a custom gateway front-end</span></span>

<span data-ttu-id="a3c4f-133">Wenn Sie in Service Fabric zustandsbehaftete zuverlässige Dienste verwenden, verfügen Sie auch über einen logischen Microservice bzw. einen Unternehmensmicroservice (begrenzte Kontexte), der sich in der Regel aus mehreren physischen Diensten zusammensetzt.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-133">In any case, when you use Service Fabric Stateful Reliable Services, you also have a logical or business microservice (Bounded Context) that's usually composed of multiple physical services.</span></span> <span data-ttu-id="a3c4f-134">Jeder dieser Dienste, sowohl der Gatewaydienst als auch der Partitionsdienst, kann als ASP.NET-Web-API-Dienst implementiert werden (siehe Abbildung 4-28).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-134">Each of them, the Gateway service and Partition service could be implemented as ASP.NET Web API services, as shown in Figure 4-28.</span></span>

<span data-ttu-id="a3c4f-135">In Service Fabric können Sie Gruppen von Diensten als [Service Fabric-Anwendung](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-model) gruppieren und bereitstellen. Dabei handelt es sich um die Einheit für Paket und Bereitstellung für den Orchestrator oder den Cluster.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-135">In Service Fabric, you can group and deploy groups of services as a [Service Fabric Application](https://docs.microsoft.com/azure/service-fabric/service-fabric-application-model), which is the unit of packaging and deployment for the orchestrator or cluster.</span></span> <span data-ttu-id="a3c4f-136">Daher kann die Service Fabric-Anwendung dieser autonomen Unternehmensmicroservicegrenze und logischen Microservicegrenze oder Kontextgrenze zugeordnet werden, sodass diese Dienste autonom bereitgestellt werden können.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-136">Therefore, the Service Fabric Application could be mapped to this autonomous business and logical microservice boundary or Bounded Context, as well, so you could deploy these services autonomously.</span></span>

## <a name="service-fabric-and-containers"></a><span data-ttu-id="a3c4f-137">Service Fabric und Container</span><span class="sxs-lookup"><span data-stu-id="a3c4f-137">Service Fabric and containers</span></span>

<span data-ttu-id="a3c4f-138">Im Hinblick auf Container in Service Fabric können Sie Dienste auch in Containerimages in einem Service Fabric-Cluster bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-138">With regard to containers in Service Fabric, you can also deploy services in container images within a Service Fabric cluster.</span></span> <span data-ttu-id="a3c4f-139">Wie in Abbildung 4-29 dargestellt, wird üblicherweise nur ein Container pro Dienst verwendet.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-139">As Figure 4-29 shows, most of the time there will only be one container per service.</span></span>

![Eine Service Fabric-Anwendung kann mehrere Container ausführen, die auf eine externe Datenbank zugreifen. Die gesamte Menge wäre die logische Grenze eines Unternehmensmicroservices.](./media/image32.png)

<span data-ttu-id="a3c4f-141">**Abbildung 4-29.**</span><span class="sxs-lookup"><span data-stu-id="a3c4f-141">**Figure 4-29**.</span></span> <span data-ttu-id="a3c4f-142">Business-Microservice mit mehreren Diensten (Containern) in Service Fabric</span><span class="sxs-lookup"><span data-stu-id="a3c4f-142">Business microservice with several services (containers) in Service Fabric</span></span>

<span data-ttu-id="a3c4f-143">In Service Fabric können jedoch auch so genannte Sidecarcontainer (zwei Container, die im Rahmen eines logischen Diensts gemeinsam bereitgestellt werden müssen) verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-143">However, so-called "sidecar" containers (two containers that must be deployed together as part of a logical service) are also possible in Service Fabric.</span></span> <span data-ttu-id="a3c4f-144">Wichtig ist dabei, dass ein Unternehmensmicroservice die logische Grenze um mehrere kohäsive Elemente darstellt.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-144">The important thing is that a business microservice is the logical boundary around several cohesive elements.</span></span> <span data-ttu-id="a3c4f-145">Dabei kann es sich um einen einzelnen Dienst mit einem einzigen Datenmodell oder aber um mehrere physische Dienste handeln.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-145">In many cases, it might be a single service with a single data model, but in some other cases you might have several physical services as well.</span></span>

<span data-ttu-id="a3c4f-146">Beachten Sie, dass Sie Dienste in Prozessen und Dienste in Containern in einer Service Fabric-Anwendung kombinieren können (s. Abbildung 4-30).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-146">Note that you can mix services in processes and services in containers in the same Service Fabric application, as shown in Figure 4-30.</span></span>

![Eine Service Fabric-Anwendung, die sowohl Dienste als auch Container im gleichen Knoten ausführt](./media/image33.png)

<span data-ttu-id="a3c4f-148">**Abbildung 4-30.**</span><span class="sxs-lookup"><span data-stu-id="a3c4f-148">**Figure 4-30**.</span></span> <span data-ttu-id="a3c4f-149">Ein einer Service Fabric-Anwendung mit Containern und zustandsbehafteten Diensten zugeordneter Business-Microservice</span><span class="sxs-lookup"><span data-stu-id="a3c4f-149">Business microservice mapped to a Service Fabric application with containers and stateful services</span></span>

<span data-ttu-id="a3c4f-150">Weitere Informationen zur Unterstützung von Containern in Azure Service Fabric finden Sie im Abschnitt [Service Fabric und Container](https://docs.microsoft.com/azure/service-fabric/service-fabric-containers-overview).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-150">For more information about container support in Azure Service Fabric, see [Service Fabric and containers](https://docs.microsoft.com/azure/service-fabric/service-fabric-containers-overview).</span></span>

## <a name="stateless-versus-stateful-microservices"></a><span data-ttu-id="a3c4f-151">Zustandslose und zustandsbehaftete Microservices</span><span class="sxs-lookup"><span data-stu-id="a3c4f-151">Stateless versus stateful microservices</span></span>

<span data-ttu-id="a3c4f-152">Wie bereits erwähnt, muss jeder Microservice (logische Kontextgrenze) ein eigenes Domänenmodell (Daten und Logik) aufweisen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-152">As mentioned earlier, each microservice (logical Bounded Context) must own its domain model (data and logic).</span></span> <span data-ttu-id="a3c4f-153">Zustandslose Microservices verfügen über externe Datenbanken, die mit relationalen Varianten wie SQL Server oder NoSQL-Optionen wie MongoDB oder Azure Cosmos DB arbeiten.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-153">In the case of stateless microservices, the databases will be external, employing relational options like SQL Server, or NoSQL options like Azure Cosmos DB or MongoDB.</span></span>

<span data-ttu-id="a3c4f-154">Die Dienste selbst können in Service Fabric auch zustandsbehaftet sein, was bedeutet, dass die Daten im selben Microservice enthalten sind.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-154">But the services themselves can also be stateful in Service Fabric, which means that the data resides within the microservice.</span></span> <span data-ttu-id="a3c4f-155">Diese Daten können nicht bloß auf demselben Server, sondern auch im Microserviceprozess, im Arbeitsspeicher oder beständig auf Festplatten enthalten sein und auf andere Knoten repliziert werden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-155">This data might exist not just on the same server, but within the microservice process, in memory and persisted on hard drives and replicated to other nodes.</span></span> <span data-ttu-id="a3c4f-156">In Abbildung 4-30 sind die verschiedenen Konzepte dargestellt.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-156">Figure 4-30 shows the different approaches.</span></span>

![In zustandslosen Diensten ist der Zustand (Persistenz, Datenbank) nicht im Microservice enthalten.](./media/image34.png)

<span data-ttu-id="a3c4f-159">**Abbildung 4-31**.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-159">**Figure 4-31**.</span></span> <span data-ttu-id="a3c4f-160">Zustandslose und zustandsbehaftete Microservices</span><span class="sxs-lookup"><span data-stu-id="a3c4f-160">Stateless versus stateful microservices</span></span>

<span data-ttu-id="a3c4f-161">Das Konzept der zustandslosen Microservices eignet sich sehr gut und ist einfacher zu implementieren als das Konzept der zustandsbehafteten Microservices, da es mit herkömmlichen und vertrauten Mustern vergleichbar ist.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-161">A stateless approach is perfectly valid and is easier to implement than stateful microservices, since the approach is similar to traditional and well-known patterns.</span></span> <span data-ttu-id="a3c4f-162">Zustandslose Microservices erzeugen jedoch eine Wartezeit zwischen dem Prozess und den Datenquellen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-162">But stateless microservices impose latency between the process and data sources.</span></span> <span data-ttu-id="a3c4f-163">Ferner sind mehr bewegliche Teile erforderlich, wenn Sie versuchen, die Leistung mit zusätzlichem Cache und weiteren Warteschlangen zu verbessern.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-163">They also involve more moving pieces when you're trying to improve performance with additional cache and queues.</span></span> <span data-ttu-id="a3c4f-164">Daraus können komplexe Architekturen mit zu vielen Ebenen resultieren.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-164">The result is that you can end up with complex architectures that have too many tiers.</span></span>

<span data-ttu-id="a3c4f-165">[Zustandsbehaftete Microservices](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction#when-to-use-reliable-services-apis) eignen sich hingegen besonders in anspruchsvolleren Szenarios, da es keine Wartezeit zwischen Domänenlogik und -daten gibt.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-165">In contrast, [stateful microservices](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction#when-to-use-reliable-services-apis) can excel in advanced scenarios, because there's no latency between the domain logic and data.</span></span> <span data-ttu-id="a3c4f-166">Umfassende Datenverarbeitungsaufgaben, Back-Ends von Spielen, Database-as-a-Service-Lösungen und andere Szenarios mit kurzer Wartezeit profitieren allesamt von zustandsbehafteten Diensten, die einen lokalen Zustand für einen schnelleren Zugriff ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-166">Heavy data processing, gaming back ends, databases as a service, and other low-latency scenarios all benefit from stateful services, which enable local state for faster access.</span></span>

<span data-ttu-id="a3c4f-167">Zustandslose und zustandsbehaftete Dienste ergänzen sich gegenseitig.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-167">Stateless and stateful services are complementary.</span></span> <span data-ttu-id="a3c4f-168">Im rechten Schaubild in Abbildung 4-31 wird beispielsweise veranschaulicht, dass ein zustandsbehafteter Dienst in mehrere Partitionen aufgeteilt werden kann.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-168">For instance, you can see in Figure 4-31, in the right diagram, that a stateful service could be split into multiple partitions.</span></span> <span data-ttu-id="a3c4f-169">Für den Zugriff auf diese Partitionen benötigen Sie einen zustandslosen Dienst, der als Gatewaydienst dient, der weiß, wie die einzelnen Partitionen basierend auf Partitionsschlüsseln adressiert werden.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-169">To access those partitions, you might need a stateless service acting as a gateway service that knows how to address each partition based on partition keys.</span></span>

<span data-ttu-id="a3c4f-170">Zustandsbehaftete Dienste haben einige Nachteile.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-170">Stateful services do have drawbacks.</span></span> <span data-ttu-id="a3c4f-171">Sie verursachen ein Maß an Komplexität, das ein horizontales Hochskalieren zur Folge hat. Für Funktionalitäten, die üblicherweise durch externe Datenbanksysteme implementiert würden, müssen bestimmte Aufgaben berücksichtigt werden, wie etwa die Datenreplikation in zustandsbehafteten Microservices und die Datenpartitionierung.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-171">They impose a level of complexity that allows to scale out. Functionality that would usually be implemented by external database systems must be addressed for tasks such as data replication across stateful microservices and data partitioning.</span></span> <span data-ttu-id="a3c4f-172">Dies ist jedoch einer der Bereiche, in denen ein Orchestrator wie [Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-platform-architecture) mit seinen [zustandsbehafteten zuverlässigen Diensten](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction#when-to-use-reliable-services-apis) am besten geeignet ist, da er die Entwicklung und den Lebenszyklus von zustandsbehafteten Microservices mithilfe der [API für Reliable Services](https://docs.microsoft.com/azure/service-fabric/service-fabric-work-with-reliable-collections) und der [Reliable Actors](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-introduction) vereinfacht.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-172">However, this is one of the areas where an orchestrator like [Azure Service Fabric](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-platform-architecture) with its [stateful reliable services](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-services-introduction#when-to-use-reliable-services-apis) can help the most—by simplifying the development and lifecycle of stateful microservices using the [Reliable Services API](https://docs.microsoft.com/azure/service-fabric/service-fabric-work-with-reliable-collections) and [Reliable Actors](https://docs.microsoft.com/azure/service-fabric/service-fabric-reliable-actors-introduction).</span></span>

<span data-ttu-id="a3c4f-173">Andere Microserviceframeworks, die zustandsbehaftete Dienste zulassen, die das Actor-Muster unterstützen und die Fehlertoleranz sowie die Wartezeit zwischen Geschäftslogik und Daten verbessern, sind Microsoft [Orleans](https://github.com/dotnet/orleans) von Microsoft Research und [Akka.NET](https://getakka.net/).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-173">Other microservice frameworks that allow stateful services, that support the Actor pattern, and that improve fault tolerance and latency between business logic and data are Microsoft [Orleans](https://github.com/dotnet/orleans), from Microsoft Research, and [Akka.NET](https://getakka.net/).</span></span> <span data-ttu-id="a3c4f-174">Bei beiden Frameworks wird derzeit die Unterstützung für Docker verbessert.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-174">Both frameworks are currently improving their support for Docker.</span></span>

<span data-ttu-id="a3c4f-175">Beachten Sie, dass Docker-Container selbst zustandslos sind.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-175">Note that Docker containers are themselves stateless.</span></span> <span data-ttu-id="a3c4f-176">Wenn Sie einen zustandsbehafteten Dienst implementieren möchten, benötigen Sie eines der bereits erwähnten zusätzlich reglementierenden Frameworks auf höherer Ebene.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-176">If you want to implement a stateful service, you need one of the additional prescriptive and higher-level frameworks noted earlier.</span></span>

## <a name="using-azure-service-fabric-mesh"></a><span data-ttu-id="a3c4f-177">Verwenden von Azure Service Fabric Mesh</span><span class="sxs-lookup"><span data-stu-id="a3c4f-177">Using Azure Service Fabric Mesh</span></span> 

<span data-ttu-id="a3c4f-178">Azure Service Fabric Mesh ist ein vollständig verwalteter Dienst, mit dem Entwickler unternehmenskritische Anwendungen erstellen und bereitstellen können, ohne die Infrastruktur zu verwalten.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-178">Azure Service Fabric Mesh is a fully managed service which enables developers to build and deploy mission critical applications without managing any infrastructure.</span></span> <span data-ttu-id="a3c4f-179">Verwenden Sie Service Fabric Mesh, um sichere, verteilte Microserviceanwendungen zu erstellen und auszuführen, die bei Bedarf skalierbar sind.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-179">Use Service Fabric Mesh to build and run secure, distributed microservices applications that scale on demand.</span></span> 

<span data-ttu-id="a3c4f-180">Wie in Abbildung 4-32 dargestellt, werden auf Service Fabric Mesh gehostete Anwendungen ausgeführt und skaliert, ohne dass Sie sich Gedanken über die unterstützende Infrastruktur machen müssen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-180">As shown in figure 4-32, applications hosted on Service Fabric Mesh run and scale without you worrying about the infrastructure powering it.</span></span>

![Eine Multicontainer-App, die auf dem Docker-Desktop ausgeführt wird, kann in Azure Service Fabric Mesh bereitgestellt werden, ohne Arbeitsaufwand für die Infrastruktur.](media/image39.png)

<span data-ttu-id="a3c4f-182">**Abbildung 4-32**.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-182">**Figure 4-32**.</span></span> <span data-ttu-id="a3c4f-183">Bereitstellung einer Microservice-/Containeranwendung in Service Fabric Mesh.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-183">Deploying a microservice/containers application to Service Fabric Mesh</span></span>

<span data-ttu-id="a3c4f-184">Im Hintergrund besteht Service Fabric Mesh aus Clustern von Tausenden von Computern.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-184">Under the covers, Service Fabric Mesh consists of clusters of thousands of machines.</span></span> <span data-ttu-id="a3c4f-185">Clustervorgänge sind für den Entwickler nicht sichtbar.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-185">All cluster operations are hidden from the developer.</span></span> <span data-ttu-id="a3c4f-186">Sie müssen lediglich Ihre Container hochladen und die benötigten Ressourcen, Verfügbarkeitsanforderungen und Ressourcenbeschränkungen angeben.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-186">You simply need to upload your containers and specify resources you need, availability requirements, and resource limits.</span></span> <span data-ttu-id="a3c4f-187">Service Fabric Mesh weist die von Ihrer Anwendungsbereitstellung angeforderte Infrastruktur automatisch zu und verarbeitet auch Infrastrukturfehler, um die Hochverfügbarkeit Ihrer Anwendungen sicherzustellen.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-187">Service Fabric Mesh automatically allocates the infrastructure requested by your application deployment and also handles infrastructure failures, making sure your applications are highly available.</span></span> <span data-ttu-id="a3c4f-188">Sie müssen sich nur um die Integrität und Reaktionsfähigkeit Ihrer Anwendung kümmern – nicht um die Infrastruktur.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-188">You only need to care about the health and responsiveness of your application, not the infrastructure.</span></span>

<span data-ttu-id="a3c4f-189">Weitere Informationen finden Sie in der [Service Fabric Mesh-Dokumentation](https://docs.microsoft.com/azure/service-fabric-mesh/).</span><span class="sxs-lookup"><span data-stu-id="a3c4f-189">For further information see the [Service Fabric Mesh documentation](https://docs.microsoft.com/azure/service-fabric-mesh/).</span></span>

## <a name="choosing-orchestrators-in-azure"></a><span data-ttu-id="a3c4f-190">Auswählen von Orchestratoren in Azure</span><span class="sxs-lookup"><span data-stu-id="a3c4f-190">Choosing orchestrators in Azure</span></span>

<span data-ttu-id="a3c4f-191">Die folgende Tabelle zeigt, welcher Orchestrator für welche Workloads und Betriebssysteme geeignet ist.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-191">The following table provides guidance on what orchestrator to use depending on workloads and OS focus.</span></span>

![Azure Kubernetes Service ist besser für Linux als für Windows geeignet und wird hauptsächlich für die Bereitstellung von Microsevices basierend auf Containern verwendet.](media/image40.png)

<span data-ttu-id="a3c4f-194">**Abbildung 4-33**.</span><span class="sxs-lookup"><span data-stu-id="a3c4f-194">**Figure 4-33**.</span></span> <span data-ttu-id="a3c4f-195">Orchestratorauswahl im Azure-Leitfaden</span><span class="sxs-lookup"><span data-stu-id="a3c4f-195">Orchestrator selection in Azure guidance</span></span>

>[!div class="step-by-step"]
><span data-ttu-id="a3c4f-196">[Zurück](scalable-available-multi-container-microservice-applications.md)
>[Weiter](../docker-application-development-process/index.md)</span><span class="sxs-lookup"><span data-stu-id="a3c4f-196">[Previous](scalable-available-multi-container-microservice-applications.md)
[Next](../docker-application-development-process/index.md)</span></span>